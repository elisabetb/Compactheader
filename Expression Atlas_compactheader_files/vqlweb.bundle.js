/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){};b.__typeName='tab.EscapingUtil';b.escapeHtml=function(e){var f=ss.coalesce(e,'');f=f.replace(new RegExp('&','g'),'&amp;');f=f.replace(new RegExp('<','g'),'&lt;');f=f.replace(new RegExp('>','g'),'&gt;');f=f.replace(new RegExp('"','g'),'&quot;');f=f.replace(new RegExp("'",'g'),'&#39;');f=f.replace(new RegExp('/','g'),'&#47;');return f};global.tab.EscapingUtil=b;var c=function(){};c.__typeName='tab.ScriptEx';global.tab.ScriptEx=c;var d=function(e){this.$0=null;this.$0=e};d.__typeName='tab.WindowHelper';d.get_windowSelf=function(){return window.self};d.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};d.close=function(e){e.close()};d.getOpener=function(e){return e.opener};d.getLocation=function(e){return e.location};d.getPathAndSearch=function(e){return e.location.pathname+e.location.search};d.setLocationHref=function(e,f){e.location.href=f};d.locationReplace=function(e,f){e.location.replace(f)};d.open=function(e,f,g){return window.open(e,f,g)};d.reload=function(e,f){e.location.reload(f)};d.requestAnimationFrame=function(e){return d.$c(e)};d.cancelAnimationFrame=function(e){if(ss.isValue(e)){d.$b(e)}};d.setTimeout=function(e,f){return window.setTimeout(e,f)};d.setInterval=function(e,f){return window.setInterval(e,f)};d.addListener=function(e,f,g){if('addEventListener'in e){e.addEventListener(f,g,false)}else{e.attachEvent('on'+f,g)}};d.removeListener=function(e,f,g){if('removeEventListener'in e){e.removeEventListener(f,g,false)}else{e.detachEvent('on'+f,g)}};d.$0=function(){var e=0;d.$c=function(f){var g=(new Date).getTime();var h=Math.max(0,16-(g-e));e=g+h;var i=window.setTimeout(f,h);return i}};d.clearSelection=function(){var e=d.get_selection();if(ss.isValue(e)){if(typeof(e['removeAllRanges'])==='function'){e.removeAllRanges()}else if(typeof(e['empty'])==='function'){e['empty']()}}};global.tab.WindowHelper=d;ss.initClass(b,a,{});ss.initClass(c,a,{});ss.initClass(d,a,{get_pageXOffset:function(){return d.$7(this.$0)},get_pageYOffset:function(){return d.$8(this.$0)},get_clientWidth:function(){return d.$2(this.$0)},get_clientHeight:function(){return d.$1(this.$0)},get_innerWidth:function(){return d.$4(this.$0)},get_outerWidth:function(){return d.$6(this.$0)},get_innerHeight:function(){return d.$3(this.$0)},get_outerHeight:function(){return d.$5(this.$0)},get_screenLeft:function(){return d.$9(this.$0)},get_screenTop:function(){return d.$a(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){d.$4=null;d.$3=null;d.$2=null;d.$1=null;d.$7=null;d.$8=null;d.$9=null;d.$a=null;d.$6=null;d.$5=null;d.$c=null;d.$b=null;if('innerWidth'in window){d.$4=function(m){return m.innerWidth}}else{d.$4=function(m){return m.document.documentElement.offsetWidth}}if('outerWidth'in window){d.$6=function(m){return m.outerWidth}}else{d.$6=d.$4}if('innerHeight'in window){d.$3=function(m){return m.innerHeight}}else{d.$3=function(m){return m.document.documentElement.offsetHeight}}if('outerHeight'in window){d.$5=function(m){return m.outerHeight}}else{d.$5=d.$3}if('clientWidth'in window){d.$2=function(m){return m['clientWidth']}}else{d.$2=function(m){return m.document.documentElement.clientWidth}}if('clientHeight'in window){d.$1=function(m){return m['clientHeight']}}else{d.$1=function(m){return m.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){d.$7=function(m){return m.pageXOffset}}else{d.$7=function(m){return m.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){d.$8=function(m){return m.pageYOffset}}else{d.$8=function(m){return m.document.documentElement.scrollTop}}if('screenLeft'in window){d.$9=function(m){return m.screenLeft}}else{d.$9=function(m){return m.screenX}}if('screenTop'in window){d.$a=function(m){return m.screenTop}}else{d.$a=function(m){return m.screenY}}{var e='requestAnimationFrame';var f='cancelAnimationFrame';var g=['ms','moz','webkit','o'];var h=null;var i=null;if(e in window){h=e}if(f in window){i=f}for(var j=0;j<g.length&&(ss.isNullOrUndefined(h)||ss.isNullOrUndefined(i));++j){var k=g[j];var l=k+'RequestAnimationFrame';if(ss.isNullOrUndefined(h)&&l in window){h=l}if(ss.isNullOrUndefined(i)){l=k+'CancelAnimationFrame';if(l in window){i=l}l=k+'CancelRequestAnimationFrame';if(l in window){i=l}}}if(ss.isValue(h)){d.$c=function(m){return window[h](m)}}else{d.$0()}if(ss.isValue(i)){d.$b=function(m){window[i](m)}}else{d.$b=function(m){window.clearTimeout(m)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bz){this.each(function(bA,bB){window.setTimeout(function(){$(bB).focus();if(ss.isValue(bz)){bz.call(bB)}},e)})};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bz=parseInt($(e).attr('tabindex'),10);var bA=isNaN(bz);return(bA||bz>=0)&&f.$0(e,!bA)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bz){var bA=e.nodeName.toLowerCase();if(bA==='area'){return false}var bB=bz;var bC=new RegExp('input|select|textarea|button|object');if(bC.test(bA)){bB=!e.disabled}else if(bA==='a'){bB=!ss.isNullOrEmptyString(e.href)||bz}return bB&&f.$1(e)};f.$1=function(e){for(var bz='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bz==='visible'){continue}else if(bz.length===0||bz==='inherit'){bz=e.style.visibility}if(bz==='hidden'){return false}}return true};var g=function(e){var bz=function(){};ss.registerGenericClassInstance(bz,g,[e],{current:null,reset:null,moveNext:null,dispose:function(){}},function(){return null},function(){return[ss.IDisposable,ss.IEnumerator,ss.IEnumerator]});return bz};g.__typeName='tab.AbstractEnumerator$1';ss.initGenericClass(g,a,1);global.tab.AbstractEnumerator$1=g;var h=function(){this.$0=null;this.$0=[]};h.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=h;var i=function(){};i.__typeName='tab.BrowserSupport';i.get_getComputedStyle=function(){return'getComputedStyle'in window};i.get_addEventListener=function(){return'addEventListener'in document};i.get_selectStart=function(){return i.$H};i.get_fontLoaderApi=function(){return i.$n};i.get_postMessage=function(){return i.$F};i.get_historyApi=function(){return i.$p};i.get_consoleLogFormating=function(){return i.$g};i.get_isMobile=function(){return i.$s||i.$x};i.get_isIos=function(){return i.$x};i.get_isAndroid=function(){return i.$s};i.get_isChrome=function(){return i.$t};i.get_isMac=function(){return i.$z};i.get_isIE=function(){return i.$w};i.get_isEdge=function(){return i.$u};i.get_isFF=function(){return i.$v};i.get_isOpera=function(){return i.$B};i.get_isSafari=function(){return i.$C};i.get_isWindows=function(){return i.$E};i.get_browserVersion=function(){return i.$q};i.get_safariVersion=function(){return i.$G};i.get_googleChromeVersion=function(){return i.$o};i.get_iosVersion=function(){return i.$r};i.get_raisesEventOnImageReassignment=function(){return!i.$C};i.get_imageLoadIsSynchronous=function(){return i.$w};i.get_useAlternateHitStrategy=function(){return i.$J};i.get_cssTransformName=function(){return i.$h};i.get_cssTransitionName=function(){return i.$i};i.get_backingStoragePixelRatio=function(){return i.$e};i.get_devicePixelRatio=function(){return i.$m};i.get_canvasLinePattern=function(){return i.$f};i.get_dateInput=function(){return i.$j};i.get_dateTimeInput=function(){return i.$k};i.get_dateTimeLocalInput=function(){return i.$l};i.get_timeInput=function(){return i.$K};i.get_setSelectionRange=function(){return i.$I};i.get_mouseWheelEvent=function(){if('onwheel'in window.document.documentElement){return'wheel'}if('onmousewheel'in window.document.documentElement){return'mousewheel'}return'MozMousePixelScroll'};i.get_mouseCapture=function(){return'releaseCapture'in document};i.get_orientationChange=function(){return'onorientationchange'in window};i.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};i.get_isIpad=function(){return window.navigator.userAgent.indexOf('iPad')!==-1};i.detectBrowserSupport=function(){var e=document.body;var bz=document.createElement('div');e.appendChild(bz);i.$H='onselectstart'in bz;e.removeChild(bz).style.display='none';i.$F='postMessage'in window;i.$p=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';i.webPerformanceApiSupported=ss.isValue(window)&&ss.isValue(window.self.performance)&&window.self.performance.now;i.$3();i.$1();i.$b();i.$a();i.$8();i.$7();i.$0();i.$6();i.$2();i.$9()};i.getOrigin=function(e){var bz=e.origin;if(ss.isNullOrUndefined(bz)){bz=e.protocol+'//'+e.host}return bz};i.doPostMessageWithContext=function(e){var bz=tabBootstrap.Utility.doPostMessageWithContext(e);if(!bz){}};i.$8=function(){var e=window.document.body;if(i.$D&&i.get_isMobile()){var bz=$('<div></div>');bz.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bA=bz.get(0);try{e.appendChild(bA);i.$J=!ss.referenceEquals(document.elementFromPoint(310,310),bA)}catch(bB){}finally{bz.remove()}}};i.$3=function(){try{if(ss.isValue(window.console&&ss.isValue(window.console.log))){i.$g=window.navigator.userAgent.indexOf('iPad')<0}else{i.$g=false}}catch(e){i.$g=false}};i.$1=function(){var e=i.$c();i.$y=e.indexOf('Konqueror')>=0;i.$D=e.indexOf('WebKit')>=0;i.$t=e.indexOf('Chrome')>=0;i.$C=e.indexOf('Safari')>=0&&!i.$t;i.$B=e.indexOf('Opera')>=0;if(i.$C){var bz=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bz)){i.$G=parseFloat(bz[1])}}if(i.$t){var bA=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bA)){i.$o=parseFloat(bA[1])}}i.$q=0;i.$w=false;var bB=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(bB)){i.$w=true;i.$q=parseFloat(bB[1])}if(!i.$w&&!i.$B&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bC=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bD=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bC)){i.$w=true;i.$u=false;i.$q=parseFloat(bC[1])}else if(ss.isValue(bD)){i.$w=true;i.$u=true;i.$t=false;i.$C=false;i.$q=parseFloat(bD[1])}}i.$A=!i.$y&&!i.$D&&!i.$w&&e.indexOf('Gecko')>=0;i.$v=i.$A||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bE=new RegExp('iPhone|iPod|iPad');i.$x=bE.test(e);if(i.$x){var bF=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bF)){i.$r=parseFloat(ss.replaceAllString(bF[1].replace('_','.'),'_',''))}}i.$s=e.indexOf('Android')>=0&&!i.$w;i.$z=e.indexOf('Mac')>=0;i.$E=e.indexOf('Windows')>=0};i.$c=function(){return window.navigator.userAgent};i.$b=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);var bz=i.$4(e);if(ss.isNullOrUndefined(bz)){bz=i.$i}i.$i=bz};i.$a=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);var bz=i.$4(e);if(ss.isNullOrUndefined(bz)){bz=i.$h}i.$h=bz};i.$4=function(e){var bz=new ss.ObjectEnumerator(e);try{while(bz.moveNext()){var bA=bz.current();var bB=document.body.style;if(!(bA.key in bB)){continue}return bA.value}}finally{bz.dispose()}return null};i.$7=function(){i.$m=ss.coalesce(window.self['devicePixelRatio'],1)};i.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){i.$e=1;return}var bz=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bz=e.getContext('2d')}if(ss.isNullOrUndefined(bz)){i.$e=1;return}var bA=bz;i.$e=bA.webkitBackingStorePixelRatio||bA.mozBackingStorePixelRatio||bA.msBackingStorePixelRatio||bA.oBackingStorePixelRatio||1};i.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bz=null;if(typeof(e['getContext'])==='function'){bz=e.getContext('2d')}if(ss.isNullOrUndefined(bz)){return}i.$f=typeof(bz['setLineDash'])==='function'||'mozDash'in bz||'webkitLineDash'in bz};i.$9=function(){var e=$('<input>');i.$I=typeof(e.get(0)['setSelectionRange'])==='function'};i.$6=function(){i.$j=i.$5('date');i.$k=i.$5('datetime');i.$l=i.$5('datetime-local');i.$K=i.$5('time')};i.$5=function(e){var bz=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bA=bz.get(0);var bB=bA.getAttribute('type');var bC='@inva/1d:)';bA.value=bC;var bD=ss.referenceEquals(bB,e)&&!ss.referenceEquals(bA.value,bC);bz.remove();return bD};i.$d=function(e){return function(bz){var bA=bz in window;if(!bA){var bB=function(){return ss.createInstance(e)};var bC=window;bC[bz]=bB}}};global.tab.BrowserSupport=i;var j=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};j.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=j;var k=function(e){this.$0=null;this.$0=e};k.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=k;var l=function(){};l.__typeName='tab.CircleUtil';l.isEmpty=function(e){return u.isApproximatelyZero(e.radius)};l.isEqual=function(e,bz){return u.isApproximatelyEqual(e.radius,bz.radius)&&l.hasTheSameCenter(e,bz)};l.hasTheSameCenter=function(e,bz){return u.isApproximatelyEqual(e.center.x,bz.center.x)&&u.isApproximatelyEqual(e.center.y,bz.center.y)};l.intersectsWith=function(e,bz){var bA=Math.pow(e.center.x-bz.center.x,2)+Math.pow(e.center.y-bz.center.y,2);return Math.pow(e.radius+bz.radius,2)>bA};l.offsetCircle=function(e,bz){var bA={x:e.center.x+bz.x,y:e.center.y+bz.y};return{center:bA,radius:e.radius}};l.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};l.boundingBox=function(e){var bz=Math.ceil(e.radius);var bA=Math.floor(e.center.x-bz);var bB=Math.ceil(e.center.x+bz);var bC=Math.floor(e.center.y-bz);var bD=Math.ceil(e.center.y+bz);return{x:bA,y:bC,w:bB-bA,h:bD-bC}};l.containmentBox=function(e){var bz=Math.abs(ss.round(e.center.x)-e.center.x);var bA=Math.abs(ss.round(e.center.y)-e.center.y);var bB=Math.sqrt(2)/2*e.radius-Math.max(bz,bA);var bC=Math.ceil(e.center.x-bB);var bD=Math.ceil(e.center.y-bB);var bE=Math.floor(e.center.x+bB);var bF=Math.floor(e.center.y+bB);return{x:bC,y:bD,w:bE-bC,h:bF-bD}};l.getChangedRects=function(e,bz){if(!l.hasTheSameCenter(e,bz)){return[]}var bA=((e.radius>bz.radius)?l.boundingBox(e):l.boundingBox(bz));var bB=((e.radius>bz.radius)?l.containmentBox(bz):l.containmentBox(e));var bC=new Array(4);var bD=ss.Int32.div(bA.h-bB.h,2);var bE=ss.Int32.div(bA.w-bB.w,2);bC[0]={x:bA.x,y:bA.y,w:bA.w,h:bD};bC[1]={x:bA.x,y:bA.y+bD+bB.h,w:bA.w,h:bD};bC[2]={x:bA.x,y:bA.y+bD,w:bE,h:bB.h};bC[3]={x:bA.x+bE+bB.w,y:bA.y+bD,w:bE,h:bB.h};return bC};global.tab.CircleUtil=l;var m=function(){this.$2=null;h.call(this)};m.__typeName='tab.ConsoleLogAppender';m.enableLogging=function(e){if(ss.isNullOrUndefined(m.$0)){m.$0=new m;J.addAppender(m.$0)}m.$0.addFilter(e||function(){return true})};m.disableLogging=function(){if(ss.isNullOrUndefined(m.$0)){return}J.removeAppender(m.$0);m.$0=null};global.tab.ConsoleLogAppender=m;var n=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null};n.__typeName='tab.DataSourceConnectionAttemptErrorResponse';n.tryDeserialize=function(e){try{var bz=JSON.parse(e);return bz}catch(bA){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=n;var o=function(){};o.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=o;var p=function(){};p.__typeName='tab.DateUtil';p.$4=function(){return J.lazyGetLogger(p)};p.get_nowAsTime=function(){return(new Date).getTime()};p.adjustDateByPeriod=function(e,bz,bA){var bB=new Date;switch(bz){case'year':{bB=new Date(e.getFullYear()+bA,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{bB=p.adjustByMonths(e,bA*3);break}case'month':{bB=p.adjustByMonths(e,bA);break}case'week':{bB=p.$0(e,bA*7);break}case'day':{bB=p.$0(e,bA);break}case'hour':{bB=new Date(e.getTime()+bA*p.oneHour);break}case'minute':{bB=new Date(e.getTime()+bA*p.oneMinute);break}case'second':{bB=new Date(e.getTime()+bA*p.oneSecond);break}}return bB};p.$0=function(e,bz){var bA=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var bB=new Date(bA.getTime()+p.oneDay*bz);return new Date(bB.getFullYear(),bB.getMonth(),bB.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustByMonths=function(e,bz){var bA=e.getMonth();var bB;var bC;if(bz<0){bB=-((12-(bA-1)-1-bz)/12)|0}else{bB=(bA-1+bz)/12|0}bC=bA+(bz-bB*12);return new Date(e.getFullYear()+bB,bC,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustDateByPeriodInUTC=function(e,bz,bA){var bB=new Date;switch(bz){case'year':{bB=new Date(e.getUTCFullYear()+bA,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{bB=p.adjustByMonthsInUTC(e,bA*3);break}case'month':{bB=p.adjustByMonthsInUTC(e,bA);break}case'week':{bB=new Date(e.getTime()+bA*p.oneWeek);break}case'day':{bB=new Date(e.getTime()+bA*p.oneDay);break}case'hour':{bB=new Date(e.getTime()+bA*p.oneHour);break}case'minute':{bB=new Date(e.getTime()+bA*p.oneMinute);break}case'second':{bB=new Date(e.getTime()+bA*p.oneSecond);break}}return bB};p.adjustByMonthsInUTC=function(e,bz){var bA=e.getUTCMonth(),bB,bC;if(bz<0){bB=-((12-(bA-1)-1-bz)/12)|0}else{bB=(bA-1+bz)/12|0}bC=bA+(bz-bB*12);return new Date(Date.UTC(e.getUTCFullYear()+bB,bC,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};p.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bz=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bz)){return null}var bA=parseInt(bz[1],10);var bB=parseInt(bz[2],10)-1;var bC=parseInt(bz[3],10);if(ss.isNullOrEmptyString(bz[4])){return new Date(Date.UTC(bA,bB,bC))}else{var bD=parseInt(bz[5],10);var bE=parseInt(bz[6],10);var bF=parseInt(bz[7],10);return new Date(Date.UTC(bA,bB,bC,bD,bE,bF))}};p.dateAsYear=function(e){return e.getUTCFullYear()};p.dateAsQuarter=function(e){var bz=p.$3(e);return parseInt(1+ss.Int32.div(bz-1,3))};p.dateAsMonth=function(e){return p.$3(e)};p.dateAsWeek=function(e){var bz=new Date(e.getUTCFullYear(),0,1);var bA=p.$2(e);var bB=parseInt(1+(bA+p.$1(bz)-2)/7);return bB};p.dateAsDay=function(e){return e.getUTCDate()};p.dateAsDayOfYear=function(e){return p.$2(e)};p.dateAsDayOfWeek=function(e){return p.$1(e)};p.dateAsMonthYear=function(e){var bz=p.$3(e)*10000+e.getUTCFullYear();return bz};p.dateAsMonthDayYear=function(e){var bz=p.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bz};p.dateTimeAsHour=function(e){return e.getUTCHours()};p.dateTimeAsMinute=function(e){return e.getUTCMinutes()};p.dateTimeAsSecond=function(e){return e.getUTCSeconds()};p.dateTimeAsOleDate=function(e){return bl.OleDateFromJsDate(e.getTime())};p.$2=function(e){var bz=e.getUTCFullYear();var bA=e.getUTCMonth();var bB=e.getUTCDate();var bC=new Date(bz,0,1,12,0,0);var bD=new Date(bz,bA,bB,12,0,0);var bE=Math.round((bD-bC)/86400000);return bE+1};p.$3=function(e){return e.getUTCMonth()+1};p.$1=function(e){return e.getUTCDay()+1};p.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=p;var q=function(e,bz){this.$2=null;this.$1=0;this.$0=null;R.verifyValue(e,'action');this.$0=e;this.$1=bz};q.__typeName='tab.Debouncer';global.tab.Debouncer=q;var r=function(){this.$0=[]};r.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=r;var s=function(){};s.__typeName='tab.DomUtil';s.$6=function(){return J.lazyGetLogger(s)};s.get_documentBody=function(){return document.body};s.getComputedStyle=function(e){if(i.get_getComputedStyle()){var bz=window.getComputedStyle(e);if(ss.isValue(bz)){return bz}}return e.style};s.getComputedZIndex=function(e){R.verifyValue(e,'child');var bz=$(e);var bA=bz;var bB=document.documentElement;var bC=document.body;while(bz.length!==0&&!ss.referenceEquals(bz[0],bC)&&!ss.referenceEquals(bz[0],bB)){var bD=bz.css('position');if(bD==='absolute'||bD==='fixed'){bA=bz}bz=bz.offsetParent()}return s.$2(bA)};s.resize=function(e,bz){if(typeof(e['resize'])==='function'){e.resize(bz)}else{s.setMarginBox(e.domNode||e,bz)}};s.getContentBox=function(e){var bz=$(e);return{l:parseInt(bz.css('padding-left'),10)||0,t:parseInt(bz.css('padding-top'),10)||0,w:u.roundToInt(bz.width()),h:u.roundToInt(bz.height())}};s.setContentBox=function(e,bz){$(e).width(bz.w).height(bz.h)};s.setMarginBox=function(e,bz){s.setMarginBoxJQ($(e),bz)};s.setMarginBoxJQ=function(e,bz){var bA=e[0];var bB=bA.style;var bC=window.getComputedStyle(bA);s.$3(bC,bz,bA);if(!isNaN(bz.t)){bB.top=bz.t+'px'}if(!isNaN(bz.l)){bB.left=bz.l+'px'}};s.setAbsolutePositionBox=function(e,bz){e.css({left:(bz.l||0)+'px',top:(bz.t||0)+'px',width:(bz.w||0)+'px',height:(bz.h||0)+'px'})};s.getMarginBox=function(e){return s.getMarginBoxJQ($(e))};s.getMarginBoxJQ=function(e){var bz=e.position();return{l:u.roundToInt(bz.left),t:u.roundToInt(bz.top),w:u.roundToInt(e.outerWidth(true)),h:u.roundToInt(e.outerHeight(true))}};s.getRectXY=function(e){var bz,bA;var bB=s.$1();if(bB){var bC=e[0].getBoundingClientRect();bz=u.roundToInt(bC.left);bA=u.roundToInt(bC.top)}else{bz=u.roundToInt(s.getPageOffset(e).left);bA=u.roundToInt(s.getPageOffset(e).top)}var bD=u.roundToInt(e.outerWidth(true));var bE=u.roundToInt(e.outerHeight(true));return{x:bz,y:bA,w:bD,h:bE}};s.getRectXY$1=function(e,bz){var bA=s.getRectXY(e);if(bz){var bB=s.docScroll();bA.x+=bB.x;bA.y+=bB.y}return bA};s.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(s.get_documentBody().scrollLeft,0)));var bz=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(s.get_documentBody().scrollTop,0)));return{x:e,y:bz}};s.isAncestorOf=function(e,bz){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bz)){return false}return $(bz).parents().index(e)>=0};s.isEqualOrAncestorOf=function(e,bz){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bz)){return false}return ss.referenceEquals(e,bz)||s.isAncestorOf(e,bz)};s.setElementPosition=function(e,bz,bA,bB,bC){if(!ss.isValue(bC)||ss.unbox(bC)){var bD=ss.mkdict(['top','0px','left','0px']);var bE=(new ss.StringBuilder('translate3d(')).append(bz).append('px,').append(bA).append('px,').append('0px)').toString();bD[i.get_cssTransformName()]=bE;if(ss.isValue(bB)){bD[i.get_cssTransitionName()+'-duration']=bB}e.css(bD);return}var bF=ss.mkdict(['position','absolute','top',bA+'px','left',bz+'px']);bF[i.get_cssTransformName()]='';e.css(bF)};s.getElementPosition=function(e){return U.fromPosition(e.offset())};s.getElementClientPosition=function(e){var bz=s.getElementPosition(e);bz.x-=$(document.documentElement).scrollLeft();bz.y-=u.roundToInt($(document.documentElement).scrollTop());return bz};s.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bz=e.css('transform');if(ss.isNullOrEmptyString(bz)){return{left:0,top:0}}var bA=bz.split('(');var bB=s.$7[bA[0]];if(ss.isNullOrUndefined(bB)){return{left:0,top:0}}var bC=bA[1].split(',');return{left:ss.coalesce(u.parseDouble(bC[ss.unbox(bB)]),0),top:ss.coalesce(u.parseDouble(bC[ss.unbox(bB)+1]),0)}};s.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bz=e.css('transform');if(ss.isNullOrEmptyString(bz)){return 1}var bA=bz.split('(');if(bA[0]==='scale'||bA[0]==='matrix'||bA[0]==='matrix3d'){return ss.coalesce(u.parseDouble(bA[1]),1)}else{return 1}};s.getPageOffset=function(e){var bz=e[0].getBoundingClientRect();if(i.get_isChrome()&&tsConfig.is_mobile&&window.innerWidth/window.outerWidth<=0.9){return{left:bz.left,top:bz.top}}else{return{left:bz.left+window.pageXOffset,top:bz.top+window.pageYOffset}}};s.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};s.scrollPosition=function(e,bz){e[0].scrollLeft=bz.left;e[0].scrollTop=bz.top};s.focusWithoutScrolling=function(e,bz){if(ss.isNullOrUndefined(bz)||bz.length===0){e()}else{window.setTimeout(function(){var bA=s.getScrollPosition(bz);e();s.scrollPosition(bz,bA)},200)}};s.roomAroundPosition=function(e){var bz=e.top-window.pageYOffset;var bA=window.pageYOffset+window.innerHeight-e.top;var bB=e.left-window.pageXOffset;var bC=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bz,roomBelow:bA,roomLeft:bB,roomRight:bC}};s.getElementRelativePosition=function(e,bz){if(ss.isNullOrUndefined(bz)){bz=e.parent()}var bA=e.offset();var bB=bz.offset();return{x:u.roundToInt(bA.left)-u.roundToInt(bB.left),y:u.roundToInt(bA.top)-u.roundToInt(bB.top)}};s.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!P.isNullOrEmpty$1(e.width)){return parseInt(e.width)}return Number.NaN};s.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!P.isNullOrEmpty$1(e.height)){return parseInt(e.height)}return Number.NaN};s.createNamespacedEventName=function(e,bz){if(ss.isValue(bz)){return e+bz}return e.toString()};s.stopPropagationOfInputEvents=function(e,bz){var bA=function(bB){bB.stopPropagation()};s.handleInputEvents(e,bz,bA)};s.handleInputEvents=function(e,bz,bA){e.on(s.createNamespacedEventName('touchstart',bz),bA).on(s.createNamespacedEventName('touchcancel',bz),bA).on(s.createNamespacedEventName('touchend',bz),bA).on(s.createNamespacedEventName('touchmove',bz),bA).on(s.createNamespacedEventName('click',bz),bA).on(s.createNamespacedEventName('mousedown',bz),bA).on(s.createNamespacedEventName('mousemove',bz),bA).on(s.createNamespacedEventName('mouseup',bz),bA)};s.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bz=e.tagName.toLowerCase();if(bz==='textarea'||bz==='input'||bz==='select'){return true}}return false};s.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bz=e.tagName.toLowerCase();var bA=$(e).attr('type');if(bz==='input'&&bA==='checkbox'){return true}}return false};s.handleTouchEvents=function(e){if(s.isCheckboxElement(e)){return false}if(s.isFocusableTextElement(e)){return false}return true};s.setCapture=function(e,bz){if(!i.get_mouseCapture()){return}e.setCapture(bz)};s.releaseCapture=function(){if(!i.get_mouseCapture()){return}document.releaseCapture()};s.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,s.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};s.$0=function(e,bz){var bA=parseInt(e,10);return(isNaN(bA)?bz:bA)};s.getSizeFromCssPixelProperty=function(e,bz){var bA=e.css(bz);return s.$0(bA,0)};s.$5=function(e,bz,bA){var bB=s.$0(e.marginLeft,0);var bC=s.$0(e.borderLeftWidth,0);var bD=s.$0(e.paddingLeft,0);var bE=s.$0(e.paddingRight,0);var bF=s.$0(e.borderRightWidth,0);var bG=s.$0(e.marginRight,0);var bH=Math.max(bz-bB-bC-bD-bE-bF-bG,0);bA.style.width=bH+'px'};s.$4=function(e,bz,bA){var bB=s.$0(e.marginTop,0);var bC=s.$0(e.borderTopWidth,0);var bD=s.$0(e.paddingTop,0);var bE=s.$0(e.paddingBottom,0);var bF=s.$0(e.borderBottomWidth,0);var bG=s.$0(e.marginBottom,0);var bH=Math.max(bz-bB-bC-bD-bE-bF-bG,0);bA.style.height=bH+'px'};s.$3=function(e,bz,bA){if(bz.w>=0){s.$5(e,bz.w,bA)}if(bz.h>=0){s.$4(e,bz.h,bA)}};s.$2=function(e){R.verifyValue(e,'o');var bz=e.css('z-index');if(_.isNumber(bz)){return bz}if(_.isString(bz)){if(!ss.isNullOrEmptyString(bz)&&bz!=='auto'&&bz!=='inherits'){return parseInt(bz,10)}}return 0};s.$1=function(){if(tsConfig.is_mobile&&i.get_isChrome()){var e=window.document.body.getBoundingClientRect();return window.pageXOffset>0&&e.left===0||window.pageYOffset>0&&e.top===0}return false};s.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};s.setSelectionRangeOnInput=function(e,bz,bA){if(i.get_setSelectionRange()){try{e.setSelectionRange(bz,bA)}catch(bB){}}};s.selectAllInputText=function(e){try{if(i.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bz){}};s.setCursorPosition=function(e,bz){if(typeof(e['createTextRange'])==='function'){var bA=(e.createTextRange?e.createTextRange():null);bA.move('character',bz);bA.select();bA.scrollIntoView();e.focus()}else if(i.get_isSafari()&&i.get_setSelectionRange()){e.focus();e.setSelectionRange(bz,bz)}else{e.blur();e.selectionStart=e.selectionEnd=bz;e.focus()}};s.replaceSelection=function(e,bz){var bA=e.value;var bB=bA.substr(0,e.selectionStart);var bC=bA.substring(e.selectionEnd);var bD=e.selectionStart+bz.length;e.value=bB+bz+bC;s.setCursorPosition(e,bD)};s.setNativeTooltip=function(e,bz){var bA=ss.isNullOrEmptyString(bz);if(bA){e.removeAttr('title')}else{e.attr('title',bz)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bA){var bB=$("<div class='tab-mobileTooltip'/>").text(bz);e.append(bB)}}};s.isContentOverflowingY=function(e){return e.prop('scrollHeight')>e.prop('clientHeight')};s.nodeHasTextSelection=function(e){var bz=window.getSelection();for(var bA=bz.rangeCount-1;bA>=0;--bA){var bB=bz.getRangeAt(bA);if(ss.referenceEquals(e,bB.startContainer)||e.contains(bB.startContainer)||ss.referenceEquals(e,bB.endContainer)||e.contains(bB.endContainer)){return true}}return false};s.generateUniqueId=function(){return'tab-ui-id-'+s.$8++};s.getIds=function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(bz,bA){return bA.id}).get()};global.tab.DomUtil=s;var t=function(){};t.__typeName='tab.DoubleRectXYUtil';t.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};t.isEqual=function(e,bz){return e.x===bz.x&&e.y===bz.y&&e.w===bz.w&&e.h===bz.h};t.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};t.inRect=function(e,bz){return bz.x>=e.x&&bz.x<e.x+e.w&&bz.y>=e.y&&bz.y<e.y+e.h};t.inRect$1=function(e,bz,bA,bB,bC,bD){return bC>=e&&bC<e+bA&&bD>=bz&&bD<bz+bB};t.intersectsWith=function(e,bz){return!(bz.x+bz.w<e.x||bz.y+bz.h<e.y||bz.x>e.x+e.w||bz.y>e.y+e.h)};t.outsetRect=function(e,bz,bA){return{x:e.x-bz,y:e.y-bA,w:e.w+bz+bz,h:e.h+bA+bA}};global.tab.DoubleRectXYUtil=t;var u=function(){};u.__typeName='tab.DoubleUtil';u.$0=function(){return J.lazyGetLogger(u)};u.isApproximatelyEqual=function(e,bz){if(Math.abs(e-bz)<u.epsilon){return true}if(e===0){return false}var bA=bz/e;if(u.$3<=bA&&bA<=u.$5){return true}return false};u.isApproximatelyZero=function(e){return u.isApproximatelyEqual(0,e)};u.isLessThanAndNotApproximatelyEqual=function(e,bz){return e<bz&&!u.isApproximatelyEqual(e,bz)};u.isLessThanOrApproximatelyEqual=function(e,bz){return e<bz||u.isApproximatelyEqual(e,bz)};u.isGreaterThanAndNotApproximatelyEqual=function(e,bz){return e>bz&&!u.isApproximatelyEqual(e,bz)};u.isGreaterThanOrApproximatelyEqual=function(e,bz){return e>bz||u.isApproximatelyEqual(e,bz)};u.sigFigs=function(e,bz){if(e===0||bz===0){return e}var bA=Math.pow(10,bz-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bA)/bA};u.roundToInt=function(e){return ss.round(e)};u.parseDouble=function(e){var bz=parseFloat(e);return(isFinite(bz)?bz:null)};u.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};u.parse64BitInteger=function(e){var bz={};if(!ss.Int32.tryParse(e,bz)){return null}var bA=u.parseValidDouble(e);if(ss.Nullable$1.gt(bA,9.22337203685477E+18)||ss.Nullable$1.lt(bA,-9.22337203685477E+18)){return null}return bz.$};u.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bz=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bz)){return false}return ss.Nullable$1.le(bz,2147483647)&&ss.Nullable$1.ge(bz,-2147483648)};u.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bz=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bz)){return false}return true};u.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!u.isValidDouble(e)){return Number.NaN}return parseFloat(e)};u.multiplyBy100=function(e){return e*1000/10};u.truncateTwoDecimalPlaces=function(e){return ss.Int32.trunc(u.multiplyBy100(e))/100};global.tab.DoubleUtil=u;var v=function(){};v.__typeName='tab.ErrorTrace';v.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){v.$m=true}}v.$3('setTimeout');v.$3('setInterval');v.installGlobalHandler()};v.wrap=function(bz){return function(){try{return bz.apply(this,Array.prototype.slice.call(arguments))}catch(bA){var e=ss.Exception.wrap(bA);v.report(e,false);throw bA}}};v.$3=function(e){var bz=window[e];var bA=function(){var bB=ss.arrayClone(Array.prototype.slice.call(arguments));var bC=bB[0];if(ss.isInstanceOfType(bC,Function)){bB[0]=v.wrap(bC)}return bz.apply(this,bB)};window[e]=bA};v.windowOnError=function(e,bz,bA,bB,bC){var bD;if(ss.isValue(v.$o)){v.$0(v.$o,bz,bA,e);bD=v.$o;v.$o=null;v.$n=null}else{var bE=new bb(bz,bA);bE.functionName=v.$9(bE);bE.context=v.$6(bE);bD=new bc('onError',e);bD.name='window.onError';bD.locations=[bE]}v.$r.push(bD);if(ss.isValue(v.$p)){v.$p.apply(this,Array.prototype.slice.call(arguments))}return false};v.$0=function(e,bz,bA,bB){var bC=new bb(bz,bA);if(ss.isValue(bC.url)&&ss.isValue(bC.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bC.functionName)){bC.functionName=v.$9(bC)}if(ss.isNullOrUndefined(bC.context)){bC.context=v.$6(bC)}var bD=bB.match(new RegExp(" '([^']+)' "));if(ss.isValue(bD)&&bD.length>1){bC.columnNo=v.$5(bD[1],bC)}if(ss.isValue(e.locations)&&e.locations.length>0){var bE=e.locations[0];if(ss.referenceEquals(bE.url,bC.url)){if(bE.lineNo===bC.lineNo){return}else if(ss.isNullOrUndefined(bE.lineNo)&&ss.referenceEquals(bE.functionName,bC.functionName)){bE.lineNo=bC.lineNo;bE.context=bC.context;return}}}e.locations.unshift(bC);e.isPartial=true;return}else{e.isIncomplete=true}return};v.$a=function(e){if(!v.$s){return''}try{var bz=new XMLHttpRequest;bz.open('GET',e,false);bz.send('');return bz.responseText}catch(bA){return''}};v.$7=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(v.$i,e)){var bz='';if(e.indexOf(document.domain)>-1){bz=v.$a(e)}v.$i[e]=(ss.isNullOrEmptyString(bz)?[]:bz.split('\n'))}return v.$i[e]};v.$5=function(e,bz){var bA=v.$7(bz.url);var bB=new RegExp('\\b'+v.$2(e)+'\\b');if(ss.isValue(bA)&&bA.length>bz.lineNo){var bC=bB.exec(bA[bz.lineNo]);if(ss.isValue(bC)){return bC.index}}return-1};v.$9=function(e){var bz=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bA=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var bB='';var bC=10;var bD=v.$7(e.url);if(bD.length===0){return'?'}for(var bE=0;bE<bC;bE++){bB=bD[e.lineNo-1]+bB;if(!ss.isNullOrEmptyString(bB)){var bF=bA.exec(bB);if(ss.isValue(bF)&&bF.length>0){return bF[1]}bF=bz.exec(bB);if(ss.isValue(bF)&&bF.length>0){return bF[1]}}}return'?'};v.$6=function(e){var bz=v.$7(e.url);if(ss.isNullOrUndefined(bz)||bz.length===0){return null}var bA=[];var bB=60;var bC=e.columnNo;var bD=bz[e.lineNo-1];var bE=Math.max(0,bC-bB);var bF=Math.min(bC+bB,bD.length);bA.push(bD.substr(bE,bF-bE));return bA};v.$2=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};v.$8=function(e){var bz=new bc('stack',e.get_message());bz.name=e.name;if(v.$m){var bA=null;try{bA=v.$1(e)}catch(bB){var inner=ss.Exception.wrap(bB);if(v.$t){throw inner}}if(ss.isValue(bA)){return bA}}else{return bz}bz.traceMode='failed';return bz};v.$1=function(e){var bz=v.$c(e);var bA=new bc('stack',e.get_message());bA.name=e.name;bA.locations=bz;return bA};v.$c=function(e){var bz;if(ss.isValue(e.get_innerException())){bz=e.get_innerException().error}else{bz=e._error}if(ss.isValue(bz.stack)&&ss.isValue(bz.stack.match(v.$e))){return v.$b(bz)}if(ss.isValue(bz.stack)){return v.$d(bz)}return null};v.$b=function(e){var bz=e.stack.split(String.fromCharCode(10)).filter(function(bA){return ss.isValue(bA.match(v.$e))});return bz.map(function(bA){if(bA.indexOf('(eval ')>-1){bA=ss.replaceAllString(bA,'eval code','eval').replace(v.$j,'')}var bB=bA.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bC=v.$4(bB.pop());var bD=ss.coalesce(bB.join(' '),'undefined');var bE=((ss.indexOf(['eval','<anonymous>'],bC[0])>-1)?'undefined':bC[0]);var bF=parseInt(bC[1]);var bG=parseInt(bC[2]);var bH=new bb(bE,bF);bH.functionName=bD;bH.columnNo=bG;bH.context=[bA];var bI=bH;bI.context=v.$6(bI);return bI})};v.$d=function(e){var bz=e.stack.split(String.fromCharCode(10)).filter(function(bA){return ss.isNullOrUndefined(bA.match(v.$h))});return bz.map(function(bA){if(bA.indexOf(' > eval')>-1){bA=bA.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bA.indexOf('@')===-1&&bA.indexOf(':')===-1){return new bb(bA,-1)}else{var bB=bA.split('@');var bC=v.$4(bB.pop());var bD=ss.coalesce(bB.join('@'),'undefined');var bE=bC[0];var bF=parseInt(bC[1]);var bG=parseInt(bC[2]);var bH=new bb(bE,bF);bH.functionName=bD;bH.columnNo=bG;bH.context=[bA];var bI=bH;bI.context=v.$6(bI);return bI}})};v.$4=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bz=v.$f.exec(e.replace(v.$g,''));return[bz[1],ss.coalesce(bz[2],'undefined'),ss.coalesce(bz[3],'undefined')]};v.hasTraces=function(){return v.$r.length>0};v.dequeueTraces=function(){var e=v.$r;v.$r=[];return e};v.installGlobalHandler=function(){if(v.$q||!v.$l){return}v.$p=window.onerror;window.onerror=v.windowOnError;v.$q=true};v.report=function(e,bz){if(ss.isNullOrUndefined(bz)){bz=true}if(ss.isValue(v.$o)){if(ss.referenceEquals(v.$n,e)){return}else{var bA=v.$o;v.$o=null;v.$n=null;v.$r.push(bA)}}var bB=v.$8(e);v.$o=bB;v.$n=e;window.setTimeout(function(){if(ss.referenceEquals(v.$n,e)){v.$o=null;v.$n=null;v.$r.push(bB)}},(bB.isIncomplete?2000:0));if(bz){throw e}};global.tab.ErrorTrace=v;var w=function(){};w.__typeName='tab.FeatureFlags';w.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(w.$0)&&ss.keyExists(w.$0,e)){return w.$0[e]}return false};w.setDefaults=function(e){w.$0=e};global.tab.FeatureFlags=w;var x=function(){};x.__typeName='tab.FeatureParam';global.tab.FeatureParam=x;var y=function(){};y.__typeName='tab.FeatureParamsLookup';y.getBool=function(e){if(ss.keyExists(y.$3,e)){return y.$3[e]||false}return false};y.getFloat=function(e){if(ss.keyExists(y.$5,e)){return y.$5[e]}return null};y.getInt=function(e){if(ss.keyExists(y.$7,e)){return y.$7[e]}return null};y.getString=function(e){if(ss.keyExists(y.$a,e)){return y.$a[e]}return null};y.$1=function(e,bz,bA){y.$4.push(bz);y.$c[e]=bz;y.$3[bz]=bA};y.$2=function(e,bz){y.$8.push(bz);y.$c[e]=bz;y.$7[bz]=null};y.$0=function(){var e=P.getUriQueryParameters(window.self.location.search);var bz=new ss.ObjectEnumerator(e);try{while(bz.moveNext()){var bA=bz.current();var bB=bA.key.toLowerCase();var bC=0;if(ss.keyExists(y.$c,bB)){bC=y.$c[bB]}else{continue}if(bA.value.length>0){var bD=bA.value[0];if(ss.contains(y.$4,bC)){var bE=bD.toLowerCase()==='true';y.$3[bC]=bE}else if(ss.contains(y.$6,bC)){var bF=parseFloat(bD);y.$5[bC]=bF}else if(ss.contains(y.$8,bC)){var bG=parseInt(bD);y.$7[bC]=bG}else if(ss.contains(y.$b,bC)){y.$a[bC]=bD}else{continue}}else{continue}}}finally{bz.dispose()}};global.tab.FeatureParamsLookup=y;var z=function(){};z.__typeName='tab.FullscreenUtil';z.add_fullscreenStateChanged=function(e){z.$1$1=ss.delegateCombine(z.$1$1,e)};z.remove_fullscreenStateChanged=function(e){z.$1$1=ss.delegateRemove(z.$1$1,e)};z.$2=function(){return z.$6.substring(2)};z.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(z.$5)){return false}return document[z.$5]};z.get_fullscreenElement=function(){if(ss.isNullOrUndefined(z.$4)){return null}return document[z.$4]};z.get_inFullscreenMode=function(){return ss.isValue(z.get_fullscreenElement())};z.$0=function(e,bz){for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];if(bB in e||bB.toLowerCase()in e){return bB}}return null};z.exitFullscreen=function(){if(ss.isNullOrUndefined(z.$3)){return}document[z.$3]()};z.requestFullscreen=function(e){if(ss.isNullOrUndefined(z.$7)){return}e[z.$7]()};z.$1=function(e){document.documentElement.classList.toggle('fullscreen',z.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(z.$1$1,null)){z.$1$1()}})};global.tab.FullscreenUtil=z;var A=function(){};A.__typeName='tab.HistoryUtil';A.pushState=function(e,bz,bA,bB){if(i.get_historyApi()){try{e.history.pushState(bz,bA,bB)}catch(bC){var e=ss.Exception.wrap(bC)}}};A.replaceState=function(e,bz,bA,bB){if(i.get_historyApi()){try{e.history.replaceState(bz,bA,bB)}catch(bC){var e=ss.Exception.wrap(bC)}}};global.tab.HistoryUtil=A;var B=function(){};B.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=B;var C=function(){};C.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=C;var D=function(){};D.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=D;var E=function(){};E.__typeName='tab.ILogAppender';global.tab.ILogAppender=E;var F=function(e,bz){this.$0=0;this.$1=0;this.$0=e;this.$1=bz};F.__typeName='tab.IntegerRange';F.itemToTileRange=function(e,bz){var bA=new F(0,0);bA.set_from(Math.floor(e.get_from()/bz));bA.set_to(Math.floor(e.get_to()/bz));return bA};F.pixelToItemRange=function(e,bz){var bA=new F(0,0);bA.set_from(Math.floor(e.get_from()/bz));bA.set_to(Math.floor(e.get_to()/bz));return bA};F.pixelToTileRange=function(e,bz,bA){return F.itemToTileRange(F.pixelToItemRange(e,bz),bA)};F.isEqual=function(e,bz){return ss.isValue(e)&&ss.isValue(bz)&&e.get_to()===bz.get_to()&&e.get_from()===bz.get_from()};F.union=function(e,bz){if(ss.isNullOrUndefined(e)){return bz}if(ss.isNullOrUndefined(bz)){return e}var bA=new F(0,0);bA.set_from(Math.min(e.get_from(),bz.get_from()));bA.set_to(Math.max(e.get_to(),bz.get_to()));return bA};global.tab.IntegerRange=F;var G=function(){H.call(this)};G.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=G;var H=function(){this.store={};this.size=0};H.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=H;var I=function(){};I.__typeName='tab.Log';I.get=function(e){return J.lazyGetLogger(ss.getInstanceType(e))};global.tab.Log=I;var J=function(e){this.$1=null;this.$1=e};J.__typeName='tab.Logger';J.get_globalLog=function(){return J.global};J.$2=function(){return P.lazyInitStaticField(J,'appenders',function(){return[]})};J.$3=function(){return P.lazyInitStaticField(J,'filters',function(){return[]})};J.$4=function(){return P.lazyInitStaticField(J,'nullLog',function(){return new J('')})};J.clearFilters=function(){var e=J.$2();for(var bz=0;bz<e.length;bz++){var bA=e[bz];bA.clearFilters()}ss.clear(J.$3())};J.filterByLogger=function(e,bz){bz=bz||0;J.$0(function(bA,bB){return ss.referenceEquals(bA,e)&&bB>=bz})};J.filterByType=function(e,bz){bz=bz||0;J.$0(function(bA,bB){return bB>=bz&&ss.referenceEquals(bA.get_name(),ss.getTypeName(e))})};J.filterByName=function(e,bz){bz=bz||0;var bA=new RegExp(e,'i');J.$0(function(bB,bC){return bC>=bz&&ss.isValue(bB.get_name().match(bA))})};J.clearAppenders=function(){ss.clear(J.$2())};J.addAppender=function(e){var bz=J.$3();for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];e.addFilter(bB)}J.$2().push(e)};J.removeAppender=function(e){ss.remove(J.$2(),e)};J.lazyGetLogger=function(e){return P.lazyInitStaticField(e,'_logger',function(){return J.getLogger(e)})};J.getLogger=function(e,bz){var bA=J.getLoggerWithName(ss.getTypeName(e));if(ss.isValue(bz)){}return bA};J.getLoggerWithName=function(e){return J.$4()};J.$1=function(){var e=P.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(e,':log')){return}var bz=e[':log'];if(bz.length===0){}for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];var bC=bB.split(String.fromCharCode(58));var bD=1;if(bC.length>0&&ss.isValue(bC[1])){var bE=bC[1].toLowerCase();var bF=ss.indexOf(J.loggerLevelNames,bE);if(bF>=0){bD=bF}}}};J.$0=function(e){J.$3().push(e);var bz=J.$2();for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];bB.addFilter(e)}};global.tab.Logger=J;var K=function(){};K.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=K;var L=function(){ss.Exception.call(this)};L.__typeName='tab.LoopBreakException';L.$ctor1=function(e){ss.Exception.call(this,e)};L.$ctor2=function(e,bz){ss.Exception.call(this,e,bz)};global.tab.LoopBreakException=L;var M=function(){};M.__typeName='tab.MapUtil';M.getZoomFactorForDesiredZoomLevel=function(e,bz){return Math.exp(-(Math.LN2*(bz-e)))};M.allowZoomAtCurrentLevel=function(e,bz){return e+Math.log(1/bz)/Math.LN2>=0};M.allowZoomAtCurrentLevelLeaflet=function(e,bz){return e-bz>=0};M.getVisiblePixelWidth=function(e,bz,bA){var bB=Math.pow(2,e)*bA;var bC=Math.floor(bz*bB);return bC};M.getScrollDeltaForZoomFactor=function(e){return Math.floor(M.$1*(Math.log(e)/Math.log(2)))};M.getLeafletZoomOffsetForTileSize=function(e){return((e===M.$0)?-1:0)};M.calculateZoomFactor=function(e){var bz=ss.Int32.div(e,8);var bA=ss.Int32.div(bz,15);var bB=1;var bC=Math.log(bB)/Math.log(2)+bA/4;bB=Math.pow(2,bC);return ss.round(bB,2)};global.tab.MapUtil=M;var N=function(){};N.__typeName='tab.MapUtility';N.forEachWithInterrupt=function(e,bz){return function(bA,bB){try{bA.forEach(bB)}catch(bC){bC=ss.Exception.wrap(bC);if(ss.isInstanceOfType(bC,L)){}else{throw bC}}}};N.forEachWithInterrupt$1=function(e,bz){return function(bA,bB){try{bA.forEach(function(bC,bD,bE){bB(bC,bD)})}catch(bC){bC=ss.Exception.wrap(bC);if(ss.isInstanceOfType(bC,L)){}else{throw bC}}}};N.createCopy=function(e,bz){return function(bA){var bB=new Map;bA.forEach(function(bC,bD,bE){bB.set(bD,bC)});return bB}};global.tab.MapUtility=N;var O=function(){this.$9=null;this.$a=null;this.$7=null;this.$6=null;this.$8=null;this.$9=[];this.$7=[];this.$8=null;this.$6=null};O.__typeName='tab.MetricsLogger';O.get_instance=function(){if(!ss.isValue(O.$b)){O.$b=new O}return O.$b};O.$1=function(e,bz){var bA=(bz?', ':',');var bB=new ss.StringBuilder;bB.append((bz?O.$9[e.eventType]:e.eventType.toString()));var bC=ss.getKeyCount(e.parameters);if(bC>0){bB.append('=');bB.append('{');var bD=0;var bE=(bz?': ':':');var bF=ss.getEnumerator(Object.keys(e.parameters));try{while(bF.moveNext()){var bG=bF.current();if(bG==='id'&&e.eventType!=='init'){continue}if(bD++>0){bB.append(bA)}bB.append((bz?O.$a[bG]:bG.toString()));bB.append(bE);var bH=e.parameters[bG];O.$2(bB,bH,bz)}}finally{bF.dispose()}bB.append('}')}return bB.toString()};O.$0=function(e,bz,bA){var bB=(bA?', ':',');var bC=(bA?': ':':');var bD=ss.getKeyCount(bz);var bE=0;var bF=ss.getEnumerator(Object.keys(bz));try{while(bF.moveNext()){var bG=bF.current();if(bz.hasOwnProperty(bG)){var bH=bz[bG];e.append(bG);e.append(bC);O.$2(e,bH,bA);if(++bE<bD){e.append(bB)}}}}finally{bF.dispose()}};O.$2=function(e,bz,bA){var bB=typeof(bz);if(bB==='number'&&Math.floor(bz)!==bz){e.append(bz.toFixed(1))}else if(bB==='string'){if(bA){e.append('"');e.append(bz);e.append('"')}else{e.append(encodeURIComponent(bz))}}else if($.isArray(bz)){e.append('[');e.append(bz);e.append(']')}else if(bB==='object'){e.append('{');var bC=bz;O.$0(e,bC,bA);e.append('}')}else{e.append(bz)}};global.tab.MetricsLogger=O;var P=function(){};P.__typeName='tab.MiscUtil';P.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};P.get_urlPathnameParts=function(){var e=P.get_pathName();var bz=tsConfig.site_root;var bA=e.indexOf(bz,0);var bB=e.substr(bA+bz.length);var bC=bB.split('/');var bD={};bD[2]=bC[2];bD[3]=bC[3];bD[4]=bC[4];return bD};P.lazyInitStaticField=function(e,bz,bA){var bB=e[bz];if(ss.isNullOrUndefined(bB)){bB=bA();e[bz]=bB}return bB};P.shallowEquals=function(e,bz){if(ss.referenceEquals(e,bz)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bz)){return false}var bA=Object.keys(e);var bB=Object.keys(bz);if(bA.length!==bB.length){return false}for(var bC=0;bC<bA.length;bC++){var bD=bA[bC];if(!bz.hasOwnProperty(bD)||!ss.referenceEquals(e[bD],bz[bD])){return false}}return true};P.percentEncode=function(e,bz){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bz)){return e}var bA=new ss.StringBuilder;var bB=0;while(bB<e.length){var bC=e.substr(bB,1);if(bC==='%'){bA.append(e.substr(bB,3));bB+=2}else if(!ss.keyExists(bz,bC)){bA.append('%').append(bC.charCodeAt(0).toString(16).toUpperCase())}else{bA.append(bC)}bB++}return bA.toString()};P.encodeForWG=function(e){var bz={};var bA=function(bB,bC){for(var bD=bB;bD<=bC;bD++){var bE=String.fromCharCode(bD);bz[bE]=bE}};bA(97,122);bA(65,90);bA(48,57);bA(95,95);bA(45,45);e=P.percentEncode(e,bz);e=P.percentEncode(e,null);return e};P.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bz=0;bz<e.length;bz++){if(ss.isNullOrUndefined(e[bz])){return true}}return false};P.isNullOrEmpty=function(e){if(ss.isNullOrUndefined(e)){return true}var bz=e;if(ss.isValue(bz['length'])&&bz['length']===0){return true}return false};P.isNullOrEmpty$1=function(e){return ss.isNullOrEmptyString(e)};P.isValidIndex=function(e,bz){return e>=0&&e<bz.length};P.toBoolean=function(e,bz){var bA=new RegExp('^(yes|y|true|t|1)$','i');if(P.isNullOrEmpty$1(e)){return bz}var bB=e.match(bA);return!P.isNullOrEmpty(bB)};P.getUriQueryParameters=function(e){var bz={};if(ss.isNullOrUndefined(e)){return bz}var bA=e.indexOf('?');if(bA<0){return bz}var bB=e.substr(bA+1);var bC=bB.indexOf('#');if(bC>=0){bB=bB.substr(0,bC)}if(ss.isNullOrEmptyString(bB)){return bz}var bD=bB.split('&');for(var bE=0;bE<bD.length;bE++){var bF=bD[bE];var bG=bF.split('=');var bH=decodeURIComponent(bG[0]);var bI;if(ss.keyExists(bz,bH)){bI=bz[bH]}else{bI=[];bz[bH]=bI}if(bG.length>1){bI.push(decodeURIComponent(bG[1]))}}return bz};P.replaceUriQueryParameters=function(e,bz){if(ss.getKeyCount(bz)===0){return e}var bA=new ss.StringBuilder;var bB=true;var bC=function(){bA.append((bB?'?':'&'));bB=false};var bD=_.keys(bz);for(var bE=0;bE<bD.length;bE++){var bF=bD[bE];var bG=bz[bF];var bH=encodeURIComponent(bF);if(ss.isNullOrUndefined(bG)||bG.length===0){bC();bA.append(bH)}else{for(var bI=0;bI<bG.length;bI++){var bJ=bG[bI];bC();bA.append(bH).append('=').append(encodeURIComponent(bJ))}}}var bK='';var bL='';if(e.length>0){var bM=e.indexOf('?');var bN=e.indexOf('#');var bO=Math.min(((bM<0)?e.length:bM),((bN<0)?e.length:bN));bL=e.substr(0,bO);bK=((bN<0)?'':e.substr(bN))}return bL+bA+bK};P.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};P.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};P.dispose=function(e){if(ss.isValue(e)){for(var bz=0;bz<e.length;bz++){var bA=e[bz];if(ss.isValue(bA)){bA.dispose()}}ss.clear(e)}return null};P.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};P.clearInterval=function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null};P.cloneObject=function(e){var bz=JSON.stringify(e);return JSON.parse(bz)};global.tab.MiscUtil=P;var Q=function(){};Q.__typeName='tab.NavigationMetricsCollector';Q.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'){Q.$0=window.performance.timing;if('navigationStart'in Q.$0){var e=Q.$0[Q.$1[0]];var bz=[];for(var bA=0;bA<Q.$1.length;bA++){var bB=Q.$1[bA];var bC=Q.$0[bB];bC=((bC===0)?0:(bC-e));bz.push(bC)}var bD={};bD['v']=bz;var bE=new tabBootstrap.MetricsEvent('nav',1,bD);tabBootstrap.MetricsController.logEvent(bE)}}};global.tab.NavigationMetricsCollector=Q;var R=function(){};R.__typeName='tab.Param';R.createArgumentNullOrUndefinedException=function(e){var bz=new ss.Exception(e+' is null or undefined.');bz.paramName=e;return bz};R.verifyString=function(e,bz){R.verifyValue(e,bz);if(e.trim().length===0){var bA=new ss.Exception(bz+' contains only white space');bA.paramName=bz;R.$1(bA);throw bA}};R.verifyValue=function(e,bz){if(ss.isNullOrUndefined(e)){var bA=R.createArgumentNullOrUndefinedException(bz);R.$1(bA);throw bA}};R.$1=function(e){if(R.suppressAlerts){return}try{throw e}catch(bz){var exceptionWithStack=ss.Exception.wrap(bz);window.alert(R.$0(exceptionWithStack))}};R.$0=function(e){var bz;if(ss.isValue(e.stack)){bz=e.stack}else{bz=e.get_message()}return bz};global.tab.Param=R;var S=function(){};S.__typeName='tab.PathnameKey';global.tab.PathnameKey=S;var T=function(){};T.__typeName='tab.PointFUtil';T.subtract=function(e,bz){return{x:e.x-bz.x,y:e.y-bz.y}};T.timesScalar=function(e,bz){return{x:e.x*bz,y:e.y*bz}};T.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointFUtil=T;var U=function(){};U.__typeName='tab.PointUtil';U.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC}};U.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bz={thj:ss.round(e.x),RAC:ss.round(e.y)};return bz};U.fromPosition=function(e){return{x:u.roundToInt(e.left),y:u.roundToInt(e.top)}};U.add=function(e,bz){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bz)){return e}return{x:e.x+bz.x,y:e.y+bz.y}};U.subtract=function(e,bz){return{x:e.x-bz.x,y:e.y-bz.y}};U.distance=function(e,bz){R.verifyValue(e,'first');R.verifyValue(bz,'second');var bA=e.x-bz.x;var bB=e.y-bz.y;return Math.sqrt(bA*bA+bB*bB)};U.isWithinDistance=function(e,bz,bA){var bB=e.x-bz.x;var bC=e.y-bz.y;return bB*bB+bC*bC<=bA*bA};U.equals=function(e,bz){return ss.isValue(e)&&ss.isValue(bz)&&bz.x===e.x&&bz.y===e.y};global.tab.PointUtil=U;var V=function(){};V.__typeName='tab.RecordCast';V.rectAsSize=function(e){return e};V.regionRectAsSize=function(e){return e};V.rectPresModelAsRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC,w:e.rec,h:e.EUR}};V.doubleRectPresModelAsDoubleRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.BPK,y:e.KEc,w:e.POJ,h:e.suk}};V.sizeAsSizePresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bz={};bz.rec=e.w;bz.EUR=e.h;return bz};global.tab.RecordCast=V;var W=function(){};W.__typeName='tab.RectUtil';W.isEmpty=function(e){return e.w===0||e.h===0};W.isEqual=function(e,bz){return e.t===bz.t&&e.l===bz.l&&e.w===bz.w&&e.h===bz.h};W.inRect=function(e,bz){return bz.x>=e.l&&bz.x<e.l+e.w&&bz.y>=e.t&&bz.y<e.t+e.h};global.tab.RectUtil=W;var X=function(){};X.__typeName='tab.RectXYUtil';X.set=function(e,bz){e.x=bz.x;e.y=bz.y;e.w=bz.w;e.h=bz.h};X.set$1=function(e,bz,bA,bB,bC){e.x=bz;e.y=bA;e.w=bB;e.h=bC};X.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};X.isEqual=function(e,bz){return e.x===bz.x&&e.y===bz.y&&e.w===bz.w&&e.h===bz.h};X.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};X.inRect=function(e,bz){return bz.x>=e.x&&bz.x<e.x+e.w&&bz.y>=e.y&&bz.y<e.y+e.h};X.inRect$1=function(e,bz,bA){return bz>=e.x&&bz<e.x+e.w&&bA>=e.y&&bA<e.y+e.h};X.inRectPointF=function(e,bz){return bz.x>=e.x&&bz.x<e.x+e.w&&bz.y>=e.y&&bz.y<e.y+e.h};X.inRectPointF$1=function(e,bz,bA){return bz>=e.x&&bz<e.x+e.w&&bA>=e.y&&bA<e.y+e.h};X.intersectsWith=function(e,bz){return!(bz.x+bz.w<e.x||bz.y+bz.h<e.y||bz.x>e.x+e.w||bz.y>e.y+e.h)};X.intersectsWith$1=function(e,bz,bA,bB,bC){return!(bz+bB<e.x||bA+bC<e.y||bz>e.x+e.w||bA>e.y+e.h)};X.intersectsWithMoreThanSharedEdge=function(e,bz){return!(bz.x+bz.w<=e.x||bz.y+bz.h<=e.y||bz.x>=e.x+e.w||bz.y>=e.y+e.h)};X.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};X.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};X.intersectsWithAny=function(e,bz){var bA=false;for(var bB=0;bB<bz.length;bB++){var bC=bz[bB];if(ss.isNullOrUndefined(bC)){continue}if(X.intersectsWith(e,bC)){bA=true;break}}return bA};X.intersectsWithAny$1=function(e,bz,bA){if(bz.y+bz.h<e.y||bz.y>e.y+e.h){return false}var bB=e.x;var bC=e.x+e.w;for(var bD=0;bD<bA.length;bD++){var bE=bA[bD];var bF=bz.x+bE;var bG=bF+bz.w;if(!(bG<bB||bF>bC)){return true}}return false};X.completelyContains=function(e,bz){return X.inRect(e,{x:bz.x,y:bz.y})&&X.inRect(e,{x:bz.x+bz.w-1,y:bz.y+bz.h-1})};X.completelyContains$1=function(e,bz,bA,bB,bC){return X.inRect$1(e,bz,bA)&&X.inRect$1(e,bz+bB-1,bA+bC-1)};X.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};X.offsetRect=function(e,bz){return{x:e.x+bz.x,y:e.y+bz.y,w:e.w,h:e.h}};X.offsetRectXY=function(e,bz,bA){return{x:e.x+bz,y:e.y+bA,w:e.w,h:e.h}};X.offsetRectXYInPlace=function(e,bz,bA){e.x+=bz;e.y+=bA};X.offsetRectF=function(e,bz){return{x:e.x+Math.round(bz.x),y:e.y+Math.round(bz.y),w:e.w,h:e.h}};X.outsetRect=function(e,bz,bA){return{x:e.x-bz,y:e.y-bA,w:e.w+bz+bz,h:e.h+bA+bA}};X.outsetRectInPlace=function(e,bz,bA){e.x-=bz;e.y-=bA;e.w+=2*bz;e.h+=2*bz};X.outsetRectSizeF=function(e,bz){return X.outsetRect(e,Math.ceil(bz.w),Math.ceil(bz.h))};X.encompassCircleInPlace=function(e,bz,bA,bB){var bC=bB*2;var bD=Math.floor(bz-bB+0.5);var bE=Math.floor(bA-bB+0.5);var bF=Math.floor(bC+0.5);X.unionInPlace$1(e,bD,bE,bF,bF)};X.union=function(e,bz){if(X.isEmpty(e)){return X.clone(bz)}if(X.isEmpty(bz)){return X.clone(e)}var bA=Math.min(e.x,bz.x);var bB=Math.min(e.y,bz.y);var bC=Math.max(e.x+e.w,bz.x+bz.w);var bD=Math.max(e.y+e.h,bz.y+bz.h);return{x:bA,y:bB,w:bC-bA,h:bD-bB}};X.unionInPlace$1=function(e,bz,bA,bB,bC){if(X.isEmpty(e)){X.set$1(e,bz,bA,bB,bC);return}if(bB===0||bC===0){return}var bD=Math.min(e.x,bz);var bE=Math.min(e.y,bA);var bF=Math.max(e.x+e.w,bz+bB);var bG=Math.max(e.y+e.h,bA+bC);X.set$1(e,bD,bE,bF-bD,bG-bE)};X.unionInPlace=function(e,bz){X.unionInPlace$1(e,bz.x,bz.y,bz.w,bz.h)};X.unionAll=function(e){var bz=e.length;if(bz===0){return{x:0,y:0,w:0,h:0}}var bA=e[0];var bB=bA.x;var bC=bA.y;var bD=bA.x+bA.w;var bE=bA.y+bA.h;for(var bF=1;bF<bz;bF++){bA=e[bF];bB=Math.min(bB,bA.x);bC=Math.min(bC,bA.y);bD=Math.max(bD,bA.x+bA.w);bE=Math.max(bE,bA.y+bA.h)}return{x:bB,y:bC,w:bD-bB,h:bE-bC}};X.rectXYFromCorners=function(e,bz){var bA=Math.round(Math.min(e.x,bz.x));var bB=Math.round(Math.min(e.y,bz.y));var bC=Math.abs(Math.round(e.x-bz.x));var bD=Math.abs(Math.round(e.y-bz.y));return{x:bA,y:bB,w:bC,h:bD}};X.rectXYFromCorners$1=function(e,bz,bA,bB){var bC=Math.round(Math.min(e,bA));var bD=Math.round(Math.min(bz,bB));var bE=Math.abs(Math.round(e-bA));var bF=Math.abs(Math.round(bz-bB));return{x:bC,y:bD,w:bE,h:bF}};X.rectXYFromBBoxRectF=function(e){return X.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};X.rectXYFromMinAndMax=function(e,bz,bA,bB){var bC=Math.floor(e);var bD=Math.floor(bz);var bE=Math.ceil(bA);var bF=Math.ceil(bB);return{x:bC,y:bD,w:bE-bC,h:bF-bD}};X.dialate=function(e,bz){var bA=e.x-bz;var bB=e.y-bz;var bC=e.w+2*bz;var bD=e.h+2*bz;return{x:bA,y:bB,w:bC,h:bD}};X.intersect=function(e,bz){if(!X.intersectsWith(e,bz)||X.isEmpty(bz)||X.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bA=Math.max(e.x,bz.x);var bB=Math.max(e.y,bz.y);var bC=Math.min(e.x+e.w,bz.x+bz.w);var bD=Math.min(e.y+e.h,bz.y+bz.h);return{x:bA,y:bB,w:bC-bA,h:bD-bB}};X.intersectInPlace=function(e,bz){if(!X.intersectsWith(e,bz)||X.isEmpty(e)||X.isEmpty(bz)){X.set$1(e,0,0,0,0);return}var bA=Math.max(e.x,bz.x);var bB=Math.max(e.y,bz.y);var bC=Math.min(e.x+e.w,bz.x+bz.w);var bD=Math.min(e.y+e.h,bz.y+bz.h);X.set$1(e,bA,bB,bC-bA,bD-bB)};X.shiftCoordsTowardsCenter=function(e,bz,bA){if(ss.isNullOrUndefined(bz)){return e}var bB={x:e.x,y:e.y};bB=X.horizontalShiftCoordsTowardsCenter(bB,bz,bA);return X.verticalShiftCoordsTowardsCenter(bB,bz,bA)};X.horizontalShiftCoordsTowardsCenter=function(e,bz,bA){if(ss.isNullOrUndefined(bz)){return e}var bB={x:e.x,y:e.y};if(bB.x<=bz.x+bA){bB.x+=bA}else if(bB.x>=bz.x+bz.w-2*bA){bB.x-=bA}return bB};X.verticalShiftCoordsTowardsCenter=function(e,bz,bA){if(ss.isNullOrUndefined(bz)){return e}var bB={x:e.x,y:e.y};if(bB.y<=bz.y+bA){bB.y+=bA}else if(bB.y>=bz.y+bz.h-2*bA){bB.y-=bA}return bB};X.clampCoords=function(e,bz){var bA=Math.min(Math.max(bz.x,e.x),bz.x+bz.w);var bB=Math.min(Math.max(bz.y,e.y),bz.y+bz.h);return{x:bA,y:bB}};X.getChangedRects=function(e,bz){var bA=[];if(!ss.isValue(e)||!ss.isValue(bz)||!X.intersectsWith(e,bz)){return bA}var bB=e.x+e.w;var bC=e.y+e.h;var bD=bz.x+bz.w;var bE=bz.y+bz.h;var bF=Math.min(e.x,bz.x);var bG=Math.max(e.x,bz.x);var bH=Math.min(bB,bD);var bI=Math.max(bB,bD);var bJ=Math.min(e.y,bz.y);var bK=Math.max(e.y,bz.y);var bL=Math.min(bC,bE);var bM=Math.max(bC,bE);var bN={x:bF,y:bJ,w:bI-bF,h:bK-bJ};var bO={x:bF,y:bK,w:bG-bF,h:bL-bK};var bP={x:bH,y:bK,w:bI-bH,h:bL-bK};var bQ={x:bF,y:bL,w:bI-bF,h:bM-bL};if(!X.isEmpty(bN)){bA.push(bN)}if(!X.isEmpty(bO)){bA.push(bO)}if(!X.isEmpty(bP)){bA.push(bP)}if(!X.isEmpty(bQ)){bA.push(bQ)}return bA};X.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bz=e.length;if(bz===1){return e}var bA=new Array(bz);for(var bB=0;bB<bz;bB++){var bC=bA[bB]||e[bB];bA[bB]=bC;if(X.isEmpty(bC)){continue}for(var bD=bB+1;bD<bz;bD++){var bE=bA[bD]||e[bD];if(X.isEmpty(bE)){continue}var bF=X.intersect(bC,bE);if(X.isEmpty(bF)){continue}var bG=X.$0(bC,bF);if(ss.referenceEquals(bG,bC)){bE=X.$0(bE,bF)}bA[bB]=bG;bA[bD]=bE}}for(var bH=bA.length-1;bH>=0;bH--){if(X.isEmpty(bA[bH])){bA.splice(bH,1)}}return bA};X.$0=function(e,bz){if(bz.x===e.x&&bz.w===e.w){if(bz.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bz.h}}else{return{x:e.x,y:e.y+bz.h,w:e.w,h:e.h-bz.h}}}else if(bz.y===e.y&&bz.h===e.h){if(bz.x>e.x){return{x:e.x,y:e.y,w:e.w-bz.w,h:e.h}}else{return{x:e.x+bz.w,y:e.y,w:e.w-bz.w,h:e.h}}}return e};global.tab.RectXYUtil=X;var Y=function(){};Y.__typeName='tab.RleDecoder';Y.decode=function(e){if(ss.isNullOrUndefined(e)){return e}return Y.$2(e)};Y.$2=function(e){if(typeof(e)!=='object'||!ss.isValue(e)){return e}if($.isArray(e)){var bz=e;for(var bA=0,bB=bz.length;bA<bB;bA++){var bC=bz[bA];if(typeof(bC)!=='object'){break}bz[bA]=Y.$2(bC)}return Y.$1(bz)}else{var bD=e;var bE=Object.keys(bD);for(var bF=0,bG=bE.length;bF<bG;bF++){var bH=bE[bF];if(typeof(bD[bH])!=='object'){continue}if(bD.hasOwnProperty(bH)){bD[bH]=Y.$2(bD[bH])}}}return e};Y.$0=function(e){if(e.length===0){return false}var bz=e[e.length-1];if(!$.isArray(bz)){return false}return bz.length===0};Y.$4=function(e){var bz=e.length;return bz===2||bz===3};Y.$3=function(e,bz){var bA=bz[0];var bB=bz[1];var bC=((bz.length===3)?bz[2]:0);for(var bD=0,bE=bA;bD<bB;bD++,bE+=bC){e.push(bE)}};Y.$1=function(e){if(!Y.$0(e)){return e}e.pop();var bz=null;var bA=0;var bB=e.length;for(var bC=0;bC<bB;bC++){var bD=e[bC];var bE=typeof(bD);if(bE==='number'){continue}if(ss.isNullOrUndefined(bD)){continue}if(bE!=='object'||!$.isArray(bD)){return e}var bF=bD;if(!Y.$4(bF)){return e}bz=bz||[];for(var bG=bA;bG<bC;bG++){bz.push(e[bG])}Y.$3(bz,bF);bA=bC+1}if(ss.isValue(bz)){for(var bH=bA;bH<bB;bH++){bz.push(e[bH])}e=bz}return e};global.tab.RleDecoder=Y;var Z=function(){};Z.__typeName='tab.SetUtilities';Z.interserctWith=function(e){return function(bz,bA){var bB=new Set;for(var bC=0;bC<bA.length;bC++){var bD=bA[bC];if(bz.has(bD)){bB.add(bD)}}bz.forEach(function(bE){if(!bB.has(bE)&&_.contains(bA,bE)){bB.add(bE)}});return bB}};Z.getValues=function(e){return function(bz){var bA=[];bz.forEach(function(bB){bA.push(bB)});return bA}};Z.addAll=function(e){return function(bz,bA){for(var bB=0;bB<bA.length;bB++){var bC=bA[bB];bz.add(bC)}}};Z.symmetricDifferenceWith=function(e){return function(bz,bA){var bB=new Set;bz.forEach(function(bC){if(!bA.has(bC)){bB.add(bC)}});bA.forEach(function(bC){if(!bz.has(bC)){bB.add(bC)}});return bB}};global.tab.SetUtilities=Z;var ba=function(){};ba.__typeName='tab.SizeUtil';ba.isEmpty=function(e){return e.w===0&&e.h===0};ba.union=function(e,bz){return{w:Math.max(e.w,bz.w),h:Math.max(e.h,bz.h)}};ba.unionPresModels=function(e,bz){var bA={};bA.rec=Math.max(e.rec,bz.rec);bA.EUR=Math.max(e.EUR,bz.EUR);return bA};ba.add=function(e,bz){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bz)){return e}return{w:e.w+bz.w,h:e.h+bz.h}};ba.subtract=function(e,bz){return{w:e.w-bz.w,h:e.h-bz.h}};ba.equals=function(e,bz){return ss.isValue(e)&&ss.isValue(bz)&&bz.w===e.w&&bz.h===e.h};global.tab.SizeUtil=ba;var bb=function(e,bz){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bz};bb.__typeName='tab.StackLocation';global.tab.StackLocation=bb;var bc=function(e,bz){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bz;this.url=document.URL;this.locations=[]};bc.__typeName='tab.StackTrace';global.tab.StackTrace=bc;var bd=function(){h.call(this)};bd.__typeName='tab.StackTraceAppender';bd.enableLogging=function(e){if(ss.isNullOrUndefined(bd.$0)){bd.$0=new bd;J.addAppender(bd.$0)}bd.$0.addFilter(e||function(){return true})};bd.disableLogging=function(){if(ss.isValue(bd.$0)){J.removeAppender(bd.$0);bd.$0=null}};global.tab.StackTraceAppender=bd;var be=function(e,bz){this.$0=null;this.$1=null;this.$0=e;this.$1=bz};be.__typeName='tab.StringTuple';global.tab.StringTuple=be;var bf=function(){};bf.__typeName='tab.StyleUtil';bf.appendCSSRule=function(e,bz){bf.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bz)};bf.appendCSSRuleToStyleSheet=function(e,bz,bA){var bB='';var bC=_.keys(bA);for(var bD=0;bD<bC.length;bD++){var bE=bC[bD];var bF=bA[bE];if(!ss.isNullOrEmptyString(bF)){bB+=bE+':'+bF+';\n'}}var bG=bz+' {\n'+bB+'}\n';var bH=e.cssRules.length;e.insertRule(bG,bH)};bf.appendCSSRuleToStyleSheet$1=function(e,bz,bA){if(!ss.keyExists(bf.$3,e)){bf.$0(e)}var bB=bf.$3[e]||bf.$1(e);bf.appendCSSRuleToStyleSheet(bB,bz,bA)};bf.clearDefaultStyleSheet=function(){bf.clearStyleSheet('tab-appendedCustomStyle')};bf.clearStyleSheet=function(e){var bz=bf.$3[e];if(ss.isNullOrUndefined(bz)){return}var bA=bz.ownerNode;if(ss.isValue(bA)&&ss.isValue(bA.parentNode)){bA.parentNode.removeChild(bA);delete bf.$3[e]}};bf.isValidCssClassName=function(e){var bz=e.match(bf.$2);return ss.isValue(bz)};bf.$0=function(e){var bz=document.createElement('style');bz.setAttribute('type','text/css');bz.id=e;bz.appendChild(document.createTextNode(''));document.head.appendChild(bz);bf.$3[e]=bf.$1(e);return bz};bf.$1=function(e){for(var bz=0;bz<document.styleSheets.length;bz++){var bA=document.styleSheets[bz];var bB=bA.ownerNode;if(ss.isValue(bB)&&ss.referenceEquals(bB.id,e)){return bA}}return null};global.tab.StyleUtil=bf;var bg=function(e,bz,bA,bB){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bz};this.$1=bA;this.$0=1/bA;this.$2=bB};bg.__typeName='tab.Transform';bg.offset=function(e,bz){return((e===0&&bz===0)?bg.$0:new bg(e,bz,1,3))};bg.pixelToDomain=function(e,bz,bA){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bz)&&u.isApproximatelyEqual(1,bA)){return bg.$0}return new bg(e,bz,bA,1)};bg.domainToPixel=function(e,bz,bA){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bz)&&u.isApproximatelyEqual(1,bA)){return bg.$0}return new bg(e,bz,bA,2)};global.tab.Transform=bg;var bh=function(){this.$0=null;this.reset()};bh.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=bh;var bi=function(){};bi.__typeName='tab.TransformationType';global.tab.TransformationType=bi;var bj=function(){this.$2=null;h.call(this)};bj.__typeName='tab.WindowAppender';bj.enableLogging=function(e){if(ss.isNullOrUndefined(bj.$0)){bj.$0=new bj;J.addAppender(bj.$0)}bj.$0.addFilter(e||function(){return true})};bj.disableLogging=function(){if(ss.isNullOrUndefined(bj.$0)){return}J.removeAppender(bj.$0);bj.$0=null};global.tab.WindowAppender=bj;var bk=function(){};bk.__typeName='tableau.format';bk.get_isO8601DateFormat=function(){return bk.$Y};bk.get_isO8601DateTimeFormat=function(){return bk.$Z};bk.get_isO8601TimeFormat=function(){return bk.$10};bk.get_defaultLocaleStrings=function(){return bk.$W};bk.get_baseTimestamp=function(){return bk.$S};bk.formatDataValue=function(e,bz,bA,bB,bC){var bD=e.s;if(ss.isNullOrUndefined(bD)||ss.isNullOrUndefined(bD)){var bE=(('t'in e)?e.t:'');var bF=e.v;switch(bE){case's':{return bF}case'b':{return bF.toString()}case'i':{if(typeof(bF)!=='number'){bF=parseInt(bF,10)}return((bz==='d')?bk.$i(bF).toString():bk.$d(bF,bA))}case'r':{if(typeof(bF)!=='number'){bF=parseFloat(bF)}return bk.$j(bF,bE,bA,bB,bz)}case't':{return(_.isDate(bF)?bk.formatJsDateTime(bF,bA,bC,bE):bk.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bA,bC,bE))}case'd':{return(_.isDate(bF)?bk.formatJsDateTime(bF,bA,0,bE):bk.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bA,0,bE))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bD==='n'){return'null'}if(bD==='m'){return tab.Strings.SpecialMissing}return'#special:'+bD+'#'};bk.parseQuantitativeDataValue=function(e,bz,bA,bB,bC){switch(bz){case'i':{return parseInt(bk.reformatNumberToJsFormat(e,bA),10)}case'r':{return parseFloat(bk.reformatNumberToJsFormat(e,bA))}case'd':case't':{var bD=bk.formatToJSCompliantFormat(e,bA,bB,bC);return bl.OleDateFromJsDate((new Date(Date.parse(bD+' GMT'))).getTime())}}return(ss.isValue(bC)?parseFloat(bC.v):0)};bk.reformatNumberToJsFormat=function(e,bz){var bA=bz[8].replace(bk.$16,'\\$1');if(bA.indexOf('')!==-1){bA+=' '}var bB=bz[7].replace(bk.$16,'\\$1');if(bA.indexOf('.')===-1&&bB.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+bA+']','g'),'').replace(new RegExp('['+bB+']','g'),'.')};bk.formatToJSCompliantFormat=function(e,bz,bA,bB){var bC=bk.normalizeDateTimeFormat(bz,bA,bB.t);var bD=bk.tokenizeDateTime(e,bC,bA);if(ss.isValue(bD)){return bk.$3(bD,bB)}else{return''}};bk.normalizeDateTimeFormat=function(e,bz,bA){var bB=e.format;var bC=e.timeFormat;if(bB.charCodeAt(0)===42){bB=bB.substr(1)}if(bz!==0&&ss.isValue(bC)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bA==='t'){if(bC.charCodeAt(0)===42){bC=bC.substr(1)}bB=bB+' '+bC}bB=bB.replace(new RegExp('ampm','g'),'tt');bB=ss.replaceAllString(bB,'H','h');bB=bB.replace(bk.$T,function(bD){return bD.replace(new RegExp('m','gi'),'m')});bB=bB.replace(bk.$U,function(bD){return bD.replace(new RegExp('m','gi'),'n')});return bB};bk.tokenizeDateTime=function(e,bz,bA){var bB=bz;bB=bB.replace(bk.$16,'\\$1');bB=bB.replace(bk.$1a,'($1)');bB=bB.replace(bk.$12,'($1)');var bC=bz.match(new RegExp(bB));var bD=bz;bD=bD.replace(bk.$16,'\\$1');if(bA===1){bD=bD.replace(bk.$V,'(?:$1 )?$2')}else{bD=bD.replace(bk.$V,'$1(?: $2)?')}bD=bD.replace(bk.$17,'(?:$1)?');bD=bD.replace(bk.$12,'(\\d+)');bD=bD.replace(bk.$1a,'([^0-9\\s]+)?');bD=bD.replace(bk.$18,function(bH){return bH.replace(new RegExp('\\s+','g'),'\\s+')});bD=bD.replace(bk.$13,'\\s*');var bE=e.match(new RegExp(bD));if(ss.isNullOrUndefined(bE)){return null}var bF={};for(var bG=1;bG<bE.length;++bG){if(ss.isValue(bE[bG])&&bE[bG].length>0){bF[bC[bG].substr(0,1).toLowerCase()]=bE[bG]}}return bF};bk.$3=function(e,bz){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bA=(bz.v?new Date(bl.JsDateFromOleDate(bz.v)):new Date(bl.javaScriptOLEEpoch()));e['y']=bA.getUTCFullYear().toString();e['m']=(bA.getUTCMonth()+1).toString();e['d']=bA.getUTCDate().toString()}var bB=e['y'].replace(new RegExp('^(\\d{2})$'),function(bD){var bE=parseInt(bD,10);return((bE<30)?('20'+bD):('19'+bD))});var bC=e['m']+'/'+e['d']+'/'+bB;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bC+=' '+e['h']+':'+e['n']+':';bC+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bk.$R))){bC+=' am'}else if(ss.isValue(e['t'].match(bk.$14))){bC+=' pm'}}}return bC};bk.formatCustomJSDateTime=function(e,bz,bA,bB,bC,bD,bE,bF,bG){var bH=0,bI=0,bJ;if(ss.isNullOrUndefined(bG)){bG=new j}var bK=ss.isValue(bE);var bL=ss.isNullOrUndefined(bD)||bD.length===0||bD==='S';var bM=bB==='t';if(ss.isValue(bA)&&bA!==0&&bK&&bL&&bM){if(bE.charCodeAt(0)===42){bE=bE.substr(1)}if(bA===2){bz=bz+' '+bE}else{bz=bE}}if(bz==='L'){bz='*dddd, mmmm dd, yyyy'}if(bz.charCodeAt(0)===42){bz=bz.substr(1)}bJ=bz.length;var bN,bO;if(bG.fiscalYearStart>1){bN=bO=bk.dtGetFiscalYear(e,bG.fiscalYearStart)}else{bN=e.getUTCFullYear();bO=(bG.brokenWeeks?bN:bk.$a(e,bG.startOfWeek,bG.minDaysInFirstWeek))}var bP=bO.toString();var bQ=bP.substr(bP.length-2);var bR=bN.toString();var bS=bR.substr(bR.length-2);var bT=[];bT.push(new be('ampm',bk.$5(e)));bT.push(new be('tt',bk.$5(e)));bT.push(new be('yyyy',bR));bT.push(new be('yy',bS));bT.push(new be('mmmm',bk.$w(e,bF)));bT.push(new be('mmm',bk.$y(e,bF)));bT.push(new be('dddd',bk.$v(e,bF)));bT.push(new be('ddd',bk.$x(e,bF)));bT.push(new be('mm',bk.$q(e.getUTCMonth()+1,2)));bT.push(new be('m',(e.getUTCMonth()+1).toString()));bT.push(new be('dd',bk.$q(e.getUTCDate(),2)));bT.push(new be('d',e.getUTCDate().toString()));bT.push(new be('hh',bk.$q(bk.$8(e),2)));bT.push(new be('h',bk.$8(e).toString()));bT.push(new be('nn',bk.$q(e.getUTCMinutes(),2)));bT.push(new be('n',e.getUTCMinutes().toString()));bT.push(new be('ss',bk.$q(e.getUTCSeconds(),2)));bT.push(new be('s',e.getUTCSeconds().toString()));bT.push(new be('ww',bk.$9(e,bG).toString()));bT.push(new be('y',bk.$6(e).toString()));bT.push(new be('w',(e.getUTCDay()+1).toString()));bT.push(new be('q',bk.dtGetFiscalQuarter(e,bG.fiscalYearStart).toString()));var bU=[];var bV=null;var bW=false;var bX=false;var bY=-1;var bZ=false;var ca=false;var cb=false;while(bH<bJ){var cc=false;var cd=false;for(var ce=0;ce<bT.length;ce++){var cf=bT[ce];var cg=cf.get_first();var ch=cf.get_second();if(ss.referenceEquals(cg,bz.substr(bH,cg.length).toLowerCase())){cc=true;bU.push(ch);bH+=cg.length;if(ss.isValue(bV)&&cg==='mm'){bU[bU.length-1]=bk.$q(e.getUTCMinutes(),2)}if(ss.isValue(bV)&&cg==='m'){bU[bU.length-1]=e.getUTCMinutes().toString()}if(cg.charCodeAt(0)===100){bV=null}if(cg.charCodeAt(0)===104){bV=cg;bI=bU.length-1}if(ss.isValue(bV)&&(cg==='ampm'||cg==='tt')){bU[bI]=((bV==='hh')?bk.$q(bk.$7(e),2):bk.$7(e).toString())}switch(cg.charCodeAt(0)){case 121:{if(cg.length>1){cd=true;bY=bU.length-1;bZ=cg.length===4;cb=true;if(bW){if(!bG.brokenWeeks){bU[bY]=(bZ?bP:bQ);cb=false}bW=false}}break}case 119:{if(cg.length!==2){break}var ci=bW;bW=true;if(!ci&&!bX&&cb){if(!bG.brokenWeeks){bU[bY]=(bZ?bP:bQ);cb=false}bW=false}bX=false;break}case 109:case 100:case 113:{if((cg==='mm'||cg==='m')&&ss.isValue(bV)){break}bW=false;bX=true;break}}break}}if(cc){ca=cd;continue}if(bz.charCodeAt(bH)===92){bU.push(bz.substr(bH+1,1));bH+=2}else if(bz.charCodeAt(bH)===34){var cj=bz.charCodeAt(bH);var ck=++bH;while(bH<bJ&&bz.charCodeAt(bH)!==cj){bH+=1}if(ck<bJ&&bH>ck){bU.push(bz.substr(ck,bH-ck))}if(bH<bJ){bH+=1}}else if(bz.charCodeAt(bH)===91){var cl=++bH;while(cl<bz.length&&bz.charCodeAt(cl)!==93){cl++}var cm=bz.substring(bH,cl);if((cm==='y'||cm==='Y')&&ca){bU[bY]=((cm==='y')?(bZ?bR:bS):(bZ?bP:bQ));cb=false}bH=cl+1}else{bU.push(String.fromCharCode(bz.charCodeAt(bH)));bH+=1}ca=cd}bz=bU.join('');return bz};bk.mapIcuToOleFormat=function(e){return bk.$o(bk.$X,e)};bk.$o=function(e,bz){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bz)){return bz}var bA=new ss.StringBuilder;var bB=0;var bC=0;var bD=null;while(++bC<=bz.length){var bE=e[bz.substring(bB,bC)];if(ss.isValue(bE)){bD=bE}else{if(ss.isValue(bD)){bA.append(bD);--bC}else{bA.append(bz.substring(bB,bB+1))}bB=bC;bD=null}}if(ss.isValue(bD)){bA.append(bD)}return bA.toString()};bk.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};bk.formatColumnDisplayName=function(e,bz,bA){var bB=e.caption;var bC;if(!(typeof(bB)==='undefined')){bC=bB}else{var bD=e.name;bC=(bz?ss.arrayExtract(bD,1).join('.'):bk.formatQualifiedName(bD))}return(bA?bC:tab.EscapingUtil.escapeHtml(bC))};bk.formatTupleDisplayName=function(e,bz,bA){if(ss.isNullOrUndefined(e)){return' '}var bB=e.d;var bC=(ss.isValue(bB)?bB:bk.formatTupleUniqueName(e,bA));var bD=(bz?bC:bk.escapeHTML(bC));return ss.coalesce(bD,' ')};bk.formatTupleUniqueName=function(e,bz){var bA='';if(ss.isValue(e)){var bB=e.t;if(ss.isValue(bB)){for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];if(bA.length!==0){bA+=','}bA+=bk.formatDataValue(bD,bz)}}}return bA};bk.formatTupleDisplayFacet=function(e,bz,bA){var bB=bk.formatTupleFacet(e,bA);return(bz?bB:bk.escapeHTML(bB))};bk.formatTupleFacet=function(e,bz){var bA='';if(ss.isValue(e)){var bB=e.f;if(ss.isValue(bB)){for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];if(bA.length!==0){bA+=','}bA+=bk.formatDataValue(bD,bz)}}}return bA};bk.formatQualifiedName=function(e){var bz='';for(var bA=0;bA<e.length;bA++){var bB=e[bA];if(bz.length!==0){bz+='.'}bz+='['+bB.replace(new RegExp('\\]','g'),']]')+']'}return bz};bk.formatIntAuto=function(e,bz,bA,bB){var bC=bk.$1(e,bz,bA,bB);return((bk.$u(e)>=0)?bC:('-'+bC))};bk.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bk.$n(new Date(bl.JsDateFromOleDate(parseFloat(e.v))))};bk.applyDecimalPlaces=function(e,bz,bA){if(bz>=0){var bB=e-bk.$u(e);var bC=bk.$s(bB,bz);var bD=parseInt(bC,10);if(Math.abs(bD)===1){return bD}if(bz===0){return''}bC=bC.replace(new RegExp('^-?0\\.'),bA);return bC}return''};bk.formatString=function(e,bz){var bA=bz.tbM02;var bB=bz.blJ;var bC=bz.YIQ02;var bD=bB;var bE='';var bF=e.toString();switch(bA){case'cstring':{bE='s';break}case'date':{bE='d';bF=p.parsePresModelDate(e);bD=bk._convertFormatStringsToFormattingInfo(bB);break}case'datetime':{bE='t';bF=p.parsePresModelDate(e);bD=bk._convertFormatStringsToFormattingInfo(bB);break}case'integer':{bE='i';bF=parseInt(e);break}case'real':{bE='r';bF=parseFloat(e);break}case'tuple':{bE='s';bF=bk.$l(e);break}case'unknown':default:{bE=null;break}}var bG={t:bE,v:bF};var bH;switch(bC){case'dimension':{bH='d';break}case'measure':{bH='m';break}case'unknown':default:{bH=null;break}}return bk.formatDataValue(bG,bH,bD,null,0)};bk.formatSpecial=function(e,bz){if(ss.isValue(bz)){return bz}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bk.isSpecialValue=function(e){return bk.$19[e]===true};bk.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};bk.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};bk.$q=function(e,bz){var bA=e.toString();while(bA.length<bz){bA='0'+bA}return bA};bk.$n=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bk.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bk.$7=function(e){var bz=e.getUTCHours();if(bz<12){if(bz===0){bz=12}}else if(bz>12){bz-=12}return bz};bk.$8=function(e){return e.getUTCHours()};bk.$6=function(e){var bz=new Date(e.getUTCFullYear(),0,1,12);var bA=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bA-bz)/86400000)+1};bk.$4=function(e,bz){return e.getUTCFullYear()+((e.getUTCMonth()+1<bz)?-1:0)};bk.$a=function(e,bz,bA){var bB=(e.getUTCDay()+7-(bz-1))%7;var bC=-bB+(7-bA);var bD=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bC));return bD.getUTCFullYear()};bk.$9=function(e,bz){var bA;if(bz.fiscalYearStart<=1){var bB=(bz.brokenWeeks?e.getUTCFullYear():bk.$a(e,bz.startOfWeek,bz.minDaysInFirstWeek));bA=new Date(Date.UTC(bB,0,1))}else{bA=new Date(Date.UTC(bk.$4(e,bz.fiscalYearStart),bz.fiscalYearStart-1,1))}var bC=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bD=(bA.getUTCDay()+7-(bz.startOfWeek-1))%7;var bE=ss.Int32.div(bC-bA,86400000)+bD;if(bz.fiscalYearStart<=1&&7-bD<bz.minDaysInFirstWeek){bE-=7}return Math.floor(bE/7)+1};bk.dtGetFiscalYear=function(e,bz){var bA=e.getUTCFullYear();var bB=e.getUTCMonth()+1;return((bB<bz||bz===1)?0:1)+bA};bk.dtGetFiscalQuarter=function(e,bz){if(bz<1){bz=1}return Math.floor((e.getUTCMonth()+1-bz+12)%12/3)+1};bk.$v=function(e,bz){if(ss.isNullOrUndefined(bz)){return null}return bz.day[e.getUTCDay()+1]};bk.$x=function(e,bz){if(ss.isNullOrUndefined(bz)){return null}return bz.shortDay[e.getUTCDay()+1]};bk.$w=function(e,bz){if(ss.isNullOrUndefined(bz)){return null}return bz.month[e.getUTCMonth()]};bk.$y=function(e,bz){if(ss.isNullOrUndefined(bz)){return null}return bz.shortMonth[e.getUTCMonth()]};bk.formatJsDateTime=function(e,bz,bA,bB){if(ss.isNullOrUndefined(bz)){if(bA===2&&bk.$n(e)){bA=0}return bk.formatCustomJSDateTime(e,'*M/d/yyyy',bA,bB,'en_US','','h:nn:ss tt',null)}return bk.formatCustomJSDateTime(e,bz.format,bA,bB,bz.locale,bz.originalFormat,bz.timeFormat,bz.locale_formatting_strings,bz.calOpts)};bk.$g=function(e,bz,bA,bB){var bC=new Date(bl.JsDateFromOleDate(e));return bk.formatJsDateTime(bC,bz,bA,bB)};bk.$u=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bk.$1=function(e,bz,bA,bB){var bC=Math.abs(bk.$u(e));var bD='';var bE=parseInt(String.fromCharCode(bB.charCodeAt(0)),10)||3;var bF;if(bC<1E+15){bF=bk.$s(bC,0)}else{bF=bk.$r(bC,14);var bG=bF.match(bk.$15);if(ss.isValue(bG)){var bH=ss.coalesce(bG[2],'');var bI=parseInt(bG[3],10)-bH.length;var bJ='';for(var bK=0;bK<bI;bK++){bJ+='0'}bF=bG[1]+bH+bJ}}if(bz!=='t'){return bF}for(var bL=bF.length-1,bM=0;bL>=0;bL--,bM++){if(bM>=bE){bD=bA+bD;bM=0}bD=String.fromCharCode(bF.charCodeAt(bL))+bD}return bD};bk.$2=function(e,bz){switch(bz){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bk.$0=function(e,bz,bA,bB,bC){bz=bz.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bz)){return bA+bz+bB}switch(bk.$m(bC)){case'parenthesis':{return'('+bA+bz+bB+')'}case'outerSuffix':{return bA+bz+bB+'-'}case'innerPrefix':{return bA+'-'+bz+bB}case'innerSuffix':{return bA+bz+'-'+bB}case'outerPrefix':case'automatic':default:{return'-'+bA+bz+bB}}};bk.$m=function(e){var bz=parseInt(e,10);var bA=bz<0||bz>=bk.$11.length;return(bA?'automatic':bk.$11[bz])};bk.$i=function(e){return bk.$u(e)};bk.$e=function(e,bz,bA,bB,bC,bD,bE){if(bz==='i'){return bk.$b(e,bz,bA,bB,bC,bD,bE,null,null)}else{return bk.$b(e,bz,bA,bB,bC,bD,bE,0.0001,1E+15)}};bk.$f=function(e,bz,bA,bB,bC,bD){if(bz==='i'){return bk.$b(e,bz,null,bA,bB,bC,bD,null,1000000)}else{return bk.$b(e,bz,null,bA,bB,bC,bD,0.0001,1E+15)}};bk.$b=function(e,bz,bA,bB,bC,bD,bE,bF,bG){var bH;var bI;var bJ;if(ss.isValue(bA)&&ss.unbox(bA)<=0){bH=-ss.unbox(bA);bJ=bI=false}else{bH=bk.$p(e,bz,true);bJ=bI=true}var bK=Math.abs(e);if(bJ&&bK!==0&&(ss.isValue(bG)&&ss.Nullable$1.ge(bK,bG)||ss.isValue(bF)&&ss.Nullable$1.lt(bK,bF))){var bL=bk.$p(1,bz,true);var bM=bk.$c(e,bL,bB);if(bI){return bM.replace(new RegExp('['+bB+']?0+e'),'e')}}var bN=e-bk.$u(e);var bO=bk.formatIntAuto(e,bC,bD,bE);var bP='';bP=bk.$s(bN,bH);if(Math.abs(parseFloat(bP))>=1){bO=bk.formatIntAuto(bk.$u(e+parseFloat(bP)),bC,bD,bE);bP=bP.replace(new RegExp('1'),'0')}if(!(bP.indexOf('.')!==-1)){return bO}if(bI){bP=bP.replace(new RegExp('0+$'),'');if(ss.endsWithString(bP,'.')){return bO}}bP=bP.replace(new RegExp('^-?0\\.'),bB);if(e<0&&bO==='0'&&!(new RegExp('^\\.0+$')).test(bP)){bO='-0'}return bO+bP};bk.$p=function(e,bz,bA){var bB=((bz==='i')?6:15);var bC=Math.max(0,bB-Math.abs(bk.$u(e)).toString().length);if(bA){return Math.min(bC,9)}else{return bC}};bk.$c=function(e,bz,bA){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bz<0||isNaN(bz)){bz=0}if(bz>15){bz=15}var bB=bk.$r(e,bz);var bC=bB.indexOf(String.fromCharCode(101));var bD=bB.substr(bC);if(bD.length<4){bB=bB.substr(0,bC+2)+'0'+bB.substr(bC+2)}bB=bB.replace(new RegExp('\\.'),bA);return bB};bk.$r=function(e,bz){return bk.$t(e,bz,15,function(bA,bB){return bA.toExponential(bB)})};bk.$s=function(e,bz){return bk.$t(e,bz,bk.$p(e,'r',false),function(bA,bB){return bA.toFixed(bB)})};bk.$t=function(e,bz,bA,bB){bA=Math.max(bA-1,bz);var bC=bB(e,bA);var bD=bC.indexOf(String.fromCharCode(101));if(bD===-1){bD=bC.length}var bE=bD-(bA-bz);var bF=bC.charCodeAt(bE);if(bC.charCodeAt(bE-1)===46){bE--}bC=bC.substr(0,bE)+bC.substr(bD,bC.length);if(bF>=53&&bF<=57){var bG;do{bE--;bG=bC.charCodeAt(bE);if(bG===46||bG===45){bG=48;continue}bG++;if(bG>57){bG=48}bC=bC.substr(0,bE)+String.fromCharCode(bG)+bC.substr(bE+1,bC.length)}while(bG===48&&bE>0);if(bG===48&&bE===0){bC=bB(e,bz)}}return bC};bk.$h=function(e,bz,bA,bB){if(bA===-1){return bk.$b(e*100,bz,null,bB[7],bB[2],bB[8],bB[9],null,null)+'%'}else{return bk.$k(e*100,bA,bB)+'%'}};bk.$j=function(e,bz,bA,bB,bC){if(ss.isNullOrUndefined(bA)||bA.length!==10){return bk.$e(e,bz,bB,'.',((bC==='d')?null:'t'),',','3;0')}var bD=parseInt(bA[1],10);switch(bA[0]){case'':{if(bD===-1){return bk.$e(e,bz,null,bA[7],bA[2],bA[8],bA[9])}else{return bk.$e(e,bz,-bD,bA[7],bA[2],bA[8],bA[9])}}case'N':{return bk.$f(e,bz,bA[7],bA[2],bA[8],bA[9])}case'e':{return bk.$c(e,bD,bA[7])}case'p':{return bk.$h(e,bz,bD,bA)}default:{return bk.$k(e,bD,bA)}}};bk.$k=function(e,bz,bA){e=bk.$2(e,bA[5]);var bB=bA[5]+bA[4];var bC=bk.applyDecimalPlaces(e,bz,bA[7]);if(typeof(bC)==='number'){e+=bC;bC=bk.applyDecimalPlaces(0,bz,bA[7])}var bD=bk.$1(e,bA[2],bA[8],bA[9])+bC;return bk.$0(e,bD,bA[3],bB,bA[6])};bk.$d=function(e,bz){return bk.$j(bk.$u(e),'i',bz,null,null)};bk._convertFormatStringsToFormattingInfo=function(e){var bz={};bz.format=e[0];bz.locale=e[1];bz.originalFormat=e[2];bz.timeFormat=e[3];bz.calOpts=new j;bz.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bz.calOpts.fiscalYearStart)){bz.calOpts.fiscalYearStart=0}bz.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bz.calOpts.startOfWeek)){bz.calOpts.startOfWeek=1}bz.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bz.calOpts.minDaysInFirstWeek)){bz.calOpts.minDaysInFirstWeek=1}bz.calOpts.brokenWeeks=e[7]==='1';return bz};bk.$l=function(e){var bz=44;var bA=40;var bB=41;var bC=39;var bD=92;var bE=[];e=e.trim();if(e.length===0){return''}var bF=e.length;var bG=0;if(bG>=bF||e.charCodeAt(bG)!==40){return''}++bG;while(bG<bF){var bH=bG;var bI=false;var bJ=0;while(bH<bF&&!bI){var bK=e.charCodeAt(bH);if(bJ===0&&(bK===44||bK===41)){bI=true;break}else if(bK===92){bH+=2}else{if(bK===39){bJ=1-bJ}++bH}}if(!bI){return''}var bL=e.substring(bG+1,bH-1);bL=ss.replaceAllString(bL,'\\\\','\\');bL=ss.replaceAllString(bL,'\\"','"');bL=ss.replaceAllString(bL,'\\,',',');bL=ss.replaceAllString(bL,'\\(','(');bL=ss.replaceAllString(bL,'\\)',')');bE.push(bL);bG=bH;++bG}return bE.join(', ')};global.tableau.format=bk;var bl=function(){};bl.__typeName='tableau.types';bl.$0=function(){return P.lazyInitStaticField(bl,'millisecondsPerDay',function(){return 86400000})};bl.javaScriptOLEEpoch=function(){return P.lazyInitStaticField(bl,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bl.JsDateFromOleDate=function(e){var bz=((e<0)?Math.ceil(e):Math.floor(e));var bA=Math.round(Math.abs(e-bz)*bl.$0())+bz*bl.$0();return bA+bl.javaScriptOLEEpoch()};bl.OleDateFromJsDate=function(e){var bz=new Date(e);var bA=Date.UTC(bz.getUTCFullYear(),bz.getUTCMonth(),bz.getUTCDate());var bB=ss.Int32.div(bA-bl.javaScriptOLEEpoch(),bl.$0());var bC=(e-bA)/bl.$0();return bB+((bB<0)?-1:1)*bC};bl.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bl.isMetadata=function(e){return e.column_class===0};bl.isOm=function(e){return bl.isO(e)&&bl.isMetadata(e)};bl.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bl;var bm=function(){};bm.__typeName='tableau.util';bm.assetUrl=function(e,bz){var bA=(bz?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var bB=bA.length-1;if(bA.charCodeAt(bB)===47){return bA.substring(0,bB-1)+e}else{return bA+e}}else{return bA+'/'+e}};bm.isPrintableNonNumericKeyPressed=function(e){return bm.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bm.isPrintableNonNumericInput=function(e,bz,bA){var bB=e>=91&&e<=105;var bC=e>=112&&e<=123;var bD=e<47;var bE=!bz&&!bA&&(e>=48&&e<=57);return!bB&&!bD&&!bE&&!bC};bm.preventNonNumericInput=function(e){if(bm.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bm.inputWouldOverflowMaxLength=function(e,bz,bA){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bz)){bz=''}if(e.length===1){var bB=e.charCodeAt(0);if(bB<=8||bB===127||bB>=14&&bB<=31||bB===11||bB===12){return false}}return e.length+bz.length>bA};bm.maxLengthEnforcingBeforeInputHandler=function(e){return function(bz){if(bm.inputWouldOverflowMaxLength(bz.data,bz.target.value,e)){bz.preventDefault();bz.stopPropagation()}}};bm.isElementVisible=function(e){return $(e).css('display')!=='none'};bm.findElementByTagName=function(e,bz,bA){e=e||s.get_documentBody();if(bm.isNodeMatch(e,bz,bA)){return e}var bB=e.getElementsByTagName(bz);var bC=bB.length;for(var bD=0;bD<bC;bD+=1){if(bm.isNodeMatch(bB[bD],bz,bA)){return bB[bD]}}return null};bm.findDirectParentByClassName=function(e,bz,bA){if(ss.isNullOrUndefined(e)||P.isNullOrEmpty$1(bz)){return null}bA=bA||document.body;var bB=e.parentNode;while(!ss.isNullOrUndefined(bB)&&!ss.referenceEquals(bB,bA)){if(!P.isNullOrEmpty$1(bB.className)){if(ss.referenceEquals(bB.className.toLowerCase(),bz.toLowerCase())){return bB}bB=bB.parentNode}}return null};bm.isNodeMatch=function(e,bz,bA){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bz.toLowerCase())){return false}if(ss.isNullOrUndefined(bA)){return true}var bB=ss.getEnumerator(Object.keys(bA));try{while(bB.moveNext()){var bC=bB.current();if(bC in bA&&!ss.referenceEquals(e[bC],bA[bC])){return false}}}finally{bB.dispose()}return true};bm.binarySearch=function(e){return function(bz,bA,bB,bC,bD){var bE=(P.isValidIndex(ss.coalesce(bB,-1),bA)?ss.unbox(bB):0);var bF=(P.isValidIndex(ss.coalesce(bC,-1),bA)?ss.unbox(bC):(bA.length-1));if(ss.isNullOrUndefined(bD)){bD=bm.$0(e)}var bG={};while(bE<=bF){var bH=Math.floor(bE+(bF-bE)/2);var bI=bD(bA[bH],bz);if(bI===0){bG.found=true;bG.index=bH;return bG}else if(bI<0){bE=bH+1}else{bF=bH-1}}bG.found=false;bG.index=bE;return bG}};bm.$0=function(e){return function(bz,bA){if(bz===bA){return 0}else if(bz>bA){return-1}else{return 1}}};bm.transform=function(e,bz){bz=bz||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bz.transformOrigin)){bz.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bz.scale!==1){bz.scaleX=bz.scaleY=bz.scale}var bA;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bA=['translate3d(',bz.translateX.toString(),'px,',bz.translateY.toString(),'px, 0px)'].join('')}else{bA=['translate(',bz.translateX.toString(),'px,',bz.translateY.toString(),'px)'].join('')}bA+=[' scale(',bz.scaleX.toString(),', ',bz.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bz.time+'ms';e.style['transform']=bA;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bz.time+'ms';e.style['webkitTransform']=bA;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bz.time+'ms';e.style['MozTransform']=bA;if(ss.isValue(bz.transformOrigin)){var bB=bz.transformOrigin.x+'px '+bz.transformOrigin.y+'px';e.style['transformOrigin']=bB;e.style['webkitTransformOrigin']=bB;e.style['MozTransformOrigin']=bB}};bm.defer=function(e){if(bm.bIsAnimationShown===false){bm.$1.push(e)}else{e()}};bm.performDeferredCalls=function(){var e=bm.$1.length;for(var bz=0;bz<e;bz++){window.setTimeout(bm.$1[bz],bz)}ss.clear(bm.$1);bm.bIsAnimationShown=true};bm.parseUri=function(e){var bz=document.createElement('a');var bA=bz;if(ss.isNullOrUndefined(e)){return null}bz.href=e;var bB=ss.mkdict(['href',e,'host',bA.host,'hostname',bA.hostname,'pathname',bA.pathname,'port',bA.port,'protocol',bA.protocol,'search',bA.search]);return bB};bm.setupTitleEllipsis=function(e){var bz=e.find('div');var bA=bz.children('span');var bB=null;var bC=u.roundToInt(bz.width());var bD=10;bC-=bD;for(var bE=0;bE<bA.length;bE++){var bF=bA[bE];var bG=u.roundToInt($(bF).width());bB=bF;if(bG>bC){break}bC-=bG}if(ss.isValue(bB)){bz.css('font-family',bB.style.fontFamily);bz.css('font-size',bB.style.fontSize);bz.css('line-height',bB.style.lineHeight);bz.css('color',bB.style.color);bz.css('font-weight',bB.style.fontWeight);bz.css('font-style',bB.style.fontStyle);bz.css('text-decoration',bB.style.textDecoration)}bz.css('text-overflow','ellipsis');bz.css('overflow','hidden')};global.tableau.util=bm;var bn=function(){};bn.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bn;var bo=function(){};bo.__typeName='tableau.types.CFType';global.tableau.types.CFType=bo;var bp=function(){};bp.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bp;var bq=function(){};bq.__typeName='tableau.types.DataType';global.tableau.types.DataType=bq;var br=function(){};br.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=br;var bs=function(){};bs.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bs;var bt=function(){};bt.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bt;var bu=function(){};bu.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=bu;var bv=function(){};bv.__typeName='tableau.types.QFInclude';bv.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bv;var bw=function(){};bw.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bw;var bx=function(){};bx.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bx;var by=function(e){this.$3=null;this.$4=false;this.$3=e;if(i.isTouch){this.$3.addEventListener('touchstart'.toString(),ss.mkdel(this,this.handleEvent),false)}};by.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=by;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initInterface(E,a,{addFilter:null,removeFilter:null,clearFilters:null,log:null});ss.initClass(h,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(e){this.$0.push(e)},removeFilter:function(e){ss.remove(this.$0,e)},log:function(e,bz,bA,bB){},logInternal:null,formatMessage:function(e,bz){if(ss.isNullOrUndefined(bz)||bz.length===0){return e}var bA=new ss.StringBuilder;var bB=0;var bC=false;for(var bD=0;bD<e.length;bD++){var bE=e.charCodeAt(bD);if(bE===37){if(bC){bA.append('%');bC=false}else{bC=true}}else{if(bC){switch(bE){case 98:case 115:case 100:case 110:case 111:{bA.append(((bz.length>bB)?bz[bB]:''));bB++;break}}}else{bA.appendChar(bE)}bC=false}}return bA.toString()}},null,[E]);ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(l,a,{});ss.initClass(m,a,{logInternal:function(e,bz,bA,bB){if(typeof(window.console)!=='object'){return}bA=e.get_name()+': '+bA;var bC=[];if(i.get_consoleLogFormating()){var bD=bC.concat(bA);bC=bD.concat.apply(bD,bB)}else{bC=bC.concat(this.formatMessage(bA,bB))}try{Function.prototype.apply.call(this.$1(bz),window.console,bC)}catch(bE){}},$1:function(e){var bz=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=bz.log;this.$2[(4).toString()]=bz.error;this.$2[(2).toString()]=bz.info;this.$2[(3).toString()]=bz.warn}var bA=this.$2[e.toString()];if(ss.isNullOrUndefined(bA)){bA=bz.log}return bA}},h,[E]);ss.initClass(n,a,{});ss.initEnum(o,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(p,a,{});ss.initClass(q,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=P.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(r,a,{add:function(e){this.$0.push(new k(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bz=this.$0[e];P.dispose$1(bz)}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initEnum(x,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,offlineMode:41,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,javaScriptHighlighting:45,debugTools:46,commentingLiveUpdate:47});ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initClass(B,a,{});ss.initInterface(C,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(D,a,{showAlertDialog:null,showConfirmationDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null});ss.initClass(F,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initClass(H,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bz=this.has(e);delete this.store[e];this.updateSize();return bz},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bz=ss.getEnumerator(Object.keys(this.store));try{while(bz.moveNext()){var bA=bz.current();e(this.store[bA])}}finally{bz.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(G,a,{add:function(e){return null},set:function(e,bz){this.store[e]=bz;this.updateSize();return this},get:function(e){return this.store[e]}},H);ss.initClass(I,a,{});ss.initClass(J,a,{get_name:function(){return this.$1},debug:function(e,bz){},info:function(e,bz){},warn:function(e,bz){},error:function(e,bz){},log:function(e,bz,bA){},$0:function(e,bz,bA){try{var bB=J.$2();for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];bD.log(this,e,bz,bA)}}catch(bE){}}});ss.initEnum(K,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(L,a,{},ss.Exception);L.$ctor1.prototype=L.$ctor2.prototype=L.prototype;ss.initClass(M,a,{});ss.initClass(N,a,{});ss.initClass(O,a,{logEvent:function(e){if(this.$9.length>=400){this.$9.shift()}this.$9.push(e);this.$5()},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$5:function(e){if(ss.isValue(this.$8)){return}e=ss.coalesce(e,250);this.$8=window.setTimeout(ss.mkdel(this,this.$3),e)},$3:function(){this.$8=null;var e;if(this.$9.length>20){e=this.$9.slice(0,20);this.$9=this.$9.slice(20);this.$5(5)}else{e=this.$9;this.$9=[]}this.$1(e);if(tsConfig.metricsReportingEnabled){try{this.$2(e)}catch(bz){}}},$1:function(e){this.$a=this.$a||J.lazyGetLogger(O);for(var bz=0;bz<e.length;bz++){var bA=e[bz]}},$2:function(e){var bz=1500;var bA=e.length;var bB='';if(bA===0){return}for(var bC=0;bC<bA;bC++){var bD=e[bC];if(bD.eventType==='wps'){continue}var bE=O.$1(bD,false);if(bB.length>0&&bB.length+bE.length>bz){this.$4(tsConfig.metricsServerHostname,bB);bB=''}else if(bB.length>0){bB+='&'}bB+=bE}if(bB.length>0){this.$4(tsConfig.metricsServerHostname,bB)}if(ss.isNullOrUndefined(this.$6)){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}},$4:function(e,bz){var bA=1;if(P.isNullOrEmpty$1(e)||P.isNullOrEmpty$1(bz)){return}var bB=document.createElement('img');var bC='v='+bA.toString();var bD=e;bD+='?'+bC+'&'+bz;bB.src=bD;this.$7.push(bB);if(this.$7.length>100){this.$7.shift()}},$0:function(){try{this.$6=null;var e=0;while(e<this.$7.length){if(this.$7[e].complete){this.$7.splice(e,1)}else{e++}}if(this.$7.length>0){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bz){}}});ss.initClass(P,a,{});ss.initClass(Q,a,{});ss.initClass(R,a,{});ss.initEnum(S,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initClass(V,a,{});ss.initClass(W,a,{});ss.initClass(X,a,{});ss.initClass(Y,a,{});ss.initClass(Z,a,{});ss.initClass(ba,a,{});ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{logInternal:function(bz,bA,bB,bC){bB=this.formatMessage(ss.replaceAllString(bB,'\\n','<br />'),bC);if(bA>2){try{throw new ss.Exception('Logged('+J.loggerLevelNames[bA]+', from '+bz.get_name()+'): '+bB)}catch(bD){var e=ss.Exception.wrap(bD);v.report(e,false)}}}},h,[E]);ss.initClass(be,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bf,a,{});ss.initClass(bg,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){if(this.$2===0){var bz=Math.floor(e.minX);var bA=Math.floor(e.minY);var bB=Math.ceil(e.maxX);var bC=Math.ceil(e.maxY);return{x:bz,y:bA,w:bB-bz,h:bC-bA}}if(this.$2===2){var bD=Math.floor(e.minX*this.$1+this.$3.x);var bE=Math.floor(e.minY*this.$1+this.$3.y);var bF=Math.ceil(e.maxX*this.$1+this.$3.x);var bG=Math.ceil(e.maxY*this.$1+this.$3.y);return{x:bD,y:bE,w:bF-bD,h:bG-bE}}return null},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bz=(e.center.x-this.$3.x)*this.$0;var bA=(e.center.y-this.$3.y)*this.$0;return{center:{x:bz,y:bA},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bz=e.length;var bA=new Array(bz);for(var bB=0;bB<bz;bB=bB+2){bA[bB]=(e[bB]-this.$3.x)*this.$0;bA[bB+1]=(e[bB+1]-this.$3.y)*this.$0}return bA}default:{return null}}}});ss.initClass(bh,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bz=Math.cos(e);var bA=Math.sin(e);var bB=this.$0[0]*bz+this.$0[2]*bA;var bC=this.$0[1]*bz+this.$0[3]*bA;var bD=this.$0[0]*-bA+this.$0[2]*bz;var bE=this.$0[1]*-bA+this.$0[3]*bz;this.$0[0]=bB;this.$0[1]=bC;this.$0[2]=bD;this.$0[3]=bE},translate:function(e,bz){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bz;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bz},scale:function(e,bz){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bz;this.$0[3]=this.$0[3]*bz},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new bh;e.setTransform(this);return e}});ss.initEnum(bi,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bj,a,{logInternal:function(e,bz,bA,bB){if(ss.isNullOrUndefined(this.$2)){this.$1()}bA=this.formatMessage(ss.replaceAllString(bA,'\\n','<br />'),bB);this.$2.html(bA)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},h,[E]);ss.initClass(bk,a,{});ss.initClass(bl,a,{});ss.initClass(bm,a,{});ss.initClass(bn,a,{});ss.initClass(bo,a,{});ss.initClass(bp,a,{});ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bs,a,{});ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initClass(bx,a,{});ss.initClass(by,a,{handleEvent:function(e){var bz=e;switch(e.type){case'touchstart':{this.$2(bz);break}case'touchmove':{this.$1(bz);break}case'touchend':{this.$0(bz);break}}},$2:function(e){e.preventDefault();this.$4=false;this.$3.addEventListener('touchmove'.toString(),ss.mkdel(this,this.handleEvent),false);this.$3.addEventListener('touchend'.toString(),ss.mkdel(this,this.handleEvent),false)},$1:function(e){this.$4=true},$0:function(e){this.$3.removeEventListener('touchmove',ss.mkdel(this,this.handleEvent),false);this.$3.removeEventListener('touchend',ss.mkdel(this,this.handleEvent),false);if(!this.$4){var bz=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bz.nodeType===3){bz=bz.parentNode}var bA=document.createEvent('MouseEvents');bA['initEvent']('click',true,true);bz.dispatchEvent(bA)}}});(function(){i.$H=false;i.$n='fonts'in document;i.$F=false;i.$p=false;i.$g=false;i.$h='transform';i.$i='transition';i.$J=false;i.$f=false;i.$C=false;i.$t=false;i.$w=false;i.$u=false;i.$q=0;i.$o=0;i.$G=0;i.$r=0;i.$v=false;i.$B=false;i.$y=false;i.$D=false;i.$A=false;i.$x=false;i.$s=false;i.$z=false;i.$E=false;i.$m=1;i.$e=1;i.$j=false;i.$k=false;i.$l=false;i.$K=false;i.$I=false;i.isTouch=false;i.webPerformanceApiSupported=false;i.$1();$(i.detectBrowserSupport);i.$d(H).call(null,'Set');i.$d(G).call(null,'Map');i.isTouch='ontouchend'in document})();(function(){J.global=J.getLoggerWithName('global');J.loggerLevelNames=[];J.$5=':log';J.loggerLevelNames[0]='all';J.loggerLevelNames[1]='debug';J.loggerLevelNames[2]='info';J.loggerLevelNames[3]='warn';J.loggerLevelNames[4]='error';J.loggerLevelNames[5]='off'})();(function(){u.epsilon=Math.pow(2,-52);u.$4=1+u.epsilon;u.$5=u.$4;u.$3=1/u.$4;u.$1=9.22337203685477E+18;u.$2=-9.22337203685477E+18})();(function(){m.$0=null})();(function(){bl.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bl.ExportDialogType=e})();(function(){p.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();p.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();p.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();p.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();p.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();p.$5=86400000})();(function(){R.suppressAlerts=false})();(function(){s.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);s.$8=1})();(function(){v.$k='?';v.$t=false;v.$s=true;v.$l=true;v.$m=false;v.$o=null;v.$n=null;v.$i={};v.$r=[];v.$q=false;v.$p=null;v.$h=new RegExp('^(eval@)?(\\[native code\\])?$');v.$e=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');v.$j=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');v.$f=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');v.$g=new RegExp('[\\(\\)]','g')})();(function(){w.$0=null})();(function(){y.$9=null;y.$4=null;y.$6=null;y.$8=null;y.$b=null;y.$c=null;y.$3=null;y.$5=null;y.$7=null;y.$a=null;{y.$9=J.lazyGetLogger(y);y.$4=[];y.$6=[];y.$8=[];y.$b=[];y.$c={};y.$3={};y.$5={};y.$7={};y.$a={}}y.$1(':newfilter',4,false);y.$1(':fieldconversion',5,true);y.$1(':newtoolbar',9,false);y.$1(':selectiontoolsmobile',23,true);y.$1(':mapssearchdebugalwaysshow',28,false);y.$1(':useleafletforgeosearch',19,false);y.$1(':aodragtoviz',31,false);y.$1(':gotomylocationbutton',32,true);y.$1(':designtint',33,false);y.$1(':newqfwolf',35,false);y.$1(':appearanceofblendingicons',36,true);y.$1(':outlinestampedshapes',38,false);y.$1(':catqfdropdown',40,false);y.$1(':offlinemode',41,false);y.$1(':opaquecanvas',42,true);y.$1(':logstorypointcachehits',43,false);y.$1(':debugtools',46,false);y.$1(':JavaScriptHighlighting',45,false);y.$1(':commentingliveupdate',47,false);y.$2(':buttondelay',11);y.$2(':hoverdelay',12);y.$2(':maxtooltipwhitespace',18);y.$2(':datahlmaxitems',44);y.$2(':progloaddelay',39);y.$0()})();(function(){z.$5=null;z.$4=null;z.$3=null;z.$7=null;z.$6=null;z.$1$1=null;z.$5=z.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);z.$4=z.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);z.$3=z.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);z.$7=z.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);z.$6=z.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(z.$6)&&z.get_fullscreenEnabled()){document.addEventListener(z.$2().toString(),z.$1)}})();(function(){B.httpUnauthorizedCode=401;B.httpServiceUnavailable=503;B.httpInternalServerError=500})();(function(){M.touchEventSamplingRate=6;M.defaultWheelDeltaIncrement=120;M.minimumZoomLevelIncrement=0.25;M.maxWheelDelta=360;M.$1=480;M.$0=512})();(function(){O.$5=100;O.$6=400;O.$7=20;O.$4=250;O.$8=5;O.$3=250;O.$a=null;O.$9=null;O.$b=null;O.$a={};O.$a['d']='DESC';O.$a['t']='TIME';O.$a['id']='ID';O.$a['sid']='SESSION_ID';O.$a['e']='ELAPSED';O.$a['v']='VALS';O.$a['wb']='WORKBOOK';O.$a['s']='SHEET_NAME';O.$a['p']='PROPS';O.$a['m']='MOBILE';O.$9={};O.$9['nav']='Navigation';O.$9['wps']='ProfileStart';O.$9['wp']='ProfileEnd';O.$9['gen']='Generic';O.$9['init']='SessionInit'})();(function(){Q.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];Q.$0=null;var e=window;var bz=function(bA){_.defer(Q.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bz,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bz)}})();(function(){bd.$0=null})();(function(){bf.defaultCustomStyleElementId='tab-appendedCustomStyle';bf.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bf.$3={}})();(function(){bg.$0=null;bg.$0=new bg(0,0,1,0)})();(function(){bj.$0=null})();(function(){bk.specialManyValues='%many-values%';bk.specialNull='%null%';bk.specialError='%error%';bk.specialRagged='%ragged%';bk.specialSkipped='%skipped%';bk.specialMissing='%missing%';bk.specialAll='%all%';bk.specialNoAccess='%no-access%';bk.specialWildcard='%wildcard%';bk.millisPerDay=86400000;bk.$C=15;bk.$B=6;bk.$E=1E+15;bk.$D=1000000;bk.$F=0.0001;bk.$P=9;bk.$z=46;bk.$G=45;bk.$Q=48;bk.$A=53;bk.$O=57;bk.$M=0;bk.$H=1;bk.nfUseSeparators=2;bk.$K=3;bk.$L=4;bk.$N=5;bk.$J=6;bk.$I=7;bk.nfGroupSeparatorChars=8;bk.nfGroupingSpec=9;bk.$11=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];bk.$Y={};bk.$Z={};bk.$10={};bk.$16=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bk.$V=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bk.$17=new RegExp('(\\\\[:.]s+)');bk.$1a=new RegExp('(t+)','g');bk.$12=new RegExp('([yYmMdDhnswq]+)','g');bk.$18=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bk.$13=new RegExp('\\s','g');bk.$T=new RegExp('(^|d)([^h]*)(h|$)','gi');bk.$U=new RegExp('h([^d]*)(d|$)','gi');bk.$R=new RegExp('^(a|a\\.?m\\.?||\\.?\\.?|)$','i');bk.$14=new RegExp('^(p|p\\.?m\\.?||\\.?\\.?|)$','i');bk.$15=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bk.$X=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bk.$W={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bk.$S=ss.mkdict(['t','t','v',bl.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);bk.$19=null;bk.$Y.format='yyyy-mm-dd';bk.$Y.timeFormat='hh:nn';bk.$Z.format='yyyy-mm-ddThh:nn';bk.$10.format='hh:nn';bk.$19=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){bm.$1=[];bm.bIsAnimationShown=false;if(i.get_isMac()){$(document).addClass('tb_mac')}})();(function(){bn.CFS_ALL='all';bn.CFS_SINGLE='single-select';bn.CFS_MULTIPLE='multi-select'})();(function(){bo.CFT_INCLUSIVE='include';bo.CFT_EXCLUSIVE='exclude'})();(function(){bp.DS_NORMAL=null;bp.DS_NULL='n';bp.DS_ALL='a';bp.DS_WILDCARD='w';bp.DS_SKIPPED='s';bp.DS_NOACCESS='p';bp.DS_RAGGED='r';bp.DS_ERROR='e';bp.DS_MISSING='m'})();(function(){br.FT_QUANTITATIVE='Q';br.FT_ORDINAL='O';br.FT_NOMINAL='N';br.FT_UNKNOWN=null})();(function(){bs.HFS_SINGLE='single-select';bs.HFS_MULTIPLE='multi-select'})();(function(){bt.QFD_ALL='all';bt.QFD_CONTEXT='context';bt.QFD_RELEVANT='relevant'})();(function(){bu.QFF_FIXED_START='start';bu.QFF_FIXED_END='end'})();(function(){bv.QFI_ALL='include-all';bv.QFI_NON_NULL='include-non-null';bv.QFI_NULL_ONLY='include-null';bv.QFI_RANGE='include-range';bv.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bw.table='t';bw.legend='l';bw.filter='f';bw.currentPage='p';bw.title='i';bw.text='x';bw.bitmap='b';bw.web='w';bw.draw='d';bw.textBlock='k';bw.layoutContainer='c';bw.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,gZ,ha,hb){bh.call(this,'none',e,gZ,ha,hb)};b.__typeName='tab.$0';var c=function(e){this.$7=null;this.$5=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$7=e;this.$5=0;this.$6=[]};c.__typeName='tab.$1';var d=function(){};d.__typeName='tab.$10';d.isInstanceOfType=function(){return true};var f=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};f.__typeName='tab.$11';f.$1=function(e,gZ){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=gZ};f.$0=function(e,gZ){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=gZ};var g=function(e,gZ){var ha=function(hb,hc){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(gZ);this.$0=hb;this.$1=hc};ss.registerGenericClassInstance(ha,g,[e,gZ],{},function(){return null},function(){return[]});return ha};g.__typeName='tab.$12';ss.initGenericClass(g,a,2);var h=function(e){var gZ=function(ha){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=ha};ss.registerGenericClassInstance(gZ,h,[e],{},function(){return null},function(){return[]});return gZ};h.__typeName='tab.$13';ss.initGenericClass(h,a,1);var i=function(e){var gZ=function(){this.$2=null;this.$3=null};ss.registerGenericClassInstance(gZ,i,[e],{$0:function(ha){var hb=this.$2;this.$2=ha;ha.$1=hb;ha.$2=null;if(ss.isValue(hb)){hb.$2=ha}if(ss.isNullOrUndefined(this.$3)){this.$3=ha}},$1:function(ha){if(ss.referenceEquals(this.$2,ha)){this.$2=ha.$1}if(ss.referenceEquals(this.$3,ha)){this.$3=ha.$2}if(ss.isValue(ha.$2)){ha.$2.$1=ha.$1}if(ss.isValue(ha.$1)){ha.$1.$2=ha.$2}}},function(){return null},function(){return[]});return gZ};i.__typeName='tab.$14';ss.initGenericClass(i,a,1);var j=function(e){dX.call(this,e,new ez('eJH'.toString()))};j.__typeName='tab.$15';var k=function(e){dX.call(this,e,new ez('VGH'.toString(),1))};k.__typeName='tab.$16';var l=function(e){dX.call(this,e,new ez('xl_'.toString(),1))};l.__typeName='tab.$17';var m=function(){this.$4=null;this.$4=[]};m.__typeName='tab.$18';var n=function(e,gZ){this.$3=null;this.$2=null;this.$3=e;this.$2=gZ};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(){};p.__typeName='tab.$20';p.$0=function(e,gZ,ha){var hb=new Set;for(var hc=0;hc<gZ.length;hc++){var hd=gZ[hc];if(ss.contains(hd.QGQ,e)&&p.$1(hd,ha)){tab.SetUtilities.addAll(Object).call(null,hb,hd.kDm)}}return hb};p.$1=function(e,gZ){var ha=bw.deserialize(fF.create(e.Yb$).get_simpleCommand(),true);if(ss.isNullOrUndefined(gZ)||P.isSpecialDateTimeHighlighting(ha)){return true}var hb=P.getHighlightFieldCaptions(ha,gZ.get_highlightCaptions(),gZ.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty(hb)};var q=function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e};q.__typeName='tab.$21';q.$0=function(e,gZ){var ha=new Array(e.length);for(var hb=0;hb<e.length;++hb){ha[hb]={item1:e[hb],item2:gZ[hb]}}ha.sort(function(hc,hd){return hc.item1-hd.item1});return ha};q.$1=function(e,gZ){var ha;if(gZ.length===1||ss.isNullOrUndefined(e)){ha=gZ}else{ha=_.sortBy(gZ,function(hb,hc){return e[hc]})}return ha};var r=function(){};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';s.$e=function(){return tab.Logger.lazyGetLogger(eZ)};s.$2=function(e,gZ,ha,hb,hc){var hd=s.$4(hb,hc);var he=new q(hc);if(ss.isNullOrUndefined(hd)){return he}var hf=new Array(hc.length);for(var hg=0;hg<hf.length;++hg){var hh=hb.getColumnIndex(hc[hg]);hf[hg]=hh}var hi={};for(var hj=0;hj<ha.length;hj++){var hk=ha[hj];var hl=e.getItemNamesFromObjectId(hk);if(ss.isNullOrUndefined(hl)){continue}var hm=true;var hn=[];for(var ho=0;ho<hl.length;ho++){var hp=gZ[ho];var hq=hd[hp];if(ss.isNullOrUndefined(hq)){continue}hi[hp]=hi[hp]||gv.buildAliasReverseLookup(hb,hq,K.get_instance().get_dataDictionary());var hr=hi[hp];var hs=hr[hl[ho]];if(!ss.isValue(hs)){hm=false;break}hn.push(hs)}if(hm){he.$0(hn,hf)}}return he};s.$1=function(e,gZ){var ha={};for(var hb=0;hb<gZ.length;hb++){var hc=gZ[hb];var hd=new Array(hc.ZHX.length);for(var he=0;he<hd.length;he++){var hf=e.getVizDataFieldByIndex(hc.ZHX[he]);hd[he]=hf.get_fieldName()}var hg=hd.join(';');var hh;if(ss.keyExists(ha,hg)){hh=ha[hg]}else{hh=new q(hd);ha[hg]=hh}hh.$0(hc.wwF,hc.ZHX)}return _.map(ha,function(hi,hj){return hi})};s.$c=function(e,gZ){var ha=[];for(var hb=0;hb<gZ.length;hb++){var hc=gZ[hb];if(ss.isNullOrUndefined(hc.ZHX)){continue}for(var hd=0;hd<hc.ZHX.length;hd++){var he=hc.ZHX[hd];var hf=e.get_vizDataModel().getVizDataFieldByIndex(he);var hg=hf.get_fieldCaption();if(!ss.contains(ha,hg)){ha.push(hg)}}}return Array.prototype.slice.call(ha)};s.$3=function(e,gZ,ha){var hb=new q(ha);var hc=s.$4(e,ha);if(ss.isNullOrUndefined(hc)){return hb}for(var hd=0;hd<gZ.length;hd++){var he=gZ[hd];var hf=[];var hg=[];for(var hh=0;hh<ha.length;hh++){var hi=ha[hh];var hj=hc[hi];var hk=hj.getAliasIndex(he);hf.push(hk);hg.push(e.getColumnIndex(hi))}if(hf.length!==ha.length){}hb.$0(hf,hg)}return hb};s.$0=function(e,gZ,ha,hb){var hc=[];var hd={};var he=false;e.forEachVizDataField(function(hx,hy){if(s.$d(hx)){var hz=hx.get_aggType()||'none';hd[hz]=hy;if(hz==='none'){he=true}}return true});var hf=true;var hg=null;gZ.forEachVizDataField(function(hx,hy){if(s.$d(hx)){if(ss.isNullOrUndefined(hg)){hg=hx.get_baseColumnName()}else if(!ss.referenceEquals(hg,hx.get_baseColumnName())){hf=false}}return true});var hh=[];if(hf){var hi=[];gZ.forEachVizDataField(function(hx,hy){if(s.$d(hx)){var hz=hx.get_aggType()||'none';if(!he&&hz==='none'){var hA=ss.getEnumerator(Object.keys(hd));try{while(hA.moveNext()){var hB=hA.current();if(!ss.contains(hi,hB)){hi.push(hB);var hC=hd[hB];hc.push(new t(hC,hy,hB,'none'));var hD=e.getVizDataFieldByIndex(hC);hh.push(hD)}}}finally{hA.dispose()}}else if(ss.keyExists(hd,hz)){if(!ss.contains(hi,hz)){hi.push(hz);var hE=hd[hz];hc.push(new t(hE,hy,'none','none'));hh.push(hx)}}else if(he){var hF=hd['none'];hc.push(new t(hF,hy,'none',hz));hh.push(hx)}}return true})}var hj=new Array(hh.length);for(var hk=0;hk<hh.length;hk++){var hl=hh[hk];hj.push(hl.get_fieldCaption())}var hm=new q(hj);for(var hn=0;hn<hb.length;hn++){var ho=hb[hn];var hp=[];var hq=[];for(var hr=0;hr<hc.length;hr++){var hs=hc[hr];var ht=e.getVizDataFieldByIndex(hs.$3);var hu=ht.getDataValueIndex(ho);if(ss.isValue(hu)){var hv=ha.getRawValue(ht.get_dataType(),ss.unbox(hu));var hw=s.$5(hv,hs.$2,hs.$0,ss.unbox(hu));hp.push(hw);hq.push(hs.$3)}}hm.$0(hp,hq)}return{item1:hm,item2:hc}};s.$b=function(e,gZ,ha,hb){var hc=[];if(ss.isNullOrUndefined(ha)||e.$5()){return hc}ha.forEachTupleId(function(hd){var he=[];var hf=[];for(var hg=0;hg<gZ.length;hg++){var hh=gZ[hg];var hi=ha.getVizDataFieldByIndex(hh.$1);var hj=hi.getDataValueIndex(hd);if(ss.isValue(hj)){var hk=hb.getRawValue(hi.get_dataType(),ss.unbox(hj));var hl=s.$5(hk,hh.$0,hh.$2,ss.unbox(hj));he.push(hl);hf.push(hh.$1)}}if(e.$1(hf,he)){hc.push(hd)}return true});return hc};s.$a=function(e,gZ){var ha=[];if(ss.isNullOrUndefined(gZ)||e.$5()){return ha}var hb=e.$4();var hc=s.$4(gZ,hb);if(ss.isNullOrUndefined(hc)){return ha}if(!gZ.get_hasTupleIdColumn()){return ha}var hd=new Array(hb.length);for(var he=0;he<hb.length;he++){hd[he]=gZ.getColumnIndex(hb[he])}gZ.forEachTupleId(function(hf){var hg=new Array(hb.length);for(var hh=0;hh<hb.length;hh++){var hi=hb[hh];var hj=hc[hi];var hk=hj.getAliasIndex(hf);hg[hh]=hk}if(e.$1(hd,hg)){ha.push(hf)}return true});return ha};s.$9=function(e,gZ,ha){var hb=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ha)||gZ.$5()){return hb}var hc=gZ.$4();var hd=null;for(var he=0;he<e.HUq.length;he++){var hf=e.HUq[he];for(var hg=0;hg<hf.MdI.length;hg++){var hh=hf.MdI[hg];if(hh.oqX==='trend-lines'){for(var hi=0;hi<hh.tOA.length;hi++){var hj=hh.tOA[hi];if(hj.VzB==='rOX'){hd=new Array(hc.length);for(var hk=0;hk<hc.length;hk++){hd[hk]=ha.getColumnIndex(hc[hk])}var hl=hj;var hm={};if(ss.isValue(hl.ZHX)){for(var hn=0;hn<hl.ZHX.length;hn++){hm[hl.ZHX[hn]]=hl.wwF[hn]}}var ho=new Array(hc.length);for(var hp=0;hp<hc.length;hp++){if(ss.keyExists(hm,hd[hp])){ho[hp]=hm[hd[hp]]}else{ho[hp]=null}}if(gZ.$1(hd,ho)){hb.push(hl.YLs)}}}}}}return hb};s.$4=function(e,gZ){var ha={};for(var hb=0;hb<gZ.length;hb++){var hc=gZ[hb];var hd=e.getVizDataField(hc);if(ss.isNullOrUndefined(hd)){return null}ha[hc]=hd}return ha};s.$6=function(e,gZ,ha){var hb=[];if(ss.isNullOrUndefined(gZ)||ha.get_fieldCaptions().length!==e.$4().length){return hb}var hc=e.$4();var hd=ha.get_fieldCaptions();var he=[];for(var hf=0;hf<hd.length;hf++){var hg=hd[hf];var hh=ss.indexOf(hc,hg);if(hh===-1){return hb}he.push(hh)}var hi=K.get_instance().get_dataDictionary();var hj={};var hk={};var hl=[];var hm=e.$6();for(var hn=0;hn<hm.length;hn++){var ho=hm[hn];var hp=true;hl.length=ho.length;for(var hq=0;hq<hl.length;hq++){var hr=he[hq];var hs=ho[hr];if(!ss.isValue(hs)){hp=false;break}var ht=hd[hq];hj[ht]=hj[ht]||gZ.getVizDataField(ht);var hu=hj[ht];hl[hq]=gv.lookupAliasFromIndex(hs,hu,hi)}if(hp){hk[hl.join(',')]=true}}var hv=ha.get_items();for(var hw=0;hw<hv.length;hw++){var hx=hv[hw];if(hk[hx.nbD.join(',')]===true){hb.push(hx.YLs)}}return hb};s.$7=function(e,gZ,ha){var hb=[];if(ss.isNullOrUndefined(gZ.get_vizDataModel())){return hb}var hc=e.$4();for(var hd=0;hd<ha.length;hd++){var he=ha[hd];if(ss.isNullOrUndefined(he.ZHX)||ss.isNullOrUndefined(he.wwF)||he.wwF.length<hc.length){continue}var hf=[];var hg=[];var hh=false;for(var hi=0;hi<he.ZHX.length;++hi){var hj=he.ZHX[hi];var hk=gZ.get_vizDataModel().getVizDataFieldByIndex(hj).get_fieldCaption();if(ss.isValue(hk)&&ss.contains(hc,hk)){hf.push(hj);hg.push(he.wwF[hi]);if(hi===0){hh=true}}}if(hh&&e.$1(hf,hg)){var hl={};hl.ZHX=he.ZHX;hl.wwF=he.wwF;hb.push(hl)}}return hb};s.$8=function(e,gZ,ha,hb){var hc=[];if(ss.isNullOrUndefined(ha.get_vizDataModel())){return hc}var hd=new ss.ObjectEnumerator(ha.get_sceneModel().get_visualListModels());try{while(hd.moveNext()){var he=hd.current();var hf=he.value.get_groupItemNodes();for(var hg=0;hg<hf.length;hg++){var hh=hf[hg];if(ss.isNullOrUndefined(hh.ZHX)||ss.isNullOrUndefined(hh.wwF)||hh.ZHX.length!==hh.wwF.length){continue}var hi=[];for(var hj=0;hj<hh.ZHX.length;++hj){var hk={$:hh.ZHX[hj]};var hl=_.find(gZ,ss.mkdel({nodeColIndex:hk},function(hr){return hr.$1===this.nodeColIndex.$}));if(ss.isValue(hl)){var hm=hh.wwF[hj];var hn=ha.get_vizDataModel().getVizDataFieldByIndex(hl.$1);var ho=hb.getRawValue(hn.get_dataType(),hm);if(ss.isValue(ho)){var hp=s.$5(ho,hl.$0,hl.$2,hm);hi.push(hp)}}}if(hi.length===hh.wwF.length){if(e.$1(hh.ZHX,hi)){var hq={};hq.ZHX=hh.ZHX;hq.wwF=hh.wwF;hc.push(hq)}}}}}finally{hd.dispose()}return hc};s.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var gZ=e.get_dataType();if(gZ==='datetime'||gZ==='date'){return true}var ha=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(ha,e.get_aggType())};s.$5=function(e,gZ,ha,hb){if(_.isNumber(e)){return e}var hc=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var hd=hb;if(gZ==='none'&&ha!=='none'){switch(ha){case'year':{hd=tab.DateUtil.dateAsYear(hc);break}case'qtr':{hd=tab.DateUtil.dateAsQuarter(hc);break}case'month':{hd=tab.DateUtil.dateAsMonth(hc);break}case'day':{hd=tab.DateUtil.dateAsDay(hc);break}case'hour':{hd=tab.DateUtil.dateTimeAsHour(hc);break}case'minute':{hd=tab.DateUtil.dateTimeAsMinute(hc);break}case'second':{hd=tab.DateUtil.dateTimeAsSecond(hc);break}case'week':{hd=tab.DateUtil.dateAsWeek(hc);break}case'weekday':{hd=tab.DateUtil.dateAsDayOfWeek(hc);break}case'month-year':{hd=tab.DateUtil.dateAsMonthYear(hc);break}case'mdy':{hd=tab.DateUtil.dateAsMonthDayYear(hc);break}}if(ss.isNullOrUndefined(hd)){}}return hd};var t=function(e,gZ,ha,hb){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=gZ;this.$2=ha||'none';this.$0=hb||'none'};t.__typeName='tab.$24';var u=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.mmK)){return}var gZ={};var ha=this.$2.mmK.HCq;var hb=_.keys(this.$2.mmK.HCq);for(var hc=0,hd=hb.length;hc<hd;hc++){var he=hb[hc];var hf=ha[he];if(ss.isNullOrUndefined(hf)||ss.isValue(gX.getContent(hf,'wBL'))){gZ[he]=null}else{gZ[he]=hf.wqq}}this.$1=gZ};u.__typeName='tab.$25';var v=function(e,gZ,ha,hb,hc){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=gZ;this.$e=ha;this.$a=ss.coalesce(hb,1);this.$9=ss.coalesce(hc,35)};v.__typeName='tab.$3';var w=function(e){bh.call(this,'none',e,null)};w.__typeName='tab.$4';var x=function(e){gq.call(this,e);this.c=true};x.__typeName='tab.$5';var y=function(e){this.$5=null;this.$1$1=0;this.$5=e};y.__typeName='tab.$6';var z=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=K.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};z.__typeName='tab.$7';var A=function(e,gZ,ha){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=gZ;this.$1=ha};A.__typeName='tab.$8';var B=function(){};B.__typeName='tab.$9';B.$2=function(e){return function(gZ,ha,hb){var hc=$.Deferred();var hd=gy.createRequest(gZ,ha.$2(),function(){},function(){});hd.success=function(he,hf,hg){fl.onVizportalPinged();var hh=gy.$3(he);if(gy.$5(hh)){hc.reject();return}var hi=hb(hh);hc.resolve(hi)};gU.helper(hd);return hc.promise()}};B.$3=function(e){return function(gZ,ha){var hb=ha(gZ);var hc=gZ['moreItems'].toString().toLowerCase()==='true';return{items:hb,moreItems:hc}}};B.$0=function(e){return function(gZ,ha,hb,hc){var hd=B.$2(e).call(null,gZ,ha,hb);hd.done(function(he){if(!he.moreItems){hc();return}ha.$1(ha.$0()+he.items.length);B.$0(e).call(null,gZ,ha,hb,hc)});hd.fail(hc)}};B.$1=function(e){return function(gZ,ha,hb,hc,hd){var he=B.$2(e).call(null,gZ,ha,hb);he.done(function(hf){if(!hf.moreItems){hc();return}ha.$1(ha.$0()+hf.items.length);B.$1(e).call(null,gZ,ha,hb,hc,hd)});he.fail(hd)}};var C=function(e,gZ,ha,hb,hc,hd){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;eH.call(this);if(ss.isNullOrUndefined(hc)&&ss.isValue(hd)){hc=ha;hd=hb}this.$7=e;this.$3=ha;this.$5=hb;this.$4=hc;this.$6=hd;var he=gZ;var hf=hc;var hg=hd;var hh=hd/hc;this.$0=(hg-hh*hf-he+hh)/(-(hf*hf)+2*hf-1);this.$1=hh-2*this.$0*hf;this.$2=he-hh+this.$0*(2*hf-1)};C.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=C;var D=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};D.__typeName='tab.AckbarEventsHelper';D.get=function(){if(ss.isNullOrUndefined(D.instance)){D.instance=new D}return D.instance};global.tab.AckbarEventsHelper=D;var E=function(){};E.__typeName='tab.ActionType';global.tab.ActionType=E;var F=function(){};F.__typeName='tab.ActionUtils';F.$c=function(){return tab.Logger.lazyGetLogger(F)};F.isVizSourceOfAction=function(e,gZ){return _.any(e.QGQ,function(ha){return ss.referenceEquals(ha,gZ)})};F.isTargetOfActionLocal=function(e){var gZ=ea.getVisualModels(K.get_instance());for(var ha=0;ha<e.kDm.length;ha++){var hb=e.kDm[ha];if(ss.keyExists(gZ,hb)){return true}}return false};F.isFilterAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:filter-targets')};F.isHighlightAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:highlight')};F.isFilterSource=function(e,gZ){var ha=e.pm;var hb=ha.SJs;for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(!F.isVizSourceOfAction(hd,gZ)){continue}if(hd.bg$!=='on-select'){continue}if(ss.isNullOrUndefined(hd.Yb$)){continue}var he=ss.replaceAllString(hd.Yb$['eDX'.toString()],'simpleCommand=','');var hf=bw.deserialize(he,true);if(!ss.referenceEquals(hf.commandName,'filter-targets'.toString())){continue}var hg=hd.kDm;if(hg.length===0){continue}return true}return false};F.getApplicableActions=function(e,gZ,ha){var hb=K.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var hc=F.$7(hb,e,gZ);if(ss.isValue(ha)){hc=_.filter(hc,F.$4(ss.unbox(ha)))}hc=_.filter(hc,F.$6());return hc};F.$4=function(e){return function(gZ){return F.getActionType(gZ)===e}};F.$6=function(){return function(e){return F.getActionType(e)==='url'||ss.isValue(e.ElU)||e.kDm.length>0}};F.couldSheetFilterActionsModifyItself=function(e){var gZ=F.getApplicableActions(e,'on-select','filter');var ha=F.$b(gZ);var hb=ha&&F.$5(gZ,e);return hb};F.shouldFilterOnSelection=function(e){var gZ=F.getApplicableActions(e,'on-select','filter');return F.$b(gZ)};F.$b=function(e){return e.length>0&&!K.get_instance().get_isOffline()};F.$5=function(e,gZ){for(var ha=0;ha<e.length;ha++){var hb=e[ha];for(var hc=0;hc<hb.kDm.length;hc++){var hd=hb.kDm[hc];if(ss.referenceEquals(hd,gZ)){return true}}}return false};F.executeActions=function(e,gZ,ha,hb,hc){var hd=F.getApplicableActions(e,gZ,'filter');var he=F.getApplicableActions(e,gZ,'highlight');var hf=F.getApplicableActions(e,gZ,'url');var hg=ea.getVisualModel(K.get_instance(),e);if(ss.isValue(ha)){if(hf.length>0&&ha.length>0){F.$3(hf,ha,hg)}if(he.length>0){if(ha.length>0){F.$2(he,ha,hg,hb)}else{F.$a(hb)}}else if(ss.isValue(hc)&&hc){F.$2(he,ha,hg,hb)}}if(hd.length>0){F.$1(e,hd,ha,hb,hg)}};F.executeAction=function(e,gZ,ha,hb){if(!ss.isValue(e)){return}var hc=[e];if(!ss.isNullOrUndefined(e.LeZ)){F.$3(hc,gZ,ha)}else if(true){F.$2(hc,gZ,ha,hb)}else{}};F.getActionType=function(e){if(ss.isValue(e.Yb$)){var gZ=bw.deserialize(e.Yb$['eDX'.toString()],true);if(ss.referenceEquals(gZ.commandName,'highlight'.toString())){return'highlight'}if(ss.referenceEquals(gZ.commandName,'filter-targets'.toString())){return'filter'}return null}if(ss.isValue(e.LeZ)){return'url'}return null};F.willActionCauseTabChange=function(e,gZ){if(K.get_instance().get_isOffline()){return false}var ha=F.getApplicableActions(e,gZ,'filter');for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(ss.isValue(hc.Yb$)){var hd=bw.deserialize(hc.Yb$['eDX'.toString()],true);var he=hd.commandParams['DYs'];if(ss.isValue(he)&&!_.isEqual(he,tsConfig.current_sheet_name)){return true}}}return false};F.getUrlActionPm=function(e,gZ,ha){if(ss.isValue(ha)&&!ss.isNullOrUndefined(e.LeZ)){var hb=gZ.get_vizDataModel();var hc=K.get_instance().get_dataDictionary();var hd=gx.constructUrl(hc,e.LeZ,hb,ha,gZ.get_worksheetName());return{item1:F.$0(hd),item2:hd.item2}}return{item1:null,item2:'urlConstructionFail'}};F.$0=function(e){if(e.item2!=='success'){return null}var gZ={ZNi:e.item1};var ha=ea.getFirstAvailableWebZoneName(K.get_instance());if(ss.isValue(ha)){gZ.ALQ=ha}return gZ};F.$2=function(e,gZ,ha,hb){var hc=P.computeFromTuples(ha,gZ,e);eZ.$f(hc,hb)};F.$a=function(e){eZ.$2(e)};F.$3=function(e,gZ,ha){if(ss.isValue(gZ)&&gZ.length>0){var hb=[];for(var hc=0;hc<e.length;hc++){var hd=e[hc];var he=F.getUrlActionPm(hd,ha,gZ).item1;if(ss.isValue(he)){hb.push(he)}else{bn.fireDeferredUrlActions=true;return}}if(hb.length>0){bn.get().delayLocalUrlActions(hb)}}};F.$1=function(e,gZ,ha,hb,hc){if(K.get_instance().get_isOffline()){return}if(ss.isValue(gZ)){var hd=F.$8(gZ);if(hd.length>0){var he=ea.getSheetInfoPresModel(K.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(he)&&!(he.WeS&&ss.isNullOrUndefined(he.ROW))){var hf=!he.WeS||he.ROW.length===1;for(var hg=0;hg<hd.length;hg++){var hh=hd[hg];if(hf||!ss.referenceEquals(hh.get_worksheetName(),e)){ea.setVisualValidStateOnPresModel(hb,hh)}}}}if(ha.length>0){var hi=[];for(var hj=0;hj<gZ.length;hj++){var hk=gZ[hj];if((ha.length===1||!hk._pd)&&ss.isValue(hk.ElU)){var hl={};var hm=hk.ElU+'&:exclude='+bn.get().get_legacySession().railsEncode(e);var hn=hc.get_vizDataModel();var ho=K.get_instance().get_dataDictionary();hl.ZNi=gx.constructUrlForFilterActionFromTargetURL(ho,hm,hk.LeZ,hn,ha);hi.push(hl)}}if(hi.length>0){bn.get().delayLocalUrlActions(hi)}}}};F.$8=function(e){var gZ={};if(ss.isValue(e)){for(var ha=0;ha<e.length;ha++){var hb=e[ha];for(var hc=0;hc<hb.kDm.length;hc++){var hd=hb.kDm[hc];var he=ea.getVisualModel(K.get_instance(),hd);if(ss.isValue(he)){gZ[hd]=he}}}}var hf=[];var hg=new ss.ObjectEnumerator(gZ);try{while(hg.moveNext()){var hh=hg.current();hf.push(hh.value)}}finally{hg.dispose()}return hf};F.$9=function(e){if(!F.$e){F.$e=true;var gZ=tsConfig.schemeWhitelist.split(',');for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=hb.toLowerCase().trim();if(!ss.endsWithString(hc,':')){hc+=':'}if(hc.length>1){F.$f.push(hc)}}}var hd=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var he=hd.exec(e);if(!ss.isValue(he)){return true}var hf=he[0].toLowerCase();return ss.contains(F.$f,hf)};F.$7=function(e,gZ,ha){var hb=_.filter(e,function(hc){var hd=ss.contains(hc.QGQ,gZ);var he=!ss.isValue(ha)||ss.unbox(ha)===hc.bg$;return hd&&he});return hb};F.launchActionUrls=function(e,gZ){var ha=[];var hb={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(M.linkTarget)&&M.linkTarget.length>0){var hc=M.linkTarget;ha.push({item1:hc,item2:false});hb[hc]=e[e.length-1].ZNi}else{var hd=0;for(var he=0;he<e.length;he++){var hf=e[he];if(!F.$9(hf.ZNi)){if(!F.$d){F.$d=true;gZ.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true,null)}continue}if(ss.isNullOrUndefined(hf.ALQ)||'t'in hf){hf.ALQ=hf['t']}var hg;if(ss.isValue(hf.ALQ)){hg={item1:hf.ALQ,item2:true}}else{var hh='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(hd>0){hh+='_'+hd.toString()}hg={item1:hh,item2:false}}if(!ss.keyExists(hb,hg.item1)){ha.push(hg)}hb[hg.item1]=hf.ZNi;hd++}}for(var hi=0;hi<ha.length;hi++){var hj=ha[hi];var hk=hj.item1;if(hj.item2){try{$('[name='+hk+']').prop('src',hb[hk])}catch(hl){}}else{window.open(hb[hk],hk)}}};global.tab.ActionUtils=F;var G=function(){ss.makeGenericType(L,[Object,H]).call(this)};G.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=G;var H=function(e){this.$c=null;this.$c=e};H.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=H;var I=function(e){this.$2$1=null;dX.call(this,e,new ez('OIO'.toString()))};I.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=I;var J=function(){};J.__typeName='tab.ApiClientCommands';J.doApiCommand=function(e,gZ,ha){bn.SendCommand(eK.create(e,'immediately',gZ,ha))};global.tab.ApiClientCommands=J;var K=function(){this.$a=null;this.$9={};this.$8={};this.$b=null;this.$d=null;this.$4=null;this.$7=null;this.$3=null;this.$c=null;this.$2=null;this.$5=null;this.$6=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,null,null);this.presModelKey=new ez('hyc'.toString());this.$b=new gb(this);this.$d=new gK(this);this.$4=new bm(this);this.$7=new cc(this);this.$3=new bb(this,false);this.$c=new bb(this,true);this.$2=new ba(this);this.$5=new bC(this);this.$a=new ft;this.$6=new bT(this);this.set_serverFonts(null)};K.__typeName='tab.ApplicationModel';K.get_instance=function(){if(ss.isNullOrUndefined(K._instance)){K._instance=new K}return K._instance};global.tab.ApplicationModel=K;var L=function(e,gZ){var ha=function(){this.c={};this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=null;this.$1$5=false;this.set_uiBlocking('none')};ss.registerGenericClassInstance(ha,L,[e,gZ],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(hb){this.$1$1=hb},get_deferSuccess:function(){return this.$1$2},set_deferSuccess:function(hb){this.$1$2=hb},get_deferFailure:function(){return this.$1$3},set_deferFailure:function(hb){this.$1$3=hb},get_localWork:function(){return this.$1$4},set_localWork:function(hb){this.$1$4=hb},get_noExceptionDialog:function(){return this.$1$5},set_noExceptionDialog:function(hb){this.$1$5=hb},invoke:null,invoke$1:function(hb){hb.noExceptionDialog=this.get_noExceptionDialog();hb.preserveRootResult=true;var hc=$.Deferred();var hd=function(hf){hc.resolve(new gZ(hf))};var he=function(hf){hc.reject()};bn.SendCommand(new bh(this.get_uiBlocking(),this.get_localWork(),hb,(this.get_deferSuccess()?bn.deferredSuccessHandler(Object).call(null,$.Deferred().done(hd)):hd),(this.get_deferFailure()?bn.$1($.Deferred().fail(he)):he)));return hc.promise()}},function(){return null},function(){return[]});return ha};L.__typeName='tab.BaseCmd$2';ss.initGenericClass(L,a,2);global.tab.BaseCmd$2=L;var M=function(e,gZ){this.defaultSessionErrorHandler=null;this.$e=null;this.$f=null;this.$h=null;this.$g=null;this.fileDownloadHelper=null;tab.Param.verifyValue(gZ,'commonDialogProvider');this.$e=gZ;var ha=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$h=e}else{this.$h=tabBootstrap.BaseUrlFormatter.formatUrlRoot(ha)}if(ss.isValue(tsConfig.site_root)){this.$g=tsConfig.site_root}else{this.$g=ha}this.defaultSessionErrorHandler=new ch(gZ,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$f=new cr([new ck,this.defaultSessionErrorHandler])}else{this.$f=new cr([this.defaultSessionErrorHandler])}this.fileDownloadHelper=new cA(gZ,this)};M.__typeName='tab.BaseSession';M.add_stateChanged=function(e){M.$1$1=ss.delegateCombine(M.$1$1,e)};M.remove_stateChanged=function(e){M.$1$1=ss.delegateRemove(M.$1$1,e)};M.fireStateChanged=function(e){if(ss.isValue(M.$1$1)){M.$1$1(e)}};global.tab.BaseSession=M;var N=function(e,gZ,ha,hb){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=gZ;this.color=ha;this.side=hb};N.__typeName='tab.BorderDefinition';N.borderStyleToCss=function(e){return ss.coalesce(N.$1[e],'none')};N.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.BorderDefinition=N;var O=function(){};O.__typeName='tab.BorderDefinition$BorderSide';global.tab.BorderDefinition$BorderSide=O;var P=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};P.__typeName='tab.BrushingComputer';P.$3=function(){return tab.Logger.lazyGetLogger(P)};P.createBrushingComputer=function(e,gZ,ha,hb,hc){var hd=new P;var he=gZ.get_vizDataModel();var hf=s.$2(e,hb,ha,he,hb);for(var hg=0;hg<hb.length;hg++){var hh=hb[hg];if(gZ.vizDataContainsDuplicateCaption(hh)){hd.$1=false;return hd}}var hi;if(hc){hi=ea.getVisualModels(K.get_instance())}else{hi={};var hj=F.getApplicableActions(gZ.get_worksheetName(),'on-select','highlight');for(var hk=0;hk<hj.length;hk++){var hl=hj[hk];if(ss.isNullOrUndefined(hl.kDm)){continue}for(var hm=0;hm<hl.kDm.length;hm++){var hn=hl.kDm[hm];var ho=ea.getVisualModel(K.get_instance(),hn);hi[hn]=ho}}}var hp=ea.findContentDashboard();var hq=_.keys(hi);for(var hr=0;hr<hq.length;hr++){var hs=hq[hr];var ht=hi[hs];if(ss.isNullOrUndefined(ht)){continue}var hu=ht.get_vizDataModel();hd.$5[hs]=s.$a(hf,hu);hd.$4[hs]=s.$9(ht.get_scenePresModel(),hf,hu);var hv=[];var hw=new ss.ObjectEnumerator(P.$2(ht));try{while(hw.moveNext()){var hx=hw.current();var hy=hx.value;var hz=s.$c(ht,hy);var hA=_.intersection(hz,hb);if(hA.length>0){var hB=s.$2(e,hb,ha,he,hA);hv=hv.concat.apply(hv,s.$7(hB,ht,hy))}}}finally{hw.dispose()}hd.$3[hs]=hv;var hC=ea.getModelsForViz(bd).call(null,hp,ht);for(var hD=0;hD<hC.length;hD++){var hE=hC[hD];if(!hE.get_isHighlightEnabled()){continue}var hF=s.$6(hf,hu,hE);if(!ss.keyExists(hd.$2,ht.get_worksheetName())){hd.$2[ht.get_worksheetName()]={}}hd.$2[ht.get_worksheetName()][P.$0(hE.get_legendTypeEnum(),hE.get_legendNames())]=hF}}return hd};P.getTuplesAssociatedWithSelectedNodes=function(e,gZ){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(K.get_instance().get_dataDictionary())){return[]}var ha=[];for(var hb=0;hb<gZ.length;hb++){var hc=gZ[hb];if(ff.isCategoricalAndTupleAssociatedHeader(hc.ZHX,hc.wwF)){ha.push(hc)}}if(ha.length===0){return[]}var hd=s.$1(e.get_vizDataModel(),ha);var he=P.$1(hd,e);return he};P.computeFromTuples=function(e,gZ,ha){var hb=new P;for(var hc=0;hc<ha.length;hc++){var hd=ha[hc];if(ss.isNullOrUndefined(hd.kDm)){continue}var he=bw.deserialize(hd.Yb$['eDX'.toString()],true);for(var hf=0;hf<hd.kDm.length;hf++){var hg=hd.kDm[hf];var hh=ea.getVisualModel(K.get_instance(),hg);if(ss.isNullOrUndefined(hh)){continue}var hi=hh.get_vizDataModel();if(ss.isNullOrUndefined(hi)){continue}if(P.isSpecialDateTimeHighlighting(he)){var hj=K.get_instance().get_dataDictionary();var hk=s.$0(e.get_vizDataModel(),hi,hj,gZ);var hl=hk.item1;var hm=hk.item2;hb.$5[hg]=s.$b(hl,hm,hi,hj);hb.$3[hg]=s.$8(hl,hm,hh,hj);hb.$0(hh,e,gZ,he,hd.dMo02)}else{var hn=P.getHighlightFieldCaptions(he,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,hh)){hn=_.intersection(hn,hi.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty(hn)){continue}for(var ho=0;ho<hn.length;ho++){var hp=hn[ho];if(e.vizDataContainsDuplicateCaption(hp)){hb.$1=false;return hb}}var hq=s.$3(e.get_vizDataModel(),gZ,hn);hb.$5[hg]=s.$a(hq,hi);var hr=[];var hs=P.$2(hh);var ht=_.keys(hs);for(var hu=0;hu<ht.length;hu++){var hv=ht[hu];var hw=hs[hv];var hx=s.$c(hh,hw);var hy=_.intersection(hx,hn);if(hy.length>0){var hz=s.$3(e.get_vizDataModel(),gZ,hy);hr=hr.concat.apply(hr,s.$7(hz,hh,hw))}}hb.$3[hg]=hr;hb.$0(hh,e,gZ,he,hd.dMo02)}}}return hb};P.$2=function(e){var gZ={};var ha=e.get_sceneModel().get_visualListModels();var hb=new ss.ObjectEnumerator(ha);try{while(hb.moveNext()){var hc=hb.current();gZ[hc.key]=hc.value.get_groupItemNodes()}}finally{hb.dispose()}var hd=gZ['x-labels']||[];ss.arrayAddRange(hd,gZ['bottom-axis']||[]);gZ['x-labels']=hd;delete gZ['bottom-axis'];return gZ};P.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var gZ=e.commandParams['bFG'];return ss.isValue(gZ)&&gZ==='date-time'};P.getHighlightFieldCaptions=function(e,gZ,ha){var hb=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return hb}var hc=e.commandParams['oKr'];if(!ss.isNullOrUndefined(hc)){hb=JSON.parse(hc)}else{var hd=e.commandParams['bFG'];if(ss.isNullOrUndefined(hd)||hd!=='all'){}hb=gZ}if(ss.isValue(ha)){hb=_.intersection(ha,hb)}return hb};P.$0=function(e,gZ){return'LegendType:'+e.toString()+' LegendNames:'+gZ.join(';')};P.$1=function(e,gZ){var ha=[];if(ss.isNullOrUndefined(gZ.get_vizDataModel())){return ha}for(var hb=0;hb<e.length;hb++){var hc=e[hb];ha=_.union(ha,s.$a(hc,gZ.get_vizDataModel()))}return ha};global.tab.BrushingComputer=P;var Q=function(){ss.makeGenericType(L,[Object,R]).call(this)};Q.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=Q;var R=function(e){this.$c=null;this.$c=e};R.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=R;var S=function(){ss.makeGenericType(L,[Object,T]).call(this)};S.__typeName='tab.BuildLayoutTreeContextMenuCmd';global.tab.BuildLayoutTreeContextMenuCmd=S;var T=function(e){this.$c=null;this.$c=e};T.__typeName='tab.BuildLayoutTreeContextMenuCmd$Response';global.tab.BuildLayoutTreeContextMenuCmd$Response=T;var U=function(){ss.makeGenericType(L,[Object,V]).call(this)};U.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=U;var V=function(e){this.$c=null;this.$c=e};V.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=V;var W=function(){ss.makeGenericType(L,[Object,X]).call(this)};W.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=W;var X=function(e){this.$c=null;this.$c=e};X.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=X;var Y=function(){ss.makeGenericType(L,[Object,Z]).call(this)};Y.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=Y;var Z=function(e){this.$c=null;this.$c=e};Z.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=Z;var ba=function(e){this.$2$1=null;dX.call(this,e,new ez('mu_'.toString()));this.pm={}};ba.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=ba;var bb=function(e,gZ){this.$2=false;this.$2$1=null;dX.call(this,e,new ez((gZ?'QjR':'Oss').toString()));this.pm={};this.$2=gZ};bb.__typeName='tab.CalculationModel';global.tab.CalculationModel=bb;var bc=function(e){dX.call(this,e,new ez('uPU'.toString()))};bc.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bc;var bd=function(e,gZ,ha){this.$2=null;this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez(gZ));this.$2=ha};bd.__typeName='tab.CategoricalLegendModel';bd.$0=function(e,gZ){var ha;switch(e){case'color':case'map':{ha=gZ.DKF;break}case'size':{ha=gZ.nJz;break}case'shape':{ha=gZ.x_f;break}default:{return null}}return ha};global.tab.CategoricalLegendModel=bd;var be=function(e){this.$1=null;this.$3$1=null;eF.call(this,e,new ez('kKA'.toString()));this.set_categoricalFilter(new bc(this))};be.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=be;var bf=function(){ss.makeGenericType(L,[Object,bg]).call(this)};bf.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bf;var bg=function(e){this.$c=null;this.$c=e};bg.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=bg;var bh=function(e,gZ,ha,hb,hc){this.doRemoteWork=null;this.doLocalWork=null;this.$5=null;this.$4=null;this.$2=null;this.$3=null;this.$1='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.$5=e;this.$4='remoteFirst';this.hasLocalComponent=ss.isValue(gZ);this.hasRemoteComponent=ss.isValue(ha)&&!K.get_instance().get_isOffline();this.doLocalWork=gZ;this.$2=new Array;if(this.hasRemoteComponent){this.$2.push(new bt(ha,hb,hc));this.$1=ha.commandName}this.doRemoteWork=ss.mkdel(this,this.$0)};bh.__typeName='tab.ClientCommand';global.tab.ClientCommand=bh;var bi=function(){};bi.__typeName='tab.ClipCase';global.tab.ClipCase=bi;var bj=function(){ss.makeGenericType(L,[Object,bk]).call(this)};bj.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bj;var bk=function(e){this.$c=null;this.$c=e};bk.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=bk;var bl=function(e,gZ,ha,hb){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=gZ;this.$4=ha;this.$3=hb};bl.__typeName='tab.ColorModel';bl.fromArgbInt=function(e){var gZ=(e&16711680)>>>16;var ha=(e&65280)>>>8;var hb=e&255;var hc=(e&4278190080)>>>24;return new bl(gZ,ha,hb,hc/255)};bl.fromColorCode=function(e){var gZ=bl.$d.cl[e];if(ss.isValue(gZ)){return gZ}var ha=function(hj){return Math.min(Math.max(hj,0),255)};var hb;var hc;var hd;var he=1;var hf=bl.$9.exec(e);if(ss.isValue(hf)){hb=ha(parseInt(hf[1],16));hc=ha(parseInt(hf[2],16));hd=ha(parseInt(hf[3],16));var hg=new bl(hb,hc,hd,he);bl.$d.add(e,hg);return hg}hf=bl.$a.exec(e);if(ss.isValue(hf)){hb=ha(parseInt(hf[1],10));hc=ha(parseInt(hf[2],10));hd=ha(parseInt(hf[3],10));var hh=new bl(hb,hc,hd,he);hh.setRGBStr(e);bl.$d.add(e,hh);return hh}hf=bl.$b.exec(e);if(ss.isValue(hf)){hb=ha(parseInt(hf[1],10));hc=ha(parseInt(hf[2],10));hd=ha(parseInt(hf[3],10));he=parseFloat(hf[4]);if(he<=1){he=he*255}if(he>255){he=255}if(he<0){he=0}he=bl.alpha255ToFraction(he);var hi=new bl(hb,hc,hd,he);bl.$d.add(e,hi);return hi}throw new ss.Exception('Unknown color format: '+e)};bl.alpha255ToFraction=function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(bl.$7(e))};bl.$7=function(e){return(e+1)/256};bl.alphaFractionTo255=function(e){var gZ=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(e));for(var ha=0;ha<256;ha++){var hb=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(bl.alpha255ToFraction(ha)));if(hb===gZ){return ha}}return 255};bl.fromColorModelPlusAlpha=function(e,gZ){return new bl(e.get_r(),e.get_g(),e.get_b(),gZ)};bl.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bl.$3();var gZ=bl.$c[e];if(ss.isValue(gZ)){return gZ}var ha=bl.fromColorCode(e);gZ=ha.toString();return gZ};bl.isEqual=function(e,gZ,ha){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(gZ)){return false}if(ha&&e.$3!==gZ.$3){return false}return e.$7===gZ.$7&&e.$6===gZ.$6&&e.$4===gZ.$4};bl.alphaBlend=function(e,gZ){if(e.get_a()<1){var ha=bl.alphaToTransparency(e.get_a());var hb=gZ.get_r()*ha+e.get_r()*e.get_a();var hc=gZ.get_g()*ha+e.get_g()*e.get_a();var hd=gZ.get_b()*ha+e.get_b()*e.get_a();return new bl(ss.Int32.trunc(hb),ss.Int32.trunc(hc),ss.Int32.trunc(hd),1)}else{return e}};bl.isFullyTransparent=function(e){return e.get_a()===0};bl.alphaComposite=function(e,gZ){if(gZ.get_a()>=0.999989986419678){return bl.alphaCompositeSolidDest(e,gZ)}var ha=bl.alphaToTransparency(e.get_a());var hb=e.get_a()+gZ.get_a()*ha;return new bl(bl.$0(e.get_r(),e.get_a(),gZ.get_r(),gZ.get_a(),hb),bl.$0(e.get_g(),e.get_a(),gZ.get_g(),gZ.get_a(),hb),bl.$0(e.get_b(),e.get_a(),gZ.get_b(),gZ.get_a(),hb),hb)};bl.alphaCompositeSolidDest=function(e,gZ){return new bl(bl.$1(e.get_r(),e.get_a(),gZ.get_r()),bl.$1(e.get_g(),e.get_a(),gZ.get_g()),bl.$1(e.get_b(),e.get_a(),gZ.get_b()),1)};bl.$5=function(e,gZ,ha){return 0.2126*bl.$e[e]+0.7152*bl.$e[gZ]+0.0722*bl.$e[ha]};bl.$2=function(e){return Math.min(1,(255-e)/255*1.5)};bl.$6=function(e,gZ){var ha=e.toString(16);while(ha.length<gZ){ha='0'+ha}return ha};bl.$0=function(e,gZ,ha,hb,hc){return Math.round((e*gZ+ha*hb*bl.alphaToTransparency(gZ))/hc)};bl.$1=function(e,gZ,ha){return Math.round(e*gZ+ha*bl.alphaToTransparency(gZ))};bl.$4=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bl.$3=function(){if(ss.isValue(bl.$c)){return}bl.$c={};bl.$c['rgba(0,0,0,255)']='rgba(0,0,0,1)';bl.$c['rgba(0,0,0,0)']='rgba(0,0,0,0)';bl.$c['rgba(255,255,255,255)']='rgba(255,255,255,1)';bl.$c['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bl.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bl.alphaToTransparency=function(e){return bl.transparencyToAlpha(e)};global.tab.ColorModel=bl;var bm=function(e){dX.call(this,e,new ez('HMF'.toString()))};bm.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bm;var bn=function(e,gZ){this.$H=null;this.$I=null;this.$N=[];this.$W=new m;this.$U=new ge;this.$L={};this.$P=[];this.$K=null;this.$V=null;this.$X=null;this.$T=false;this.$S=null;this.$R=null;this.$O=null;this.$G=null;this.$Q=[];this.$J=null;this.$F=false;this.$M=[];this.$E=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$S=e;this.$I=gZ;window.window.onerror=ss.mkdel(this,this.$k);this.$X=new gR(this.$I);this.$V=new y(this.$S);var ha=new c(e);ha.$3('tabsrv'.toString(),'render-tooltip-server'.toString(),135);var hb=new bz;hb.commandNamespace='tabdoc'.toString();hb.commandName='highlight-items'.toString();var hc=new bz;hc.commandNamespace='tabdoc'.toString();hc.commandName='clear-highlighting'.toString();var hd=new bz;hd.commandNamespace='tabdoc'.toString();hd.commandName='highlight-items-by-pattern-match'.toString();var he=[hb,hc,hd];ha.$2(he,135);this.$H=ha;this.$H.add_commmandSucceeded(ss.mkdel(this,this.$d));this.$H.add_commandFailed(ss.mkdel(this,this.$c));this.$J=new cj(gZ);this.$f();this.e2eAutomationTestHooks=new A(this.$X,ss.mkdel(this,function(){return ss.getKeyCount(this.$L)}),ss.mkdel(this,this.$g));this.$E=false};bn.__typeName='tab.CommandController';bn.add_sheetNameChanged=function(e){bn.$1$12=ss.delegateCombine(bn.$1$12,e)};bn.remove_sheetNameChanged=function(e){bn.$1$12=ss.delegateRemove(bn.$1$12,e)};bn.get_hasInstance=function(){return ss.isValue(bn._instance)};bn.$7=function(){return tab.Logger.lazyGetLogger(bn)};bn.isAllContentReady=function(){return(ss.isNullOrUndefined(bn._instance)?false:bn._instance.$E)};bn.create=function(e,gZ){if(ss.isNullOrUndefined(bn._instance)){bn._instance=new bn(e,gZ)}return bn._instance};bn.clearInstance=function(){bn._instance=null;window.window.onerror=null};bn.get=function(){if(!ss.isValue(bn._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bn._instance};bn.handleBootstrapException=function(e,gZ){if(bn.$9){return}var ha=new ss.StringBuilder;if(ss.isValue(e['name'])){ha.append(e['name']).append(': ')}ha.append(e.get_message());gZ.showAlertDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,ha.toString()),tab.Strings.UnhandledExceptionTitle,true,null);bn.sendParentCompletedMessage();bn.$9=true};bn.sendParentCompletedMessage=function(){if(bn.$a){return}bn.$a=true;tab.BrowserSupport.doPostMessageWithContext('tableau.completed'.toString())};bn.$5=function(e){return e.get_isBlocking()};bn.SendCommand=function(e){var gZ=bn.get();if(eB.get_progressiveLoadEnabled()){gZ.$0(e)}gZ.$W.$1(e);gZ.$h()};bn.SendCommandWithDeferredReturn=function(e,gZ){var ha=$.Deferred();var hb=bn.deferredSuccessHandler(Object).call(null,$.Deferred().done(function(hd){ha.resolve(hd)}));var hc=bn.$1($.Deferred().fail(function(hd){ha.reject()}));bn.SendCommand(eK.create(e,gZ,hb,hc));return ha.promise()};bn.deferredSuccessHandler=function(e){return function(gZ){return bn.DeferredSuccessHandler(gZ)}};bn.DeferredSuccessHandler=function(e){return function(gZ){var ha=bn.get();var hb=null;hb=function(){ha.remove_commandQueueComplete(hb);e.resolve(gZ)};ha.add_commandQueueComplete(hb)}};bn.$1=function(e){return bn.deferredFailureHandler(e)};bn.deferredFailureHandler=function(e){return function(gZ){var ha=bn.get();var hb=null;hb=function(){ha.remove_commandQueueComplete(hb);e.reject(gZ)};ha.add_commandQueueComplete(hb)}};bn.$2=function(e,gZ){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,gZ.get_id(),gZ.get_urlRoot())};bn.$0=function(e,gZ,ha){var hb=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.clientOpenBugUrl)){var hc=tsConfig.clientCheckBugText;var hd=tsConfig.clientCheckBugUrl;var he=tsConfig.clientOpenBugText;var hf=tsConfig.clientOpenBugUrl;var hg=encodeURIComponent('{errorMessage}');var hh=encodeURIComponent('{sessionId}');var hi=encodeURIComponent('{stack}');var hj=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(hc)&&!ss.isNullOrEmptyString(hd)){var hk=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(gZ,'"',''),"'",''),':','');hd=ss.replaceAllString(hd,hg,encodeURIComponent(hk));hb.push({url:hd,displayText:hc})}if(!ss.isNullOrEmptyString(he)&&!ss.isNullOrEmptyString(hf)){var hl='search splunk for stack.';try{hl=ha.stack;hl=hl.substr(0,400)}catch(hn){}hf=ss.replaceAllString(hf,hg,encodeURIComponent(ss.replaceAllString(gZ,':','')));hf=ss.replaceAllString(hf,hh,encodeURIComponent(e));hf=ss.replaceAllString(hf,hi,encodeURIComponent(hl));var hm=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);hf=ss.replaceAllString(hf,hj,encodeURIComponent(hm.href));hf=ss.replaceAllString(ss.replaceAllString(hf,'"',''),"'",'');hb.push({url:hf,displayText:he})}}return hb};bn.$6=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var gZ=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(gZ)};bn.$4=function(e){var gZ=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}if(!e.res.mmK.Jqz){return gZ}var ha=e.res.mmK.HCq;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];if(ss.isNullOrUndefined(he)){continue}var hf=gX.getContent(he,'XIo');if(ss.isValue(hf)){return hf.P_I}}return null};bn.$3=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.IJE)){return''}return e.res.mmK.IJE.DDA};global.tab.CommandController=bn;var bo=function(){};bo.__typeName='tab.CommandControllerTelemetry';bo.$0=function(){if(ef.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=window.screen;var gZ=ea.getSheetInfoPresModel(K.get_instance(),tsConfig.current_sheet_name);var ha=['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',K.get_instance().get_isLocalRenderMode(),'Android',tab.BrowserSupport.get_isAndroid(),'Chrome',tab.BrowserSupport.get_isChrome(),'ChromeVersion',tab.BrowserSupport.get_googleChromeVersion(),'DevicePixelRatio',tab.BrowserSupport.get_devicePixelRatio(),'Edge',tab.BrowserSupport.get_isEdge(),'Firefox',tab.BrowserSupport.get_isFF(),'Geolocation',tab.BrowserSupport.get_isGeolocationSupported(),'IE',tab.BrowserSupport.get_isIE(),'IEVersion',tab.BrowserSupport.get_browserVersion(),'IOS',tab.BrowserSupport.get_isIos(),'IOSVersion',tab.BrowserSupport.get_iosVersion(),'Ipad',tab.BrowserSupport.get_isIpad(),'Mac',tab.BrowserSupport.get_isMac(),'Opera',tab.BrowserSupport.get_isOpera(),'Safari',tab.BrowserSupport.get_isSafari(),'SafariVersion',tab.BrowserSupport.get_safariVersion(),'Touch',tab.BrowserSupport.isTouch,'Windows',tab.BrowserSupport.get_isWindows(),'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',e.width,'ScreenHeight',e.height,'Dashboard',gZ.WeS,'Published',gZ.GJq,'Story',ss.isValue(gZ.Jqz)&&gZ.Jqz,'Worksheets',(ss.isValue(gZ.ROW)?gZ.ROW.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)];ef.logEvent('Bootstrap',ha)})}};global.tab.CommandControllerTelemetry=bo;var bp=function(e,gZ){this.succeeded=false;this.error=null;this.succeeded=e;this.error=gZ};bp.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bp;var bq=function(){};bq.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bq;var br=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}};br.__typeName='tab.CommandItemWrapper';br.create=function(e){if(!ss.isValue(e)){return null}var gZ=e['zRu'.toString()];var ha=bw.deserialize(gZ);if(ss.isValue(ha)&&gH.hasCommand(ha.commandName)){return new gG.$ctor1(e)}return new br(e)};global.tab.CommandItemWrapper=br;var bs=function(e){this.$0=null;this.$0={};var gZ=ss.getEnumerator(e);try{while(gZ.moveNext()){var ha=gZ.current();this.$0[ha]='granted'}}finally{gZ.dispose()}};bs.__typeName='tab.CommandPermission';global.tab.CommandPermission=bs;var bt=function(e,gZ,ha){this.$0=null;this.$2=null;this.$1=null;this.$0=e;this.$2=gZ;this.$1=ha};bt.__typeName='tab.CommandRecord';global.tab.CommandRecord=bt;var bu=function(){};bu.__typeName='tab.CommandRedirectRegistry';bu.checkpointRegistry=function(){var e=bu.$0;bu.$0=$.extend(false,{},e);return function(){bu.$0=e}};bu.registerHandler=function(e,gZ){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(gZ,'handler');if(ss.isNullOrUndefined(bu.$0)){bu.$0={}}bu.$0[e]=gZ};bu.handleRedirect=function(e,gZ){if(ss.isNullOrUndefined(bu.$0)||!ss.keyExists(bu.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var ha=bu.$0[e];return ha(gZ)};global.tab.CommandRedirectRegistry=bu;var bv=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bv.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bv;var bw=function(){};bw.__typeName='tab.CommandSerializer';bw.$4=function(){return tab.Logger.lazyGetLogger(bw)};bw.buildDocCommandName=function(e){return bw.buildQualifiedCommandName('tabdoc'.toString(),e.toString())};bw.buildQualifiedCommandName=function(e,gZ){return e+':'+gZ};bw.deserialize=function(e,gZ){var ha;gZ=gZ||false;if(gZ){ha=bw.$6[e];if(ss.isValue(ha)){return ha}}var hb=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var hc=hb.exec(e);if(ss.isNullOrUndefined(hc)||hc.length===0){return null}ha={commandNamespace:hc[1],commandName:hc[2]};bw.$1(ha,hc[4]);if(gZ){bw.$0(e,ha)}return ha};bw.getCommandType=function(e){if(ss.keyExists(bw.$8,e.commandName)){return bw.$8[e.commandName]}else{return null}};bw.$0=function(e,gZ){if(bw.$7.length>=15){var ha=bw.$7.shift();delete bw.$6[ha]}bw.$6[e]=gZ;bw.$7.push(e)};bw.$1=function(e,gZ){if(ss.isNullOrEmptyString(gZ)){return}var ha=new ss.StringBuilder;var hb=new Array;for(var hc=gZ.length-1;hc>=0;hc--){hb.push(gZ.substr(hc,1))}while(hb.length>0){var hd=bw.$2(hb,ha);if(!ss.isValue(hd)){return}var he=bw.$3(hb,ha);if(ss.isNullOrUndefined(he)){return}if(he==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(hd)]=he}};bw.$2=function(e,gZ){gZ.clear();var ha=false;while(e.length>0){var hb=e.pop();switch(hb){case'=':{return gZ.toString().trim()}case'-':{ha=true;break}default:{if(ha){gZ.append(hb.toUpperCase());ha=false}else{gZ.append(hb)}break}}}return null};bw.$3=function(e,gZ){gZ.clear();var ha=new Array;var hb=function(){return((ha.length>0)?ss.arrayPeekBack(ha):'')};var hc=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var hd=e.pop();var he=true;switch(hd){case'\\':{if(hc){if(hb()!=='\\'){ha.push('\\');he=false}else{ha.pop()}}break}case'"':{if(hb()==='\\'){ha.pop()}else if(hb()==='"'){ha.pop();if(ha.length===0){he=false}}else{if(ha.length===0){he=false}ha.push('"')}break}case'[':{if(hb()==='"'){}else{ha.push('[')}break}case']':{if(hb()==='"'){}else if(hb()!=='['){}else{ha.pop()}break}case'{':{if(hb()==='"'){}else{ha.push('{')}break}case'}':{if(hb()==='"'){}else if(hb()!=='{'){}else{ha.pop()}break}default:{if(hb()==='\\'){ha.pop()}break}}if(he){gZ.append(hd)}if(ha.length===0){return gZ.toString()}}return null};global.tab.CommandSerializer=bw;var bx=function(e){this.$1=true;this.$2$1=null;dX.call(this,e,new ez('Jmx'.toString()))};bx.__typeName='tab.CommandsModel';global.tab.CommandsModel=bx;var by=function(){this.$0=null;this.$0={}};by.__typeName='tab.CommandsPresModelWrapper';by.$ctor1=function(e){this.$0=null;this.$0=e};by.create=function(e){if(!ss.isValue(e)){return null}return new by.$ctor1(e)};global.tab.CommandsPresModelWrapper=by;var bz=function(){this.commandNamespace='';this.commandName=''};bz.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bz;var bA=function(){};bA.__typeName='tab.CommandUtils';bA.newCommand=function(e,gZ){var ha={commandName:e,commandNamespace:'tabdoc'};if(ss.isValue(gZ)){ha.commandParams=gZ}return ha};bA.newCommand$1=function(e,gZ){var ha={commandName:e,commandNamespace:'tabsrv'};if(ss.isValue(gZ)){ha.commandParams=gZ}return ha};bA.addVisualIdToCommand=function(e,gZ){if(tab.MiscUtil.isNullOrEmpty$1(gZ.Hna)){e['AVP']=gZ.AVP;if(ss.isValue(gZ.XwZ)&&gZ.XwZ.toString().length>0){e['XwZ']=gZ.XwZ}}else{e['J_M']=JSON.stringify(gZ)}};bA.addStoryPointToCommand=function(e,gZ){if(ss.isValue(gZ.Hna)){e['Hna']=gZ.Hna;e['WIZ']=gZ.WIZ.toString();e['hVl']=gZ.hVl.toString()}};bA.duplicateCommand=function(e){var gZ={};$.extend(true,gZ,e);return gZ};bA.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();var gZ=$.Deferred();gZ.promise().pipe(function(ha){if(_.isObject(ha)&&'XAS'.toString()in ha){var hb=ha['XAS'.toString()];var hc=bu.handleRedirect(hb,ha);hc.pipe(function(){e.resolve(ha);return ha},function(){e.reject();return ha})}else{e.resolve(ha)}return ha},function(){e.reject();return null});return bn.deferredSuccessHandler(Object).call(null,gZ)};bA.executeSimpleCommand$1=function(e){return function(gZ,ha){var hb=$.Deferred();var hc=$.Deferred().done([function(hd){hb.resolve(hd)}]).fail([function(hd){hb.reject.apply(hb,null)}]);fh.executeServerCommand(bw.deserialize(fF.create(gZ).get_simpleCommand()),ha,bA.createCommandRedirectSuccessHandler(hc),function(hd){hb.reject.apply(hb,null)});return hb}};bA.executeSimpleCommand=function(e,gZ){return bA.executeSimpleCommand$1(Object).call(null,e,gZ)};global.tab.CommandUtils=bA;var bB=function(e,gZ){this.$2=null;this.$1=null;this.$2=e;this.$1=gZ};bB.__typeName='tab.CommentingServer';global.tab.CommentingServer=bB;var bC=function(e){this.$1=null;this.$2=null;this.$2$1=null;dX.call(this,e,new ez('_Ja'.toString()));this.$1=new fS(this);this.$2=new fS(this);this.$2.get_tableCalcIdentifier().update({cMO:'secondary',HBp02:''})};bC.__typeName='tab.CompoundTableCalcModel';bC.$0=function(e,gZ){if(ss.isValue(e)&&ss.isValue(e.qGT)&&e.qGT.length>gZ){return e.qGT[gZ]}return null};global.tab.CompoundTableCalcModel=bC;var bD=function(){ss.makeGenericType(L,[Object,bE]).call(this)};bD.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=bD;var bE=function(e){this.$c=null;this.$c=e};bE.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=bE;var bF=function(e){this.$3=null;this.$2=null;this.$1=null;cx.call(this,e)};bF.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=bF;var bG=function(e){this.$2=null;this.$1=null;cx.call(this,e)};bG.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=bG;var bH=function(e){this.$1=null;cx.call(this,e)};bH.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=bH;var bI=function(e){this.$3$1=null;gf.call(this,e,new ez('Wlk'.toString()))};bI.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=bI;var bJ=function(e){this.$3=null;this.$3=e};bJ.__typeName='tab.CustomizedViewSession';bJ.buildUrl=function(e,gZ){var ha=gB.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){ha.updateForCustomizedView(e)}else{ha.set_originalView(true)}ha.removeHash();if(gZ){ha.removeAllQueryParams()}return ha.get_absoluteUri()};bJ.$0=function(e){var gZ=function(ha,hb,hc){if(!ss.isValue(e)){return}var hd=bJ.$1(ha);e((ss.isValue(hd)?hd:(hc.toString()||'')))};return gZ};bJ.$1=function(e){if(ss.isValue(e.responseText)){try{var gZ=JSON.parse(e.responseText);if('msg'in gZ){return gZ['msg']}}catch(ha){var e=ss.Exception.wrap(ha)}}return null};global.tab.CustomizedViewSession=bJ;var bK=function(e){this.$3$1=null;this.$3$2=null;gf.call(this,e,new ez('eTk'.toString()));this.set_referenceModel(new fU(this))};bK.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=bK;var bL=function(){};bL.__typeName='tab.DashboardCommands';bL.dropSheetOnDashboard=function(e,gZ,ha){var hb=bA.newCommand('drop-on-dashboard',null);hb.commandParams={};hb.commandParams['AVP']=e;hb.commandParams['$dg']=ss.coalesce(ha,false);hb.commandParams['XwZ']=tsConfig.current_sheet_name;hb.commandParams['jAM']='viz';hb.commandParams['cxk']={thj:gZ.x|0,RAC:gZ.y|0};return bn.SendCommandWithDeferredReturn(hb,'immediately')};bL.dropNewZoneObjectOnDashboard=function(e,gZ,ha,hb,hc,hd){var he=bA.newCommand('drop-on-dashboard',null);he.commandParams={};he.commandParams['$dg']=ss.coalesce(ha,false);he.commandParams['XwZ']=tsConfig.current_sheet_name;he.commandParams['jAM']=e;he.commandParams['oAu']=gZ;he.commandParams['cxk']={thj:hb.x|0,RAC:hb.y|0};if(ss.isValue(hd)){he.commandParams['XsN']=hd}if(ss.isValue(hc)){he.commandParams['UfB']=hc}return bn.SendCommandWithDeferredReturn(he,'immediately')};bL.setDashboardDeviceLayout=function(e){var gZ=new fn;gZ.c['XwZ']=tsConfig.current_sheet_name;gZ.c['hWn']=e;gZ.c['QXK']=true;gZ.set_uiBlocking('immediately');gZ.invoke()};bL.getSheetDragDropTargets=function(e){var gZ=new cO;gZ.c['XwZ']=tsConfig.current_sheet_name;gZ.set_uiBlocking('none');var ha=gZ;if(ss.isValue(e)){ha.c['BCp']=ss.unbox(e)|0}return ha.invoke()};bL.getThumbnailImage=function(e){var gZ=new cU;gZ.c['AVP']=e;gZ.set_uiBlocking('none');var ha=gZ;return ha.invoke()};bL.addNewObjectToDashboard=function(e,gZ,ha,hb,hc){var hd=bA.newCommand('add-object-to-dashboard',null);hd.commandParams={};hd.commandParams['XwZ']=tsConfig.current_sheet_name;hd.commandParams['jAM']=e;hd.commandParams['oAu']=gZ;hd.commandParams['$dg']=ss.coalesce(ha,false);if(ss.isValue(hc)){hd.commandParams['XsN']=hc}if(ss.isValue(hb)){hd.commandParams['UfB']=hb}bn.SendCommand(eK.create(hd,'immediately'))};bL.addSheetToDashboard=function(e,gZ){var ha=bA.newCommand('add-sheet-to-dashboard',null);ha.commandParams={};ha.commandParams['AVP']=e;ha.commandParams['$dg']=ss.coalesce(gZ,false);bn.SendCommand(eK.create(ha,'immediately'))};bL.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({OTU:'size-mode-auto',viO:'automatic'})}else{var gZ=new cQ;gZ.c['XwZ']=tsConfig.current_sheet_name;gZ.set_uiBlocking('none');gZ.invoke().pipe(function(ha){return e.resolve(ha.$c['_yu'])},function(ha){return e.reject()})}return e.promise()};bL.setDashboardSizeFixed=function(e,gZ,ha,hb,hc){var hd=function(he){var hf=he.makeMutablePresModel(hc,false);var hg={viO:'fixed',EUR:hb,rec:ha};hf._yu=hg};bL.$0(e,gZ,'fixed',ha,hb,ha,hb,hd)};bL.setDashboardSizeAutomatic=function(e,gZ){var ha=function(hb){var hc=hb.makeMutablePresModel(gZ,false);var hd={viO:'automatic'};hc._yu=hd};bL.$0(e,'no','automatic',0,0,0,0,ha)};bL.setDashboardSizeRange=function(e,gZ,ha,hb,hc,hd,he){var hf=function(hg){var hh=hg.makeMutablePresModel(he,false);var hi={viO:'range',McJ:ss.coalesce(hd,0),PiK:ss.coalesce(hc,0),pAn:ss.coalesce(hb,0),EVq:ss.coalesce(ha,0)};hh._yu=hi};bL.$0(e,gZ,'range',ss.coalesce(ha,0),ss.coalesce(hb,0),ss.coalesce(hc,0),ss.coalesce(hd,0),hf)};bL.$0=function(e,gZ,ha,hb,hc,hd,he,hf){var hg=new fp;hg.c['gKD']=gZ;hg.c['XwZ']=e;hg.c['EVq']=hb|0;hg.c['pAn']=hc|0;hg.c['PiK']=hd|0;hg.c['McJ']=he|0;hg.c['viO']=ha;hg.set_localWork(hf);hg.set_uiBlocking('immediately');hg.invoke()};bL.showDashboardTitle=function(e){var gZ=new fD;gZ.c['XwZ']=e;gZ.set_uiBlocking('immediately');var ha=gZ;ha.invoke()};bL.getUrlSubstitutionParameters=function(){var e=new cW;e.c['XwZ']=tsConfig.current_sheet_name;return e.invoke()};bL.isWebZoneUrlValid=function(e){var gZ=new dy;gZ.c['VvY']=e;gZ.set_uiBlocking('immediately');return gZ.invoke()};global.tab.DashboardCommands=bL;var bM=function(e){this.$e={};this.$9=null;this.$c=0;this.$a=null;this.$d=null;this.$f=null;this.$b=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.autoUpdate=false;this.invalid=false;dX.call(this,e,new ez('mmK'.toString()));this.invalid=false;this.zonesModel=new gY(this);this.$c=0};bM.__typeName='tab.DashboardModel';bM.add_modifiedSheetsChanged=function(e){bM.$2$1=ss.delegateCombine(bM.$2$1,e)};bM.remove_modifiedSheetsChanged=function(e){bM.$2$1=ss.delegateRemove(bM.$2$1,e)};bM.$1=function(e,gZ){var ha=e.length;var hb=new Set;for(var hc=0;hc<e.length;hc++){var hd=e[hc];var he=gZ[hd];var hf=[];if(!he.get_selectionsModel().tupleSelection.isEmpty||he.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(hf,F.getApplicableActions(hd,'on-select','highlight'));ss.arrayAddRange(hf,F.getApplicableActions(hd,'explicitly','highlight'))}if(!he.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(hf,F.getApplicableActions(hd,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty(hf)){var hg=p.$0(hd,hf,he.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,hb,tab.SetUtilities.getValues(Object).call(null,hg));if(hb.size===ha){return hb}}}return hb};bM.$0=function(){if(!ss.staticEquals(bM.$2$1,null)){bM.$2$1()}};global.tab.DashboardModel=bM;var bN=function(){this.$1=false;dX.call(this,null,null);this.$1=false};bN.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=bN;var bO=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;dX.call(this,e,new ez('OJ$'.toString()))};bO.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=bO;var bP=function(e){this.$2$1=null;dX.call(this,e,new ez('_yu'.toString()))};bP.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=bP;var bQ=function(){var e=[];e.push(gm.currentUser());bQ.$ctor2.call(this,{},{},e)};bQ.__typeName='tab.DataAlert';bQ.$ctor2=function(e,gZ,ha){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=false;this.$2=e;this.$1=gZ;this.set_recipients(ha)};bQ.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=false;this.set_selectionCaption(e.R_X);this.set_measurePresModel(e.oFX);this.set_conditionPresModel({Fcc:e.Fcc,Aee:e.Aee,tbM02:e.tbM02});this.set_threshold(e.Aee);this.set_alertConditionMet(e.TZk);var gZ=[];gZ.push(gm.currentUser());this.set_recipients(gZ)};global.tab.DataAlert=bQ;var bR=function(){};bR.__typeName='tab.DataAlertCommands';bR.newDataAlert=function(e){(new fK).invoke().fail(function(){e()})};bR.updateDataAlert=function(e){var gZ=$.Deferred();if(e.get_thresholdIsValid()){var ha=new gi;ha.c['Aee']=e.get_conditionPresModel().Aee;ha.c['Fcc']=e.get_conditionPresModel().Fcc;ha.invoke().done(function(hb){gZ.resolve(hb.$c['TZk'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{gZ.resolve(e.get_alertConditionMet())}return gZ};bR.closeDataAlertDialog=function(){(new bj).invoke().done(function(e){}).fail(function(){throw new ss.Exception('Failed to close the dialog')})};global.tab.DataAlertCommands=bR;var bS=function(){};bS.__typeName='tab.DataAlertConditionOperation';bS.supportedOperations=function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e};bS.displayString=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};global.tab.DataAlertConditionOperation=bS;var bT=function(e){dX.call(this,e,new ez('GLi'.toString()))};bT.__typeName='tab.DataAlertDialogModel';global.tab.DataAlertDialogModel=bT;var bU=function(){};bU.__typeName='tab.DataAlertNotificationInterval';bU.convertToString=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};bU.supportedIntervals=function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e};global.tab.DataAlertNotificationInterval=bU;var bV=function(e){this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,e,null);this.$1=[]};bV.__typeName='tab.DataConnectionAreaModel';global.tab.DataConnectionAreaModel=bV;var bW=function(){};bW.__typeName='tab.DataConnectionCommands';bW.acceptConnectionVariables=function(e){var gZ=new fr;gZ.c['cmV02']=e;gZ.set_uiBlocking('immediately');gZ.invoke()};bW.editVariableByIndex=function(e,gZ,ha,hb,hc,hd){var he={};he['cmV02']=e;he['tLJ']=gZ;he['Ab$']=ha;he['dJp']=hb;he['esa']=hc;he['fgO']=hd;bn.SendCommand(eK.create(bA.newCommand('set-variable-value-by-index',he),'immediately'))};bW.editVariableByInput=function(e,gZ,ha,hb,hc){var hd={};hd['cmV02']=e;hd['tLJ']=gZ;hd['Ab$']=ha;hd['dJp']=hb;hd['vau']=hc;bn.SendCommand(eK.create(bA.newCommand('set-variable-value-shim',hd),'immediately'))};bW.addVariable=function(e,gZ){var ha=$.Deferred();var hb={};hb['cmV02']=e;hb['tLJ']=gZ;bn.SendCommand(eK.create(bA.newCommand('add-new-variable-value',hb),'immediately',bn.deferredSuccessHandler(ss.Int32).call(null,ha),function(hc){ha.reject()}));return ha.promise()};bW.deleteVariable=function(e,gZ,ha,hb){var hc={};hc['cmV02']=e;hc['tLJ']=gZ;hc['Ab$']=ha;bn.SendCommand(eK.create(bA.newCommand('delete-variable-value',hc),'immediately',function(hd){hb()}))};bW.openDataConnectionArea=function(){dX.nonWorldUpdate(function(e){K.get_instance().get_workbook().get_dataConnectionModel().update(e)})};bW.addPublishedDataSourceConnection=function(e,gZ,ha){var hb=new G;hb.c['YnR']=e.get_repositoryUrl();hb.c['_Zu02']=e.get_name();hb.set_uiBlocking('immediatelySubtle');hb.invoke().fail(ha).done(function(hc){bn.SendCommand(new w(function(hd){K.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(hd.modelUpdateContext,hc.$c['UyO02'])}));gZ()})};bW.setActiveConnectionName=function(e,gZ){var ha={};ha['cmV02']=e;var hb='set-active-connection-name';var hc=bA.newCommand(hb,ha);var hd=null;hd=function(he){gZ.cmV02=e};bn.SendCommand(new bh('afterDelay',hd,hc))};bW.connectionAddNewTable=function(e,gZ){var ha={};ha['cmV02']=e;ha['yG$02']=gZ;var hb='connection-add-new-table';var hc=bA.newCommand(hb,ha);bn.SendCommand(new bh('immediatelySubtle',null,hc))};bW.getDataSourceDataPresModel=function(e,gZ,ha){var hb={};hb['UyO02']=e;hb['Ybe']=false;var hc=bA.newCommand('get-datasource-data-pres-model',hb);fh.executeServerCommand(hc,'none',function(hd){gZ(hd)},ha)};bW.getConnectionTypeGroupPresModel=function(e,gZ,ha){var hb={};hb['tnW']=e;var hc=bA.newCommand$1('get-supported-connection-types',hb);fh.executeServerCommand(hc,'none',function(hd){gZ(hd)},ha)};global.tab.DataConnectionCommands=bW;var bX=function(e){this.$2=null;dX.call(this,e,new ez('_$p'.toString()))};bX.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=bX;var bY=function(e){dX.call(this,e,new ez('AlT'.toString(),1))};bY.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=bY;var bZ=function(e,gZ){this.$3=null;this.$2=null;dX.call(this,e,new ez(gZ.toString()))};bZ.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=bZ;var ca=function(e){dX.call(this,e,new ez('mFS'.toString(),1))};ca.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=ca;var cb=function(e,gZ){dX.call(this,e,new ez(gZ.toString()))};cb.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=cb;var cc=function(e){this.$2=null;dX.call(this,e,new ez('vZU'.toString()))};cc.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=cc;var cd=function(e){this.$3=null;this.$2$1=null;dX.call(this,e,new ez('AEl'.toString()))};cd.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=cd;var ce=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;dX.call(this,e,new ez('dJ$1'.toString()));this.dataSources=null};ce.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=ce;var cf=function(e,gZ){this.$1=null;this.$2=0;this.$2$1=null;this.baseColumnsModel=null;dX.call(this,e,new ez(gZ,0));this.baseColumnsModel=new cy('Dfq',this)};cf.__typeName='tab.DataSourceModel';cf.splitGlobalFieldName=function(e){return cf.$0(e).split('].[')};cf.$0=function(e){var gZ=e;if(gZ.length>=2&&gZ.charCodeAt(0)===91&&gZ.charCodeAt(gZ.length-1)===93){return gZ.substr(1,gZ.length-2)}return gZ};global.tab.DataSourceModel=cf;var cg=function(e){this.$1=null;dX.call(this,e,new ez('dhm'.toString()));this.$1={}};cg.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=cg;var ch=function(e,gZ){this.$5=null;this.$6=null;this.$5=e;this.$6=gZ};ch.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=ch;var ci=function(){this.$1=false;this.$0=false};ci.__typeName='tab.DeferLayoutImpl';ci.get_instance=function(){if(ss.isNullOrUndefined(ci.$0)){ci.$0=new ci}return ci.$0};global.tab.DeferLayoutImpl=ci;var cj=function(e){this.$2=null;this.$3=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$2=e};cj.__typeName='tab.DeferredConnectionsCommandHandler';cj.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};cj.$0=function(e){var gZ={};gZ['exception']='DataSourceException';gZ['name']=e.Fnn;gZ['message']=e.zRk;gZ['type']=e.ppl;gZ['authoring']=tsConfig.is_authoring;gZ['attributes']=e.uEl;var ha=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);ha=ss.formatString('{0}path={1}',ha,encodeURIComponent(tsConfig.requestURI));ha=ss.formatString('{0}&attributes={1}',ha,encodeURIComponent(JSON.stringify(gZ)));return ha};cj.$1=function(e){e=e.toLowerCase();var gZ=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return gZ};global.tab.DeferredConnectionsCommandHandler=cj;var ck=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};ck.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=ck;var cl=function(){this.$0=null;this.exceptionHandler=null};cl.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=cl;var cm=function(e){this.$1=null;this.$2=null;this.$2$1=null;dX.call(this,e,new ez('N_b'.toString()));this.$1=[];this.$2=new k(new j(this))};cm.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=cm;var cn=function(e){this.$3$1=null;this.$3$2=null;gf.call(this,e,new ez('_fE'.toString()));this.set_referenceModel(new fU(this))};cn.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=cn;var co=function(){};co.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=co;var cp=function(e){this.$1=null;cx.call(this,e)};cp.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=cp;var cq=function(e,gZ){this.$2$1=null;dX.call(this,e,new ez(gZ.toString()))};cq.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=cq;var cr=function(e){this.$0=null;this.$0=e.slice(0)};cr.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=cr;var cs=function(){};cs.__typeName='tab.ExportServerCommands';cs.exportImage=function(e,gZ,ha,hb,hc){var hd={};if(ss.isValue(e)){hd['Gge']=e}hd['hVl']=gZ;hd['PUt']=JSON.stringify(hb);var he=hc.length;var hf=new Array(he);for(var hg=0;hg<he;hg++){var hh={};hh.thj=ss.round(hc[hg].x);hh.RAC=ss.round(hc[hg].y);hf[hg]=hh}hd['Pzc']=JSON.stringify(hf);var hi=bA.newCommand$1('png-export-server',hd);fh.executeServerCommand(hi,'immediately',function(hj){var hk=hj;var hl=bn.get().get_legacySession();hl.fileDownloadHelper.openDownload(hl.formatSessionTempfileReference(hk.uvn,true,true),ha)},null)};global.tab.ExportServerCommands=cs;var ct=function(){};ct.__typeName='tab.ExtraHtmlMarkupRemover';ct.stripOutMarkup=function(e){if(ss.isNullOrEmptyString(e)){return e}var gZ=[];gZ.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));gZ.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var ha=gZ;for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];e=e.replace(hc,'')}return e};global.tab.ExtraHtmlMarkupRemover=ct;var cu=function(){};cu.__typeName='tab.FailureHandler';cu.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var gZ={};var ha=e[0].url;var hb=e[0].userAgent;var hc=0;for(var hd=0;hd<e.length;hd++){var he=e[hd];gZ['Error #'+hc.toString()]=cu.postContentForStackTrace(he);hc++}bn.get().get_legacySession().$7(ha,hb,gZ)}};cu.postContentForStackTrace=function(e){var gZ=new ss.StringBuilder;gZ.appendLine('name: '+e.name);gZ.appendLine('message: '+e.message);gZ.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){gZ.appendLine('stack:');for(var ha=0;ha<e.locations.length;ha++){var hb=e.locations[ha];if(ss.isNullOrUndefined(hb.url)&&ss.isNullOrUndefined(hb.lineNo)&&ss.isNullOrUndefined(hb.functionName)){continue}gZ.appendLine();gZ.append(hb.url+':'+hb.lineNo+','+hb.columnNo+' '+hb.functionName);if(ss.isValue(hb.context)&&hb.context.length>0){for(var hc=0;hc<hb.context.length;hc++){var hd=hb.context[hc];var he=hd;if(hd.length>120){if(ss.isValue(hb.functionName)&&hd.indexOf(hb.functionName)>0){var hf=hd.indexOf(hb.functionName);var hg=Math.max(0,hf-60);var hh=Math.min(hg+120,hd.length-1);he=hd.substring(hg,hh)}else{he=hd.substr(0,120)}}gZ.append('    '+he.trim())}}}}return gZ.toString()};cu.dispose=function(){cu.reportFailures();window.clearInterval(cu.$2);cu.$2=-1};global.tab.FailureHandler=cu;var cv=function(e){cx.call(this,e)};cv.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=cv;var cw=function(){};cw.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=cw;var cx=function(e){dX.call(this,e,new ez('Dkx'.toString()))};cx.__typeName='tab.FieldModel';global.tab.FieldModel=cx;var cy=function(e,gZ){this.$9=null;this.$e=null;this.$d=null;this.$c=null;this.$a=null;this.$b=null;this.fieldsChanged=null;this.rootFields=null;dX.call(this,gZ,new ez(e,0));this.$b=gZ;this.$9={};this.$e={};this.$d={};this.$c={}};cy.__typeName='tab.FieldsModel';global.tab.FieldsModel=cy;var cz=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};cz.__typeName='tab.FifoCache';global.tab.FifoCache=cz;var cA=function(e,gZ){this.$2=null;this.$3=null;this.$2=e;this.$3=gZ};cA.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=cA;var cB=function(){};cB.__typeName='tab.FilterClientCommands';cB.setQuantitativeFilterRange=function(e,gZ,ha,hb,hc){var hd=bA.newCommand('range-filter',{});bA.addVisualIdToCommand(hd.commandParams,e);hd.commandParams['lYz']=gZ;if(ss.isValue(ha)){hd.commandParams['wuE']=ha.toString()}if(ss.isValue(hb)){hd.commandParams['UrU']=hb.toString()}hd.commandParams['$mT']=hc.toString();fh.executeServerCommand(hd,'immediately')};cB.setCategoricalFilterValues=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,e);hd['lYz']=gZ;hd['CCe']=JSON.stringify(hb||[]);hd['Txq']=ha.toString();hd['jAj']=hc;fh.executeServerCommand(bA.newCommand('categorical-filter',hd),'immediately')};cB.setCategoricalFilterValuesByIndex=function(e,gZ,ha,hb){if(!ss.isValue(ha)){ha='filter-replace'}if(!ss.isValue(hb)){hb=[]}var hc={};bA.addVisualIdToCommand(hc,e);hc['lYz']=gZ;hc['UGd']=JSON.stringify(hb);hc['Txq']=ha.toString();fh.executeServerCommand(bA.newCommand('categorical-filter-by-index',hc),'immediately')};cB.modifyCategoricalFilterValues=function(e,gZ,ha,hb,hc){if((!ss.isValue(ha)||ha.length===0)&&(!ss.isValue(hb)||hb.length===0)){return}var hd={};bA.addVisualIdToCommand(hd,e);hd['lYz']=gZ;if(ss.isValue(ha)&&ha.length>0){hd['eob']=JSON.stringify(ha)}if(ss.isValue(hb)&&hb.length>0){hd['BkY']=JSON.stringify(hb)}hd['Txq']='filter-delta'.toString();if(hc){hd['AQ$']='filter-update-custom-domain'.toString()}fh.executeServerCommand(bA.newCommand('categorical-filter',hd),'immediately')};cB.modifyCategoricalFilterValuesByIndex=function(e,gZ,ha,hb){if((!ss.isValue(ha)||ha.length===0)&&(!ss.isValue(hb)||hb.length===0)){return}var hc={};bA.addVisualIdToCommand(hc,e);hc['lYz']=gZ;if(ss.isValue(ha)){hc['Vjd']=JSON.stringify(ha)}if(ss.isValue(hb)){hc['ob_']=JSON.stringify(hb)}hc['Txq']='filter-delta'.toString();fh.executeServerCommand(bA.newCommand('categorical-filter-by-index',hc),'immediately')};cB.setCategoricalQuickFilterMode=function(e,gZ,ha){var hb={};bA.addVisualIdToCommand(hb,e);hb['etp']=ha.toString();hb['HBp02']=gZ;fh.executeServerCommand(bA.newCommand('categorical-quick-filter-mode',hb),'immediately')};cB.setCategoricalQuickFilterDomain=function(e,gZ,ha){var hb={};bA.addVisualIdToCommand(hb,e);hb['tWP']=ha.toString();hb['HBp02']=gZ;fh.executeServerCommand(bA.newCommand('domain-quick-filter',hb),'immediately')};cB.setPatternFilterState=function(e,gZ,ha){var hb={};bA.addVisualIdToCommand(hb,e);hb['QZc']=ha;hb['HBp02']=gZ;fh.executeServerCommand(bA.newCommand('categorical-quick-filter-pattern',hb),'immediately')};cB.addManualFilterItems=function(e,gZ,ha){var hb={Lox02:0,dMo02:''};var hc={tbM02:'cstring',KSc02:hb};var hd=ha['tuples'];var he=[];for(var hf=0;hf<hd.length;hf++){var hg=hd[hf];he.push(hg['d'])}hc.uBu02=he;var hh={};bA.addVisualIdToCommand(hh,e);hh['xaM']=JSON.stringify(hc);hh['HBp02']=gZ;fh.executeServerCommand(bA.newCommand('add-manual-items-to-filter',hh),'immediately')};cB.levelDrill=function(e,gZ,ha,hb){var hc={};bA.addVisualIdToCommand(hc,e);if(tab.FeatureFlags.isEnabled('DrillUpWeb')){hc['jml']=hb.toString()}else{hc['LIP']=hb.toString()}hc['Ene']=ha.toString();hc['rsY']=gZ.toString();fh.executeServerCommand(bA.newCommand('level-drill-up-down',hc),'immediately')};cB.updateCategoricalFilter=function(e){if(!K.get_instance().get_isLocalRenderMode()){return}var gZ=function(){return true};var ha=function(hb,hc){var hd=gv.lookupAlias(hc,hb,K.get_instance().get_dataDictionary());return!e.includesValue(hd)};cB.$5(e.get_filterField(),e.get_targetSheets(),gZ,ha,true)};cB.updateQuantitativeFilter=function(e){if(!K.get_instance().get_isLocalRenderMode()){return}var gZ=function(){var hb=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var hc=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return hb&&hc};var ha=function(hb,hc){var hd=gv.lookupRawDataValue(hc,hb,K.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(hd)||hd==='%null%'){return false}if(hb.get_dataType()==='date'||hb.get_dataType()==='datetime'){var he=tab.DateUtil.parsePresModelDate(hd);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(he))}else{return!e.valueInRange(parseFloat(hd))}};cB.$5(e.get_filterField(),e.get_targetSheets(),gZ,ha,false)};cB.applyFilter=function(e,gZ,ha){var hb=e.get_vizDataModel();var hc=hb.getVizDataField(gZ);var hd=function(he){return ha(hc,he)};return hc.tupleIdsThatPass(hd)};cB.doRelativeDateQuickFilter=function(e,gZ,ha,hb,hc){var hd=cB.createDoRelativeDateQuickFilterParams(e,gZ,ha,hb,hc);fh.executeServerCommand(bA.newCommand('relative-date-filter',hd),'immediately')};cB.doLevelHierarchialFilter=function(e,gZ,ha,hb,hc){var hd=cB.$2(e,gZ,ha,hb,hc);fh.executeServerCommand(bA.newCommand('hierarchical-filter',hd),'immediately')};cB.doMemberHierarchialFilter=function(e,gZ,ha,hb,hc){var hd=cB.$3(e,gZ,ha,hb,hc);fh.executeServerCommand(bA.newCommand('hierarchical-filter',hd),'immediately')};cB.doRangeHierarchialFilter=function(e,gZ,ha,hb,hc){var hd=cB.$4(e,gZ,ha,hb,hc);fh.executeServerCommand(bA.newCommand('hierarchical-filter',hd),'immediately')};cB.resetQuantitativeFilter=function(e,gZ){for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=ea.getVisualModel(K.get_instance(),hb);if(ss.isNullOrUndefined(hc)){continue}if(cB.$0(e,hb)){var hd=[];hc.setFilteredTuples(e,hd);hc.setHiddenTuples(e,hd)}gt.validateVisualModel(hc)}};cB.createDoRelativeDateQuickFilterParams=function(e,gZ,ha,hb,hc,hd,he){var hf={};bA.addVisualIdToCommand(hf,e);hf['lYz']=gZ;hf['JAO']=ha;hf['woa']=hb;if(hb==='lastn'||hb==='nextn'){hf['lZR']=hc}if(ss.isValue(hd)){hf['wNn']=hd}if(ss.isValue(he)){hf['$mT']=he}return hf};cB.$2=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,e);var he={};he['Wzq']=ha;he['Gzj']=hb;hd['lYz']=gZ;hd['LG_']=he;hd['Txq']=hc;return hd};cB.$3=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,e);var he={};he['eob']=ha;he['BkY']=hb;hd['lYz']=gZ;hd['LG_']=he;hd['Txq']=hc;return hd};cB.$4=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,e);var he={};he['Ni$']=ha;he['yeE']=hb;hd['lYz']=gZ;hd['LG_']=he;hd['Txq']=hc;return hd};cB.$0=function(e,gZ){var ha=ea.getVisualModel(K.get_instance(),gZ);return cB.$1(ha,e)};cB.$1=function(e,gZ){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(gZ)}return false};cB.$5=function(e,gZ,ha,hb,hc){var hd=new w(function(he){for(var hf=0;hf<gZ.length;hf++){var hg=gZ[hf];var hh=ea.getVisualModel(K.get_instance(),hg);if(ss.isNullOrUndefined(hh)){continue}var hi=cB.$1(hh,e);if(!hi||!ha()||ss.isNullOrUndefined(hh.get_vizDataModel().getVizDataField(e))){if(!hc){ea.setVisualValidStateOnModel(he,hh,false)}}else{var hj=[];hj=cB.applyFilter(hh,e,hb);hh.setFilteredTuples(e,hj);if(!hc){hh.setHiddenTuples(e,hj)}ea.setVisualValidStateOnModel(he,hh,true)}}});hd.set_commandName((hc?'categorical-filter'.toString():'range-filter'.toString()));bn.SendCommand(hd)};global.tab.FilterClientCommands=cB;var cC=function(e){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('XIo'.toString()));this.$1=new fO(this);if((!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache'))&&ss.isNullOrUndefined(cC.presModelCache)){cC.presModelCache=new fP}};cC.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=cC;var cD=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,e,new ez('lRq'.toString()));this.$3=[]};cD.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=cD;var cE=function(){};cE.__typeName='tab.FloatingToolbarClientCommands';cE.setDefaultMapToolSelectionCommand=function(e){var gZ=bA.newCommand('default-map-tool-selection',null);gZ.commandParams={};gZ.commandParams['DpY']=e;bn.SendCommand(new eK(gZ,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=cE;var cF=function(e){this.$1=null;cx.call(this,e)};cF.__typeName='tab.FolderModel';global.tab.FolderModel=cF;var cG=function(){};cG.__typeName='tab.FontNotificationUtil';cG.add_fontPropertiesIdentified=function(e){cG.$1$1=ss.delegateCombine(cG.$1$1,e)};cG.remove_fontPropertiesIdentified=function(e){cG.$1$1=ss.delegateRemove(cG.$1$1,e)};cG.add_allFontsFound=function(e){cG.$1$2=ss.delegateCombine(cG.$1$2,e)};cG.remove_allFontsFound=function(e){cG.$1$2=ss.delegateRemove(cG.$1$2,e)};cG.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var gZ=new dc;var ha={VzB:'rOX',tOA:e.tOA};cG.$6(gZ.extractFontFromPresModel(ha))};cG.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}cG.$6(cG.$3(e.xBc))};cG.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var gZ={};for(var ha=0;ha<e.cJ$.length;ha++){var hb=e.cJ$[ha];var hc=cG.$3(hb.LSs);for(var hd=0;hd<hc.length;hd++){var he=hc[hd];cG.$1(gZ,he)}}return _.values(gZ)};cG.notifyFontsFromUberTipDataPresModel=function(e){cG.$6(cG.getFontsFromUberTipDataPresModel(e))};cG.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}cG.$6(cG.$3(e.XjF))};cG.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var gZ={};cG.$1(gZ,cG.$4(e.ZBT));cG.$2(gZ,e.XjF);cG.$6(_.values(gZ))};cG.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var gZ={};cG.$1(gZ,cG.$4(e.mCc));cG.$1(gZ,cG.$4(e.viL));cG.$1(gZ,cG.$4(e._PQ));cG.$2(gZ,e.XjF);cG.$6(_.values(gZ))};cG.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}cG.$6(cG.$3(e.LSs))};cG.$3=function(e){var gZ={};cG.$2(gZ,e);return _.values(gZ)};cG.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sGS)){return new cH}var gZ=new cH;gZ.set_fontFamily(e.sGS);gZ.set_weight(ss.coalesce(e.cjf,''));gZ.set_style(ss.coalesce(e.BxQ,''));return gZ};cG.notifyFontsFromTextStylePresModel=function(e){var gZ=[];var ha=cG.$4(e);if(!ss.isNullOrEmptyString(ha.get_fontFamily())){gZ.push(ha)}cG.$6(gZ)};cG.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.Smu)){var gZ=e.Smu;var ha=gZ['font'];var hb=ha.uBu02.length;var hc={};for(var hd=0;hd<hb;hd++){cG.$0(hc,gZ,hd)}if(ss.getKeyCount(hc)>0){cG.$6(_.values(hc))}}};cG.$1=function(e,gZ){if(ss.isNullOrEmptyString(gZ.get_fontFamily())){return}e[gZ.get_hash()]=gZ};cG.$2=function(e,gZ){if(ss.isNullOrEmptyString(gZ)){return}var ha=$(gZ).find('[style]').addBack();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb].style.fontFamily;var hd=ha[hb].style.fontWeight;if(ss.isNullOrEmptyString(hc)){continue}var he=new cH;he.set_fontFamily(hc);he.set_weight(hd);cG.$1(e,he)}};cG.$0=function(e,gZ,ha){var hb='';var hc='';var hd='';if(ss.keyExists(gZ,'font_style')&&parseInt(gZ['font_style'].uBu02[ha].toString())===1){hc='italic'}if(ss.keyExists(gZ,'font_weight')&&parseInt(gZ['font_weight'].uBu02[ha].toString())===1){hb='bold'}if(ss.keyExists(gZ,'font')){hd=gZ['font'].uBu02[ha].toString()}if(ss.isNullOrEmptyString(hd)){return}var he=new cH;he.set_fontFamily(hd);he.set_weight(hb);he.set_style(hc);var hf=he;cG.$1(e,hf)};cG.$6=function(e){if(!ss.staticEquals(cG.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){cG.$1$1(e)}};cG.$5=function(){if(!ss.staticEquals(cG.$1$2,null)){cG.$1$2()}};global.tab.FontNotificationUtil=cG;var cH=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};cH.__typeName='tab.FontProperties';global.tab.FontProperties=cH;var cI=function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;cL.call(this,e)};cI.__typeName='tab.FormatContainerModel';cI.get_formatPaneModel=function(){return K.get_instance().get_workbook().get_formatPaneModel()};global.tab.FormatContainerModel=cI;var cJ=function(e){cL.call(this,e)};cJ.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=cJ;var cK=function(){};cK.__typeName='tab.FormatItemExtensions';cK.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=cK;var cL=function(e){this.$2$1=null;dX.call(this,e,new ez('Bbu'.toString()))};cL.__typeName='tab.FormatItemModel';cL.createModel=function(e,gZ,ha){switch(gZ.XHt){case'formatContainer':{var hb=new cI(e);hb.update(gZ,ha);return hb}case'formatControl':{var hc=new cJ(e);hc.update(gZ,ha);return hc}default:{return null}}};global.tab.FormatItemModel=cL;var cM=function(){ss.makeGenericType(L,[Object,cN]).call(this)};cM.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=cM;var cN=function(e){this.$c=null;this.$c=e};cN.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=cN;var cO=function(){ss.makeGenericType(L,[Object,cP]).call(this)};cO.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=cO;var cP=function(e){this.$c=null;this.$c=e};cP.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=cP;var cQ=function(){ss.makeGenericType(L,[Object,cR]).call(this)};cQ.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=cQ;var cR=function(e){this.$c=null;this.$c=e};cR.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=cR;var cS=function(){ss.makeGenericType(L,[Object,cT]).call(this)};cS.__typeName='tab.GetSortContextMenuCmd';global.tab.GetSortContextMenuCmd=cS;var cT=function(e){this.$c=null;this.$c=e};cT.__typeName='tab.GetSortContextMenuCmd$Response';global.tab.GetSortContextMenuCmd$Response=cT;var cU=function(){ss.makeGenericType(L,[Object,cV]).call(this)};cU.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=cU;var cV=function(e){this.$c=null;this.$c=e};cV.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=cV;var cW=function(){ss.makeGenericType(L,[Object,cX]).call(this)};cW.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=cW;var cX=function(e){this.$c=null;this.$c=e};cX.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=cX;var cY=function(){ss.makeGenericType(L,[Object,cZ]).call(this)};cY.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=cY;var cZ=function(e){this.$c=null;this.$c=e};cZ.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=cZ;var da=function(){ss.makeGenericType(L,[Object,db]).call(this)};da.__typeName='tab.GetWebQuantitativeColorDialogCmd';global.tab.GetWebQuantitativeColorDialogCmd=da;var db=function(e){this.$c=null;this.$c=e};db.__typeName='tab.GetWebQuantitativeColorDialogCmd$Response';global.tab.GetWebQuantitativeColorDialogCmd$Response=db;var dc=function(){};dc.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=dc;var dd=function(e){cv.call(this,e)};dd.__typeName='tab.GroupModel';global.tab.GroupModel=dd;var de=function(){ss.makeGenericType(L,[Object,df]).call(this)};de.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=de;var df=function(e){this.$c=null;this.$c=e};df.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=df;var dg=function(){};dg.__typeName='tab.HistoryManager';dg.setInitialState=function(e){var gZ=dg.$1(e,null);tab.HistoryUtil.replaceState(window.self,gZ.associatedState,null,null)};dg.addToHistory=function(e,gZ){var ha=dg.$1(e,gZ);tab.HistoryUtil.pushState(window.self,ha.associatedState,null,null);return ha};dg.$1=function(e,gZ){dg.$0();var ha={id:dg.$8,key:'_vql_state_'};var hb={onBack:e,onForward:gZ,id:dg.$8,associatedState:ha};dg.$8++;dg.$5.set(hb.id,hb);dg.$7=dg.$8;return hb};dg.$0=function(){if(dg.$7<dg.$8){for(var e=dg.$7+1;e<=dg.$8;e++){dg.$5.delete(e)}}};dg.$3=function(e){if(ss.isNullOrUndefined(e)){return}var gZ=e;if(ss.isNullOrUndefined(gZ.state)||ss.isNullOrUndefined(gZ.state.key)||gZ.state.key!=='_vql_state_'){return}dg.$4(gZ.state)};dg.$4=function(e){var gZ=e.id<dg.$7;var ha=dg.$5.get(e.id);if(ss.isNullOrUndefined(ha)){return}dg.$2(gZ,ha);dg.$7=e.id};dg.$2=function(e,gZ){if(e){if(!ss.staticEquals(gZ.onBack,null)){gZ.onBack()}}else if(!ss.staticEquals(gZ.onForward,null)){gZ.onForward()}};global.tab.HistoryManager=dg;var dh=function(){ss.makeGenericType(L,[Object,di]).call(this)};dh.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=dh;var di=function(e){this.$c=null;this.$c=e};di.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=di;var dj=function(){};dj.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=dj;var dk=function(){};dk.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=dk;var dl=function(){};dl.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=dl;var dm=function(){};dm.__typeName='tab.IDetachableNotificationHandler';global.tab.IDetachableNotificationHandler=dm;var dn=function(){};dn.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=dn;var dp=function(){};dp.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=dp;var dq=function(){};dq.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=dq;var dr=function(){};dr.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=dr;var ds=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};ds.__typeName='tab.ImageTileTracker';ds.$0=function(){ds.$2=ds.$2||new ds;return ds.$2};ds.$1=function(){return tab.Logger.lazyGetLogger(ds)};ds.incrementPendingCount=function(){ds.$0().$1++};ds.decrementPendingCount=function(){var e=ds.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var gZ=0;gZ<e.$0.length;gZ++){var ha=e.$0[gZ];try{ha()}catch(hb){var e=ss.Exception.wrap(hb)}}ds.reset()}}else{}};ds.callWhenImagesLoaded=function(e){if(ds.$0().$1===0){try{e()}catch(gZ){var e=ss.Exception.wrap(gZ)}}else{ds.$0().$0.push(e)}};ds.reset=function(){ds.$2=null};global.tab.ImageTileTracker=ds;var dt=function(e){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('wBL'.toString()));this.$1=e.get_zone()};dt.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=dt;var du=function(){};du.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=du;var dv=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null};dv.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=dv;var dw=function(){};dw.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=dw;var dx=function(){};dx.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=dx;var dy=function(){ss.makeGenericType(L,[Object,dz]).call(this)};dy.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=dy;var dz=function(e){this.$c=null;this.$c=e};dz.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=dz;var dA=function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e};dA.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=dA;var dB=function(e,gZ){this.moduleName=null;this.assemblyName=null;this.loadModuleOnDemand=false;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.dependencies=null;tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(gZ,e);this.loadModuleOnDemand=true};dB.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=dB;var dC=function(e,gZ){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('layer-encoding['+gZ+']'));this.$1=new dW(this)};dC.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=dC;var dD=function(e,gZ,ha){this.layoutid=null;M.call(this,e,ha);this.layoutid=gZ};dD.__typeName='tab.LayoutSession';global.tab.LayoutSession=dD;var dE=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};dE.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=dE;var dF=function(e){this.$5=null;this.$4=null;this.$2$1=null;this.rootNodes=null;dX.call(this,e,new ez('UcY'.toString()));this.$5={};this.$4={};this.rootNodes=[]};dF.__typeName='tab.LayoutTreeModel';dF.$0=function(e){var gZ={};if(ss.isValue(e)){for(var ha=0;ha<e.length;ha++){var hb=e[ha];gZ[hb.BCp]=new dE(hb)}}return gZ};global.tab.LayoutTreeModel=dF;var dG=function(e,gZ,ha,hb){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=gZ;this.$2=ha;if(ss.isValue(hb)){this.$4=hb}else{this.$4=[]}};dG.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=dG;var dH=function(e,gZ){dI.call(this,e,gZ)};dH.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=dH;var dI=function(e,gZ){this.$2$1=null;dX.call(this,e,new ez('filter['+gZ.name.join('_')+']'));this.pm=gZ};dI.__typeName='tab.LegacyFilterModel';dI.$1=function(e){if(ss.isValue(e)){var gZ={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(gZ)}return false};dI.isQuantitativeTimestampFilter=function(e,gZ,ha){var hb=dI.$1(gZ)||dI.$1(ha);if(!hb&&ss.isValue(e)){if(ss.isValue(e.data)){hb=hb||dI.$1(e.data.min)||dI.$1(e.data.max)}if(!hb&&ss.isValue(e.range)){hb=hb||dI.$1(e.range.min)||dI.$1(e.range.max)}}return hb};dI.$0=function(e){return e.t==='t'||e.t==='d'};dI.isQuantitativeDateFilter=function(e,gZ,ha){if(ss.isValue(gZ)){return dI.$0(gZ)}else if(ss.isValue(ha)){return dI.$0(ha)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return dI.$0(e.data.min)}else if(ss.isValue(e.data.max)){return dI.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return dI.$0(e.range.min)}else if(ss.isValue(e.range.max)){return dI.$0(e.range.max)}}}return false};dI.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};dI.timestampsWithSameDateOrNull=function(e){var gZ=null;for(var ha=0;ha<e.length;ha++){var hb=e[ha];if(ss.isNullOrUndefined(hb)||hb.s==='n'||ss.isNullOrUndefined(hb.v)&&hb.t==='t'){continue}if(!dI.isNormalValue(hb)||hb.t!=='t'){return false}var hc=(ss.Nullable$1.ge(hb.v,0)?Math.floor(hb.v):Math.ceil(hb.v));if(ss.isValue(gZ)&&hc!==gZ){return false}gZ=hc}return ss.isValue(gZ)};global.tab.LegacyFilterModel=dI;var dJ=function(e,gZ){dI.call(this,e,gZ)};dJ.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=dJ;var dK=function(e){this.$2$1=null;dX.call(this,e,new ez('KmA'.toString()))};dK.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=dK;var dL=function(e,gZ){dI.call(this,e,gZ)};dL.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=dL;var dM=function(e){this.$2=null;this.$3=null;this.$2$1=null;dX.call(this,e,new ez('quickFilterDisplay'))};dM.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=dM;var dN=function(e,gZ){dI.call(this,e,gZ)};dN.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=dN;var dO=function(e,gZ){this.$1=0;this.$0=0;eH.call(this);if(e<=gZ){this.$1=e;this.$0=gZ}else{this.$1=gZ;this.$0=e}};dO.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=dO;var dP=function(e,gZ,ha,hb){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=gZ;this.$3=ha;this.$2=hb};dP.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=dP;var dQ=function(e,gZ){var ha=function(hb){this.$0={};this.$2=new(ss.makeGenericType(i,[ss.makeGenericType(g,[e,gZ])]));this.$1=0;this.$1=hb};ss.registerGenericClassInstance(ha,dQ,[e,gZ],{add:function(hb,hc){var hd=this.$0[hb];if(ss.isValue(hd)){this.delete$1(hb)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}hd=new(ss.makeGenericType(h,[ss.makeGenericType(g,[e,gZ])]))(new(ss.makeGenericType(g,[e,gZ]))(hb,hc));this.$0[hb]=hd;this.$2.$0(hd)},get:function(hb){var hc=this.$0[hb];if(ss.isValue(hc)){this.$2.$1(hc);this.$2.$0(hc);return hc.$0.$1}return ss.getDefaultValue(gZ)},has:function(hb){return ss.keyExists(this.$0,hb)},delete$1:function(hb){if(!this.has(hb)){return}var hc=this.$0[hb];delete this.$0[hb];this.$2.$1(hc)},clear:function(){var hb=_.keys(this.$0);for(var hc=0,hd=hb.length;hc<hd;hc++){this.delete$1(hb[hc])}}},function(){return null},function(){return[]});return ha};dQ.__typeName='tab.LruCache$2';ss.initGenericClass(dQ,a,2);global.tab.LruCache$2=dQ;var dR=function(e){this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez('reB'.toString()));this.pm={}};dR.__typeName='tab.MapOptionsInfoModel';global.tab.MapOptionsInfoModel=dR;var dS=function(e){this.$2$1=null;dX.call(this,e,new ez('Du$'.toString()))};dS.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=dS;var dT=function(e){this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez('RFX'.toString()));this.$3=new eG(this);this.$2=new dS(this)};dT.__typeName='tab.MapServerModel';global.tab.MapServerModel=dT;var dU=function(){fJ.call(this,null,null,null,null,null)};dU.__typeName='tab.MarginDefinition';dU.$ctor1=function(e){fJ.call(this,e.GjL,e.Ptr,e.YCW,e.Ymv,e.Cc$)};global.tab.MarginDefinition=dU;var dV=function(e){this.$3=[];this.$2=null;this.$2$1=null;dX.call(this,e,new ez('Inn'.toString()))};dV.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=dV;var dW=function(e){this.$2=null;this.$3=null;this.$2$1=null;dX.call(this,e,new ez('DOI'.toString()));this.$2=e};dW.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=dW;var dX=function(e,gZ){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=gZ};dX.__typeName='tab.Model';dX.nonWorldUpdate=function(e){var gZ=new cl;try{e({eventHandler:gZ})}finally{if(ss.isValue(gZ)){gZ.dispose()}}};global.tab.Model=dX;var dY=function(e){var gZ=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(gZ,dY,[e],{$2:function(ha){this.$1$1=ss.delegateCombine(this.$1$1,ha)},$3:function(ha){this.$1$1=ss.delegateRemove(this.$1$1,ha)},$6:function(ha){this.$1$2=ss.delegateCombine(this.$1$2,ha)},$7:function(ha){this.$1$2=ss.delegateRemove(this.$1$2,ha)},$4:function(ha){this.$1$3=ss.delegateCombine(this.$1$3,ha)},$5:function(ha){this.$1$3=ss.delegateRemove(this.$1$3,ha)},get_model:function(){return this.$1},set_model:function(ha){var hb=this.$1;this.$1=ha;if(!ss.referenceEquals(hb,this.$1)){if(ss.isValue(hb)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(hb)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(ha){this.$4(ha);if(ss.isValue(this.$1)){ha()}return this},removeModelChangedHandler:function(ha){this.$5(ha)},addEventBinding:function(ha,hb){this.$2(ha);if(ss.isValue(this.$1)){ha(this.$1)}this.$6(hb);return this},removeEventBinding:function(ha,hb){this.$3(ha);this.$7(hb);if(!ss.staticEquals(hb,null)&&ss.isValue(this.$1)){hb(this.$1)}},createChildModelHolder:function(ha){return function(hb){var hc=new(ss.makeGenericType(dY,[ha]));hc.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var hd=null;if(ss.isValue(this.get_model())){hd=hb(this.get_model())}hc.set_model(hd)})));this.$0.add$1(hc);return hc}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(dZ,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return gZ};dY.__typeName='tab.ModelHolder$1';ss.initGenericClass(dY,a,1);global.tab.ModelHolder$1=dY;var dZ=function(e){var gZ=function(ha){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=ha};ss.registerGenericClassInstance(gZ,dZ,[e],{addModelChangedHandler:function(ha){this.$1.addModelChangedHandler(ha);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(ha)}));return this},addEventBinding:function(ha,hb){this.$1.addEventBinding(ha,hb);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(ha,hb)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return gZ};dZ.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(dZ,a,1);global.tab.ModelHolderContext$1=dZ;var ea=function(){};ea.__typeName='tab.ModelUtils';ea.getPendingZoneContentModel=function(e){if(!eB.get_progressiveLoadEnabled()){return null}var gZ=(bn.get_hasInstance()?bn.get():null);if(ss.isNullOrUndefined(gZ)||ss.isNullOrUndefined(gZ.get_loader())){return null}return gZ.get_loader().getPendingZoneContentModel(e)};ea.getViewSession=function(e){return ea.findContentDashboard().getViewSession(e)};ea.getModelsForViz=function(e){return function(gZ,ha){var hb=[];if(ss.isValue(gZ)){var hc=gZ.get_zoneModels();for(var hd=0;hd<hc.length;hd++){var he=hc[hd];if(ss.isInstanceOfType(he.get_model(),e)&&ss.referenceEquals(he.get_worksheetName(),ha.get_worksheetName())){hb.push(he.get_model())}}}return hb}};ea.getVisualModels=function(e){var gZ=ea.findContentDashboard(e);return ea.getVisualModelsFromDashboard(gZ)};ea.getVisualModelsFromDashboard=function(e){var gZ={};if(ss.isNullOrUndefined(e)){return gZ}var ha=e.get_zoneModels();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=hc.get_visualModel();if(ss.isValue(hd)){gZ[hc.get_worksheetName()]=hd}}if(eB.get_progressiveLoadEnabled()){var he=(bn.get_hasInstance()?bn.get():null);if(ss.isValue(he)&&ss.isValue(he.get_loader())){var hf=he.get_loader().getPendingVisuals();var hg=_.keys(hf);for(var hh=0;hh<hg.length;hh++){var hi=hg[hh];gZ[hi]=hf[hi]}}}return gZ};ea.getSheetInfoPresModel=function(e,gZ){var ha=e.get_workbook();if(ss.isNullOrUndefined(ha)||ss.isNullOrUndefined(ha.get_sheetsInfo())){return null}var hb=ha.get_sheetsInfo();for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(ss.referenceEquals(hd.Gge,gZ)){return hd}}return null};ea.getVisualModel=function(e,gZ){var ha=null;var hb=ea.findContentDashboard(e);if(ss.isNullOrUndefined(hb)){return ha}var hc=hb.get_zoneModels();for(var hd=0;hd<hc.length;hd++){var he=hc[hd];var hf=he.get_visualModel();if(ss.isValue(hf)){var hg=he.get_worksheetName();if(ss.referenceEquals(hg,gZ)){ha=hf;break}}}if(eB.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(ha)){var hh=(bn.get_hasInstance()?bn.get():null);if(ss.isValue(hh)&&ss.isValue(hh.get_loader())){ha=hh.get_loader().getPendingVisual(gZ)}}return ha};ea.getVisualModelFromVisualId=function(e,gZ){if(ss.isNullOrUndefined(gZ)){gZ=K.get_instance()}var ha=null;var hb=ea.findContentDashboard(gZ);if(ss.isNullOrUndefined(hb)){return ha}var hc=hb.get_zoneModels();for(var hd=0;hd<hc.length;hd++){var he=hc[hd];var hf=he.get_visualModel();if(ss.isValue(hf)){if(_.isEqual(hf.get_visualId(),e)){ha=hf;break}}}return ha};ea.getVisualId=function(e){return ea.getVisualModel(K.get_instance(),e).get_visualId()};ea.getFirstAvailableWebZoneName=function(e){var gZ=null;var ha=ea.findContentDashboard(e);if(ss.isNullOrUndefined(ha)){return gZ}var hb=ha.get_zoneModels();for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(hd.get_zoneType()==='web'){var he=hd.get_zoneId();gZ='frame_'+he.toString();break}}return gZ};ea.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===ea.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};ea.getZoneIdForSheetName=function(e){var gZ=ea.findContentDashboard();var ha=gZ.get_zoneModels();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(hc.get_zoneType()==='viz'&&ss.referenceEquals(hc.get_worksheetName(),e)){return hc.get_zoneId()}}return-1};ea.hasBorder=function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0};ea.createFilterModel=function(e,gZ){switch(gZ.type){case'Q':{return new dL(e,gZ)}case'H':{return new dJ(e,gZ)}case'C':{return new dH(e,gZ)}case'RD':{return new dN(e,gZ)}default:{return new dI(e,gZ)}}};ea.findMatchingFilterModel=function(e,gZ){var ha=gZ.get_frame().param;return e.get_filterModels()[ha]};ea.setVisualValidStateOnModel=function(e,gZ,ha){if(ss.isNullOrUndefined(gZ)){return}gZ.setIsVisualValid(ha,e.modelUpdateContext)};ea.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];var hb=ea.getVisualModel(K.get_instance(),ha);if(ss.isValue(hb)){gt.invalidateVisualModel(hb)}}};ea.setVisualValidStateOnPresModel=function(e,gZ){if(ss.isNullOrUndefined(gZ)){return}e.makeMutablePresModel(gZ,false).GiX=false};ea.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=K.get_instance()}return e.get_workbook().findContentDashboard()};ea.findActiveVisual=function(){var e=ea.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};ea.findActiveOrDefaultVisual=function(){var e=ea.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var gZ=e.get_activeVisual();if(ss.isValue(gZ)){return gZ}var ha=e.get_zoneModels();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(ss.isValue(hc.get_visualModel())){return hc.get_visualModel()}}return null};ea.reValidateVisualModels=function(e){var gZ=ea.getVisualModels(K.get_instance());var ha=_.values(gZ);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];hc.reValidate(e)}};ea.findActivePaneSpecId=function(){var e=ea.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};ea.hasAnyImpliedSelection=function(){var e=ea.getVisualModels(K.get_instance());var gZ=_.keys(e);for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=e[hb];if(!hc.get_impliedSelectionModel().isEmpty){return true}}return false};ea.mergeMapPresModelDelta=function(e,gZ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(gZ)){return}var ha=_.keys(e);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=gZ[hc];if(typeof(hd)==='undefined'){gZ[hc]=e[hc]}else if(hd===null){delete gZ[hc]}}};global.tab.ModelUtils=ea;var eb=function(){};eb.__typeName='tab.ModuleManager';eb.$0=function(e,gZ){return((gZ.length===0)?ss.createInstance(e):ss.applyConstructor(e,gZ))};eb.load=function(e){return function(gZ){var ha=eb.load$1(ss.getTypeFullName(e),gZ);return ha}};eb.load$1=function(e,gZ){tab.Param.verifyString(e,'uniqueModuleName');eb.$1();var ha=eb.$4(e);if(ss.keyExists(eb.$h,ha.moduleName)){return eb.$h[ha.moduleName]}var hb=$.Deferred();eb.$h[ha.moduleName]=hb;eb.$a(Object).call(null,hb,ha.moduleName);var hc='tab.'+ha.assemblyName+'Factory';hb.always(function(){eb.$g.moduleLoaded()});eb.$g.loadRequested();eb.$6(ha).done([function(){eb.$9(gZ,ha,hc,hb)}]).fail([function(hd){var he;var hf='Failed to load dependencies for the module: '+ha.moduleName;if(ss.isNullOrUndefined(hd)){he=new ss.Exception(hf)}else{var hg=new ss.Exception(hd.toString());he=new ss.Exception(hf,hg)}hb.reject(he)}]);return hb};eb.$6=function(e){var gZ=$.Deferred();if(!e.hasDependencies()){gZ.resolve()}else{var ha=new Array(e.dependencies.length);for(var hb=0;hb<e.dependencies.length;hb++){ha[hb]=e.dependencies[hb].moduleName}var hc=function(){gZ.resolve()};var hd=function(he){gZ.reject(he)};eb.loadModulesSequentially(hc,hd,ha)}return gZ};eb.$9=function(e,gZ,ha,hb){if(gZ.loadModuleOnDemand){eb.$7(Object).call(null,e,gZ,ha,hb)}else if(gZ.isRawJavaScriptModule){hb.resolve.apply(hb,null)}else{var hc='vql'+gZ.assemblyName.toLowerCase();var hd=ss.load(hc);var he=eb.$0(ss.getType(ha,hd),e);hb.resolve(he)}};eb.loadModulesSequentially=function(e,gZ,ha){var hb=0;eb.load$1(ha[hb],[]).done(function(){eb.$8(ha,e,hb+1)}).fail(function(hc){if(!ss.staticEquals(gZ,null)){gZ(hc)}})};eb.register=function(e){return function(gZ,ha){var hb='vql'+gZ.toLowerCase();if(tsConfig.debugMode){eb.$b[hb]=hb+'.debug'}var hc=new dB(gZ,ha);eb.$f[ss.getTypeFullName(e)]=hc;return new dA(hc)}};eb.registerDependencyModule=function(e,gZ){return eb.registerRawJsModule(e,gZ)};eb.registerRawJsModule=function(e,gZ){if(tsConfig.debugMode){eb.$b[e]=gZ}var ha=new dB(e,null);eb.$f[gZ]=ha;return(new dA(ha)).andMarkAsRawJavaScriptModule()};eb.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}eb.$g.registerModulesLoadedCallback(e)};eb.loadCss=function(e){if(eb.$e.has(e)){return}eb.$e.add(e);var gZ=document.createElement('link');gZ.setAttribute('type','text/css');gZ.setAttribute('rel','stylesheet');gZ.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(gZ)};eb.$7=function(e){return function(gZ,ha,hb,hc){var hd=ha.moduleName.toLowerCase();if(!ha.isRawJavaScriptModule){hd='vql'+hd}var he=eb.$3();var hf={};hf['d']='MDLOAD';hf['p']=ha.moduleName;requirejs([hd],function(hg){var hh=ss.getDefaultValue(e);if(!ha.isRawJavaScriptModule){var hi=ss.load(hd);hh=eb.$0(ss.getType(hb,hi),gZ)}if(ha.shouldExportResult){if(typeof(window.self[ha.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+ha.exportResultName)}window.self[ha.exportResultName]=hg}var hj=eb.$3();hf['t']=tabBootstrap.MetricsController.getTiming();hf['e']=hj-he;var hk=new tabBootstrap.MetricsEvent('gen',15,hf);tabBootstrap.MetricsController.logEvent(hk);hc.resolve(hh)},function(hg){eb.$5(e).call(null,hg,hc)})}};eb.$3=function(){if(tab.BrowserSupport.webPerformanceApiSupported){return window.performance.now()}return(new Date).getTime()};eb.$8=function(e,gZ,ha){if(ha>=e.length){gZ();return}eb.load$1(e[ha],[]).done(function(){eb.$8(e,gZ,ha+1)})};eb.$1=function(){if(eb.$i){return}eb.$i=true;requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',eb.$b]),waitSeconds:60})};eb.$4=function(e){var gZ=eb.$f[e];if(ss.isNullOrUndefined(gZ)){throw new ss.Exception('Unknown module: '+e)}return gZ};eb.$5=function(e){return function(gZ,ha){var hb=eb.$2(gZ);var hc=new ss.Exception(hb);ha.reject(hc)}};eb.$2=function(e){var gZ=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var ha=e.requireModules.join(',');gZ+='; Modules='+ha}if(!ss.isNullOrEmptyString(e.requireType)){gZ+='; RequireType='+e.requireType}return gZ};eb.$a=function(e){return function(gZ,ha){gZ.fail(function(hb){var hc=hb;delete eb.$h[ha];eb.reportException(hc)})}};eb.reportException=function(e){throw e};global.tab.ModuleManager=eb;var ec=function(){this.$3=0;this.$2=[]};ec.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=ec;var ed=function(){cx.call(this,null);var e={};e.HBp02='';this.swapAndCopyPresModel(e)};ed.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=ed;var ee=function(){};ee.__typeName='tab.NoopModelEventsHandler';ee.get_noopContext=function(){return ee.$0.value()};global.tab.NoopModelEventsHandler=ee;var ef=function(){this.$b=null;this.$4=null;this.$7=null;this.$a=null;this.$5='';this.$8='';this.$c='';this.$d='';this.$e='';this.$f='';this.$9=null;this.$6=null};ef.__typeName='tab.OnlineAnalyticsClient';ef.add_onLogEvent=function(e){ef.$1$1=ss.delegateCombine(ef.$1$1,e)};ef.remove_onLogEvent=function(e){ef.$1$1=ss.delegateRemove(ef.$1$1,e)};ef.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest};ef.$0=function(){if(ss.isNullOrUndefined(ef.$2)){eb.registerRawJsModule('analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');ef.$2=new ef}return ef.$2};ef.logEvent=function(e,gZ){if(ef.get_telemetryEnabled()){ef.$0().$3(e,ss.mkdict(gZ))}};global.tab.OnlineAnalyticsClient=ef;var eg=function(){};eg.__typeName='tab.OrderClause';eg.orderFieldFromString=function(e){try{return e}catch(gZ){return'unknown'}};eg.isInstanceOfType=function(){return true};global.tab.OrderClause=eg;var eh=function(){fJ.call(this,null,null,null,null,null)};eh.__typeName='tab.PaddingDefinition';eh.$ctor1=function(e){fJ.call(this,e.uvy,e.zoC,e.oXZ,e.zRk1,e.JBW)};global.tab.PaddingDefinition=eh;var ei=function(e){this.$2=null;this.$1=null;this.$2$1=null;dX.call(this,e,new ez('cfW'.toString()));this.$2=e.get_zone()};ei.__typeName='tab.PageModel';global.tab.PageModel=ei;var ej=function(e){var gZ=function(){};gZ.isInstanceOfType=function(){return true};ss.registerGenericClassInstance(gZ,ej,[e],{},function(){return null},function(){return[]});return gZ};ej.__typeName='tab.PageOfItem$1';ss.initGenericClass(ej,a,1);global.tab.PageOfItem$1=ej;var ek=function(){};ek.__typeName='tab.PageServerCommands';ek.changePage=function(e,gZ){var ha=ek.$0(e,gZ);fh.executeServerCommand(bA.newCommand('change-page',ha),'immediately')};ek.syncedChangePage=function(e,gZ,ha,hb){var hc=ek.$1(gZ,ha,hb);var hd=bA.newCommand$1('synced-change-page-server',hc);var he=new bh((tab.FeatureFlags.isEnabled('PageCardImprovements')?'none':'immediately'),function(hf){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){var hg=hf.makeMutablePresModel(e,false);hg.f_c=hb;var hh=ea.getVisualModel(K.get_instance(),gZ.AVP);var hi=hh.get_sceneModel();var hj=hf.makeMutablePresModel(hi,false);hj.f_c=hb;for(var hk=0;hk<hj.HUq.length;hk++){var hl=hj.HUq[hk];for(var hm=0;hm<hl.MdI.length;hm++){var hn=hl.MdI[hm];if(ss.isValue(hn.SgS)){var ho=hn.SgS.cPa[hb*2];var hp=hn.SgS.cPa[hb*2+1];hn.SgS.QNi=ho;hn.SgS.sDT=hp}}}var hq=hh.get_labelsModel();if(ss.isValue(hq)){var hr=hf.makeMutablePresModel(hq,false);hr.f_c=hb;for(var hs=0;hs<hr.HUq.length;hs++){var ht=hr.HUq[hs];for(var hu=0;hu<ht.MdI.length;hu++){var hv=ht.MdI[hu];if(ss.isValue(hv.SgS)){var hw=hv.SgS.cPa[hb*2];var hx=hv.SgS.cPa[hb*2+1];hv.SgS.QNi=hw;hv.SgS.sDT=hx}}}}}},hd);bn.SendCommand(he)};ek.toggleTrails=function(e){var gZ=ek.$2(e);fh.executeServerCommand(bA.newCommand('page-toggle-trails',gZ),'afterDelay')};ek.$0=function(e,gZ){var ha={};bA.addVisualIdToCommand(ha,gZ);ha['Onw']=e;return ha};ek.$1=function(e,gZ,ha){var hb={};bA.addVisualIdToCommand(hb,e);hb['BCp']=gZ;hb['Onw']=ha;return hb};ek.$2=function(e){var gZ={};bA.addVisualIdToCommand(gZ,e);return gZ};global.tab.PageServerCommands=ek;var el=function(){};el.__typeName='tab.PaneClientCommands';el.setPanePrimitive=function(e,gZ){var ha=bA.newCommand('set-primitive',null);ha.commandParams=el.$0(e);ha.commandParams['WnZ']=gZ.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.getDefaultShapeType=function(e,gZ){var ha=bA.newCommand('get-default-shape',null);ha.commandParams=el.$0(e);bn.SendCommand(new eK(ha,'none',function(hb){gZ((_.isString(hb)?fu.fromString(hb.toString()):null))},function(){gZ(null)}))};el.setDefaultShapeType=function(e,gZ){var ha=bA.newCommand('set-default-shape',null);ha.commandParams=el.$0(e);ha.commandParams['XRK']=el.$9(gZ);var hb=new bh(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hc){el.$4(e,gZ,hc)},ha,null,null);bn.SendCommand(hb)};el.setShowMarkLabels=function(e,gZ){var ha=bA.newCommand('toggle-mark-labels',null);ha.commandParams={};ha.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(gZ)&&gZ.get_id()>0){ha.commandParams['FsL']=gZ.get_id().toString()}var hb=new bh((e?'immediately':'none'),function(hc){el.$8(e,hc,(ss.isValue(gZ)?gZ.get_paneDescriptorKeys():null))},ha);bn.SendCommand(hb)};el.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var gZ=bA.newCommand('toggle-mark-labels',null);gZ.commandParams={};gZ.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){gZ.commandParams['FsL']=e.get_id().toString()}bn.SendCommand(new eK(gZ,'immediately',null,null))};el.setMarkSize=function(e,gZ){var ha=bA.newCommand('set-mark-size',null);ha.commandParams={};ha.commandParams=el.$0(e);ha.commandParams['_Tb']=gZ.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.resetTooltip=function(e){var gZ=bA.newCommand('reset-tooltip',null);gZ.commandParams={};gZ.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){gZ.commandParams['FsL']=e.get_id().toString()}bn.SendCommand(new eK(gZ,'immediately',null,null))};el.getDefaultColor=function(e,gZ){var ha=bA.newCommand('get-default-color',null);ha.commandParams=el.$0(e);bn.SendCommand(new eK(ha,'none',function(hb){gZ((_.isString(hb)?bl.fromColorCode(hb.toString()):null))},function(){gZ(null)}))};el.setDefaultColor=function(e,gZ){var ha=bA.newCommand('set-default-color',null);ha.commandParams=el.$0(e);ha.commandParams['DFg']=gZ.toRgba255();var hb=new bh(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hc){el.$3(e,gZ,hc)},ha);bn.SendCommand(hb)};el.setSteppedColor=function(e,gZ){var ha=bA.newCommand('set-quantitative-color',null);ha.commandParams=el.$0(e);ha.commandParams['uUG']=gZ.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.reverseColor=function(e,gZ){var ha=bA.newCommand('set-quantitative-color',null);ha.commandParams=el.$0(e);ha.commandParams['mss']=gZ.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.setTotalsInEncoding=function(e,gZ){var ha=bA.newCommand('set-quantitative-color',null);ha.commandParams=el.$0(e);ha.commandParams['HKv']=gZ.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.setQuantColorPalette=function(e,gZ){var ha=bA.newCommand('set-quantitative-color',null);ha.commandParams=el.$0(e);ha.commandParams['Uka']=gZ;bn.SendCommand(new eK(ha,'immediately',null,null))};el.setCatColorPalette=function(e,gZ){var ha=bA.newCommand('set-categorical-color',null);ha.commandParams=el.$0(e);ha.commandParams['Uka']=gZ;var hb=true;ha.commandParams['sNb']=hb.toString();bn.SendCommand(new eK(ha,'immediately',null,null))};el.setColorAlphaLevel=function(e,gZ){if(isNaN(gZ)){return}var ha=bA.newCommand('change-alpha-level',null);ha.commandParams=el.$0(e);ha.commandParams['U$I']=gZ.toString();var hb=new bh(((K.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hc){el.$2(e,gZ,hc)},ha);bn.SendCommand(hb)};el.setMarksBorderColor=function(e,gZ,ha,hb){var hc=bA.newCommand('change-border',null);hc.commandParams={};hc.commandParams['AVP']=tsConfig.current_sheet_name;hc.commandParams['FsL']=e.get_id().toString();hc.commandParams['YhU']=gZ.toString();hc.commandParams['_uF']=ha.toString();hc.commandParams['lNC']=hb.toString();var hd=((hb||ha)?new bh('immediately',null,hc):new bh('none',function(he){el.$5(e,gZ,he)},hc));bn.SendCommand(hd)};el.setMarksHaloColor=function(e,gZ,ha,hb){var hc=bA.newCommand('change-halo',null);hc.commandParams={};hc.commandParams['AVP']=tsConfig.current_sheet_name;hc.commandParams['FsL']=e.get_id().toString();hc.commandParams['YhU']=gZ.toString();hc.commandParams['_uF']=ha.toString();hc.commandParams['lNC']=hb.toString();var hd=((hb||ha)?new bh('immediately',null,hc):new bh('none',function(he){el.$6(e,gZ,he)},hc));bn.SendCommand(hd)};el.boundingBoxPan=function(e,gZ){var ha=bA.newCommand('bounding-box-pan',null);var hb={};hb['v_N']=gZ;ha.commandParams=hb;if(ss.isValue(e)){bA.addVisualIdToCommand(ha.commandParams,e)}fh.executeServerCommand(ha,'afterDelay',null,null)};el.geographicSearchQuery=function(e,gZ,ha,hb,hc){var hd=bA.newCommand('geographic-search-query',null);var he={};hd.commandParams=he;hd.commandParams['Ikc']=gZ;hd.commandParams['wPK']=ha;hd.commandParams['NjF']=hb.toString();if(ss.isValue(e)){bA.addVisualIdToCommand(hd.commandParams,e)}fh.executeServerCommand(hd,'none',function(hf){hc(hf)},null)};el.setReferenceLineConstantValue=function(e,gZ){var ha=bA.newCommand('set-reference-line-constant-value',null);ha.commandParams={};ha.commandParams['is$']=e;ha.commandParams['gFP']=gZ;bn.SendCommand(new eK(ha,'immediately',null,null))};el.$0=function(e){var gZ={};gZ['AVP']=tsConfig.current_sheet_name;gZ['FsL']=e.get_id().toString();return gZ};el.$9=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};el.$4=function(e,gZ,ha){if(ss.isValue(gZ.get_palette())&&ss.unbox(gZ.get_palette())!=='filled'){return}var hb=eR.convertShapeToNumber(gZ);el.$7(e,hb,'shape_id',ha)};el.$2=function(e,gZ,ha){el.$7(e,gZ,'alpha',ha)};el.$3=function(e,gZ,ha){el.$7(e,gZ.toArgbInt(),'color',ha)};el.$5=function(e,gZ,ha){el.$7(e,gZ.toArgbInt(),'border_color',ha)};el.$6=function(e,gZ,ha){el.$7(e,gZ.toArgbInt(),'halo_color',ha)};el.$8=function(e,gZ,ha){if(K.get_instance().get_renderMode()!=='render-mode-client'){return}var hb=el.$1(gZ);if(ss.isNullOrUndefined(ha)){ha=_.keys(hb)||[]}for(var hc=0;hc<ha.length;hc++){var hd=ha[hc];var he=hb[hd];he.knq=e}};el.$7=function(e,gZ,ha,hb){if(K.get_instance().get_renderMode()!=='render-mode-client'){return}var hc=el.$1(hb);var hd=e.get_paneDescriptorKeys();for(var he=0,hf=hd.length;he<hf;he++){var hg=hc[hd[he]];hg.LTd[ha]=gZ}};el.$1=function(e){var gZ=ea.getVisualModel(K.get_instance(),tsConfig.current_sheet_name);var ha=e.makeMutablePresModel(gZ.get_sceneModel(),false);return ha.ObZ};global.tab.PaneClientCommands=el;var em=function(e){this.$0=null;this.update(e)};em.__typeName='tab.PaneIdModel';em.$ctor1=function(e,gZ,ha){this.$0=null;this.$0={};this.$0['_WI']=e;this.$0['ASo']=gZ;if(ha!==0){this.$0['jal']=ha}};global.tab.PaneIdModel=em;var en=function(){};en.__typeName='tab.PanZoomCommands';en.zoomWithAnchorPoint=function(e,gZ,ha,hb,hc){var hd=new Object;var he=gA.create(hd);he.set_r(e);he.set_x(gZ.x);he.set_y(gZ.y);var hf={};hf['vpK']=hd;hf['BdT']=tab.PointUtil.toPresModel(gZ);hf['WR_']=ha;bA.addVisualIdToCommand(hf,ea.getVisualId(hc));var hg=bA.newCommand$1('pane-anchor-zoom-server',hf);var hh=function(){fy.fireSheetDataChanged();hb()};en.$0(hg,hh,null,hc)};en.zoom=function(e,gZ,ha,hb,hc,hd){if(!tsConfig.allow_filter){return}var he={};var hf={};hf.thj=e['x'];hf.RAC=e['y'];hf.thj=Math.round(hf.thj);hf.RAC=Math.round(hf.RAC);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){hf.EUR=e['h'];hf.rec=e['w']}he['cBw']=hf;he['kFe']=ha;he['tmF']=false;he['WR_']=hc;if(ss.isValue(gZ)){gZ=en.$1(gZ);var hg=tab.PointUtil.toPresModel(gZ);he['koe']=hg}bA.addVisualIdToCommand(he,ea.getVisualId(hd));var hh=bA.newCommand('pane-zoom',he);var hi=function(hj){if(ss.isValue(hb)){hb.setDeferLayoutUpdates(false)}fy.fireSheetDataChanged()};en.$0(hh,hi,null,hd)};en.pan=function(e,gZ,ha,hb,hc){if(!tsConfig.allow_filter){return}var hd={};hd['dpp']=e;hd['KIO']=tab.PointUtil.toPresModel(en.$1(gZ));hd['vGR']=tab.PointUtil.toPresModel(en.$1(ha));bA.addVisualIdToCommand(hd,ea.getVisualId(hc));var he=bA.newCommand$1('pane-pan-server',hd);var hf=function(){fy.fireSheetDataChanged()};var hg=function(hh){hb()};en.$0(he,hf,hg,hc)};en.$0=function(e,gZ,ha,hb){var hc=new bh('none',function(hd){var he=ea.getVisualModel(K.get_instance(),hb);ea.setVisualValidStateOnModel(hd,he,false)},e,gZ,ha);bn.SendCommand(hc)};en.$1=function(e){var gZ=e;if(ss.isValue(e)){gZ={x:Math.round(e.x),y:Math.round(e.y)}}return gZ};en.zoomDoubleClick=function(e,gZ,ha,hb,hc,hd){hb.set_isZoomin(ha);en.zoom(e,gZ,ha,hb,hc,hd)};en.zoomIn=function(e,gZ,ha,hb){en.zoom(e,gZ,true,null,ha,hb)};en.zoomOut=function(e,gZ,ha,hb){en.zoom(e,gZ,false,null,ha,hb)};en.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var gZ=function(hc){M.fireStateChanged(hc)};var ha={};bA.addVisualIdToCommand(ha,e);var hb=bA.newCommand$1('restore-fixed-axes',ha);bn.SendCommand(new eK(hb,'immediately',gZ,function(){}))};global.tab.PanZoomCommands=en;var eo=function(e){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('j_S'.toString()))};eo.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=eo;var ep=function(e){this.$2$1=null;dX.call(this,e,new ez('j_S'.toString()))};ep.__typeName='tab.ParameterFilterDisplayModel';ep.supportsParameterType=function(e){switch(e.NId){case'compact':case'list':{return true}case'type_in':case'slider':case'datetime':default:{return false}}};global.tab.ParameterFilterDisplayModel=ep;var eq=function(e,gZ){this.formattedValue=null;this.domainValue=null;this.formattedValue=e;this.domainValue=gZ};eq.__typeName='tab.ParameterFilterItem';global.tab.ParameterFilterItem=eq;var er=function(){};er.__typeName='tab.ParameterServerCommands';er.setParameterValue=function(e,gZ,ha){er.setParameterValue$1(e,gZ,ha,null,null)};er.setParameterValue$1=function(e,gZ,ha,hb,hc){var hd=er.$0(e,gZ,ss.coalesce(ha,false));var he=bA.newCommand('set-parameter-value',hd);fh.executeServerCommand(he,'immediately',hb,hc)};er.$0=function(e,gZ,ha){var hb={};hb['lYz']=e;hb['vau']=gZ;hb['DsK']=ha;return hb};global.tab.ParameterServerCommands=er;var es=function(e){this.$3$1=null;gf.call(this,e,new ez('oHf'.toString()))};es.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=es;var et=function(){};et.__typeName='tab.PermissionManager';et.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}if(tab.FeatureFlags.isEnabled('TrendLineDialogMttw')){e.push(16)}}return new bs(e)};et.filterCommands=function(e,gZ){for(var ha=e.length-1;ha>=0;ha--){if(!gZ.test(e[ha])){ss.removeAt(e,ha)}}};global.tab.PermissionManager=et;var eu=function(e,gZ){this.$1=null;dX.call(this,e,new ez(gZ.toString()))};eu.__typeName='tab.PillModel';global.tab.PillModel=eu;var ev=function(){ss.makeGenericType(L,[Object,ew]).call(this)};ev.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=ev;var ew=function(e){this.$c=null;this.$c=e};ew.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=ew;var ex=function(){};ex.__typeName='tab.PresentationModel';ex.commandResultByName=function(e,gZ){var ha=bw.buildQualifiedCommandName(gZ.commandNamespace,gZ.commandName);var hb=e['kqB'.toString()];var hc=hb.mxu;for(var hd=0;hd<hc.length;hd++){var he=hc[hd];if(ss.referenceEquals(he.$iY,ha)){return he.nCR}}return null};ex.fromCommand=function(e,gZ){var ha=ex.commandResultByName(e,gZ);if(!gZ.preserveRootResult&&ss.isValue(ha)&&ss.getKeyCount(ha)===1&&!ss.keyExists(ha,'XAS'.toString())){var hb=new ss.ObjectEnumerator(ha);try{while(hb.moveNext()){var hc=hb.current();return hc.value}}finally{hb.dispose()}}else{return ha}return null};ex.ensurePath=function(e,gZ,ha){var hb=gZ;var hc=e;var hd;var he;var hf=ha.get_pathList();for(var hg=0,hh=hf.length;hg<hh;hg++){var hi=hf[hg];var hj=hi.name;hd=hb[hj];he=(ss.isValue(hc)?hc[hj]:null);if(!ss.isValue(hd)){var hk=hg===hh-1;var hl=null;if(hi.type===1&&ss.isValue(he)){var hm=he;var hn=[];for(var ho=0;ho<hm.length;ho++){hn[ho]=tab.MiscUtil.cloneObject(hm[ho])}hl=hn}else if(!hk&&ss.isValue(he)){hl=ex.cloneObjWithScalarsOnly(he)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&hi.type===1){hl=[]}else{hl=new Object}hb[hj]=hl}hb=hb[hj];hc=he}return hb};ex.insertAtPath=function(e,gZ,ha,hb){ex.ensurePath(e,gZ,ha);ex.$0(gZ,ha,hb)};ex.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var gZ=new Object;var ha=e;var hb=Object.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];if(!_.isObject(he)){gZ[hd]=he}}return gZ};ex.$0=function(e,gZ,ha){if(gZ.get_pathList().length===0){var hb=ha;var hc=new ss.ObjectEnumerator(hb);try{while(hc.moveNext()){var hd=hc.current();e[hd.key]=hd.value}}finally{hc.dispose()}}else{var he,hf;var hg=e;var hh=gZ.get_pathList();for(he=0,hf=hh.length;he<hf-1;he++){hg=hg[hh[he].name]}hg[hh[hf-1].name]=ha}};global.tab.PresentationModel=ex;var ey=function(){this.$1=null;this.$0=[]};ey.__typeName='tab.PresModelPath';global.tab.PresModelPath=ey;var ez=function(e,gZ){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(gZ)?gZ:0)};ez.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=ez;var eA=function(){};eA.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=eA;var eB=function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$q=null;this.$l=null;this.$r={};this.$n=null;this.$1$1=null;this.$1$2=null};eB.__typeName='tab.ProgressiveLoader';eB.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};eB.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var gZ=e.wqq;e.wqq=null;var ha=tab.MiscUtil.cloneObject(e);ha.wqq=gZ;e.wqq=gZ;return ha};eB.removeZoneContent=function(e){if(ss.isValue(e)){var gZ=e;delete gZ['wqq']}return e};eB.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}var gZ=e.res.mmK;if(gZ.Jqz){var ha=gZ.HCq;gZ=null;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];if(ss.isValue(he.pj$)&&he.pj$.jAM!=='flipboard'){continue}var hf=gX.getContent(he,'XIo');if(ss.isNullOrUndefined(hf)||ss.isNullOrUndefined(hf.stK)){return null}var hg=hf.stK[hf.P_I.toString()];if(ss.isNullOrUndefined(hg)){return null}gZ=hg.mmK;break}}return gZ};eB.$0=function(e){var gZ={};if(ss.isValue(e)&&ss.isValue(e.HCq)){var ha=_.values(e.HCq);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(ss.isValue(hc)&&ss.isValue(hc.pj$)){gZ[hc.BCp]=hc.pj$.jAM}}}return gZ};eB.$4=function(e){if(ss.isNullOrUndefined(e)){return false}var gZ=e.res;if(ss.isNullOrUndefined(gZ)){return false}var ha=gZ.mmK;if(ss.isNullOrUndefined(ha)){return false}var hb=ha.HCq;if(ss.isNullOrUndefined(hb)){return false}return true};eB.$2=function(){if(ss.isValue(eB.$8)){return}eB.$8={};eB.$8['flipboard-nav']=1;eB.$8['flipboard']=1;eB.$8['viz']=2;eB.$8['color']=3;eB.$8['shape']=3;eB.$8['size']=3;eB.$8['map']=3;eB.$8['filter']=4;eB.$8['highlighter']=4;eB.$8['paramctrl']=4;eB.$8['current-page']=4;eB.$8['web']=5;eB.$8['bitmap']=5;eB.$6={};eB.$6[1]={item1:-1,item2:1};eB.$6[2]={item1:1,item2:0.33};eB.$6[3]={item1:3,item2:0.33};eB.$6[4]={item1:3,item2:0.33};eB.$6[5]={item1:-1,item2:1};eB.$6[6]={item1:-1,item2:1}};eB.$3=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};eB.$1=function(e,gZ){if(ss.isNullOrUndefined(e)){return gZ}return ex.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=eB;var eC=function(e,gZ){this.$2$1=null;dX.call(this,e,new ez(gZ))};eC.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=eC;var eD=function(e,gZ,ha,hb,hc,hd){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=gZ;this.$1=ha;this.$0=hb;this.$4=hc;this.$3=hd};eD.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=eD;var eE=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,e,new ez('WlK'.toString()));this.set_quickFilterType('unknown')};eE.__typeName='tab.QuickFilterDisplayModel';eE.supportsQuickFilterType=function(e){if(e.ps$.VOu==='categorical'){var gZ=e.ps$;switch(gZ.etp){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=eE;var eF=function(e,gZ){dX.call(this,e,gZ)};eF.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=eF;var eG=function(e){dX.call(this,e,new ez('mZ_'.toString()))};eG.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=eG;var eH=function(){};eH.__typeName='tab.RangeTransform';global.tab.RangeTransform=eH;var eI=function(e){this.$3$1=null;gf.call(this,e,new ez('jFF'.toString()))};eI.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=eI;var eJ=function(e){this.$1=null;cx.call(this,e)};eJ.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=eJ;var eK=function(e,gZ,ha,hb){bh.call(this,gZ,null,e,ha,hb)};eK.__typeName='tab.RemoteClientCommand';eK.create=function(e,gZ,ha,hb){return new eK(e,gZ,ha,hb)};global.tab.RemoteClientCommand=eK;var eL=function(e){this.$2=null;this.$1=null;this.$0=null;var gZ=e.split('/');this.$2=gZ[0].replace(new RegExp('^ds:'),'');this.$1=gZ[1];if(gZ.length>2){if(gZ.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=gZ[2]+'/'+gZ[3]}else{this.$0=''}};eL.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=eL;var eM=function(){ss.makeGenericType(L,[Object,eN]).call(this)};eM.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=eM;var eN=function(e){this.$c=null;this.$c=e};eN.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=eN;var eO=function(){ss.makeGenericType(L,[Object,eP]).call(this)};eO.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=eO;var eP=function(e){this.$c=null;this.$c=e};eP.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=eP;var eQ=function(){};eQ.__typeName='tab.SaveServerCommands';eQ.$2=function(){return tab.Logger.lazyGetLogger(eQ)};eQ.saveWorkbook=function(e){var gZ=function(ha){gT.getWorldUpdate(function(){if(ss.isValue(e)){e(ha)}})};eQ.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,gZ,null,bn.get().get_legacySession())};eQ.saveWorkbookAs=function(e,gZ,ha,hb,hc,hd,he){eQ.$0('publish_as',e,gZ,ha,hb,hc,hd,he,bn.get().get_legacySession())};eQ.SaveWorkbookAs=function(e,gZ,ha,hb,hc,hd,he){eQ.saveWorkbookAs(e,gZ.id,ha,hb,hc,hd,he)};eQ.SaveDatasource=function(e,gZ,ha,hb,hc,hd){var he=bn.get().get_legacySession();var hf=function(hl,hm,hn){var ho;try{ho=JSON.parse(hn.responseText)}catch(hp){ho=null}hc(ho)};var hg=function(hl,hm,hn){var ho=eQ.$1(hl.responseText);if(ss.isValue(hd)&&ss.isValue(ho)){hd(ho)}else{he.$6(hn,hl,false,null)}};var hh={};hh.type='POST';hh.dataType='json';hh.url=bn.$2('publish_ds',he);var hi=ss.mkdict(['project',hb.toString(),'datasource',e,'name',gZ]);if(ss.isValue(ha)){hi['no_overwrite']=ss.unbox(ha)}var hj=gU.getMultipartData(null,hi);hh.contentType='multipart/form-data; boundary='+hj.header;hh.data=hj.body;var hk=new fi(he,null,hf,hg,true,true);gU.helper(hh,hk)};eQ.$1=function(e){var gZ;try{gZ=JSON.parse(e)}catch(ha){gZ=null}return gZ};eQ.$0=function(e,gZ,ha,hb,hc,hd,he,hf,hg){var hh=function(hn,ho,hp){var hq=hn;if(ss.keyExists(hq,'workbook')){var hr=hq['workbook'];he(hr)}else{he(null)}};var hi=function(hn,ho,hp){var hq=eQ.$1(hn.responseText);if(ss.isValue(hf)&&ss.isValue(hq)){hf(hq)}else{hg.$6(hp,hn,false,null)}};var hj={};hj.type='POST';hj.dataType='json';hj.url=bn.$2(e,hg);var hk=ss.mkdict(['project',ha,'name',gZ,'display_tabs',hb]);if(ss.isValue(hc)){hk['save_db_passwords']=ss.unbox(hc)}if(ss.isValue(hd)){hk['no_overwrite']=ss.unbox(hd)}var hl=gU.getMultipartData(null,hk);hj.contentType='multipart/form-data; boundary='+hl.header;hj.data=hl.body;var hm=new fi(hg,null,hh,hi,true,true);gU.helper(hj,hm)};eQ.transitionSessionAfterLogon=function(e){bn.get().$y(e)};global.tab.SaveServerCommands=eQ;var eR=function(){};eR.__typeName='tab.SceneDataUtil';eR.isPaneFlagSet=function(e,gZ){return(e&eR.$1[gZ])!==0};eR.isMarkFlagSet=function(e,gZ){return(e&eR.$0[gZ])!==0};eR.isCustomShape=function(e){return!ss.keyExists(eR.shapeMapping,e.toString())};eR.getFogBlendFactor=function(e){var gZ=0.185000002384186;var ha=0.275000005960464;var hb=75;var hc=e.get_r()<=hb&&e.get_g()<=hb&&e.get_b()<=hb;return(hc?ha:gZ)};eR.fogColorTransform=function(e,gZ,ha){var hb=ss.Int32.trunc(gZ.get_r()+e.get_r()*ha);var hc=ss.Int32.trunc(gZ.get_g()+e.get_g()*ha);var hd=ss.Int32.trunc(gZ.get_b()+e.get_b()*ha);return new bl(hb,hc,hd,e.get_a())};eR.applyFogToBackgroundColor=function(e,gZ){var ha=245;if(e.get_r()>=ha&&e.get_g()>=ha&&e.get_b()>=ha){e=new bl(ha,ha,ha,e.get_a())}var hb=ss.Int32.trunc((1-gZ)*e.get_r());var hc=ss.Int32.trunc((1-gZ)*e.get_g());var hd=ss.Int32.trunc((1-gZ)*e.get_b());return new bl(hb,hc,hd,e.get_a())};eR.createColorCollection=function(e,gZ,ha){var hb={};hb['colorOverrideOpaque']=e.toRgb();hb['colorOverrideNone']=e.toRgba();hb['colorOverrideFog']=eR.fogColorTransform(e,gZ,ha).toRgba();return hb};eR.createOpaqueColorCollection=function(e){var gZ={};var ha=bl.fromColorCode(e['colorOverrideNone']);gZ['colorOverrideNone']=ha.toRgb();ha=bl.fromColorCode(e['colorOverrideFog']);gZ['colorOverrideFog']=ha.toRgb();ha=bl.fromColorCode(e['colorOverrideOpaque']);gZ['colorOverrideOpaque']=ha.toRgb();return gZ};eR.applyFoggingToColor=function(e,gZ){var ha=eR.getFogBlendFactor(gZ);var hb=eR.applyFogToBackgroundColor(gZ,ha);return eR.fogColorTransform(e,hb,ha)};eR.convertShapeToNumber=function(e){var gZ;var ha=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{gZ=(ha?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{gZ=(ha?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{gZ=(ha?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{gZ=(ha?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{gZ=(ha?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{gZ=(ha?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{gZ=(ha?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{gZ=(ha?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{gZ=(ha?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{gZ=(ha?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(eR.reverseShapeMapping[gZ])};eR.getNumPaneItems=function(e){return e.sDT-e.QNi};eR.getPaneDomainExtents=function(e){if(ss.isValue(e.MdI)){for(var gZ=0;gZ<e.MdI.length;gZ++){var ha=e.MdI[gZ];var hb=ha.SgS;if(ss.isValue(hb)&&ss.isValue(hb.NQL)){return tab.RecordCast.doubleRectPresModelAsDoubleRectXY(hb.NQL)}}}return null};eR.calcCellClip=function(e){var gZ=0;var ha=eR.isPaneFlagSet(e,'clip-to-cell-x');var hb=eR.isPaneFlagSet(e,'clip-to-cell-y');if(ha&&hb){gZ=3}else if(ha){gZ=1}else if(hb){gZ=2}return gZ};eR.isSupportedStampShape=function(e){if(!ss.keyExists(eR.reverseShapeMapping,e)){return false}var gZ=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{gZ=false;break}default:{break}}return gZ};global.tab.SceneDataUtil=eR;var eS=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,null,new ez('ZBC'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new em(e.Zpj));this.set_bounds({minX:e.DO$,minY:e.eIN,maxX:e.DO$+e.HBM,maxY:e.eIN+e.XGN})};eS.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=eS;var eT=function(e){this.$8={};this.$4=[];this.$5=[];this.$6=null;this.$7=null;this.$3=null;this.$2$1=null;dX.call(this,e,new ez('X$'.toString()));this.$6=[];this.$7=[]};eT.__typeName='tab.SceneModel';eT.$0=function(e,gZ){if(ss.keyExists(e,'background')){var ha=e['background'].get_visualListPresModel().tOA;for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(hc.VzB==='nuS'){var hd=hc;return bl.fromColorCode(hd.YhU)}}}return(ss.isValue(gZ.oiS)?bl.fromColorCode(gZ.oiS):eT.$1)};global.tab.SceneModel=eT;var eU=function(){};eU.__typeName='tab.SceneUtils';eU.getPaneDescriptorKeyFromTupleId=function(e,gZ){for(var ha=0;ha<gZ.HUq.length;ha++){var hb=gZ.HUq[ha];for(var hc=0;hc<hb.MdI.length;hc++){var hd=hb.MdI[hc];if(ss.isValue(hd.SgS)){var he=gZ.ObZ;var hf=new ss.ObjectEnumerator(he);try{while(hf.moveNext()){var hg=hf.current();var hh=hg.value.GKA['tuple_id'];var hi=_.find(hh.uBu02,function(hj){return hj===e});if(ss.isValue(hi)){return hg.key}}}finally{hf.dispose()}}}}return''};global.tab.SceneUtils=eU;var eV=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};eV.__typeName='tab.Schedule';eV.$1=function(e){var gZ=new Date;gZ.setHours(ss.Int32.div(e,60));gZ.setMinutes(e%60);gZ.setSeconds(0);return gZ.toLocaleTimeString()};eV.$2=function(e,gZ){var ha=e+gZ;ha=ha%1440;if(ha<0){ha=1440+ha}return ha};eV.$0=function(e,gZ){var ha=e+gZ;if(ha>1440){return 1}else if(ha<0){return-1}return 0};global.tab.Schedule=eV;var eW=function(){};eW.__typeName='tab.SchemaClientCommands';eW.addFieldToSheet=function(e,gZ){var ha={};ha['HBp02']=e;ha['AVP']=tsConfig.current_sheet_name;var hb=bA.newCommand('add-to-sheet',ha);bn.SendCommand(eK.create(hb,'immediately',function(hc){gZ()},function(hc){gZ()}))};eW.$0=function(e,gZ){var ha=bA.newCommand(e,{});ha.commandParams['HVp']=gZ;bn.SendCommand(new eK(ha,'immediately',null,null))};eW.convertToMeasure=function(e){eW.$0('convert-to-measure',e)};eW.convertToDimension=function(e){eW.$0('convert-to-dimension',e)};eW.validateFieldCaption=function(e,gZ,ha){var hb={};hb['GOk']=e;hb['CST02']=gZ;var hc=bA.newCommand('validate-field-caption',hb);fh.executeServerCommand(hc,'afterDelay',function(hd){ha(hd)},null)};eW.editFieldCaption=function(e,gZ,ha){var hb={};hb['GOk']=e;hb['CST02']=gZ;var hc=bA.newCommand('edit-schema-caption',hb);bn.SendCommand(new bh('none',function(hd){var he=hd.makeMutablePresModel(ha.get_fieldsModel(),false);for(var hf=0;hf<he.length;++hf){if(ss.referenceEquals(he[hf].HBp02,e)){he[hf].Mej02=gZ;break}}},hc))};eW.setActiveDataSourceName=function(e,gZ){var ha={};ha['UyO02']=e;var hb=(gZ?'set-active-data-source-name':'set-active-datasource');var hc=bA.newCommand(hb,ha);hc.commandParams['UyO02']=e;var hd=K.get_instance().get_workbook().get_uiMode()==='data-tab';var he=null;if(hd){he=function(hf){var hg=hf.makeMutablePresModel(K.get_instance().get_workbook().get_dataSchema(),false);hg.UyO02=e}}bn.SendCommand(new bh((hd?'none':'immediately'),he,hc))};eW.requestSchemaContextMenu=function(e,gZ){var ha=bA.newCommand('build-data-schema-context-menu',null);var hb={};hb['UyO02']=e.get_name();ha.commandParams=hb;bn.SendCommand(eK.create(ha,'none',function(hc){gZ(hc)},null))};eW.requestSchemaFieldContextMenu=function(e,gZ,ha){var hb=bA.newCommand('build-data-schema-field-context-menu',null);var hc={};hc['UyO02']=e;hc['HBp02']=gZ;hb.commandParams=hc;bn.SendCommand(eK.create(hb,'none',function(hd){ha(hd)},null))};eW.requestSchemaDataSourceContextMenu=function(e,gZ){var ha=bA.newCommand('build-data-schema-data-source-context-menu',null);var hb={};hb['UyO02']=e.get_name();hb['IdX']=tsConfig.allow_save_data_source;ha.commandParams=hb;bn.SendCommand(eK.create(ha,'none',function(hc){gZ(hc)},null))};eW.convertUnnamedFields=function(e){var gZ=$.Deferred();var ha={};ha['HVp']=e;var hb=new eK(bA.newCommand('convert-unnamed-fields',ha),'immediately',bn.deferredSuccessHandler(Array).call(null,gZ),function(){gZ.reject()});bn.SendCommand(hb);return gZ.promise()};eW.toggleFieldBlending=function(e,gZ){var ha=$.Deferred();var hb={};hb['lYz']=e;hb['AVP']=tsConfig.current_sheet_name;var hc=new bh('immediately',gZ,bA.newCommand('toggle-field-blending',hb),bn.deferredSuccessHandler(Object).call(null,ha),function(){ha.reject()});bn.SendCommand(hc);return ha.promise()};eW.renameDataSource=function(e,gZ,ha){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),gZ)){return}var hb=function(he){var hf=he.makeMutablePresModel(e,false);hf.Fnn=gZ};var hc={};hc['UyO02']=e.get_name();hc['TyD02']=gZ;var hd=new bh('none',hb,bA.newCommand('rename-data-source',hc),null,function(he){ha()});bn.SendCommand(hd)};eW.renameTableAliasInRelation=function(e,gZ,ha){if(ss.isNullOrEmptyString(gZ)){return}if(ss.referenceEquals(e,gZ)){return}var hb={};hb['Oda02']=e;hb['MyH']=gZ;var hc=bA.newCommand('connection-rename-table',hb);var hd=new bh('immediately',null,hc,null,function(he){ha()});bn.SendCommand(hd)};global.tab.SchemaClientCommands=eW;var eX=function(){ss.makeGenericType(L,[Object,eY]).call(this)};eX.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=eX;var eY=function(e){this.$c=null;this.$c=e};eY.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=eY;var eZ=function(){};eZ.__typeName='tab.SelectionClientCommands';eZ.$j=function(){return tab.Logger.lazyGetLogger(eZ)};eZ.setActiveZone=function(e,gZ){if(!tsConfig.allow_select){return}if(ea.isActiveZone(e)){return}bn.SendCommand(eZ.buildActiveZoneClientCommand(e,gZ))};eZ.clearActiveZone=function(){eZ.setActiveZone(0,null)};eZ.buildActiveZoneClientCommand=function(e,gZ){var ha=new bh('none',function(hb){eZ.setActiveZoneLocal(e,hb)},eZ.$1(e,gZ));return ha};eZ.updateShowMeCommandsForSelectedFields=function(e,gZ,ha){var hb={};hb['HVp']=e;hb['AVP']=tsConfig.current_sheet_name;hb['UyO02']=gZ;var hc=bA.newCommand('get-show-me',hb);bn.SendCommand(eK.create(hc,'none',function(hd){ha(hd)},function(hd){ha(null)}))};eZ.toggleLegendHighlight=function(e,gZ,ha,hb,hc){if(!tsConfig.allow_highlight){return}var hd=eZ.buildToggleLegendHighlightCommand(gZ,ha,hb,hc,e);bn.SendCommand(hd)};eZ.buildToggleLegendHighlightCommand=function(e,gZ,ha,hb,hc){var hd=!ea.isActiveZone(hc);var he={};he['dpp']=gZ;he['HhR']=ha;bA.addVisualIdToCommand(he,e);if(hd){eZ.$0(hc,he)}var hf=bA.newCommand$1('toggle-legend-server',he);var hg=function(hh){if(ss.isValue(hb)){hb(hh)}};return new bh('immediately',function(hh){if(hd){eZ.setActiveZoneLocal(hc,hh)}},hf,hg,null)};eZ.$0=function(e,gZ){gZ['TBd']=ea.findContentDashboard().pm.IJE;gZ['BCp']=e};eZ.selectRegion=function(e,gZ,ha,hb,hc){if(!tsConfig.allow_select||K.get_instance().get_isOffline()){return}var hd=eZ.$9(gZ,e,ha,hb,hc);var he=bA.newCommand$1('select-region-no-return-server',hd);fh.executeServerCommand(he,'afterDelay')};eZ.selectRectRegionAndDoUbertip=function(e,gZ,ha,hb,hc,hd){if(!tsConfig.allow_select){return}var he=eZ.$9(gZ,e,ha,hb,hd);var hf=bA.newCommand$1('select-region-no-return-server',he);eZ.$b(hc,hf)};eZ.selectCircleRegionAndDoUbertip=function(e,gZ,ha,hb,hc,hd,he){if(!tsConfig.allow_select){return}var hf=eZ.$9(gZ,e,hb,hc);var hg={};hg.f_W={};hg.f_W.thj=Math.round(ha.center.x);hg.f_W.RAC=Math.round(ha.center.y);hg.IEh=Math.round(ha.radius);hf['SWH']=hg;hf['Xyn']=he;var hh=bA.newCommand$1('select-radial-region-no-return-server',hf);eZ.$b(hd,hh)};eZ.selectPolyRegionAndDoUbertip=function(e,gZ,ha,hb,hc,hd){if(!tsConfig.allow_select){return}var he=eZ.$9(gZ,e,hb,hc);var hf=ha.length;var hg=new Array(hf);for(var hh=0;hh<hf;hh++){var hi={};hi.thj=Math.round(ha[hh].x);hi.RAC=Math.round(ha[hh].y);hg[hh]=hi}he['WiQ']=hg;var hj=bA.newCommand$1('select-lasso-region-no-return-server',he);eZ.$b(hd,hj)};eZ.$b=function(e,gZ){gZ.commandNamespace='tabsrv'.toString();var ha=new bh('afterDelay',null,gZ,function(){e()},null);bn.SendCommand(ha)};eZ.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var gZ=ea.getZoneIdForSheetName(e.AVP);if(gZ!==-1&&!ea.isActiveZone(gZ)){eZ.setActiveZone(gZ,null);return}var ha=eZ.buildClearAllSelectionsCommand(e);bn.SendCommand(ha)};eZ.buildClearAllSelectionsCommand=function(e){var gZ={};bA.addVisualIdToCommand(gZ,e);var ha=bA.newCommand$1('select-none',gZ);var hb=new bh((K.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(hc){if(K.get_instance().get_isLocalRenderMode()){var hd=eZ.$4(hc);if(hd){F.executeActions(e.AVP,'on-select',[],hc,true)}}},ha);return hb};eZ.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=eZ.buildClearAllSelectionsIncludingMasterCommand();bn.SendCommand(e)};eZ.buildClearAllSelectionsIncludingMasterCommand=function(){var e={};e['Gge']=tsConfig.current_sheet_name;var gZ=bA.newCommand('select-none-including-master',e);var ha=new bh((K.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(hb){eZ.$4(hb);eZ.$2(hb);var hc=ea.getVisualModelsFromDashboard(ea.findContentDashboard());var hd=ss.getEnumerator(Object.keys(hc));try{while(hd.moveNext()){var he=hd.current();var hf=hc[he];F.executeActions(hf.get_visualId().AVP,'on-select',[],hb,true)}}finally{hd.dispose()}},gZ);return ha};eZ.selectLegendItemsLocal=function(e,gZ,ha,hb,hc,hd,he){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(ha)&&!he){return}var hf=eZ.buildSelectLegendItemsLocalCommand(e,gZ,ha,hb,hc,hd);bn.SendCommand(hf)};eZ.$5=function(e,gZ){var ha=ea.getVisualModelFromVisualId(gZ);var hb=ha.get_selectionsModel();var hc=hb.get_allLegendSelections();for(var hd=0;hd<hc.length;hd++){var he=hc[hd];eZ.$7(e,he,false)}};eZ.clearHighlighting=function(e,gZ,ha,hb){var hc=bA.newCommand('clear-highlighting',null);var hd={};bA.addVisualIdToCommand(hd,ha);hd['HBp02']=gZ;hc.commandParams=hd;var he=new bh('none',function(hf){if(hb){eZ.$5(hf,ha);eZ.$c([],e,ea.getVisualModelFromVisualId(ha),hf)}},hc);bn.SendCommand(he)};eZ.highlightItems=function(e,gZ,ha,hb,hc){var hd=bA.newCommand('highlight-items',null);var he={};bA.addVisualIdToCommand(he,hb);he['HBp02']=gZ;he['kyj']=ha;hd.commandParams=he;var hf=new bh('none',function(hg){if(hc){if(ha.length===0){eZ.$5(hg,hb)}eZ.$c(ha,e,ea.getVisualModelFromVisualId(hb),hg)}},hd);bn.SendCommand(hf)};eZ.buildSelectLegendItemsLocalCommand=function(e,gZ,ha,hb,hc,hd){var he=ea.getVisualModelFromVisualId(hb);var hf=he.get_selectionsModel();var hg=hf.getLegendSelection(hd,hc.get_legendNames());var hh=ff.resolveLegendSelection(gZ,ha,hc,hg);var hi=bA.newCommand('select-legend-items',eZ.$8(hh,hb,hc,hd,e));var hj=new bh('none',function(hk){eZ.setActiveZoneLocal(e,hk);if(!hg.isAnyLegendItemSelected()&&hh.length===0&&!ea.isActiveZone(e)){return}var hl=hk.makeMutablePresModel(hg,false);hl.kyj=hh;hl.VNi={jhL:hc.get_legendTypeEnum(),pMg:hc.get_legendNames()};eZ.$6(hk,hf.tupleSelection,he);eZ.$6(hk,hf.nodeSelection,he);var hm=hf.get_allLegendSelections();for(var hn=0;hn<hm.length;hn++){var ho=hm[hn];if(!ss.referenceEquals(ho,hg)){eZ.$6(hk,ho,he)}}eZ.$3(hk,hb,true);eZ.$e(hh,hc,he,hk)},hi);return hj};eZ.buildSelectNodeCommand=function(e,gZ,ha,hb,hc,hd,he){var hf=ea.getZoneIdForSheetName(hd.AVP);var hg=ea.getVisualModelFromVisualId(hd);var hh=hg.get_selectionsModel();var hi=hh.nodeSelection;var hj=(F.willActionCauseTabChange(hd.AVP,'on-select')?'afterDelay':'none');var hk=2;var hl=null;if(ss.isValue(hc.XqN)&&ss.isValue(hc.$UU)){var hm=hc.nTH||0;var hn=hc.Mk_||0;hl={x:hm,y:hn,w:hc.XqN,h:hc.$UU}}var ho=tab.RectXYUtil.shiftCoordsTowardsCenter(gZ,hl,hk);var hp={x:ho.x,y:ho.y,w:0,h:0};var hq=bA.newCommand$1('select-region-no-return-server',null);hq.commandParams=eZ.$9(hp,e,ha,hd);var hr=hf!==-1&&!ea.isActiveZone(hf);if(hr){eZ.$0(hf,hq.commandParams)}var hs=hr||!K.get_instance().get_isTableCalcHighlightingMode();var ht=function(hv){if(hr){eZ.setActiveZoneLocal(hf,hv)}if(K.get_instance().get_isTableCalcHighlightingMode()){return}var hw=hv.makeMutablePresModel(hi,false);ff.resolveNodeSelection(ha,hb.get_groupItemNodes(),hc,hi,hw);var hx=ha!=='toggle'&&ha!=='range';var hy=hh.tupleSelection.get_ids();if(hx){eZ.$6(hv,hh.tupleSelection,hg);hy=[]}var hz=hh.get_allLegendSelections();for(var hA=0;hA<hz.length;hA++){var hB=hz[hA];eZ.$6(hv,hB,hg)}eZ.$3(hv,hd,true);hg.$4(hw.p$U,hv.modelUpdateContext);F.executeActions(hd.AVP,'on-select',hg.getEffectiveSelectedTuples(hy),hv,true)};var hu=new bh(hj,(hs?ht:null),hq,function(){if(ss.isValue(he)){he()}},null);return hu};eZ.selectNode=function(e,gZ,ha,hb,hc,hd,he){if(!tsConfig.allow_select){return}var hf=eZ.buildSelectNodeCommand(e,gZ,ha,hb,hc,hd,he);bn.SendCommand(hf)};eZ.selectMarksLocal=function(e,gZ,ha,hb,hc){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(e)){eZ.clearAllSelections(gZ);return}if(K.get_instance().get_isOffline()){var hd=eZ.buildSelectMarksLocalCommand(e,gZ,ha,hb,null);bn.SendCommand(hd);hc()}else{var he=eZ.buildSelectMarksLocalCommand(e,gZ,ha,hb,hc);bn.SendCommand(he)}};eZ.buildSelectMarksLocalCommand=function(e,gZ,ha,hb,hc){var hd=ea.getZoneIdForSheetName(gZ.AVP);var he=ea.getVisualModelFromVisualId(gZ);var hf=he.get_selectionsModel();var hg=hf.tupleSelection;var hh=F.shouldFilterOnSelection(he.get_visualId().AVP);var hi;if(hh){hi='afterDelay'}else{hi=(F.willActionCauseTabChange(gZ.AVP,'on-select')?'afterDelay':'none')}var hj=bA.newCommand('select',eZ.$a(e,'tuples',ha,gZ));var hk=hd!==-1&&!ea.isActiveZone(hd);var hl=hk||!K.get_instance().get_isTableCalcHighlightingMode();var hm=function(ho){if(hk){eZ.setActiveZoneLocal(hd,ho)}if(K.get_instance().get_isTableCalcHighlightingMode()){return}var hp=ff.resolveMarkSelection(ha,e,hg,hb);var hq=ho.makeMutablePresModel(hg,false);hq.kyj=hp;if(ha!=='toggle'&&ha!=='range'){eZ.$6(ho,hf.nodeSelection,he)}var hr=hf.get_allLegendSelections();for(var hs=0;hs<hr.length;hs++){var ht=hr[hs];eZ.$6(ho,ht,he)}eZ.$3(ho,gZ,true);F.executeActions(gZ.AVP,'on-select',he.getEffectiveSelectedTuples(hp),ho,true)};var hn=new bh(hi,(hl?hm:null),hj,function(ho){if(ss.isValue(hc)){hc()}},null);return hn};eZ.$f=function(e,gZ){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var ha=ea.getVisualModels(K.get_instance());var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(!e.hasBrushingForSheet(hd)){continue}var he=ha[hd];eZ.$i(e,gZ,he,hd);eZ.$h(e,gZ,he,hd);eZ.$g(e,gZ,he,hd);var hf=e.getLegendBrushing(hd);var hg=he.get_brushingsModel().get_allLegendSelections();for(var hh=0;hh<hg.length;hh++){var hi=hg[hh];eZ.$d(gZ,hi,hf)}}};eZ.$d=function(e,gZ,ha){var hb=gZ.get_selectionPresModel().VNi;var hc=[];var hd=P.$0(hb.jhL,hb.pMg);if(ss.isValue(ha[hd])){hc=ha[hd]}if(hc.length!==0||gZ.get_selectionPresModel().kyj.length!==0){var he=e.makeMutablePresModel(gZ,false);he.kyj=hc}};eZ.$g=function(e,gZ,ha,hb){var hc=e.getNodeBrushing(hb);if(hc.length!==0||!ha.get_brushingsModel().nodeSelection.isEmpty){var hd=gZ.makeMutablePresModel(ha.get_brushingsModel().nodeSelection,false);hd.p$U=hc}};eZ.$h=function(e,gZ,ha,hb){var hc=ha.get_brushingsModel().trendLineSelection;var hd=e.getTrendlineBrushing(hb);if(hd.length!==0||hc.get_selectionPresModel().kyj.length!==0){var he=gZ.makeMutablePresModel(hc,false);he.kyj=hd}};eZ.$i=function(e,gZ,ha,hb){var hc=e.getTupleBrushing(hb);if(hc.length!==0||ha.get_brushingsModel().tupleSelection.get_selectionPresModel().kyj.length!==0){var hd=gZ.makeMutablePresModel(ha.get_brushingsModel().tupleSelection,false);hd.kyj=hc}};eZ.$2=function(e){var gZ=ea.getVisualModels(K.get_instance());var ha=ss.getEnumerator(Object.keys(gZ));try{while(ha.moveNext()){var hb=ha.current();var hc=gZ[hb];if(hc.get_brushingsModel().get_isEmpty()){continue}var hd=e.makeMutablePresModel(hc.get_brushingsModel().tupleSelection,false);hd.kyj=[];var he=e.makeMutablePresModel(hc.get_brushingsModel().nodeSelection,false);he.p$U=[];var hf=hc.get_brushingsModel().get_allLegendSelections();for(var hg=0;hg<hf.length;hg++){var hh=hf[hg];if(hh.isEmpty){continue}var hi=e.makeMutablePresModel(hh,false);var hj=[];hi.kyj=hj}}}finally{ha.dispose()}};eZ.$1=function(e,gZ){var ha=bA.newCommand('set-active-zone',null);var hb={};hb['TBd']=(ss.isNullOrUndefined(gZ)?ea.findContentDashboard().pm.IJE:gZ);hb['BCp']=e;ha.commandParams=hb;return ha};eZ.$c=function(e,gZ,ha,hb){var hc=ha.get_vizDataModel();if(ss.isNullOrUndefined(hc)){return}var hd=hc.getVizDataField(gZ.get_fieldName());var he=[hd.get_fieldCaption()];var hf=P.createBrushingComputer(gZ,ha,e,he,true);eZ.$f(hf,hb)};eZ.$e=function(e,gZ,ha,hb){var hc=null;if(gZ.get_isHighlightEnabled()){hc=P.createBrushingComputer(gZ,ha,e,gZ.get_fieldCaptions(),gZ.get_isOneWay())}eZ.$f(hc,hb)};eZ.$3=function(e,gZ,ha){var hb=false;var hc=ea.getVisualModels(K.get_instance());var hd=ss.getEnumerator(Object.keys(hc));try{while(hd.moveNext()){var he=hd.current();var hf=!ss.isNullOrUndefined(gZ)&&ss.referenceEquals(he,gZ.AVP);if(!ha||!hf){var hg=ea.findContentDashboard();var hh=!ha&&hf||!F.isFilterSource(hg,he);var hi=hc[he];var hj=hi.get_selectionsModel().selectionModels;for(var hk=0;hk<hj.length;hk++){var hl=hj[hk];if(hh||hl.get_selectionType()!=='tuples'&&hl.get_selectionType()!=='nodes'){hb=eZ.$7(e,hl,true)||hb}}}}}finally{hd.dispose()}return hb};eZ.$4=function(e){var gZ=false;var ha=ea.getVisualModels(K.get_instance());var hb=ss.getEnumerator(Object.keys(ha));try{while(hb.moveNext()){var hc=hb.current();var hd=ha[hc];var he=hd.get_selectionsModel().selectionModels;for(var hf=0;hf<he.length;hf++){var hg=he[hf];gZ=eZ.$7(e,hg,true)||gZ}}}finally{hb.dispose()}return gZ};eZ.$9=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,hb);var he=new Object;var hf=gA.create(he);hf.set_x(Math.round(e.x));hf.set_y(Math.round(e.y));hf.set_w(Math.round(e.w||0));hf.set_h(Math.round(e.h||0));hf.set_r(gZ);if(ss.isValue(hc)){hf.set_fns(hc)}hd['vpK']=he;hd['Mph0']=ha;return hd};eZ.$8=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,gZ);hd['HhR']=ha.get_legendNames();hd['jhL']=hb;hd['kyj']=e;hd['BCp']=hc;return hd};eZ.$6=function(e,gZ,ha){if(ss.isValue(gZ)){eZ.$7(e,gZ,false);if(gZ.get_selectionType()==='nodes'){ha.$1(e.modelUpdateContext)}}};eZ.$a=function(e,gZ,ha,hb){var hc={};if(ss.isValue(hb)){bA.addVisualIdToCommand(hc,hb)}var hd={};hd.kyj=e;hd.coe=gZ;hc['Gvh']=hd;hc['bis']=eZ.$k[ha];return hc};eZ.setActiveZoneLocal=function(e,gZ){var ha=ea.findContentDashboard();var hb=gZ.makeMutablePresModel(ha,false);hb.xdK=e};eZ.$7=function(e,gZ,ha){if(gZ.isEmpty){return false}var hb=e.makeMutablePresModel(gZ,false);hb.kyj=[];hb.p$U=[];if(ha){gZ.setOverriddenTupleIds([],e.modelUpdateContext)}return true};global.tab.SelectionClientCommands=eZ;var fa=function(e,gZ){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;this.isEmpty=false;dX.call(this,e,new ez(gZ.toString()));this.isEmpty=true};fa.__typeName='tab.SelectionModel';fa.$0=function(e,gZ){var ha=new ss.StringBuilder;if(ss.isValue(e)){ha.append(e.join(';'))}ha.append('=');if(ss.isValue(gZ)){ha.append(gZ.join(';'))}return ha.toString()};global.tab.SelectionModel=fa;var fb=function(e,gZ,ha){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(gZ);this.set_objectIds(ha||[])};fb.__typeName='tab.SelectionsDifference';fb.noDifference=function(){return new fb(false,0,null)};global.tab.SelectionsDifference=fb;var fc=function(){};fc.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=fc;var fd=function(e,gZ){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;dX.call(this,e,new ez(gZ,1));this.selectionModels=[];var ha=ee.get_noopContext();this.tupleSelection=this.$1('tuples',ha);this.nodeSelection=this.$1('nodes',ha);this.trendLineSelection=this.$1('trend-lines',ha);this.refLineSelection=this.$1('ref-lines',ha)};fd.__typeName='tab.SelectionsModel';fd.$1=function(e){var gZ={};gZ.coe=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{gZ.kyj=[];break}case'legend-items':{gZ.VNi={};gZ.kyj=[];break}case'nodes':{gZ.p$U=[];break}default:{break}}return gZ};fd.$0=function(e,gZ){var ha=[];var hb=new Set;for(var hc=0;hc<e.length;hc++){var hd=e[hc];hb.add(hd)}for(var he=0;he<gZ.length;he++){var hf=gZ[he];if(hb.has(hf)){hb.delete(hf)}else{ha.push(hf)}}hb.forEach(function(hg){ha.push(hg)});return ha};fd.computeTupleDictionaryDifference=function(e,gZ){var ha=tab.MapUtility.createCopy(String,ss.Int32).call(null,e);var hb=tab.MapUtility.createCopy(String,ss.Int32).call(null,gZ);var hc=[];ha.forEach(function(hd,he,hf){if(!hb.has(he)){hc.push(ha.get(he))}else{hb.delete(he)}});hb.forEach(function(hd,he,hf){hc.push(hb.get(he))});return hc};global.tab.SelectionsModel=fd;var fe=function(){this.selections=null};fe.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=fe;var ff=function(){};ff.__typeName='tab.SelectionUtils';ff.isCategoricalAndTupleAssociatedHeader=function(e,gZ){return!ff.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(gZ)&&e.length===gZ.length};ff.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){return tab.MiscUtil.isNullOrEmpty(e)};ff.isQuantitative=function(e){var gZ=(ss.isNullOrUndefined(e.ZHX)?0:e.ZHX.length);var ha=(ss.isNullOrUndefined(e.wwF)?0:e.wwF.length);return gZ===ha+1};ff.resolveLegendSelection=function(e,gZ,ha,hb){var hc=[];if(ss.isValue(gZ)){var hd=hb.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(hd.kyj)){ss.arrayAddRange(hc,hd.kyj)}for(var he=0;he<gZ.length;he++){var hf=gZ[he];var hg=ss.indexOf(hc,hf.YLs);if(hg>=0){ss.removeAt(hc,hg)}else{hc.push(hf.YLs)}}break}case'range':{hc=ff.$2(gZ,ha,hd);break}case'simple':{var hh=(ss.isValue(hd.kyj)?hd.kyj:[]);if(hh.length<=1){for(var hi=0;hi<gZ.length;hi++){var hj=gZ[hi];var hk=ss.indexOf(hh,hj.YLs);if(hk>=0){ss.removeAt(hc,hk)}else{hc.push(hj.YLs)}}}else{ss.arrayAddRange(hc,_.pluck(gZ,'YLs'.toString()))}break}}}return Array.prototype.slice.call(hc)};ff.resolveMarkSelection=function(e,gZ,ha,hb){var hc=[];switch(e){case'simple':{if(!hb&&gZ.length===1&&ha.get_ids().length===1&&gZ[0]===ha.get_ids()[0]){ss.clear(hc)}else{ss.arrayAddRange(hc,gZ)}break}case'range':case'toggle':{ss.arrayAddRange(hc,ha.get_ids());for(var hd=0;hd<gZ.length;hd++){var he=gZ[hd];if(!ha.isObjectSelected(he)){hc.push(he)}else if(!hb){ss.remove(hc,he)}}break}}return Array.prototype.slice.call(hc)};ff.resolveNodeSelection=function(e,gZ,ha,hb,hc){var hd=null;if(ss.isValue(ha)){switch(e){case'simple':{hd=ff.$4(ha,hb);break}case'toggle':{hd=ff.$5(ha,hb);break}case'range':{hd=ff.$3(gZ,ha,hb);break}}}hc.p$U=hd||[]};ff.$2=function(e,gZ,ha){var hb=[];if(!ss.isValue(ha.kyj)){return hb}ss.arrayAddRange(hb,ha.kyj);ss.arrayAddRange(hb,_.pluck(e,'YLs'.toString()));var hc=ha.kyj[ha.kyj.length-1];var hd=-1;for(var he=0;he<gZ.get_items().length;he++){if(gZ.get_items()[he].YLs===hc){hd=he}}var hf=((e.length>0)?ss.indexOf(gZ.get_items(),e[0]):-1);if(hd<0||hf<0){return _.uniq(hb)}var hg=Math.min(hd,hf);var hh=hg+Math.abs(hd-hf)+1;for(var hi=hg;hi<hh;hi++){hb.push(gZ.get_items()[hi].YLs)}return _.uniq(hb)};ff.$0=function(e,gZ,ha,hb){var hc=new Set;for(var hd=0;hd<e.length;hd++){var he=e[hd];if(ss.isValue(he.ZHX)){tab.SetUtilities.addAll(ss.Int32).call(null,hc,he.ZHX)}}for(var hf=0;hf<gZ.length;hf++){var hg=(ha?gZ[gZ.length-1-hf]:gZ[hf]);if(tab.SetUtilities.interserctWith(ss.Int32).call(null,hc,hg.ZHX).size===0){continue}var hh=ff.$1(e,hg,hb);if(hh!==-1){return hh}}return-1};ff.$1=function(e,gZ,ha){for(var hb=0;hb<e.length;hb++){var hc=e[hb];var hd=ss.isNullOrUndefined(ha)||_.isEqual(ha,gZ.ZHX);if(hd&&_.isEqual(hc.ZHX,gZ.ZHX)){var he=tab.MiscUtil.isNullOrEmpty(hc.wwF)&&tab.MiscUtil.isNullOrEmpty(gZ.wwF);if(he||_.isEqual(hc.wwF,gZ.wwF)){return hb}}}return-1};ff.$3=function(e,gZ,ha){var hb=ff.$6(gZ);var hc=ha.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty(hb.ZHX)){return hc}if(hc.length===0){hc.push(hb);return hc}var hd=ff.isCategoricalAndTupleAssociatedHeader(hb.ZHX,hb.wwF);var he=ff.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(hb.wwF);var hf=!hd&&!he;var hg=ff.$0(e,ha.get_nodes(),true,(hd?hb.ZHX:null));if(hg===-1){if(hd||hf&&!ha.isNodeAncestorSelected(gZ,false)){hc.push(hb)}return hc}if(ha.isNodeSelected(gZ)||ha.isNodeAncestorSelected(gZ,hd)){return hc}var hh=ff.$0(e,ha.get_nodes(),false,null);var hi=ff.$6(e[hh]);if(hd){if(!_.isEqual(hi.ZHX,hb.ZHX)){hc.push(hb);return hc}}else{var hj=ff.$1(e,hi,null)!==-1;if(he&&!hj){return hc}if(hf&&!hj){hc.push(hb);return hc}}var hk=ss.indexOf(e,gZ);var hl=Math.min(hg,hk);var hm=hl+Math.abs(hg-hk)+1;for(var hn=hl;hn<hm;hn++){var ho=e[hn];var hp=!hd||_.isEqual(ho.ZHX,hb.ZHX);if(hp&&!ha.isNodeAncestorSelected(ho,hd)&&!ha.isNodeSelected(ho)){hc.push(ff.$6(ho))}}return hc};ff.$4=function(e,gZ){if(!gZ.isNodeSelected(e)||gZ.get_nodes().length>1){return[ff.$6(e)]}return null};ff.$5=function(e,gZ){var ha=[];ss.arrayAddRange(ha,gZ.get_nodes());var hb=gZ.findNodeSelection(e);if(ss.isValue(hb)){ss.remove(ha,hb)}else{var hc=ff.isCategoricalAndTupleAssociatedHeader(e.ZHX,e.wwF);if(!gZ.isNodeAncestorSelected(e,hc)){ha.push(ff.$6(e))}}return Array.prototype.slice.call(ha)};ff.$6=function(e){var gZ={};gZ.ZHX=e.ZHX||[];gZ.wwF=e.wwF||[];return gZ};global.tab.SelectionUtils=ff;var fg=function(e,gZ,ha){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=gZ;this.scheduleDetails=ha};fg.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=fg;var fh=function(){};fh.__typeName='tab.ServerCommands';fh.get_interceptorCount=function(){var e=0;var gZ=new ss.ObjectEnumerator(fh.$1);try{while(gZ.moveNext()){var ha=gZ.current();e+=ha.value.length}}finally{gZ.dispose()}return e};fh.$0=function(e,gZ){return e+':'+gZ};fh.executeServerCommand=function(e,gZ,ha,hb){var hc=fh.$1[fh.$0(e.commandNamespace,e.commandName)];if(ss.isValue(hc)){for(var hd=0;hd<hc.length;hd++){var he=hc[hd];if(he(e)===1){return}}}bn.SendCommand(eK.create(e,gZ,ha,hb))};fh.intercept=function(e,gZ){var ha='tabdoc'.toString();for(var hb=0;hb<e.length;hb++){var hc=e[hb];fh.addCommandInterceptor(gZ,ha,hc.toString())}return gZ};fh.addCommandInterceptor=function(e,gZ,ha){var hb=fh.$0(gZ,ha);var hc=fh.$1[hb];if(ss.isNullOrUndefined(hc)){hc=[];fh.$1[hb]=hc}hc.push(e);return e};fh.removeIntercept=function(e,gZ){var ha='tabdoc'.toString();for(var hb=0;hb<e.length;hb++){var hc=e[hb];fh.removeCommandInterceptor(gZ,ha,hc.toString())}};fh.removeCommandInterceptor=function(e,gZ,ha){var hb=fh.$0(gZ,ha);var hc=fh.$1[hb];if(!ss.isNullOrUndefined(hc)){for(var hd=0;hd<hc.length;hd++){if(ss.staticEquals(hc[hd],e)){ss.removeAt(hc,hd);if(hc.length===0){delete fh.$1[hb];return}}}}};fh.clearAllCommandInterceptors=function(){ss.clearKeys(fh.$1)};global.tab.ServerCommands=fh;var fi=function(e,gZ,ha,hb,hc,hd){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=gZ;this.$4=ha;this.$3=hb;if(ss.isNullOrUndefined(hc)||hc){this.$1=this.$5.incrementWait(hd)}};fi.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=fi;var fj=function(e,gZ){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=gZ;this.$9=e.$4('status')};fj.__typeName='tab.SessionAjaxHandler';var fk=function(){};fk.__typeName='tab.SessionCommands';fk.ping=function(){(new ev).invoke()};global.tab.SessionCommands=fk;var fl=function(){};fl.__typeName='tab.SessionHeartbeat';fl.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();fl.$0=e;if(e-fl.$1>fl.$3){fl.$1=e;fk.ping()}};fl.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();fl.$1=e;if(e-fl.$0>fl.$2){fl.$0=e;gN.extendWorkgroupSession()}};global.tab.SessionHeartbeat=fl;var fm=function(){};fm.__typeName='tab.SessionServerCommands';fm.cancelLatestSetTimeout=function(){window.clearTimeout(fm.$0)};fm.destroySessionAndForward$1=function(e,gZ){var ha=2000;var hb=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,gZ)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,gZ)}};var hc=null;hc=function(){hb();fm.cancelLatestSetTimeout();ha*=2;fm.$0=window.setTimeout(hc,ha)};var hd=function(){hb();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){fm.$0=window.setTimeout(hc,ha)}};fm.destroySessionAndForward(hd)};fm.destroySessionAndForward=function(e){var gZ=bn.get().get_legacySession();gZ.get_waitHandler().showAndLock(false);var ha=gZ.$0(function(){e()},function(){},function(){},'immediately');var hb={};hb.type='DELETE';hb.url=gZ.$4('destroy');hb.headers=ss.mkdict(['Accept','text/javascript']);hb.dataType='json';gZ.$b(hb,ha)};global.tab.SessionServerCommands=fm;var fn=function(){ss.makeGenericType(L,[Object,fo]).call(this)};fn.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=fn;var fo=function(e){this.$c=null;this.$c=e};fo.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=fo;var fp=function(){ss.makeGenericType(L,[Object,fq]).call(this)};fp.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=fp;var fq=function(e){this.$c=null;this.$c=e};fq.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=fq;var fr=function(){ss.makeGenericType(L,[Object,fs]).call(this)};fr.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=fr;var fs=function(e){this.$c=null;this.$c=e};fs.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=fs;var ft=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};ft.__typeName='tab.ShapeManager';ft.get_canvasCacheCapacity=function(){return ft.$1};ft.getCacheKey$1=function(e,gZ,ha,hb,hc,hd){return e+';'+gZ+';'+ha+';'+hb+';'+hc+';'+hd};ft.getCacheKey=function(e,gZ,ha,hb,hc){return e+';'+gZ+';'+ha+';'+hb+';'+hc};global.tab.ShapeManager=ft;var fu=function(e,gZ){this.$0=null;this.$1=null;this.$0=e;this.$1=gZ};fu.__typeName='tab.ShapeModel';fu.fromString=function(e){var gZ=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var ha=gZ.exec(e);if(ss.isNullOrUndefined(ha)){return null}var hb=ha[2];var hc=ha[3];if(ss.isNullOrUndefined(hc)){return null}var hd=null;if(ss.isValue(hb)){if(ss.referenceEquals(hb,'filled'.toString())){hd='filled'}else{return null}}var he=hc;return new fu(hd,he)};global.tab.ShapeModel=fu;var fv=function(){};fv.__typeName='tab.SheetClientCommands';fv.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bn.get().prepareForSheetChange();var gZ=fv.createSwitchSheetsCommand(e.sheetName);fh.executeServerCommand(gZ,'immediately',e.successCallback,e.errorCallback)};fv.createSwitchSheetsCommand=function(e){var gZ={};gZ['DYs']=e;return bA.newCommand$1('ensure-layout-for-sheet',gZ)};fv.goToSheet=function(e){bn.get().prepareForSheetChange();var gZ={};gZ['Gge']=e;var ha=bA.newCommand('goto-sheet',gZ);fh.executeServerCommand(ha,'immediately')};fv.ensureLayoutForSheet=function(e){var gZ=fv.createSwitchSheetsCommand(e);fh.executeServerCommand(gZ,'immediately')};fv.createSheet=function(e,gZ){var ha=bA.newCommand('new-worksheet',null);fv.$0(ha,e,gZ);fh.executeServerCommand(ha,'immediately',null,null)};fv.renameSheet=function(e,gZ){var ha={};ha['Gge']=e;ha['tox']=gZ;var hb=bA.newCommand('rename-sheet',ha);fh.executeServerCommand(hb,'immediately',null,null)};fv.createDashboardOrStory=function(e,gZ,ha){var hb=(ha?'new-storyboard':'new-dashboard');var hc=bA.newCommand(hb,null);fv.$0(hc,e,gZ);fh.executeServerCommand(hc,'immediately',null,null)};fv.$0=function(e,gZ,ha){e.commandParams={};if(ss.isValue(gZ)){e.commandParams['tox']=gZ}if(ha){e.commandParams['ncI']=ha.toString()}e.commandParams['De']=true};fv.getSheetTabContextMenu=function(e,gZ){var ha=bA.newCommand('build-sheet-tab-context-menu',null);ha.commandParams={};if(ss.isValue(e)){ha.commandParams['DDA']=e}fh.executeServerCommand(ha,'none',function(hb){gZ(hb)},null)};fv.getSheetListContextMenu=function(e,gZ,ha){var hb=new U;hb.c['DDA']=e;hb.c['$dg']=gZ;var hc=hb;hc.invoke().then(ha)};fv.getLayoutTreeContextMenu=function(e,gZ,ha){var hb=new S;hb.c['XwZ']=e;hb.c['BCp']=gZ|0;var hc=hb;hc.invoke().then(ha)};fv.getCaptionContextMenu=function(e,gZ){var ha=new Q;ha.c['DDA']=e;var hb=ha;hb.invoke().then(gZ)};fv.getTitleContextMenu=function(e,gZ){var ha=new W;ha.c['DDA']=e;var hb=ha;hb.invoke().then(gZ)};fv.$1=function(e){return{EUR:Math.floor(e.EUR),rec:Math.floor(e.rec)}};fv.setPortSize=function(e){var gZ=bA.newCommand$1('set-port-size',null);gZ.commandParams={};gZ.commandParams['Gge']=tsConfig.current_sheet_name;var ha=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');var hb=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet');gZ.commandParams['Yqf']=fv.$1({EUR:hb.h,rec:hb.w});gZ.commandParams['jWP']=fv.$1({EUR:ha.h,rec:ha.w});gZ.commandParams['viI']=fv.$1({EUR:ha.h,rec:ha.w});fh.executeServerCommand(gZ,'immediately');K.get_instance().get_workbook().withOuterDashboard(function(hc){hc.set_portSize(e)})};global.tab.SheetClientCommands=fv;var fw=function(e,gZ){dX.call(this,e,new ez(gZ.toString()))};fw.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=fw;var fx=function(e){this.$2=null;this.$1=null;this.$2$1=null;dX.call(this,e,new ez('Tbf'.toString()));this.$1=new l(this)};fx.__typeName='tab.SheetListModel';global.tab.SheetListModel=fx;var fy=function(e,gZ,ha){this.sheetId=null;M.call(this,e,ha);this.sheetId=gZ};fy.__typeName='tab.SheetSession';fy.add_sheetDataChanged=function(e){fy.$2$1=ss.delegateCombine(fy.$2$1,e)};fy.remove_sheetDataChanged=function(e){fy.$2$1=ss.delegateRemove(fy.$2$1,e)};fy.fireSheetDataChanged=function(){if(ss.isValue(fy.$2$1)){fy.$2$1()}};global.tab.SheetSession=fy;var fz=function(e){dX.call(this,e,new ez('zcg'.toString(),1))};fz.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=fz;var fA=function(e){dX.call(this,e,new ez('PmI'.toString(),1))};fA.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=fA;var fB=function(e,gZ){this.$2=null;this.$2$1=null;dX.call(this,e,new ez(gZ.toString()))};fB.__typeName='tab.ShelfModel';global.tab.ShelfModel=fB;var fC=function(e){this.$3=[];this.$2$1=null;dX.call(this,e,new ez('MiB'.toString()))};fC.__typeName='tab.ShelvesModel';fC.createShelfModel=function(e,gZ,ha,hb,hc){var hd=new fB(new fA(e),hb);hd.update(gZ,ha,hc);return hd};global.tab.ShelvesModel=fC;var fD=function(){ss.makeGenericType(L,[Object,fE]).call(this)};fD.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=fD;var fE=function(e){this.$c=null;this.$c=e};fE.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=fE;var fF=function(e){this.$0=null;this.$0=e};fF.__typeName='tab.SimpleCommandsPresModelWrapper';fF.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new fF(e)};global.tab.SimpleCommandsPresModelWrapper=fF;var fG=function(e,gZ){this.$2$1=null;dX.call(this,e,new ez(gZ.toString()))};fG.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=fG;var fH=function(e){this.$2$1=null;dX.call(this,e,new ez('$tK'.toString()))};fH.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=fH;var fI=function(){};fI.__typeName='tab.SortServerCommands';fI.sortFromIndicator=function(e,gZ,ha){var hb=ea.getZoneIdForSheetName(ha.AVP);var hc=fI.$2(e,gZ,ha,hb);var hd=bA.newCommand('sort-from-indicator',hc);var he=new bh('afterDelay',function(hf){if(fI.$0(hb)){eZ.setActiveZoneLocal(hb,hf)}},hd);bn.SendCommand(he)};fI.quickSort=function(e,gZ){var ha=fI.$1(e,gZ);var hb=bA.newCommand('quick-sort',ha);var hc=new bh('afterDelay',null,hb);bn.SendCommand(hc)};fI.requestSortingContextMenu=function(e,gZ,ha,hb){var hc=new cS;hc.c['hcY']=tab.PointUtil.toPresModel(e);hc.c['xxA']=tab.PointUtil.toPresModel(gZ);hc.c['J_M']=ha;hc.invoke().done(function(hd){hb(hd.$c['Jmx'])})};fI.$2=function(e,gZ,ha,hb){var hc={};var hd={x:Math.floor(e.x),y:Math.floor(e.y)};var he={x:Math.floor(gZ.x),y:Math.floor(gZ.y)};bA.addVisualIdToCommand(hc,ha);hc['hcY']=JSON.stringify(tab.PointUtil.toPresModel(hd));hc['xxA']=JSON.stringify(tab.PointUtil.toPresModel(he));if(fI.$0(hb)){hc['TBd']=ea.findContentDashboard().pm.IJE;hc['BCp']=hb}return hc};fI.$0=function(e){return tsConfig.allow_select&&e!==-1&&!ea.isActiveZone(e)};fI.$1=function(e,gZ){var ha={};bA.addVisualIdToCommand(ha,e);ha['rei02']=gZ;return ha};global.tab.SortServerCommands=fI;var fJ=function(e,gZ,ha,hb,hc){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=gZ;this.right=ha;this.top=hb;this.bottom=hc};fJ.__typeName='tab.SpacingDefinition';global.tab.SpacingDefinition=fJ;var fK=function(){ss.makeGenericType(L,[Object,fL]).call(this);this.set_uiBlocking('immediately')};fK.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=fK;var fL=function(e){this.$c=null;this.$c=e};fL.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=fL;var fM=function(){};fM.__typeName='tab.StartupUtils';fM.add_modelsInitialized=function(e){fM.$1$1=ss.delegateCombine(fM.$1$1,e)};fM.remove_modelsInitialized=function(e){fM.$1$1=ss.delegateRemove(fM.$1$1,e)};fM.add_clientFullyLoaded=function(e){fM.$1$2=ss.delegateCombine(fM.$1$2,e)};fM.remove_clientFullyLoaded=function(e){fM.$1$2=ss.delegateRemove(fM.$1$2,e)};fM.callAfterBootstrap=function(e){if(fM.$1){e()}else{var gZ=null;gZ=function(){e();fM.remove_clientFullyLoaded(gZ)};fM.add_clientFullyLoaded(gZ)}};fM.callAfterModelsInitialized=function(e){if(fM.$2){e()}else{var gZ=null;gZ=function(){e();fM.remove_modelsInitialized(gZ)};fM.add_modelsInitialized(gZ)}};fM.notifyModelsInitialized=function(){if(fM.$2){return}fM.$2=true;if(!ss.staticEquals(fM.$1$1,null)){fM.$1$1()}};fM.$0=function(){if(fM.$1){return}fM.$1=true;if(!ss.staticEquals(fM.$1$2,null)){fM.$1$2()}};global.tab.StartupUtils=fM;var fN=function(e,gZ){this.$4=null;this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez(gZ.toString(),0));this.$4=new bM(this)};fN.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=fN;var fO=function(e){this.$1=null;dX.call(this,e,new ez('stK'.toString()))};fO.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=fO;var fP=function(){this.$3=null;this.$3=new(ss.makeGenericType(dQ,[String,u]))(fP.$6);gS.get().add_onCommandResponse(ss.mkdel(this,this.$0));fP.$5=new ss.Lazy(function(){return['capture-story-point'.toString(),'delete-story-point'.toString(),'duplicate-active-story-point'.toString(),'edit-story-point-caption'.toString(),'ensure-layout-for-sheet'.toString(),'get-storyboard'.toString(),'insert-story-point'.toString(),'next-story-point'.toString(),'new-blank-story-point'.toString(),'previous-story-point'.toString(),'replace-story-point'.toString(),'revert'.toString(),'revert-story-point'.toString(),'revert-workbook'.toString(),'save-active-story-point-as-new'.toString(),'set-active-story-point'.toString(),'toggle-storypoints-nav-arrows'.toString()]});if(ss.isValue(fP.$4)){this.$3.add(fP.$4.item1.toString(),fP.$4.item2);fP.$4=null}};fP.__typeName='tab.StoryPointsPresModelCache';fP.$0=function(e){if(!fP.$3(e)){return}var gZ=fP.$1(e);if(ss.isValue(gZ)){var ha=new u(gZ);fP.$4={item1:gZ.hVl,item2:ha}}gS.get().remove_onBootstrapResponse(fP.$0)};fP.$3=function(e){if(fP.$2(e)||!e.res.mmK.Jqz||e.ABX!=='render-mode-client'){return false}return true};fP.$2=function(e){if(ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.HCq)){return true}return false};fP.$1=function(e){if(e.ABX!=='render-mode-client'){return null}if(fP.$2(e)){return null}var gZ=null;var ha=e.res.mmK.HCq;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];if(ss.isNullOrUndefined(he)){continue}gZ=gX.getContent(he,'XIo');if(ss.isValue(gZ)){break}}if(ss.isNullOrUndefined(gZ)){return null}var hf=gZ.P_I.toString();var hg=gZ.stK[hf];return hg};global.tab.StoryPointsPresModelCache=fP;var fQ=function(e){this.$1=null;this.$2=null;this.$2$1=null;dX.call(this,e,new ez('rPC'.toString(),0));this.$1=new dU;this.$2=new eh};fQ.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=fQ;var fR=function(e){this.$1=null;this.$0=null;this.update(e)};fR.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=fR;var fS=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez('OKS'.toString()));this.set_tableCalcIdentifier(new fR(null));this.$3=new fT(this)};fS.__typeName='tab.TableCalcModel';fS.$0=function(e,gZ){if(!(gZ in e.wqq)){return null}return e.wqq[gZ]};global.tab.TableCalcModel=fS;var fT=function(e){this.$2$1=null;dX.call(this,e,new ez('xtX'.toString()))};fT.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=fT;var fU=function(e){this.$2$1=null;dX.call(this,e,new ez('bUz'.toString()))};fU.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=fU;var fV=function(){};fV.__typeName='tab.TabResources';fV.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};fV.lookupResourceAlias=function(e){return(ss.keyExists(fV.$0,e)?fV.$0[e]:'')};fV.lookupFullResourceAlias=function(e){var gZ=e.split('/');var ha=((gZ.length>0)?gZ[gZ.length-1]:e);return fV.lookupResourceAlias(ha)};fV.lookupTabRes=function(e){return fV.lookupResourceAlias(e)};fV.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+fV.lookupResourceAlias(e)};global.tab.TabResources=fV;var fW=function(e,gZ){this.$2$1=null;dX.call(this,e,new ez(gZ))};fW.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=fW;var fX=function(){ss.makeGenericType(L,[Object,fY]).call(this)};fX.__typeName='tab.ToggleINDJoinSemanticsCmd';global.tab.ToggleINDJoinSemanticsCmd=fX;var fY=function(e){this.$c=null;this.$c=e};fY.__typeName='tab.ToggleINDJoinSemanticsCmd$Response';global.tab.ToggleINDJoinSemanticsCmd$Response=fY;var fZ=function(){ss.makeGenericType(gF,[Object,ga]).call(this)};fZ.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd';fZ.get_commandName=function(){return'toggle-ind-join-semantics-wrapper'};global.tab.ToggleINDJoinSemanticsWrapperCmd=fZ;var ga=function(e){this.$c=null;this.$c=e};ga.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd$Response';global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=ga;var gb=function(e){this.$2$1=null;dX.call(this,e,new ez('R_T1'.toString()))};gb.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=gb;var gc=function(){};gc.__typeName='tab.ToolbarServerCommands';gc.get_authoringVizUri=function(){var e;var gZ=null;if(ss.isNullOrEmptyString(gZ)){e=gB.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=gB.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,gZ)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};gc.setAutoUpdate=function(e){var gZ={};gZ['chK']=e;var ha=bA.newCommand$1('set-auto-update-server',gZ);fh.executeServerCommand(ha,'immediately')};gc.refreshData=function(){var e={};e['IDV']=0;e['jug']=true;var gZ=bA.newCommand$1('refresh-data-server',e);fh.executeServerCommand(gZ,'immediately')};gc.launchEditing=function(){var e=gc.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_embedMode()==='embedded'||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};gc.downloadWorkbook=function(e){var gZ;if(ss.isValue(e)){gZ=e}else{gZ=tsConfig.downloadURI}var ha;if(tsConfig.is_metrics_view){ha=bn.get().get_legacySession().metricsViewDownloadUrl()}else{ha=gc.$0(gZ)}window.open(ha)};gc.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ea.findActiveOrDefaultVisual())){e=ea.findActiveOrDefaultVisual().get_worksheetName()}var gZ=ea.findContentDashboard().getViewSession(e);if(ss.isValue(gZ)){window.open(gZ.formatUnderlyingDataURL(null),gZ.getWindow('vud'),'scrollbars,resizable')}};gc.exportImage=function(e){var gZ=K.get_instance().get_workbook().get_currentSheetStoryPointId();var ha=tableau.types.ExportDialogType['ExportImage'];var hb=[];var hc=[];if(ea.findContentDashboard().get_isDashboard()){var hd=e.get_sheetScrollPositions();if(ss.isValue(hd)){var he=ss.getEnumerator(Object.keys(hd));try{while(he.moveNext()){var hf=he.current();var hg=hd[hf];var hh=hg.x;var hi=hg.y;if(hh!==0||hi!==0){hc.push({x:hh,y:hi});hb.push(hf)}}}finally{he.dispose()}}}cs.exportImage(tsConfig.current_sheet_name,gZ,ha,hb,hc)};gc.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ea.findActiveOrDefaultVisual())){e=ea.findActiveOrDefaultVisual().get_worksheetName()}var gZ=ea.findContentDashboard().getViewSession(e);if(ss.isValue(gZ)){var ha=tableau.types.ExportDialogType['ExportCrosstab'];gZ.fileDownloadHelper.openDownload(gZ.formatExportCrossTabURL('utf16'),ha)}};gc.exportPdf=function(e){e.triggerExportPdfUI()};gc.$0=function(e){if(ss.isValue(e)){var gZ=e.match(gc.$1);if(ss.isValue(gZ)&&gZ.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+gZ[1]}}return e};global.tab.ToolbarServerCommands=gc;var gd=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};gd.__typeName='tab.Transaction';gd.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(he){return he.$1().get_pathList().length});var gZ=K.get_instance().pm;var ha=ex.cloneObjWithScalarsOnly(gZ);if(ss.isNullOrUndefined(ha)){ha=new Object}var hb=ha;for(var hc=0;hc<e.length;hc++){var hd=e[hc];ex.insertAtPath(gZ,hb,hd.$1(),hd.$0())}return hb};global.tab.Transaction=gd;var ge=function(){this.$1=null;this.$0={}};ge.__typeName='tab.Transactor';global.tab.Transactor=ge;var gf=function(e,gZ){dX.call(this,e,gZ)};gf.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=gf;var gg=function(){};gg.__typeName='tab.UberTipClientCommands';gg.$4=function(){return tab.MiscUtil.lazyInitStaticField(gg,'commandPermissions',function(){return et.buildCommandPermission()})};gg.executeUbertipAction=function(e,gZ,ha){var hb=new w(function(hc){F.executeAction(e,gZ,ha,hc)});bn.SendCommand(hb)};gg.executeUbertipCommand=function(e){switch(e.commandType){case 1:{eZ.clearAllSelections(ea.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var gZ=gg.$3(e);fh.executeServerCommand(gZ,'immediately');break}case 4:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{fh.executeServerCommand(e.command,'immediately');break}case 21:{fh.executeServerCommand(e.command,'immediately',bA.createCommandRedirectSuccessHandler(null),null);break}case 23:{var ha=bA.newCommand('select-by-tuple-value',e.command.commandParams);fh.executeServerCommand(ha,'immediately');break}case 6:case 9:case 7:default:{return}}};gg.localAndRemoteUberTipCommand=function(e,gZ,ha,hb,hc,hd,he,hf,hg,hh){var hi=gg.$0(e,gZ,ha,hb,hd,he,hf,hg,hh,hc);bn.SendCommand(hi)};gg.$0=function(e,gZ,ha,hb,hc,hd,he,hf,hg,hh){var hi=new b(function(hj){if(!K.get_instance().get_isLocalRenderMode()){return}var hk=gh.createLocalUberTipModel(e,ea.getVisualModelFromVisualId(ha),hc,tsConfig.is_authoring);if(ss.isValue(hk)){hk.isUpdate=false;et.filterCommands(hk.buttonCommands,gg.$4())}hd(hk);F.executeActions(ha.AVP,'on-hover',[hc.get_interactedTupleId()],hj,false)},gg.$2(gZ,ha,hb,hg,hh),gg.$1(true,he),hf);return hi};gg.localOnlyUbertipCommand=function(e,gZ,ha,hb){var hc=gg.buildLocalOnlyUbertipCommand(e,gZ,ha,hb);hc.set_commandName('render-tooltip-server'.toString());bn.SendCommand(hc)};gg.buildLocalOnlyUbertipCommand=function(e,gZ,ha,hb){var hc=new b(function(hd){var he=gh.createLocalUberTipModel(e,ea.getVisualModelFromVisualId(gZ),ha,tsConfig.is_authoring);if(ss.isValue(he)){he.isUpdate=false;et.filterCommands(he.buttonCommands,gg.$4())}hb(he);F.executeActions(gZ.AVP,'on-hover',[ha.get_interactedTupleId()],hd,false)},null,null,null);return hc};gg.remoteOnlyUbertipCommand=function(e,gZ,ha,hb,hc,hd,he,hf,hg){var hh=gg.buildRemoteOnlyUberTipCommand(e,gZ,ha,hb,hc,hd,he,hf,hg);bn.SendCommand(hh)};gg.buildRemoteOnlyUberTipCommand=function(e,gZ,ha,hb,hc,hd,he,hf,hg){var hh=null;if(hf&&ss.isValue(he)){hh=function(hj){F.executeActions(gZ.AVP,'on-hover',he,hj,false)}}var hi=new b(hh,gg.$2(e,gZ,ha,hd,hg),gg.$1(false,hb),hc);return hi};gg.$2=function(e,gZ,ha,hb,hc){var hd={};bA.addVisualIdToCommand(hd,gZ);if(ss.isValue(hc)){hd['nSc']=[ss.unbox(hc)]}var he=new Object;var hf=gA.create(he);hf.set_r(e);hf.set_x(Math.round(ha.x));hf.set_y(Math.round(ha.y));hf.set_w(Math.round(ha.w));hf.set_h(Math.round(ha.h));hd['vpK']=he;hd['QoN']=tsConfig.is_mobile||hb==='on-hover';hd['dhR']=true;hd['_JU']=tsConfig.is_mobile;hd['dkd']=true;return bA.newCommand$1('render-tooltip-server',hd)};gg.$1=function(e,gZ){return function(ha){if(!ss.isValue(ha)){return}var hb=ha.toString();var hc=(ss.isNullOrEmptyString(hb)?null:JSON.parse(hb));cG.notifyFontsFromUberTipPresModel(hc);var hd=gh.deserializeUbertip(hc);if(ss.isValue(hd)){hd.isUpdate=e;et.filterCommands(hd.buttonCommands,gg.$4())}if(ss.isValue(gZ)){gZ(hd)}cG.$5()}};gg.$3=function(e){var gZ=bA.duplicateCommand(e.command);var ha=gZ.commandParams;var hb=ha['OBN'];delete ha['OBN'];if(!ss.keyExists(ha,'ArG')&&ss.isValue(hb)){var hc=[parseInt(hb.toString())];var hd={};hd.kyj=hc;hd.coe='tuples';ha['Gvh']=hd}return gZ};global.tab.UberTipClientCommands=gg;var gh=function(){};gh.__typeName='tab.UbertipSerializer';gh.deserializeUbertip=function(e){if(ss.isNullOrUndefined(e)){return null}var gZ=[];var ha=[];var hb=[];if(ss.isValue(e.Jmx)){gh.$4(e.Jmx,gZ,ha,hb)}var hc=[];if(ss.isValue(e.Rii)){gh.$3(e.Rii,hc,0)}var hd=[];if(ss.isValue(e.slk)){gh.$3(e.slk,hd,0)}var he={};he.tooltipHtml=gh.$8(e.LSs);he.selectionHtml=gh.$8(e.lBv);he.overlayImage=gh.$8(e.tkp);he.overlayImageKey=gh.$8(e.MHp);he.tupleId=e.OBN;he.interactedTupleId=e.OBN;he.imageRegion=e.dpp;he.tupleSelected=e.vPt||false;he.refLineSelected=e.CsR||false;he.trendLineSelected=e.ioD||false;he.isExplicitlyEmpty=e.ByD||false;he.tooltipOffset=tab.PointUtil.fromPresModel(e.vGG);he.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.nwZ);he.buttonCommands=gZ;he.subcommands=ha;he.nestedCommands=hb;he.contentCommands=hc;he.actions=hd;if(ss.isValue(he.overlayImage)||ss.isValue(he.overlayImageKey)){var hf=e.CNg.length;he.overlayAnchors=new Array(hf);for(var hg=0;hg<hf;++hg){var hh=e.CNg[hg];var hi=tab.PointUtil.fromPresModel(hh);he.overlayAnchors[hg]={x:hi.x,y:hi.y}}}gh.$1(e,gZ,hb,null);if(ss.isValue(he.tooltipHtml)||ss.isValue(he.selectionHtml)||gZ.length>0||hd.length>0){return he}return null};gh.createLocalUberTipModel=function(e,gZ,ha,hb){var hc=ha.get_interactedTupleId();var hd=ha.get_affectedTupleIds();var he=ha.get_paneDescriptorKey();var hf=gZ.get_vizDataModel();if(ss.isNullOrUndefined(hf)){return null}var hg=hf.get_ubertipData();var hh=gh.$7(hg,he);var hi=gh.$5(hh.LSs,gZ.get_visualId(),hc);var hj=K.get_instance().get_dataDictionary();var hk=gx.constructHtml(hj,hh.LSs,hf,[hc]);var hl=null;var hm=false;if(hd.length>1&&hh.BWC){hm=true;hl=gh.$6(hj,hf,hd,hh.zDK)}var hn=[];var ho=hc;if(ho<0){ho=0}var hp=[];var hq=gx.hasTupleWithNonTotalValue(hf,hj,hd);if(hh.BWC&&hf.hasDimensionColumnNotMeasureNames()){if(hq){gh.$3(hg.qCD,hn,ho)}if(hm){gh.$3(hg.NV$,hn,ho)}hn=hn.filter(function(hx){return hx.commandType!==10});gh.$1(null,hn,null,e);if(hb){var hr={commandType:10,imageRes:fV.lookupResourceAlias('TQRC_SPLIT'),name:''};if(tsConfig.is_mobile){var hs=tab.Strings.UbertipTooltip_GroupMobile;var ht=tab.Strings.UbertipTooltip_SplitMobile;hr.description=((ht.length>hs.length)?ht:hs)}hp.push(hr)}}var hu;if(hq){hu=F.getApplicableActions(gZ.get_visualId().AVP,'explicitly',null);hu=_.filter(hu,function(hx){if(hx.bg$==='explicitly'&&F.getActionType(hx)!=='url'&&hx.kDm.length===0){return false}return true})}else{hu=[]}var hv=hh.LSs.toString().length===0;if(ss.isValue(hk)||ss.isValue(hl)||hn.length>0||hu.length>0){var hw={tooltipHtml:hk,selectionHtml:hl,tupleId:ho,interactedTupleId:hc,isExplicitlyEmpty:hv,actionPMs:hu,buttonCommands:hn,contentCommands:hi,placeHolders:hp,visualId:gZ.get_visualId()};return hw}return null};gh.$7=function(e,gZ){if(e.cJ$.length===1){return e.cJ$[0]}for(var ha=0;ha<e.cJ$.length;ha++){var hb=e.cJ$[ha];if(ss.isValue(hb.uNv)){if(ss.referenceEquals(hb.uNv.fDN,gZ)){return hb}}}return null};gh.$5=function(e,gZ,ha){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')){return[]}if(ha===0){return[]}var hb=$(e);var hc=hb.find('a.relax-selection');var hd=hc.length;var he=[];for(var hf=0;hf<hd;hf++){var hg=hc.eq(hf);var hh=hg.children().eq(0);var hi=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(hh.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var hj=hg.attr('href');var hk=gh.$2(gZ,hi,hj,ha);he[hf]=hk}return he};gh.$2=function(e,gZ,ha,hb){var hc={};hc['J_M']=e;hc['AVP']=e.AVP;hc['HBp02']=gZ;hc['OBN']=hb.toString();var hd=bA.newCommand('select-by-tuple-value',hc);var he={commandType:23,name:ha,command:hd};return he};gh.$6=function(e,gZ,ha,hb){var hc=gZ.getVizDataField(hb||'');if(ss.isValue(hc)){var hd=[];$.extend.apply(null,[true,hd].concat(gh.$9));hd[2]=ha.length.toString();hd[4]=tab.Strings.UbertipItemsSelected;if(hc.get_aggType()!=='sum'){hd[8]=tab.Strings.SumOf}hd[10]=hb;hd[14]='&lt;'+hb+'&gt;';var he=hd.join('');return gx.constructHtml(e,he,gZ,ha)}else{gh.$a[2]=ha.length.toString();gh.$a[4]=tab.Strings.UbertipItemsSelected;return gh.$a.join('')}};gh.$1=function(e,gZ,ha,hb){var hc=ss.isNullOrUndefined(hb);if(gZ.length<=0){return}var hd=false;if(ss.isValue(e)&&ss.isValue(e.dpp)){switch(e.dpp){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{hd=true;break}}hd=hd&&!e.CsR&&!e.ioD}if(!tsConfig.previewMode&&(hd||!hc)){var he={commandType:7,status:'enabled',description:tab.Strings.UbertipTooltip_ViewData,command:bA.newCommand('viewData',{})};if(hc){for(var hf=0;hf<gZ.length;hf++){var hg=gZ[hf];if(ss.isValue(hg.command)&&ss.isValue(hg.command.commandParams)&&ss.keyExists(hg.command.commandParams,'ArG')){he.command.commandParams['ArG']=hg.command.commandParams['ArG'];break}}}else{he.command.commandParams['ArG']=JSON.stringify(tab.PointUtil.toPresModel(hb))}gh.$0(he,gZ,ha)}if(tsConfig.is_mobile){var hh={commandType:1,name:tab.Strings.UbertipClearSelection,status:'enabled'};gh.$0(hh,gZ,ha)}};gh.$0=function(e,gZ,ha){gZ.push(e);if(ss.isValue(ha)){ha.push({item1:true,item2:gZ.length-1})}};gh.$3=function(e,gZ,ha){var hb=by.create(e);if(ss.isNullOrUndefined(hb)||ss.isNullOrUndefined(hb.get_commandItems())){return}var hc=hb.get_commandItems();for(var hd=0;hd<hc.length;hd++){var he=hc[hd];var hf=br.create(he);var hg={command:bw.deserialize(hf.get_command())};if(ss.isValue(hg.command)){gh.buildCommandModelFromWrapper(hg,hf,ha);gZ.push(hg)}if(ss.isValue(hf.get_commands())){gh.$3(hf.get_commands(),gZ,ha)}}};gh.$4=function(e,gZ,ha,hb){var hc=by.create(e);if(ss.isNullOrUndefined(hc)||ss.isNullOrUndefined(hc.get_commandItems())){return}var hd=0;var he=0;var hf=hc.get_commandItems();for(var hg=0;hg<hf.length;hg++){var hh=hf[hg];var hi=br.create(hh);var hj={command:bw.deserialize(hi.get_command())};if(ss.isValue(hj.command)){gh.buildCommandModelFromWrapper(hj,hi,0);gZ.push(hj);hb.push({item1:true,item2:hd});hd++}if(ss.isValue(hi.get_commands())){ha.push(hi);hb.push({item1:false,item2:he});he++}}};gh.buildCommandModelFromWrapper=function(e,gZ,ha){gh.setCommandType(e);e.name=gZ.get_name();e.description=gZ.get_description();if(!tab.MiscUtil.isNullOrEmpty$1(gZ.get_iconRes())){e.imageRes=fV.lookupFullResourceAlias(gZ.get_iconRes())}var hb=gZ.get_enabled();e.status=((ss.isNullOrUndefined(hb)||hb)?'enabled':'disabled');if(ha!==0&&!ss.isValue(e.command.commandParams['ArG'])){e.command.commandParams['OBN']=ha.toString()}};gh.setCommandType=function(e){var gZ=bw.getCommandType(e.command);if(ss.isValue(gZ)){e.commandType=ss.unbox(gZ)}};gh.$8=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=gh;var gi=function(){ss.makeGenericType(L,[Object,gj]).call(this)};gi.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=gi;var gj=function(e){this.$c=null;this.$c=e};gj.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=gj;var gk=function(){};gk.__typeName='tab.UriPathStripper';gk.getModuleFromPath=function(e,gZ){var ha=tsConfig.site_root||'';var hb=e.indexOf(ha,0);var hc;if(hb===-1){hc=e.substr(1)}else{var hd=hb+ha.length;hc=e.substr(hd+1)}for(var he=0;he<gZ.length;he++){var hf=gZ[he];if(ss.startsWithString(hc,hf+'/')){return hf}}return''};gk.getMeatFromPath=function(e,gZ){var ha=gk.getModuleFromPath(e,gZ);var hb=e.indexOf(ha,0);return e.substr(hb+ha.length+1)};global.tab.UriPathStripper=gk;var gl=function(){};gl.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=gl;var gm=function(){};gm.__typeName='tab.UserFactory';gm.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=gm;var gn=function(e){dX.call(this,e,new ez('geometry'))};gn.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=gn;var go=function(e,gZ,ha,hb){this.viewid=null;fy.call(this,e,gZ,hb);this.viewid=ha};go.__typeName='tab.ViewSession';global.tab.ViewSession=go;var gp=function(){};gp.__typeName='tab.VisualColumnHelpers';gp.transformColumn=function(e,gZ){if(ss.isNullOrUndefined(e)){return false}e.transform(gZ);return true};gp.createDataArray=function(e,gZ,ha){var hb=e.uBu02.slice(gZ,gZ+ha);return gq.create(hb)};gp.parseColumns=function(e,gZ,ha){var hb=gp.$0(e);var hc=_.keys(e.GKA);for(var hd=0;hd<hc.length;hd++){var he=hc[hd];hb.set(he,gp.createDataArray(e.GKA[he],gZ,ha))}return hb};gp.buildColorTable=function(e,gZ,ha,hb){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(gZ)||!gZ.has('color_idx')){return null}var hc=1;if(gZ.has('alpha')&&gZ.get('alpha').c){var hd=gZ.get('alpha');hc=hd.v[(hd.c?0:0)]}var he=[];var hf={};var hg=gZ.get('color_idx');var hh=hg.length;for(var hi=0;hi<hh;hi++){var hj=hg.v[(hg.c?0:hi)];if(ss.keyExists(hf,hj)){hg.v[(hg.c?0:hi)]=hf[hj]}else{var hk=bl.fromArgbInt(e.DiR[hj]);hk=new bl(hk.get_r(),hk.get_g(),hk.get_b(),hc*hk.get_a());he.push(eR.createColorCollection(hk,ha,hb));hg.v[(hg.c?0:hi)]=he.length-1;hf[hj]=hg.v[(hg.c?0:hi)]}}return he};gp.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var gZ=[];for(var ha=0,hb=e.length;ha<hb;ha++){gZ[ha]=eR.createOpaqueColorCollection(e[ha])}return gZ};gp.$0=function(e){var gZ=new Map;var ha=[e.LTd,e.DTe,e.HDS];for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(ss.isNullOrUndefined(hc)){continue}var hd=Object.keys(hc);for(var he=0;he<hd.length;he++){var hf=hd[he];var hg=[hc[hf]];gZ.set(hf,gq.create(hg))}}return gZ};global.tab.VisualColumnHelpers=gp;var gq=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};gq.__typeName='tab.VisualColumnIterator';gq.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new x(e)}return new gq(e)};global.tab.VisualColumnIterator=gq;var gr=function(e){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('visuallist'))};gr.__typeName='tab.VisualListModel';global.tab.VisualListModel=gr;var gs=function(e){this.$p=null;this.$k=null;this.$b=null;this.$f={};this.$h=null;this.$9=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$m=null;this.$r=null;this.$v=null;this.$d=null;this.$t=null;this.$s=null;this.$i=null;this.$j=null;this.$8=null;this.$g=null;this.$7=null;this.$c=null;this.$u=false;this.$a=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;dX.call(this,e,new ez('uqP'.toString()));this.$j=new Map;this.$8=new Map;this.$g=new Map;this.$7=new Map;this.$p=new fd(this,'pUG'.toString());this.$k=new fa(null,-1);this.$b=new fd(this,'iyL'.toString());this.$u=true;this.$a=false;this.$e=false;this.$k.update(fd.$1('tuples'),ee.get_noopContext())};gs.__typeName='tab.VisualModel';gs.$0=function(){return tab.Logger.lazyGetLogger(gs)};global.tab.VisualModel=gs;var gt=function(){};gt.__typeName='tab.VizClientCommands';gt.invalidateVisualModel=function(e){gt.$0(e,false)};gt.validateVisualModel=function(e){gt.$0(e,true)};gt.$0=function(e,gZ){var ha=new w(function(hb){ea.setVisualValidStateOnModel(hb,e,gZ)});bn.SendCommand(ha)};gt.setUIMode=function(e,gZ){var ha=K.get_instance().get_workbook();if(ha.get_uiMode()===e){return}var hb=e!=='document'||ss.referenceEquals(gZ,tsConfig.current_sheet_name);hb=hb&&e!=='data-tab';var hc=new bf;hc.c['Olx']=e;hc.set_uiBlocking((hb?'none':'immediately'));var hd=hc;if(!ss.isNullOrEmptyString(gZ)){hd.c['DDA']=gZ}if(hb){hd.set_localWork(function(he){var hf=he.makeMutablePresModel(ha,false);hf.Olx=e})}hd.invoke()};global.tab.VizClientCommands=gt;var gu=function(e,gZ){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=gZ;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};gu.__typeName='tab.VizDataField';global.tab.VizDataField=gu;var gv=function(){};gv.__typeName='tab.VizDataLookup';gv.lookupDisplayValue=function(e,gZ,ha){if(!gZ.isTupleIdValid(e)){gv.$2(e,gZ.get_fieldCaption());return null}if(gZ.get_hasAliases()){var hb=gv.lookupAlias(e,gZ,ha);if(ss.isValue(hb)){return hb}}if(gZ.get_hasDataValues()){var hc=gv.$3(e,gZ,ha);if(ss.isValue(hc)){return hc}}gv.$2(e,gZ.get_fieldCaption());return null};gv.$2=function(e,gZ){var ha=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,gZ)};gv.$1=function(e){return ss.Nullable$1.lt(e,0)};gv.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};gv.lookupAlias=function(e,gZ,ha){if(!gZ.isTupleIdValid(e)){gv.$2(e,gZ.get_fieldCaption());return null}var hb=gZ.getAliasIndex(e);return gv.lookupAliasFromIndex(hb,gZ,ha)};gv.lookupAliasFromIndex=function(e,gZ,ha){var hb=null;if(ss.isValue(e)){if(gv.$1(e)){e=gv.$0(e);hb=ha.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(hb)){hb=tableau.format.formatSpecial(hb,gZ.get_specialValuesOverride())}}else{var hc=e;hb=gv.$4(hc,gZ,ha)}}return hb};gv.lookupRawDataValue=function(e,gZ,ha){var hb=gZ.getDataValueIndex(e);return gv.lookupRawDataValueFromIndex(hb,gZ,ha)};gv.lookupRawDataValueFromIndex=function(e,gZ,ha){var hb=null;if(ss.isValue(e)){var hc;var hd=ss.unbox(e);if(hd>=0){hc=gZ.get_dataType()}else{hd=-hd-1;hc='cstring'}var he=ha.getRawValue(hc,hd);if(ss.isValue(he)){hb=he.toString()}}return hb};gv.$3=function(e,gZ,ha){var hb=gZ.getDataValueIndex(e);return gv.$4(hb,gZ,ha)};gv.$4=function(e,gZ,ha){var hb=null;var hc=gv.lookupRawDataValueFromIndex(e,gZ,ha);if(ss.isValue(hc)){if(tableau.format.isSpecialValue(hc)){hb=tableau.format.formatSpecial(hc,gZ.get_specialValuesOverride())}else{hb=tableau.format.formatString(hc,gZ.get_vizColumnDoNotUse())}}return hb};gv.reverseLookupAlias=function(e,gZ,ha,hb){var hc=null;if(ha.get_hasAliases()){gZ.forEachTupleId(function(hd){var he=gv.lookupAlias(hd,ha,hb);if(ss.compareStrings(he,e,false)===0){hc=ha.getAliasIndex(hd);return false}return true})}return hc};gv.buildAliasReverseLookup=function(e,gZ,ha){var hb={};if(gZ.get_hasAliases()){e.forEachTupleId(function(hc){var hd=gv.lookupAlias(hc,gZ,ha);if(ss.isNullOrUndefined(hb[hd])){hb[hd]=gZ.getAliasIndex(hc)}return true})}return hb};gv.isSpecial=function(e,gZ,ha,hb){var hc=gv.lookupRawDataValue(e,gZ,ha);if(ss.isNullOrUndefined(hc)){var hd=gZ.getAliasIndex(e);if(ss.isValue(hd)){if(gv.$1(hd)){hd=gv.$0(hd)}var he=hd;hc=gv.lookupRawDataValueFromIndex(he,gZ,ha)}if(ss.isNullOrUndefined(hc)){return false}}return(ss.isNullOrUndefined(hb)?tableau.format.isSpecialValue(hc):ss.referenceEquals(hc,hb))};global.tab.VizDataLookup=gv;var gw=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;dX.call(this,e,new ez('zFl'.toString()));this.$4=[];this.$5=[]};gw.__typeName='tab.VizDataModel';global.tab.VizDataModel=gw;var gx=function(){};gx.__typeName='tab.VizDataUtils';gx.constructUrl=function(e,gZ,ha,hb,hc){var hd=function(he,hf,hg){if(ss.isNullOrEmptyString(hf)){if(ss.isValue(hb)){return gx.$6(e,he,hb,1,gZ)}return null}var hh=gx.$1(e,he,hf,gZ.cqY);if(gZ.KAU){hh=encodeURIComponent(hh)}return hh};return gx.decodeAndReplaceData(gZ.ZNi,'<','>',ha,hd)};gx.constructUrlForFilterActionFromTargetURL=function(e,gZ,ha,hb,hc){var hd=function(hl,hm,hn){return gx.$5(e,hl,hc,hn,ha)};var he=gZ.toString().split('?');if(he.length===1){return gZ}var hf=he[0]+'?';var hg=he[1].split('&');var hh=[];for(var hi=0;hi<hg.length;hi++){var hj=hg[hi];var hk=gx.decodeAndReplaceData(hj,'<','>',hb,hd);if(hk.item2==='success'){hh.push(hk.item1)}}hf+=hh.join('&');return hf};gx.constructUrlFromString=function(e,gZ,ha,hb,hc,hd){var he=function(hg,hh,hi){if(ss.isNullOrEmptyString(hh)){return gx.$2(e,hg,hb,1)}else{return gx.$1(e,hg,hh,hd)}};var hf=gx.decodeAndReplaceData(gZ,'<','>',ha,he);return hf.item1};gx.constructHtml=function(e,gZ,ha,hb){var hc=function(hg,hh,hi){return gx.$2(e,hg,hb,0)};var hd=gx.decodeAndReplaceData(gZ,'&lt;','&gt;',ha,hc);var he=$(hd.item1);var hf=[];gx.getNodesOfInvalidFields(he,hf);gx.$0(he,hf);return(gx.shouldShowUbertipHTML(he)?he.wrap('<div>').parent().html():'')};gx.decodeAndReplaceData=function(e,gZ,ha,hb,hc){var hd='success';var he=gx.$4(e,'escaped_open_tag');var hf=gx.$4(e,'escaped_close_tag');var hg=ss.replaceAllString(ss.replaceAllString(e,gZ+gZ,he),ha+ha,hf);var hh=hg.split(gZ);var hi=new ss.StringBuilder(hh.shift());for(var hj=0;hj<hh.length;hj++){var hk=hh[hj];var hl=hk.split(ha);var hm=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(hl[0],he,gZ),hf,ha));var hn=hl[1];var ho=true;var hp=hm.lastIndexOf(String.fromCharCode(126));var hq=hm.lastIndexOf(String.fromCharCode(93));if(hp>=0&&(hq===-1||hq<hp)){var hr=hm.substr(hp);hm=hm.substr(0,hp);if(hr==='~na'){ho=false}}var hs=null;if(gx.$7(hm)){var ht=hm.indexOf('(');hs=hm.substring(0,ht);hm=hm.substring(ht+1,hm.length-1)}var hu=hm.indexOf(String.fromCharCode(91));var hv=hm.lastIndexOf(String.fromCharCode(93));if(hu>=0&&hu<hv){hm=hm.substring(hu+1,hv)}if(ss.startsWithString(hm,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var hw=hb.getVizDataField(hm);if(ss.isNullOrUndefined(hw)){return{item1:'',item2:'urlConstructionFail'}}var hx=hc(hw,hs,ho);if(ss.isNullOrUndefined(hx)){hd='urlConstructionFail'}else{hi.append(hx)}hi.append(hn)}var hy=ss.replaceAllString(ss.replaceAllString(hi.toString(),he,gZ),hf,ha);return{item1:hy,item2:hd}};gx.hasTupleWithNonTotalValue=function(e,gZ,ha){for(var hb=0;hb<ha.length;hb++){var hc={$:ha[hb]};var hd={$:false};e.forEachVizDataField(ss.mkdel({tupleId:hc,tupleHasTotal:hd},function(he,hf){if(he.get_role()==='dimension'){if(gv.isSpecial(this.tupleId.$,he,gZ,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!hd.$){return true}}return false};gx.isFieldNameOfColumn=function(e,gZ){var ha=gx.stripNewlines(e.HBp02);var hb=gx.stripNewlines(gZ);var hc='['+hb+']';return ss.referenceEquals(hb,ha)||ss.referenceEquals(hb,gx.stripNewlines(e._cX))||ss.referenceEquals(hc,ha)||ss.referenceEquals(hc,gx.stripNewlines(e.JDJ))};gx.isFieldCaptionOfColumn=function(e,gZ){return ss.referenceEquals(gx.stripNewlines(gZ),gx.stripNewlines(e.OLk))};gx.$4=function(e,gZ){var ha=gZ;while(e.indexOf(ha)>-1){ha+=Math.random()*10000|0}return ha};gx.stripNewlines=function(e){return(ss.isValue(e)?e.replace(gx.$8,''):null)};gx.shouldShowUbertipHTML=function(e){if(tab.MiscUtil.isNullOrEmpty$1(e.text().trim())){return tab.FeatureFlags.isEnabled('VizInTooltips')&&e.has('span[data-tableau="VizInTooltip"]').length!==0}return true};gx.getNodesOfInvalidFields=function(e,gZ){var ha='';var hb=e.contents().get();for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(hd.nodeType===3){ha+=hd.textContent||(hd.textContent||'')}else{gx.getNodesOfInvalidFields($(hd),gZ)}}if(ha.indexOf('~~~???~~~')!==-1){gZ.push(e)}};gx.addVizDataToZones=function(e,gZ){var ha=_.keys(gZ);var hb=_.keys(e);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];for(var he=0;he<ha.length;he++){var hf=ha[he];var hg=gZ[hf];if(hg.pj$.jAM==='viz'&&ss.referenceEquals(hg.Gge,hd)){var hh=hg.wqq['uqP'.toString()];if(ss.isValue(hh)){var hi=e[hd].wqq;hh.zFl=hi['genVizDataPresModel']}break}}}};gx.$0=function(e,gZ){for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=gx.$3(e,hb,'tr');if(ss.isValue(hc)){hc.remove()}else{var hd=gx.$3(e,hb,'div');if(ss.isValue(hd)){hd.remove()}else{hb.remove()}}}};gx.$3=function(e,gZ,ha){var hb=gZ;if(ss.isValue(e)&&ss.isValue(gZ)&&e.find(gZ).length===1){while(!ss.referenceEquals(hb[0],e[0])){if(ss.referenceEquals(hb[0].tagName.toLowerCase(),ha)){return hb}hb=hb.parent()}}return null};gx.$6=function(e,gZ,ha,hb,hc){var hd=[];for(var he=0;he<ha.length;he++){var hf=ha[he];var hg=gv.lookupAlias(hf,gZ,e);if(ss.isNullOrUndefined(hg)){continue}if(gv.isSpecial(hf,gZ,e,null)){continue}if(hg.indexOf(hc.cqY)!==-1){hg=ss.replaceAllString(hg,hc.cqY,hc.ivU+hc.cqY)}if(hc.KAU){hg=encodeURIComponent(hg)}hd.push(hg)}if(hd.length===0){return null}if(hd.length>1&&ss.isNullOrUndefined(hc.cqY)){return null}var hh=hd.join(hc.cqY);if(hb===0){hh=tableau.format.escapeHTML(hh)}return hh};gx.$5=function(e,gZ,ha,hb,hc){var hd=[];for(var he=0;he<ha.length;he++){var hf=ha[he];var hg=(hb?gv.lookupAlias(hf,gZ,e):gv.lookupRawDataValue(hf,gZ,e));hg=gx.replaceUrlStringSpecialValues(hg);hg=ss.replaceAllString(hg,hc.cqY,hc.ivU+hc.cqY);hd.push(hg)}return encodeURIComponent(hd.join(hc.cqY))};gx.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};gx.$2=function(e,gZ,ha,hb){var hc;if(ha.length>1){if(!gZ.get_hasDataValues()){return'...'}var hd=new Array(ha.length);for(var he=0;he<ha.length;++he){var hf=gv.lookupRawDataValue(ha[he],gZ,e);if(hf===null||tableau.format.isSpecialValue(hf)){hf='0'}else if(typeof(hf)==='undefined'||hf.length===0){return'...'}hd[he]=hf}var hg=0;for(var hh=0;hh<hd.length;++hh){hg+=parseFloat(hd[hh])}hc=tableau.format.formatString(hg.toString(),gZ.get_vizColumnDoNotUse())}else if(ha.length===1){var hi=gv.lookupDisplayValue(ha[0],gZ,e);if(ss.isNullOrUndefined(hi)){return'~~~???~~~'}hc=hi}else{return''}if(hb===0){return tableau.format.escapeHTML(hc)}else{return hc}};gx.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};gx.$1=function(e,gZ,ha,hb){if(ss.isNullOrUndefined(gZ)||ss.isNullOrUndefined(gZ.get_filterContext())){return''}var hc=gZ.get_filterContext();var hd;switch(ha){case'FILTERMIN':{hd=hc.lHq;break}case'FILTERMAX':{hd=hc.jBo;break}case'FILTERVALUES':{hd=hc.kLT;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty(hd)){return''}var he=[];for(var hf=0;hf<hd.length;hf++){var hg=hd[hf];var hh=gv.lookupRawDataValueFromIndex(hg,gZ,e);he.push(hh)}return he.join(hb||',')};global.tab.VizDataUtils=gx;var gy=function(){};gy.__typeName='tab.VizPortalServer';gy.createRequest=function(e,gZ,ha,hb){var hc=function(hd){if(gy.$5(hd)){hb(gy.$2(hd))}else{ha(hd)}};return gy.$1(e,gZ,hc,hb)};gy.createRequestWithPartialFailureHandling=function(e,gZ,ha,hb,hc){var hd=function(he){if(gy.$5(he)){hb(he)}else{ha(he)}};return gy.$1(e,gZ,hd,hc)};gy.$0=function(e){return gy.$1(e.methodName,e.methodParams,e.success,e.error)};gy.$1=function(e,gZ,ha,hb){var hc=new Object;hc.type='POST';hc.contentType='application/json;charset=UTF-8';hc.dataType='json';hc.url='/vizportal/api/web/v1/'+e;var hd=gy.$4();if(ss.isValue(hd)){hc.headers=ss.mkdict(['X-XSRF-TOKEN',hd])}hc.data=JSON.stringify(ss.mkdict(['method',e,'params',gZ]));hc.success=function(he,hf,hg){ha(gy.$3(he))};hc.error=function(){hb(0)};return hc};gy.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};gy.$5=function(e){if(ss.keyExists(e,'errors')){var gZ=e['errors'];return gZ.length>0}else{return false}};gy.$2=function(e){if(ss.keyExists(e,'errors')){var gZ=e['errors'];if(gZ.length>0&&ss.keyExists(gZ[0],'code')){return gZ[0]['code']}}return 0};gy.$3=function(e){var gZ=e;return gZ['result']};global.tab.VizPortalServer=gy;var gz=function(e,gZ,ha,hb){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=gZ;this.success=ha;this.error=hb};gz.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=gz;var gA=function(e){this.$0=null;this.$0=e};gA.__typeName='tab.VizRegionRectWrapper';gA.create=function(e){return new gA(e)};global.tab.VizRegionRectWrapper=gA;var gB=function(e){this.explicitNotGuest=false;this.$l=0;this.$m='';this.$k='';this.$e='';this.$i={};this.$f='';this.$g='';this.$h='';this.$j='';if(ss.getKeyCount(gB.$9)===0){gB.$2()}if(ss.isValue(e)){this.$5(e)}};gB.__typeName='tab.VizUriModel';gB.createForCurrentWindowLocation=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var gZ=new gB(tab.WindowHelper.getLocation(e));return gZ};gB.createForViewingSheet=function(e){var gZ=gB.$0(null);gZ.$l=(tsConfig.is_revision_history_preview?6:(gZ.$l=1));var ha=new eL(e);gZ.$m=ha.get_workbookId();gZ.$k=ha.get_sheetId();gZ.$f=ha.get_customizedView();gZ.$e='';return gZ};gB.createForViewingSheets=function(e,gZ){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var ha=e.length;var hb=new Array(ha);var hc=gB.$0(null);hc.$l=1;hc.$e='';if(!gZ){hc.removeAllQueryParams()}for(var hd=0;hd<ha;hd++){var he=hc.clone();var hf=e[hd];var hg=new eL(hf);he.$m=hg.get_workbookId();he.$k=hg.get_sheetId();he.$f=hg.get_customizedView();hb[hd]=he}return hb};gB.createForCurrentWindowLocationAndVizState=function(e,gZ){var ha=gB.createForCurrentWindowLocation();var hb=new eL(e);ha.$m=hb.get_workbookId();ha.$k=hb.get_sheetId();ha.$f=hb.get_customizedView();ha.$e=gZ;return ha};gB.createForAuthoringUnpublishedSheet=function(e,gZ){var ha=gB.createForAuthoringPublishedSheet(e);ha.$e=gZ;return ha};gB.createForAuthoringPublishedSheet=function(e){var gZ=gB.$0(null);gZ.$l=2;var ha=new eL(e);gZ.$m=ha.get_workbookId();gZ.$k=ha.get_sheetId();gZ.$e='';return gZ};gB.createInvalid=function(){var e=new gB;e.$l=0;return e};gB.$2=function(){var e=ss.getEnumerator(Object.keys(gB.$d));try{while(e.moveNext()){var gZ=e.current();gB.$9[gB.$d[gZ]]=gZ}}finally{e.dispose()}};gB.$0=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var gZ=tab.WindowHelper.getLocation(e);var ha=new gB(gZ);ha.$i=gB.$1(gZ);ha.$g=gZ.hash;ha.$h=tab.BrowserSupport.getOrigin(gZ);return ha};gB.$1=function(e){var gZ=tab.MiscUtil.getUriQueryParameters(e.href);for(var ha=0;ha<gB.$c.length;ha++){var hb=gB.$c[ha];if(ss.keyExists(gZ,hb)){delete gZ[hb]}}return gZ};gB.encodeUserName=function(e){var gZ=tab.MiscUtil.percentEncode(e,gB.$a);return ss.replaceAllString(gZ,'%40','@')};global.tab.VizUriModel=gB;var gC=function(){};gC.__typeName='tab.VizUriType';global.tab.VizUriType=gC;var gD=function(){};gD.__typeName='tab.WaitFeedbackType';global.tab.WaitFeedbackType=gD;var gE=function(){this.$9=null;this.$f=null;this.$d=0;this.$a=null;this.$g=null;this.$e=null;this.$c=false;this.$b=false;this.$9=$('#loadingGlassPane');this.$9.on('mousedown',function(e){e.stopImmediatePropagation()});this.$9.on(tab.BrowserSupport.get_mouseWheelEvent(),function(e){e.preventDefault()});this.$f=$('#loadingSpinner');this.$d=0;this.$c=true;this.$b=false};gE.__typeName='tab.WaitHandler';global.tab.WaitHandler=gE;var gF=function(e,gZ){var ha=function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(L,[e,gZ]).call(this)};ss.registerGenericClassInstance(ha,gF,[e,gZ],{get_isChecked:function(){return this.$2$1},set_isChecked:function(hb){this.$2$1=hb},get_isDefault:function(){return this.$2$2},set_isDefault:function(hb){this.$2$2=hb},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(hb){this.$2$3=hb},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(hb){this.$2$4=hb},get_isVisible:function(){return this.$2$5},set_isVisible:function(hb){this.$2$5=hb},createCommand:function(){return new w(ss.mkdel(this,function(hb){this.do$1()}))},do$1:null,invoke:function(){var hb=$.Deferred();this.do$1();hb.resolve();return hb.promise()}},function(){return ss.makeGenericType(L,[e,gZ])},function(){return[]});return ha};gF.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(gF,a,2);global.tab.WebBaseCmd$2=gF;var gG=function(){this.$1=null;br.call(this)};gG.__typeName='tab.WebCommandItemWrapper';gG.$ctor1=function(e){this.$1=null;br.call(this,e);var gZ=bw.deserialize(this.get_command());if(ss.isValue(gZ)&&gH.hasCommand(gZ.commandName)){this.$1=gH.createCommand(gZ.commandName);this.$1.set_isChecked(br.prototype.get_isChecked.call(this));this.$1.set_isDefault(br.prototype.get_isDefault.call(this));this.$1.set_isEnabled(br.prototype.get_enabled.call(this));this.$1.set_isRadioOn(br.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(br.prototype.get_isVisible.call(this))}else{}};global.tab.WebCommandItemWrapper=gG;var gH=function(){};gH.__typeName='tab.WebCommandRegistry';gH.registerCommand=function(e,gZ){gH.$0[e]=gZ};gH.hasCommand=function(e){return ss.keyExists(gH.$0,e)};gH.createCommand=function(e){if(ss.keyExists(gH.$0,e)){var gZ=gH.$0[e];return ss.createInstance(gZ)}throw new ss.Exception('creating unregistered web command')};global.tab.WebCommandRegistry=gH;var gI=function(e){this.$1=null;this.$2$1=null;dX.call(this,e,new ez('_Ss'.toString()));this.$1=e.get_zone()};gI.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=gI;var gJ=function(e){this.$3$1=null;gf.call(this,e,new ez('xKN'.toString()))};gJ.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=gJ;var gK=function(e){this.$4=null;this.$6=null;this.$8=null;this.$9=null;this.$7=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;dX.call(this,e,new ez('res'.toString()));this.$4=new bx(this);this.$8=new ce(this);this.$7=new bV(this);this.set_formatPaneModel(new cI(this))};gK.__typeName='tab.WorkbookModel';gK.add_workbookModifiedChanged=function(e){gK.$2$1=ss.delegateCombine(gK.$2$1,e)};gK.remove_workbookModifiedChanged=function(e){gK.$2$1=ss.delegateRemove(gK.$2$1,e)};gK.$1=function(e){if(gK.$0(e)){return e.mmK.nhM.xD}return null};gK.$0=function(e){return ss.isValue(e)&&ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)};gK.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(gK.$2$1,null)){gK.$2$1(e)}D.get().onWorkbookModifiedChanged(e)};global.tab.WorkbookModel=gK;var gL=function(e,gZ){this.$1=null;this.$0=null;this.$1=e;this.$0=gZ};gL.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=gL;var gM=function(e,gZ,ha){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=gZ;this.$0=ha};gM.__typeName='tab.WorkgroupDataSource';gM.$0=function(e){var gZ=(ss.isValue(e)?e.match(gM.$1):null);return(ss.isValue(gZ)?gZ[1]:e)};global.tab.WorkgroupDataSource=gM;var gN=function(){};gN.__typeName='tab.WorkgroupServerCommands';gN.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){gU.helper(gy.createRequest('getSessionInfo',null,function(gZ){e.resolve(gZ)},function(gZ){e.reject(gZ)}))}else{e.reject()}return e};gN.getWritableProjects=function(e){var gZ=[];B.$0(Object).call(null,'getWritableProjects',new f,ss.mkdel(this,function(ha){var hb=B.$3(Object).call(null,ha,gN.$8);ss.arrayAddRange(gZ,hb.items);return hb}),function(){e(gZ)})};gN.extendWorkgroupSession=function(){if(!tsConfig.is_guest){gU.helper(gy.createRequest('getSessionInfo',null,function(){},function(){}))}};gN.getSchedules=function(e){var gZ=[];B.$0(eV).call(null,'getSchedules',new f,ss.mkdel(this,function(ha){var hb=B.$3(eV).call(null,ha,gN.$9);ss.arrayAddRange(gZ,hb.items);return hb}),function(){e(gZ)})};gN.getSiteUsers=function(e,gZ){var ha=[];B.$0(Object).call(null,'getUsers',gN.$3(e),ss.mkdel(this,function(hb){var hc=B.$3(Object).call(null,hb,gN.$a);_.each(hc.items,function(hd){ha.push(hd)});return hc}),function(){gZ(ha)})};gN.getDataAlertForDataAlertId=function(e,gZ){var ha=$.Deferred();var hb=[];B.$1(Object).call(null,'getDataAlerts',gN.$1(0,e,gZ),ss.mkdel(this,function(hc){var hd=B.$3(Object).call(null,hc,gN.$6);var he=_.indexBy(gN.$a(hc),'id');if(ss.isValue(hd)){hb=hb.concat(_.map(hd.items,function(hf){var hg=he[hf.ownerId];return new gL(hf,hg)}))}return hd}),function(){ha.resolve(hb)},function(){ha.reject()});return ha};gN.getUsersForDataAlertId=function(e){var gZ=$.Deferred();var ha=[];B.$1(Object).call(null,'getUsersForDataAlert',gN.$4(0,e),ss.mkdel(this,function(hb){var hc=B.$3(Object).call(null,hb,gN.$a);if(ss.isValue(hc)){_.each(hc.items,function(hd){ha.push(hd)})}return hc}),function(){gZ.resolve(ha)},function(){gZ.reject()});return gZ};gN.fetchPageOfDataSources=function(e,gZ,ha){var hb=$.Deferred();B.$2(Object).call(null,'getDatasources',gN.$2(e,gZ,ha),ss.mkdel(this,function(hc){var hd=B.$3(Object).call(null,hc,gN.$7);var he=_.indexBy(gN.$8(hc),'id');var hf=_.indexBy(gN.$a(hc),'id');var hg={items:_.map(hd.items,function(hh){var hi=he[hh.projectId.toString()];var hj=hf[hh.ownerId.toString()];return new gM(hh,hi,hj)}),moreItems:hd.moreItems};hb.resolve(hg);return hd}));return hb.promise()};gN.getDatasources=function(e,gZ,ha){var hb=[];B.$0(Object).call(null,'getDatasources',gN.$2(0,gZ,ha),ss.mkdel(this,function(hc){var hd=B.$3(Object).call(null,hc,gN.$7);var he=_.indexBy(gN.$8(hc),'id');var hf=_.indexBy(gN.$a(hc),'id');if(ss.isValue(hd)){hb=hb.concat(_.map(hd.items,function(hg){var hh=he[hg.projectId.toString()];var hi=hf[hg.ownerId.toString()];return new gM(hg,hh,hi)}))}return hd}),function(){e(hb)})};gN.fetchPageOfSiteUsers=function(e,gZ){var ha=$.Deferred();var hb=gN.$3(e);hb.$1(gZ);hb.$2()['includeGuestIfEnabled']=false;B.$2(Object).call(null,'getUsers',hb,ss.mkdel(this,function(hc){var hd=B.$3(Object).call(null,hc,gN.$a);ha.resolve(hd);return hd}));return ha.promise()};gN.$3=function(e){var gZ={field:'displayName',ascending:true};var ha={operator:'and',clauses:[{operator:'matches',value:e}]};return new f.$1(gZ,ha)};gN.$1=function(e,gZ,ha){var hb={operator:'and',clauses:[{field:'viewId',operator:'eq',value:gZ},{field:'id',operator:'eq',value:ha}]};var hc={field:'title',ascending:true};var hd=new f.$1(hc,hb);hd.$1(e);return hd};gN.$4=function(e,gZ){var ha={field:'displayName',ascending:true};var hb=new f.$1(ha,null);hb.$1(e);hb.$2()['dataAlertId']=gZ;return hb};gN.$2=function(e,gZ,ha){var hb={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(ha)){hb.clauses=hb.clauses.concat([{operator:'matches',value:ha}])}var hc=new f.$0(gZ,hb);hc.$1(e);return hc};gN.setUserEmail=function(e,gZ,ha){gN.$5(function(hb){var hc=ss.mkdict(['userId',hb,'email',e]);gU.helper(gy.createRequest('updateUserEmail',hc,gZ,ha))},ha)};gN.$5=function(e,gZ){var ha=tsConfig.current_user_name;var hb=tsConfig.current_user_domain_name;var hc=[{field:'username',operator:'eq',value:ha},{field:'domainName',operator:'eq',value:hb}];var hd=ss.mkdict(['filter',{clauses:hc}]);gU.helper(gy.createRequest('getServerUsers',hd,function(he){var hf=he['users'];if(ss.isValue(hf)&&hf.length>0&&ss.keyExists(hf[0],'id')){var hg=hf[0]['id'];e(hg)}else{gZ(gy.$2(he))}},gZ))};gN.createSubscription=function(e,gZ,ha,hb,hc,hd){var he=gN.$0(ha.get_schedulePresModel().id,e,gZ,ss.coalesce(hb,'Always'));gU.helper(gy.createRequest('createSubscription',he,hc,hd))};gN.createSubscriptions=function(e,gZ,ha,hb,hc,hd,he,hf){var hg=gN.$0(hb.get_schedulePresModel().id,e,gZ,ss.coalesce(hc,'Always'));hg['userIds']=ha;gU.helper(gy.createRequestWithPartialFailureHandling('createSubscriptions',hg,hd,he,hf))};gN.createDataAlert=function(e,gZ,ha){var hb=gN.buildCreateDataAlertRequestParams(e);gU.helper(gy.createRequest('createDataAlert',hb,gZ,ha))};gN.updateDataAlert=function(e,gZ,ha,hb,hc,hd){var he=gN.buildUpdateDataAlertRequestParams(e,gZ,ha.map(function(hf){return hf.id.toString()}),hb.map(function(hf){return hf.id.toString()}));gU.helper(gy.createRequest('updateDataAlert',he,hc,hd))};gN.buildCreateDataAlertRequestParams=function(e){var gZ;var ha;if(ss.isValue(tsConfig.current_custom_view_id)){gZ='customizedView';ha=tsConfig.current_custom_view_id+''}else{gZ='view';ha=tsConfig.current_view_id}var hb=ss.mkdict(['title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ss.mkdict(['contextType',gZ,'id',ha])]);return hb};gN.buildUpdateDataAlertRequestParams=function(e,gZ,ha,hb){var hc=ss.mkdict(['dataAlertId',gZ,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',ha,'userIdsToRemove',hb]);return hc};gN.logOff=function(e){var gZ=function(ha){var hb=ha['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(hb)?hb:'/'))};gU.helper(gy.createRequest('logout',{},gZ,e))};gN.createCommentingServer=function(){return new bB(gy.$0,bn.get().get_legacySession())};gN.$0=function(e,gZ,ha,hb){return ss.mkdict(['scheduleId',e,'subject',gZ.trim(),'targetType',(ha?'Workbook':'View'),'targetId',(ha?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',hb])};gN.$8=function(e){return _.map(e['projects'],function(gZ){return gZ})};gN.$9=function(e){return _.map(e['schedules'],function(gZ){return new eV(gZ)})};gN.$a=function(e){return _.map(e['users'],function(gZ){return{username:gZ['username'].toString(),friendlyName:gZ['displayName'].toString(),id:parseInt(gZ['id'].toString()),hasEmail:gZ['hasEmail']}})};gN.$6=function(e){return e['dataAlerts']};gN.$7=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=gN;var gO=function(){};gO.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=gO;var gP=function(e,gZ,ha,hb){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=gZ;this.success=ha;this.error=hb};gP.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=gP;var gQ=function(){};gQ.__typeName='tab.WorksheetServerCommands';gQ.revert=function(){var e=bA.newCommand$1('revert-workbook',null);bn.SendCommand(eK.create(e,'immediately'))};gQ.undo=function(){var e=bA.newCommand('undo',null);e.commandParams={};bn.SendCommand(eK.create(e,'immediately'))};gQ.undoToPosition=function(e){var gZ=bA.newCommand('undo',null);gZ.commandParams=gQ.$0(e);bn.SendCommand(eK.create(gZ,'immediately'))};gQ.redo=function(){var e=bA.newCommand('redo',null);e.commandParams={};bn.SendCommand(eK.create(e,'immediately'))};gQ.redoToPosition=function(e){var gZ=bA.newCommand('redo',null);gZ.commandParams=gQ.$0(e);bn.SendCommand(eK.create(gZ,'immediately'))};gQ.clearFuture=function(){var e=bA.newCommand('clear-future',null);e.commandParams={};bn.SendCommand(eK.create(e,'immediately'))};gQ.$0=function(e){var gZ={};gZ['DfV']=e;return gZ};global.tab.WorksheetServerCommands=gQ;var gR=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};gR.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=gR;var gS=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};gS.__typeName='tab.WorldUpdateInterceptor';gS.get=function(){return gS.$0.value()};global.tab.WorldUpdateInterceptor=gS;var gT=function(){};gT.__typeName='tab.WorldUpdateServerCommands';gT.getWorldUpdate=function(e){var gZ=bA.newCommand('get-world-update',gT.$0());fh.executeServerCommand(gZ,'immediately',e,e)};gT.$0=function(){var e={};e['Gge']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=gT;var gU=function(){};gU.__typeName='tab.XhrUtil';gU.get_currentTabName=function(){return gU.$0};gU.set_currentTabName=function(e){gU.$0=e};gU.helper=function(e,gZ){var ha=new gU;if(!ss.isValue(e.success)&&ss.isValue(gZ)){e.success=gZ.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(gZ)){e.complete=gZ.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(gZ)){e.error=gZ.get_errorDelegate()}return ha.request(e)};gU.getMultipartData=function(e,gZ){var ha=gU.randomString();var hb='--'+ha;var hc='\r\n';var hd=new ss.StringBuilder;if(ss.isValue(e)){hd.append(hb);hd.append(hc);hd.append('Content-Disposition: form-data; name="');hd.append(e['name']);hd.append('"');if('filename'in e){hd.append('; filename="');hd.append(e['filename']);hd.append('"')}hd.append(hc);hd.append('Content-Type: ');hd.append(e['contentType']);hd.append(hc);hd.append(hc);hd.append(e['content']);hd.append(hc)}if(ss.isValue(gZ)){var he=new ss.ObjectEnumerator(gZ);try{while(he.moveNext()){var hf=he.current();hd.append(hb);hd.append(hc);hd.append('Content-Disposition: form-data; name="');hd.append(hf.key);hd.append('"');hd.append(hc);hd.append(hc);if(ss.isInstanceOfType(hf.value,String)){hd.append(hf.value)}else{hd.append(JSON.stringify(hf.value))}hd.append(hc)}}finally{he.dispose()}}hd.append(hb);hd.append('--');hd.append(hc);var hg={};hg.header=ha;hg.body=hd.toString();return hg};gU.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var gZ=8;var ha='';for(var hb=0;hb<gZ;hb++){var hc=Math.random()*e.length;var hd=hc|0;ha+=e.substring(hd,hd+1)}return ha};global.tab.XhrUtil=gU;var gV=function(e,gZ){this.$2=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;dX.call(this,e,new ez(gZ.toString(),0));this.$2=new fQ(this);this.$1=new fQ(this)};gV.__typeName='tab.ZoneCommonModel';global.tab.ZoneCommonModel=gV;var gW=function(e){dX.call(this,e,new ez('wqq'.toString()))};gW.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=gW;var gX=function(e,gZ,ha){this.$8=null;this.$a=null;this.$9=null;this.$6=null;this.$3=null;this.$7=null;this.$5=false;this.$4=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;dX.call(this,e,new ez(ha.toString(),0));this.$8=gZ;this.$9=new gV(this,ha);this.$3=new bx(this)};gX.__typeName='tab.ZoneModel';gX.$2=function(e){var gZ=e.wqq;if(ss.isNullOrUndefined(gZ)){return null}if(ss.getKeyCount(gZ)===1){var ha=ss.getEnumerator(Object.keys(gZ));try{while(ha.moveNext()){var hb=ha.current();return hb}}finally{ha.dispose()}}return''};gX.getContent=function(e,gZ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.wqq)){return null}if(!(gZ in e.wqq)){return null}return e.wqq[gZ]};gX.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};gX.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=gX;var gY=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;dX.call(this,e,new ez('HCq'.toString()));this.set_zonePresModels({});this.$7={};this.$6={}};gY.__typeName='tab.ZonesModel';gY.$0=function(e){return'z_'+e};global.tab.ZonesModel=gY;ss.initClass(bh,a,{get_isBlocking:function(){return this.$5!=='none'},get_blockType:function(){return this.$5},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$1},set_commandName:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},execute:function(e,gZ,ha){var hb=null;if(!ss.staticEquals(ha,null)){hb=function(hc){_.defer(function(){ha(hc)})}}if(this.$4==='localFirst'){this.executeLocal(e);this.executeRemote(gZ,hb)}else if(this.$4==='remoteFirst'){this.executeRemote(gZ,hb);this.executeLocal(e)}if(!ss.isValue(this.doRemoteWork)&&ss.isValue(hb)){hb(bp.successResult)}},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var gZ=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(gZ)){gZ.dispose()}}}}},executeRemote:function(e,gZ){if(ss.isValue(this.doRemoteWork)){this.$3=new Array;this.doRemoteWork(e,function(ha){fl.onVizqlPinged();if(ss.isValue(gZ)){gZ(ha)}})}},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$3)){return}var e=this.$3;var gZ=this.$2;while(gZ.length>0){e.push(gZ.shift())}this.$2=e;this.$3=gZ},enqueueCommand:function(e){this.$2.push(e)},handleRemoteCommandSuccess:function(e,gZ){if(ss.isValue(e.get_successCallback())){e.get_successCallback()(gZ)}},handleRemoteCommandFailure:function(e,gZ){if(ss.isValue(e.get_errorCallback())){e.get_errorCallback()(gZ)}},$0:function(e,gZ){if(this.$2.length===0){if(ss.isValue(gZ)){gZ(bp.successResult)}return}var ha=this.$2.shift();this.$3.push(ha);var hb=ha.get_commandToExecute();if(ss.isNullOrUndefined(hb)){if(ss.isValue(gZ)){gZ(bp.successResult)}return}e.executeCommand(hb,ss.mkdel(this,function(hc){try{this.handleRemoteCommandSuccess(ha,hc)}finally{this.$0(e,gZ)}}),ss.mkdel(this,function(hc){try{this.handleRemoteCommandFailure(ha,hc)}finally{if(ss.isValue(gZ)){gZ(new bp(false,hc))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bh);ss.initInterface(dw,a,{add_commmandSucceeded:null,remove_commmandSucceeded:null,add_commandFailed:null,remove_commandFailed:null,executeCommand:null});ss.initClass(c,a,{add_commmandSucceeded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_commmandSucceeded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_commandFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_commandFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){var gZ=e['kqB'.toString()];if(ss.isValue(gZ)&&gZ.mxu.length>0){var ha=gZ.mxu[0];var hb=ha.nCR;if(ss.isValue(hb)&&ss.keyExists(hb,'TXj')){var hc=hb['TXj'];if(!hc.GiX){return new ss.Exception(ss.formatString('{0}: {1}',ha.$iY,hc.BNT))}}}return null},executeCommand:function(e,gZ,ha){for(var hb=0;hb<this.$6.length;hb++){var hc=this.$6[hb];if(hc.$2(e,gZ,ha)===0){return}}var hd={};hd['cn']=e.commandName;var he=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,hd);var hf=this.$5;var hg=ss.mkdel(this,function(hi){he.dispose();if(ss.isValue(this.$1$2)){this.$1$2(hf,e,hi)}ha(hi)});var hh=ss.mkdel(this,function(hi){he.dispose();var hj=this.$0(hi);if(ss.isNullOrUndefined(hj)){if(ss.isValue(this.$1$1)){this.$1$1(hf,e,hi)}var hk=ex.fromCommand(hi,e);gZ(hk)}else{hg(hj)}});this.$7.executeServerCommand(e,hh,hg);++this.$5},$3:function(e,gZ,ha){var hb=new bz;hb.commandNamespace=e;hb.commandName=gZ;this.$2([hb],ha)},$2:function(e,gZ){this.$4(e,gZ,null,null)},$4:function(e,gZ,ha,hb){var hc=new v(this,e,gZ,ha,hb);hc.$g(ss.mkdel(this,this.$1));this.$6.push(hc)},$1:function(e,gZ,ha){var hb=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$2,null)){this.$1$2(0,e,hb)}ha(hb)}},null,[dw]);ss.initClass(d,a,{});ss.initClass(f,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(gZ){return ss.mkdict(['field',gZ.field,'ascending',gZ.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});f.$1.prototype=f.$0.prototype=f.prototype;ss.initClass(dX,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new ey)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var gZ=(e?tab.MiscUtil.cloneObject(this.pm):ex.cloneObjWithScalarsOnly(this.pm));return gZ||new Object},swapAndCopyPresModel:function(e){var gZ=this.pm;if(ss.isValue(gZ)&&ss.isValue(e)){var ha=e;var hb=gZ;var hc=Object.keys(hb);for(var hd=0;hd<hc.length;hd++){var he=hc[hd];if((!ss.keyExists(ha,he)||typeof(ha[he])==='undefined')&&(!_.isBoolean(hb[he])||!dX.removeUndefinedBoolsOnSwapCopy)){ha[he]=hb[he]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(gZ,ha,hb,hc){this.simpleSwapToUpdate(gZ,function(){if(!ss.staticEquals(ha,null)){ha(hb)}},hc)}},simpleSwapToUpdate:function(e,gZ,ha){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(gZ,ha);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(gZ,ha,hb){if(ss.staticEquals(gZ,null)){return}this.raiseEvent(function(){gZ(ha)},hb)}},raiseEvent$2:function(e,gZ){return function(ha,hb,hc,hd){if(ss.staticEquals(ha,null)){return}this.raiseEvent(function(){ha(hb,hc)},hd)}},raiseEvent:function(e,gZ){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(gZ)||ss.isNullOrUndefined(gZ.eventHandler)){return}gZ.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var gZ=this.parent;return gZ.$0(e)}});ss.initClass(j,a,{},dX);ss.initClass(k,a,{},dX);ss.initClass(l,a,{},dX);ss.initClass(m,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var gZ=0;for(var ha=this.$4.length-1;ha>=0;--ha){if(ss.referenceEquals(ss.getInstanceType(this.$4[ha]),e)){++gZ;ss.removeAt(this.$4,ha)}}if(gZ>0){}}});ss.initClass(n,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{});ss.initClass(q,a,{$4:function(){return this.$9},$5:function(){return this.$a.size===0},$6:function(){var e=[];this.$a.forEach(function(gZ,ha,hb){e.push(gZ)});return e},$0:function(e,gZ){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(q.$0(gZ,e));this.$7=this.$7||this.$2(e);e=q.$1(gZ,e);this.$a.set(e.join(','),e)},$1:function(e,gZ){if(ss.isNullOrUndefined(gZ)||gZ.length===0){return false}var ha;if(this.$7||this.$2(gZ)){ha=this.$3(e,gZ)}else{var hb=q.$1(e,gZ);ha=this.$a.has(hb.join(','))}return ha},$2:function(e){for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(!ss.isValue(ha)){return true}}return false},$3:function(e,gZ){var ha=q.$0(e,gZ);for(var hb=0;hb<this.$8.length;hb++){var hc=this.$8[hb];var hd=true;var he=false;var hf=0;var hg=0;while(hd&&hg<hc.length&&hf<ha.length){var hh=hc[hg];var hi=ha[hf];if(hh.item1<hi.item1){++hg}else if(hh.item1>hi.item1){++hf}else{hd=!ss.isValue(hh.item2)||!ss.isValue(hi.item2)||ss.referenceEquals(hh.item2,hi.item2);he=he||ss.referenceEquals(hh.item2,hi.item2);++hg;++hf}}if(hd&&he){return true}}return false}});ss.initEnum(r,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var gZ=this.$2.mmK.HCq;var ha=this.$1;for(var hb=0,hc=e.length;hb<hc;hb++){var hd=e[hb];gZ[hd].wqq=ha[hd]}return this.$2}});ss.initClass(v,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,gZ,ha){var hb=false;for(var hc=0;hc<this.$5.length;hc++){var hd=this.$5[hc];if(ss.referenceEquals(hd.commandName,e.commandName)&&ss.referenceEquals(hd.commandNamespace,e.commandNamespace)){hb=true;break}}if(!hb){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=gZ;this.$c=ha;return 0}var he=Math.floor(tabBootstrap.MetricsController.getTiming());var hf=he-this.$7;if(this.$e!==-1&&hf<this.$e){this.$3(e,gZ,ha,this.$e-hf)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,gZ,ha,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeCommand(e,ss.mkdel(this,function(hg){if(this.$8>0){--this.$8}gZ(hg)}),ss.mkdel(this,function(hg){if(this.$8>0){--this.$8}ha(hg)}))}finally{this.$6=false;this.$7=he}}return 0},$0:function(){var e=this.$b;var gZ=this.$d;var ha=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeCommand(e,gZ,ha)},$3:function(e,gZ,ha,hb){this.$b=e;this.$d=gZ;this.$c=ha;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),hb)},$1:function(e,gZ,ha){if(ss.isValue(this.$1$1)){this.$1$1(e,gZ,ha)}}});ss.initClass(w,a,{},bh);ss.initClass(gq,a,{gv:function(e){return this.v[e]},setValue:function(e,gZ){this.v[e]=gZ},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var gZ=0;gZ<this.length;gZ++){this.v[gZ]=e(this.v[gZ])}}}});ss.initClass(x,a,{gv:function(e){return this.v[0]},setValue:function(e,gZ){this.v[0]=gZ}},gq);ss.initClass(y,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(e){this.$4(this.$3()+1);this.$5.get_waitHandler().addrefAndShowFullWaitHandlerNow(e)},$1:function(e,gZ){if(gZ){this.$2(gZ)}else{this.$4(this.$3()+1);this.$5.incrementWait(e)}},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(z,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(A,a,{get_waitingOnCommands:function(){return this.$1()},get_deferredServerResponseQueueSize:function(){return this.$0()},get_currentWorldDiffersFromCheckpoint:function(){return this.$2.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$2.worldCheckpoint()}});ss.initClass(B,a,{});ss.initClass(eH,a,{fractionToValue:null,valueToFraction:null});ss.initClass(C,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var gZ=(this.$6-this.$5)/(this.$4-this.$3);var ha=this.$5-gZ*this.$3;return e*gZ+ha}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var gZ=(this.$6-this.$5)/(this.$4-this.$3);var ha=this.$5-gZ*this.$3;return(e-ha)/gZ}var hb=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+hb)/(2*this.$0)}},eH);ss.initClass(D,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var gZ=this.$1$2;if(!ss.staticEquals(gZ,null)){gZ(e)}},onWorkbookModifiedChanged:function(e){var gZ=this.$1$3;if(!ss.staticEquals(gZ,null)){gZ(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(E,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(F,a,{});ss.initClass(G,a,{invoke:function(){return this.invoke$1(bA.newCommand$1('add-dataserver-data-source',this.c))}},ss.makeGenericType(L,[Object,H]));ss.initClass(H,a,{});ss.initClass(I,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(J,a,{});ss.initClass(K,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$b},get_workbook:function(){return this.$d},get_colorPalettes:function(){return this.$4},get_calculationModel:function(){return this.$3},get_compoundTableCalcModel:function(){return this.$5},get_isTableCalcHighlightingMode:function(){return this.$5.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$c},get_calculationFunctionListModel:function(){return this.$2},get_shapeManager:function(){return this.$a},get_dataDictionary:function(){return this.$7},get_dataAlertDialogModel:function(){return this.$6},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().ABX:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().hkF))?this.get_appPresModel().hkF:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().IzU))?this.get_appPresModel().IzU:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=ea.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var gZ=ea.findContentDashboard();if(ss.isValue(gZ)){gZ.autoUpdate=e}},get_invalid:function(){return ea.findContentDashboard().invalid},set_invalid:function(e){var gZ=ea.findContentDashboard();if(ss.isValue(gZ)){gZ.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return tab.FeatureParamsLookup.getBool(41)},registerNotificationHandler:function(e,gZ){var ha=this.$9[e];if(ss.isNullOrUndefined(ha)){ha=[];this.$9[e]=ha}for(var hb=0;hb<ha.length;hb++){if(ss.staticEquals(ha[hb],gZ)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}ha.push(gZ);return gZ},unRegisterNotificationHandler:function(e,gZ){var ha=this.$9[e];if(ss.isValue(ha)){for(var hb=ha.length-1;hb>=0;hb--){if(ss.staticEquals(ha[hb],gZ)){ss.removeAt(ha,hb);if(ha.length===0){delete this.$9[e];return}}}}},$1:function(e,gZ){var ha=e.NdE;if(ss.isNullOrUndefined(ha)){return}var hb=new ss.ObjectEnumerator(ha);try{while(hb.moveNext()){var hc=hb.current();var hd=hc.key;var he=this.$9[hd];if(ss.isNullOrUndefined(he)){continue}var hf=hc.value.wqq;var hg=new ss.ObjectEnumerator(hf);var hh=(hg.moveNext()?hg.current().value:null);for(var hi=0;hi<he.length;hi++){var hj=he[hi];hj(hh,gZ)}}}finally{hb.dispose()}},addModel:function(e){return function(){var gZ=ss.createInstance(e);var ha=ss.safeCast(gZ,dr);if(ss.isValue(ha)){this.registerNotificationHandler(ha.get_notificationId(),ss.mkdel(ha,ha.onNotify))}this.$8[e]=gZ;return gZ}},removeModel:function(e){return function(){var gZ=this.$8[e];if(ss.isNullOrUndefined(gZ)){return}var ha=ss.safeCast(gZ,dr);if(ss.isValue(ha)){this.unRegisterNotificationHandler(ha.get_notificationId(),ss.mkdel(ha,ha.onNotify))}delete this.$8[e]}},modelInstance:function(e){return function(){var gZ=this.$8[e];if(ss.isNullOrUndefined(gZ)){gZ=this.addModel(e).call(this)}return gZ}},update:function(e,gZ){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.ABX)){this.get_appPresModel().ABX=e.ABX}if(ss.isValue(e.vZU)){this.$7.update(e.vZU)}if(ss.isValue(e._QK)){this.$1(e._QK,gZ)}if(ss.isValue(e.res)){if(!ss.isValue(this.$d)){this.$d=new gK(this);this.raiseEvent$1(gK).call(this,this.$2$1,this.$d,gZ)}this.$d.update(e.res,gZ)}if(ss.isValue(e.ZgT1)){this.$4.update(e.ZgT1,gZ)}if(ss.isValue(e.Oss)){this.$3.update(e.Oss,gZ)}if(ss.isValue(e.QjR)){this.$c.update(e.QjR,gZ)}if(ss.isValue(e.Oss)&&ss.isValue(e.Oss.mu_)){this.$2.update(e.Oss.mu_,gZ)}if(ss.isValue(e._Ja)){this.$5.update(e._Ja,gZ)}if(ss.isValue(e.R_T1)){this.$b.update(e.R_T1,gZ)}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){if(ss.isValue(e.GLi)){this.$6.update(e.GLi)}}if(ss.isValue(e.nrh)){this.set_serverFonts(ss.arrayClone(e.nrh.m_V))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,gZ)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e}},dX);ss.initClass(M,a,{get_urlRoot:function(){return this.$h},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return M.$2},set_historyPosition:function(e){M.$2=e},get_waitHandler:function(){if(ss.isNullOrUndefined(M.$3)){M.$3=new gE}return M.$3},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$e},$d:function(){return this.$h+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$g+'/thumb/views/'+e},formatSessionTempfileReference:function(e,gZ,ha){return this.$h+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(gZ?'&keepfile=yes':'')+(ha?'&attachment=yes':'')},railsEncode:function(e){var gZ=new ss.ObjectEnumerator(M.$1);try{while(gZ.moveNext()){var ha=gZ.current();e=e.replace(ha.value,ha.key)}}finally{gZ.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.nudge();return true},incrementWait:function(e){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.addref(e);return true},decrementWait:function(){if(ss.isNullOrUndefined(M.$3)){return false}M.$3.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$7:function(e,gZ,ha){var hb={};hb.type='POST';hb.url=this.$4('inform');hb.headers=ss.mkdict(['Accept','text/plain']);hb.contentType='text/plain';var hc=tsConfig.clientErrorReportingMaxRequestSizeBytes;var hd=new ss.StringBuilder;hd.appendLine('url: '+e);hd.appendLine('user-agent: '+gZ);var he=ss.Int32.div(hc-hd.toString().length,ss.getKeyCount(ha));var hf=new ss.ObjectEnumerator(ha);try{while(hf.moveNext()){var hg=hf.current();hd.appendLine(hg.key);hd.appendLine(hg.value.substr(0,he-hg.key.length-2))}}finally{hf.dispose()}hb.data=hd.toString();this.$b(hb)},$c:function(e,gZ){if(gZ){gQ.redoToPosition(e)}else{gQ.undoToPosition(e)}},executeServerCommand:function(e,gZ,ha){var hb={};this.$8(hb,e);hb.headers=ss.mkdict(['Accept','text/javascript']);var hc=function(hf,hg,hh){if(ss.isValue(gZ)){hf=tab.RleDecoder.decode(hf);gZ(hf)}};var hd=ss.mkdel(this,function(hf,hg,hh){this.$6(hh,hf,e.noExceptionDialog,e);if(ss.isValue(ha)){var hi=new ss.Exception(hf.responseText);hi['status']=hf.status;ha(hi)}});var he=this.$1(null,hc,(ss.isValue(ha)?hd:null));this.$b(hb,he)},basicPostOpts:function(e,gZ){var ha={};ha.type='POST';ha.url=e;ha.headers=ss.mkdict(['Accept','text/javascript']);ha.dataType='json';ha.data=gZ;return ha},basicGetOpts:function(e){var gZ={};gZ.type='GET';gZ.url=e;gZ.headers=ss.mkdict(['Accept','text/javascript']);gZ.dataType='json';return gZ},$8:function(e,gZ){var ha=gU.getMultipartData(null,gZ.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+ha.header;e.data=ha.body;e.url=this.$3(gZ.commandNamespace,gZ.commandName)},$9:function(e){var gZ=this.get_historyPosition();var ha=ss.mkdel(this,function(){this.$c(gZ,false)});var hb=ss.mkdel(this,function(){this.$c(gZ+1,true)});this.$a(ha,hb);++M.$2},$2:function(e){return this.$h+'/'+e},$4:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$h)},$3:function(e,gZ){return this.$d()+'/commands/'+e+'/'+gZ},$a:function(e,gZ){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(M.$0)){M.$0.onBack=e}else{dg.setInitialState(e)}M.$0=dg.addToHistory(null,gZ)}},$6:function(e,gZ,ha,hb){this.$f.handle(e,gZ,hb,ha)},$b:function(e,gZ){return gU.helper(e,gZ)},$1:function(e,gZ,ha){return new fi(this,e,gZ,ha,false,false)},$0:function(e,gZ,ha,hb){var hc=hb!=='none';var hd=hb==='immediately'||hb==='immediatelySubtle';return new fi(this,e,gZ,ha,hc,hd)},formatLayoutMethod:function(e,gZ){var ha=(ss.isValue(gZ)?this.$4(gZ):this.$d());ha+='/layouts/'+e;return ha},formatViewMethod:function(e,gZ){var ha=(ss.isValue(gZ)?this.$4(gZ):this.$d());ha+='/views/'+e;return ha},formatFilterReference:function(e,gZ,ha){return this.$5(e,gZ,ha,'filters')},$5:function(e,gZ,ha,hb){e=encodeURIComponent(this.railsEncode(e));var hc;if(ss.isValue(ha)){hc=this.$4(ha)}else{hc=this.$d()}hc+='/sheets/'+e+'/'+hb;if(ss.isValue(gZ)){hc+='/'+encodeURIComponent(this.railsEncode(gZ))}return hc}});ss.initClass(N,a,{get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=N.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=N.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=N.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=N.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=N.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.s$V=this.width;e.ysh1=this.style;e.mjt1=this.color;break}case 1:{e.Fjz=this.width;e.feH=this.style;e.efz=this.color;break}case 2:{e.kcp=this.width;e.lSd=this.style;e.fUv=this.color;break}case 4:{e.eO$=this.width;e.uCj=this.style;e.hVj=this.color;break}case 3:{e.Vbt=this.width;e.VKK=this.style;e.PtG=this.color;break}}return e}});ss.initEnum(O,a,{all:0,top:1,left:2,right:3,bottom:4});ss.initClass(P,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,gZ,ha,hb,hc){var hd=e.get_vizDataModel();var he=ea.getModelsForViz(bd).call(null,ea.findContentDashboard(),e);for(var hf=0;hf<he.length;hf++){var hg=he[hf];if(ss.isNullOrUndefined(hd)){continue}if(!hg.get_isHighlightEnabled()||hc.length===0&&hg.get_isOneWay()){continue}var hh=_.intersection(gZ.get_vizDataModel().get_fieldCaptions(),hg.get_fieldCaptions());hh=P.getHighlightFieldCaptions(hb,gZ.get_vizDataModel().get_highlightCaptions(),hh);var hi=s.$3(gZ.get_vizDataModel(),ha,hh);var hj=s.$6(hi,hd,hg);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][P.$0(hg.get_legendTypeEnum(),hg.get_legendNames())]=hj}}});ss.initClass(Q,a,{invoke:function(){return this.invoke$1(bA.newCommand('build-caption-context-menu',this.c))}},ss.makeGenericType(L,[Object,R]));ss.initClass(R,a,{});ss.initClass(S,a,{invoke:function(){return this.invoke$1(bA.newCommand('build-layout-tree-context-menu',this.c))}},ss.makeGenericType(L,[Object,T]));ss.initClass(T,a,{});ss.initClass(U,a,{invoke:function(){return this.invoke$1(bA.newCommand('build-sheet-list-context-menu',this.c))}},ss.makeGenericType(L,[Object,V]));ss.initClass(V,a,{});ss.initClass(W,a,{invoke:function(){return this.invoke$1(bA.newCommand('build-title-context-menu',this.c))}},ss.makeGenericType(L,[Object,X]));ss.initClass(X,a,{});ss.initClass(Y,a,{invoke:function(){return this.invoke$1(bA.newCommand('calculation-auto-complete',this.c))}},ss.makeGenericType(L,[Object,Z]));ss.initClass(Z,a,{});ss.initClass(ba,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().giJ||[]},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(bb,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$1(this.$1().QD)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().MQQ)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().UyO02))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$1().HBp02)},get_isAdhoc:function(){return this.$2&&this.$1().nFA},get_adHocShelf:function(){return this.$1().Ene||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().ZMD},get_adHocPaneSpecId:function(){return this.$1().FsL},$1:function(){return this.pm},get_tokens:function(){return this.$1().rxV||[]},get_name:function(){return this.$1().MQQ||''},get_fieldName:function(){return this.$1().HBp02||''},get_errors:function(){return this.$1().hit||[]},get_errorSummary:function(){return this.$1().bYn||''},get_caption:function(){return this.$1().QD||''},get_formula:function(){return this.$1().Fpl||''},get_dependencies:function(){return this.$1().AAa||''},get_dataSourceName:function(){return this.$1().UyO02||''},get_dataSourceCaption:function(){var e=K.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var gZ=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(gZ)){return null}return gZ.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().oVH,false)},get_calculationContext:function(){return ss.coalesce(this.$1().zZA,'calculation-dialog')},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(bc,a,{get_items:function(){return this.$1().L_v},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},dX);ss.initInterface(dk,a,{getItemNamesFromObjectId:null});ss.initClass(bd,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().MJI||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().JuD||false},get_isOneWay:function(){return this.get_catLegendPresModel().i$I||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().oKr},get_legendNames:function(){return this.get_catLegendPresModel().HhR},get_legendTypeEnum:function(){return this.$2},get_items:function(){return bd.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,gW);return e.get_zone()},getItemNamesFromObjectId:function(e){var gZ=_.find(this.get_items(),function(ha){return ha.YLs===e});return gZ.nbD},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}cG.notifyFontsFromCategoricalLegendPresModel(e);var ha=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(ha)&&!_.isEqual(ha.HhR,e.HhR)){this.raiseEvent(this.$2$2,gZ)}this.raiseEvent(this.$2$1,gZ)}},dX,[dk]);ss.initClass(eF,a,{update:function(e,gZ){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},dX);ss.initClass(be,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.etp},get_isAllButtonVisible:function(){return this.$1.dqD},get_isAllButtonSelected:function(){return this.$1.uPU.GtG},get_isSelectionExclusive:function(){return this.$1.uPU.jeJ},get_showApplyAndCancelButtons:function(){return this.$1.WZq},get_showSearchButton:function(){return this.$1.NLs},get_showMoreLessButton:function(){return this.$1.EQS},get_showClearButton:function(){return this.$1.shF},get_getDomainValue:function(){return this.$1.tWP},getDomains:function(){return this.$1.ysh},update:function(e,gZ){eF.prototype.update.call(this,e,gZ);this.$1=e;this.get_categoricalFilter().update(this.$1.uPU)}},eF);ss.initClass(bf,a,{invoke:function(){return this.invoke$1(bA.newCommand('change-workbook-ui-mode',this.c))}},ss.makeGenericType(L,[Object,bg]));ss.initClass(bg,a,{});ss.initEnum(bi,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bj,a,{invoke:function(){return this.invoke$1(bA.newCommand('close-data-alert-dialog',this.c))}},ss.makeGenericType(L,[Object,bk]));ss.initClass(bk,a,{});ss.initClass(bl,a,{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,gZ){return this.$2(e)>gZ},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var gZ=bl.alphaBlend(this,bl.white);return Math.max(Math.max(gZ.get_r(),gZ.get_g()),gZ.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var gZ=116*bl.$4(e)-16;return gZ},$1:function(){return bl.$5(this.get_r(),this.get_g(),this.get_b())},$2:function(e){var gZ=ss.Int32.trunc(this.$3*this.$7+(1-this.$3)*e.get_r());var ha=ss.Int32.trunc(this.$3*this.$6+(1-this.$3)*e.get_g());var hb=ss.Int32.trunc(this.$3*this.$4+(1-this.$3)*e.get_b());return bl.$5(gZ,ha,hb)},getApparentColor:function(e){var gZ=ss.Int32.trunc((1-bl.$2(this.$7))*e.get_r());var ha=ss.Int32.trunc((1-bl.$2(this.$6))*e.get_g());var hb=ss.Int32.trunc((1-bl.$2(this.$4))*e.get_b());return new bl(gZ,ha,hb,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+bl.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+bl.$6(this.$7,2)+bl.$6(this.$6,2)+bl.$6(this.$4,2)},toArgbHex:function(){var e=ss.Int32.trunc(bl.alphaFractionTo255(this.$3));return'#'+bl.$6(e,2)+bl.$6(this.$7,2)+bl.$6(this.$6,2)+bl.$6(this.$4,2)},toArgbInt:function(){var e=ss.Int32.trunc(bl.alphaFractionTo255(this.$3));return(e<<24)+(this.$7<<16)+(this.$6<<8)+this.$4}});ss.initClass(bm,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().Jxz},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().RSE},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.HMF},colorPaletteGroup:function(e){var gZ=e.HWn;return _.map(gZ,ss.mkdel(this,function(ha){return this.get_colorPalettes()[ha]}))},update:function(e,gZ){this.simpleSwapToUpdate(e,null,gZ)}},dX);ss.initClass(bn,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_destroyView:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_destroyView:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_commandQueueComplete:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_commandQueueComplete:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},add_undoCommand:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_undoCommand:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_modelsUpdated:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_modelsUpdated:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_intermediateUpdate:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_intermediateUpdate:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_remoteCommandFailure:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_remoteCommandFailure:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},get_loader:function(){return this.$R},$D:function(){return this.$N.length===0&&this.$W.$3()===0},$C:function(){return _.any(this.$N,bn.$5)},get_legacySession:function(){return this.$S},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$O=e;if(eB.get_progressiveLoadEnabled()){this.$O(ss.mkdel(this,function(gZ){this.$R.setViewport(gZ)}))}},prepareForSheetChange:function(){this.$S.get_waitHandler().showAndLock(false)},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var gZ=ss.mkdel(this,function(hc){{var hd=tabBootstrap.MetricsController.createContext('RLE Decode Primary',32,null);try{hc=tab.RleDecoder.decode(hc)}finally{if(ss.isValue(hd)){hd.dispose()}}}var he=hc;try{this.$A(he);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}this.$b(he.worldUpdate.hyc);this.$J.handlePotentialBootstrapDataSourceException(he)}catch(hf){var e=ss.Exception.wrap(hf);bn.handleBootstrapException(e,this.$I)}});var ha=ss.mkdel(this,function(e){var hc=e;if(ss.isValue(hc)){_.defer(ss.mkdel(this,function(){{var hd=tabBootstrap.MetricsController.createContext('RLE Decode Secondary',32,null);try{hc=tab.RleDecoder.decode(hc)}finally{if(ss.isValue(hd)){hd.dispose()}}}{var he=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$e(hc)}catch(hf){var e1=ss.Exception.wrap(hf);bn.handleBootstrapException(e1,this.$I)}}finally{if(ss.isValue(he)){he.dispose()}}}if(eB.get_progressiveLoadEnabled()){this.$x()}else{this.$j()}}))}});var hb=ss.mkdel(this,function(e){fl.onVizqlPinged();var hc=e['status'];if(hc===200){var hd=e['message'];if(ss.isNullOrUndefined(hd)){hd=e['_message']}var he=hd;if(ss.isValue(he)&&he.substr(0,12)==='Invalid JSON'){bn.sendParentCompletedMessage();var hf=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$I.showAlertDialog(hf,tab.Strings.SessionUnknownErrorTitle,true,null);throw new ss.Exception('Invalid JSON')}}else if(hc===403){var hg=0;var hh='';try{var hi=JSON.parse(e['responseText']);if(ss.isValue(hi)){hg=hi.code;hh=hi.message}}catch(hp){}bn.sendParentCompletedMessage();this.$S.get_sessionErrorHandler().handleSessionForbiddenAction(hg,hh)}else if(hc===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var hj=e['responseText'];var hk=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(hj);var hl=(ss.isNullOrUndefined(hk)?hj:hk.RedirectUrl);tab.WindowHelper.locationReplace(window.self,hl)}else{var hm=e['responseText'];tab.WindowHelper.locationReplace(window.self,hm)}}else if(hc===410){this.$S.get_sessionErrorHandler().handleSessionExpiration(true)}else if(hc===413){bn.sendParentCompletedMessage();this.$S.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(hc!==0){bn.sendParentCompletedMessage();var hn=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ho=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(hn);if(ss.isValue(ho)){hn=ho.ErrorMessage}}if(hc===502||hc===503){this.$S.get_sessionErrorHandler().handleSessionKilled(hn)}else{this.$S.get_sessionErrorHandler().handleUnknownErrorStatus(hn)}this.$S.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(gZ,hb,ha)},delayLocalUrlActions:function(e){this.$M=this.$M.concat.apply(this.$M,e)},worldCheckpoint:function(){return this.$X.worldCheckpoint()},$y:function(e){var gZ=function(){e()};var ha={};ha.type='POST';ha.url=bn.$2('transitionGuest',this.$S);var hb=tab.MiscUtil.get_urlPathnameParts();var hc=(ss.keyExists(hb,3)?hb[3]:'');var hd=tsConfig.current_sheet_name;var he=ss.mkdict([':authSheet',hd,'sheet_id',hc]);ha.data=he;var hf=new fi(this.$S,null,gZ,null,true,true);gU.helper(ha,hf)},$k:function(e,gZ,ha,hb,hc){var hd=tab.Strings.UnhandledExceptionMessage(this.$S.get_id(),e);var he=bn.$0(this.$S.get_id(),e,hc);this.$I.showAlertDialog(hd,tab.Strings.UnhandledExceptionTitle,true,he);return false},$m:function(e,gZ){if(ss.isValue(e)){dX.nonWorldUpdate(ss.mkdel(this,function(ha){ha.dialogProvider=this.$I;K.get_instance().update(e,ha);this.$X.checkpointAppPresModel()}));this.$s();if(!gZ){this.$i()}}},$i:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$f:function(){if(eB.get_progressiveLoadEnabled()){this.$R=new eB;this.$R.add_progressiveLoad(ss.mkdel(this,this.$m));this.$R.add_progressiveLoadComplete(ss.mkdel(this,this.$l));this.$G=[]}},$x:function(){this.$R.start()},$1:function(){if(eB.get_progressiveLoadEnabled()&&this.$R.get_hasZonesToLoad()){this.$R.abort();this.$G=[];this.$l()}},$l:function(){this.$w();this.$j();gS.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$G.length;e++){var gZ=this.$G[e];gZ()}this.$G=[]},$b:function(e){{var gZ=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var ha=new cl;ha.exceptionHandler=ss.mkdel(this,function(hg){bn.handleBootstrapException(hg,this.$I)});var hb=ha;var hc={dialogProvider:this.$I,eventHandler:hb};gS.get().raiseOnBootstrapResponse(e);if(eB.get_progressiveLoadEnabled()){e=this.$R.extractZoneContent(e)}{var hd=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var he=K.get_instance();he.update(e,hc)}finally{if(ss.isValue(hd)){hd.dispose()}}}this.$X.checkpointAppPresModel();fM.notifyModelsInitialized();{var hf=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{hb.fireDeferredEvents()}finally{if(ss.isValue(hf)){hf.dispose()}}}}finally{if(ss.isValue(gZ)){gZ.dispose()}}}this.$s();if(!eB.get_progressiveLoadEnabled()){this.$w()}this.get_legacySession().nudgeWait()},$e:function(e){var gZ=e['UdM'.toString()];if(!ss.isValue(gZ)||!ss.isValue(gZ.NdE)||ss.getKeyCount(gZ.NdE)===0){return}var ha=K.get_instance().get_appPresModel();if(ss.keyExists(gZ.NdE,'dataDictionary')){var hb=gZ.NdE['dataDictionary'].wqq;var hc=hb['genDataDictionaryPresModel'];if(ss.isValue(hc)){ha.vZU=hc}}var hd=new cl;hd.exceptionHandler=ss.mkdel(this,function(hj){bn.handleBootstrapException(hj,this.$I)});var he=hd;var hf={dialogProvider:this.$I,eventHandler:he};if(ss.keyExists(gZ.NdE,'vizData')){var hg=ha.res.mmK;var hh=gZ.NdE['vizData'].wqq;var hi=hh['genPresModelMapPresModel'];if(eB.get_progressiveLoadEnabled()&&this.$R.get_hasZonesToLoad()){this.$R.updateZonesWithVizData(hi,hf)}else{gx.addVizDataToZones(hi.NdE,hg.HCq)}}K.get_instance().update(ha,hf);this.$X.checkpointAppPresModel();if(ea.hasAnyImpliedSelection()){he.fireDeferredEvents()}this.$s()},$A:function(e){tsConfig.layoutid=e.layoutId;this.$S.set_layoutId(tsConfig.layoutid);var gZ=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$1(gZ)){tsConfig.sessionid=gZ}var ha=e.workbookLocale;if(!ss.isNullOrEmptyString(ha)){tsConfig.workbookLocale=ha}var hb=e.newClientNum;if(!ss.isNullOrEmptyString(hb)){tsConfig.clientNumber=hb;tabBootstrap.Utility.addToUrlHash(tabBootstrap.Utility.CLIENTNO,hb)}tsConfig.current_sheet_name=e.sheetName;gU.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.hyc.res.mmK)){tsConfig.current_sheet_type=e.worldUpdate.hyc.res.mmK.nhM.xD}},$h:function(){while(this.$W.$3()>0&&!this.$C()){this.$6(this.$W.$0())}},$6:function(gZ){this.$N.push(gZ);if(gZ.get_isBlocking()){this.$V.$1(gZ.get_blockType()==='immediately'||gZ.get_blockType()==='immediatelySubtle',gZ.get_blockType()==='immediatelySubtle')}var ha=new cl;var hb={dialogProvider:this.$I,eventHandler:ha};var hc=this.$U.beginTransaction(hb);var hd;try{gZ.execute(hc,this.$H,ss.mkdel(this,function(e){this.$3(gZ,e)}));hd=this.$U.endTransaction();if(K.get_instance().get_isLocalRenderMode()&&!bn.fireDeferredUrlActions){this.$7(this.$M)}}catch(hg){var e=ss.Exception.wrap(hg);tab.ErrorTrace.report(e,false);this.$U.rollbackTransaction();this.$3(gZ,new bp(false,e));return}finally{this.$v()}var he=null;if(gZ.get_hasLocalComponent()){he=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,gZ.buildCommandMetricsParameters())}{var hf=he;try{if(ss.isValue(hd)){if(eB.get_progressiveLoadEnabled()){hd=this.$q(hd,hb,true)}K.get_instance().update(hd,hb);this.$X.markCurrentWorldAsDirty();ha.fireDeferredEvents();this.$s()}}finally{if(ss.isValue(hf)){hf.dispose()}}}if(this.$N.length>0){this.$E=false}},$3:function(e,gZ){var ha=null;if(e.get_hasRemoteComponent()){ha=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var hb=ha;try{try{ss.remove(this.$N,e);if(this.$D()){this.$n()}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(hb)){hb.dispose()}}}this.$9(e,gZ);if(this.$D()){this.$V.$0()}this.$h()},$9:function(e,gZ){if(!gZ.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ha=this.$J.handle(gZ.error,e);if(ha){this.$X.revertLocalChanges();this.$V.$0()}}},$7:function(e){var gZ=(ss.isValue(e)?ss.arrayClone(e):[]);this.$v();if(ss.isValue(this.$1$1)){if(gZ.length>0){this.$1$1(gZ,this.$I)}}},$v:function(){this.$M.length=0},$d:function(e,gZ,ha){if(!ss.isValue(gZ)||!ss.isValue(ha)){return}var hb=ha['kqB'.toString()];if(!ss.isValue(hb)){return}if(ss.isValue(hb.$LE)){var hc=hb.$LE;if(ss.isValue(hc.Uwh)){this.$T=!!(this.$T|hc.Uwh)}if(ss.isValue(hc.LXK)&&!K.get_instance().get_isLocalRenderMode()||bn.fireDeferredUrlActions){if(hc.LXK.length>0){bn.fireDeferredUrlActions=false;this.$7(hc.LXK)}}this.$z(hc);var hd=null;if(ss.isValue(gZ.commandParams)&&!ss.referenceEquals(gZ.commandName,'render-tooltip-server'.toString())){if(ss.keyExists(gZ.commandParams,'AVP')){hd=gZ.commandParams['AVP']}else if(ss.keyExists(gZ.commandParams,'J_M')){var he;if(typeof(gZ.commandParams['J_M'])==='string'){var hf=gZ.commandParams['J_M'];he=JSON.parse(hf)}else{he=gZ.commandParams['J_M']}hd=(ss.isValue(he.AVP)?he.AVP:null)}}var hg=new dv;hg.primarySheet=hd;hg.layoutStatus=hb.$LE;hg.cmdResult=hb.mxu[0];var hh=null;if(ss.isValue(hb.$LE.hyc)){hh=hb.$LE.hyc}var hi={item1:hh,item2:hg};this.$5(e,hi);var hj=ss.isValue(this.$K)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$K.DDA);var hk=new bv;hk.set_applicationPresModel(hh);hk.set_worldUpdateCommand(gZ);hk.set_sheetChanged(hj);hk.set_rebuildTheWorld(this.$T);var hl=hk;gS.get().raiseOnCommandResponse(hl)}},$z:function(e){if(ss.isValue(e.hyc)&&ss.isValue(e.hyc.res)&&ss.isValue(e.hyc.res.mmK)&&ss.isValue(e.hyc.res.mmK.nhM)){this.$K=e.hyc.res.mmK.nhM}},$c:function(e,gZ,ha){var hb=new dv;hb.cmdResult={$iY:gZ.commandName,nCR:ha};var hc=hb;var hd={item1:null,item2:hc};this.$5(e,hd);this.$t(ha)},$n:function(){if(K.get_instance().get_isOffline()){return}var e=new cl;var gZ={dialogProvider:this.$I,eventHandler:e};var ha=ss.getKeyCount(this.$L)>0;var hb=false;var hc=tsConfig.current_sheet_name;if(ss.isValue(this.$K)){hb=!ss.referenceEquals(tsConfig.current_sheet_name,this.$K.DDA);hc=this.$K.DDA;this.get_legacySession().set_layoutId(this.$K.JAR.toString());if(hb){if(!ss.staticEquals(bn.$1$12,null)){bn.$1$12()}}if(hb||this.$T){this.$1$6()}}var hd=this._getRenderMode();var he=this.$8();this.$U.rollbackTransactions(gZ);if(this.$T){K.get_instance().get_workbook().handleWorldReset()}if(this.$T||hb){this.$1()}this.$2(hc,hd,gZ);ss.clearKeys(this.$L);this.$X.checkpointAppPresModel();this.$U.resetTransactedState();this.$p(he);this.$o(hb);if(ha){ea.reValidateVisualModels(gZ)}e.fireDeferredEvents();this.$a();this.$s();this.$B()},$B:function(){this.$Q.push(ss.mkdel(this,this.$r));this.$Q.push(ss.mkdel(this,function(){ds.callWhenImagesLoaded(ss.mkdel(this,function(){this.$E=true}))}));if(eB.get_progressiveLoadEnabled()&&this.$R.get_hasZonesToLoad()){this.$G.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$T=false},$4:function(){for(var e=0;e<this.$Q.length;e++){var gZ=this.$Q[e];gZ()}ss.clear(this.$Q)},$p:function(e){if(e.$0()){var gZ=this.$8();if(gZ.$0()&&e.$4()!==gZ.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),gZ.$2())){this.processingStoryPointChange=true}}},$o:function(e){if(ss.isNullOrUndefined(this.$K)){return}if(!e&&!this.$T){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$K.DDA,this.$K.YnR)}}catch(ha){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$K)){this.$K['sheetName']=this.$K.DDA}var gZ={item1:tsConfig.current_sheet_name,item2:this.$K.DDA};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$K)}D.get().onNewLayoutId([this.$K]);this.$Q.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(gZ)}}));this.$K=null},$2:function(e,gZ,ha){var hb=_.keys(this.$L);hb=hb.sort(function(hj,hk){var hl=parseInt(hj);var hm=parseInt(hk);return((hl>hm)?1:-1)});var hc=K.get_instance();for(var hd=0;hd<hb.length;hd++){var he=hb[hd];var hf=this.$L[he];var hg=hf.item1;var hh=hf.item2;if(ss.isNullOrUndefined(hg)||ss.isNullOrUndefined(hh)||ss.isNullOrUndefined(hh.layoutStatus)){continue}var hi=hh.layoutStatus.Twp||'';if(!ss.referenceEquals(hi,e)){continue}if(eB.get_progressiveLoadEnabled()){hg=this.$q(hg,ha,false)}hc.update(hg,ha);this.$P.push(hh);if(ss.isValue(hh.layoutStatus.DfV)){if(hh.layoutStatus.DfV<this.get_legacySession().get_historyPosition()){this.$u()}if(hh.layoutStatus.DfV>this.get_legacySession().get_historyPosition()){this.$S.$9('')}this.get_legacySession().set_historyPosition(hh.layoutStatus.DfV)}if(!this.processingRenderModeChange&&hg.ABX!==gZ){this.processingRenderModeChange=true;this.$V.$2(false)}}},$q:function(e,gZ,ha){if(eB.get_progressiveLoadEnabled()){var hb=K.get_instance().get_appPresModel();var hc=false;if(K.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(K.get_instance().get_workbook().get_storyboard().get_flipboard())){var hd=K.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var he=bn.$4(e);hc=ss.isValue(he)&&he!==hd}var hf=bn.$3(e);var hg=!ss.isNullOrEmptyString(hf)&&!ss.referenceEquals(hf,bn.$3(hb));if(hc||hg){this.$1();e=this.$R.extractZoneContent(e);this.$x()}else{e=this.$R.processModelUpdate(e,gZ,ha)}}return e},$a:function(){for(var e=0;e<this.$P.length;e++){var gZ=this.$P[e];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(gZ)}this.$J.handlePotentialTabSwitchDataSourceException(gZ.layoutStatus)}ss.clear(this.$P)},$j:function(){if(this.$F){return}this.$F=true;bn.$6();fM.$0();ds.callWhenImagesLoaded(ss.mkdel(this,function(){this.$E=true}));bn.sendParentCompletedMessage();fl.onVizqlPinged();bo.$0()},$5:function(e,gZ){if(ss.isValue(gZ)){this.$L[e.toString()]=gZ}},_getRenderMode:function(){return K.get_instance().get_renderMode()},$8:function(){return new z},$r:function(){if(ss.isValue(this.$1$7)){this.$1$7()}},$u:function(){if(ss.isValue(this.$1$8)){this.$1$8()}},$s:function(){if(ss.isValue(this.$1$9)){this.$1$9()}},$t:function(e){if(ss.isValue(this.$1$11)){this.$1$11(e)}},$w:function(){if(this.$F){return}var e=function(){var gZ={};gZ['t']=tabBootstrap.MetricsController.getTiming();gZ['d']='ALLZNS';var ha=new tabBootstrap.MetricsEvent('gen',2,gZ);tabBootstrap.MetricsController.logEvent(ha)};ds.callWhenImagesLoaded(function(){eb.registerModulesLoadedCallback(e)})},$0:function(e){var gZ=e.get_commandName();if(gZ==='next-story-point'||gZ==='previous-story-point'||gZ==='set-active-story-point'||gZ==='ensure-layout-for-sheet'||gZ==='revert-workbook'){this.$1()}},$g:function(){return ss.getKeyCount(this.$L)>0||this.$N.length>0||this.$W.$3()>0}});ss.initClass(bo,a,{});ss.initClass(bp,a,{});ss.initEnum(bq,a,{proceed:0,stop:1});ss.initClass(br,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['dMo02'.toString()]},set_name:function(e){this.$0['dMo02'.toString()]=e},get_description:function(){return this.$0['Mej02'.toString()]},set_description:function(e){this.$0['Mej02'.toString()]=e},get_commandsType:function(){return this.$0['jWE'.toString()]},set_commandsType:function(e){this.$0['jWE'.toString()]=e},get_enabled:function(){var e=this.$0['chK'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['chK'.toString()]=e},get_isChecked:function(){return this.$0['mgL'.toString()]},set_isChecked:function(e){this.$0['mgL'.toString()]=e},get_isDefault:function(){return this.$0['wZB'.toString()]},set_isDefault:function(e){this.$0['wZB'.toString()]=e},get_isRadioOn:function(){return this.$0['Gff'.toString()]},set_isRadioOn:function(e){this.$0['Gff'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['DIk02'.toString()],true)},set_isVisible:function(e){this.$0['DIk02'.toString()]=e},get_commands:function(){return this.$0['Jmx'.toString()]},set_commands:function(e){this.$0['Jmx'.toString()]=e},get_command:function(){return this.$0['zRu'.toString()]},set_command:function(e){this.$0['zRu'.toString()]=e},get_argumentParams:function(){return this.$0['WQt'.toString()]},set_argumentParams:function(e){this.$0['WQt'.toString()]=e},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['yFv'.toString()]},set_iconRes:function(e){this.$0['yFv'.toString()]=e}});ss.initClass(bs,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.commandType)){}return ss.isValue(e.commandType)&&ss.keyExists(this.$0,e.commandType)&&this.$0[e.commandType]==='granted'}});ss.initClass(bt,a,{get_commandToExecute:function(){return this.$0},get_successCallback:function(){return this.$2},get_errorCallback:function(){return this.$1}});ss.initClass(bu,a,{});ss.initClass(bv,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bw,a,{});ss.initClass(bx,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,gZ){if(this.get_shouldUpdate()){this.forceUpdate(e,gZ)}},forceUpdate:function(e,gZ){this.simpleSwapToUpdate$1(bx).call(this,e,this.$2$1,this,gZ)}},dX);ss.initClass(by,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['Szr'.toString()]},set_commandItems:function(e){this.$0['Szr'.toString()]=e},get_defaultItem:function(){return this.$0['Ayc'.toString()]},set_defaultItem:function(e){this.$0['Ayc'.toString()]=e}});by.$ctor1.prototype=by.prototype;ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{sendRequest:function(e){var gZ=$.Deferred();var ha=new gP(e.method,e.params,function(hc){gZ.resolve(hc)},function(hc){});var hb=this.$2(ha);gU.helper(hb);return gZ},sendVizqlRequest:function(e){var gZ=$.Deferred();var ha=function(hd,he,hf){var hg=hd;delete hg['msg'];delete hg['status'];gZ.resolve(hg)};var hb=function(hd,he,hf){};var hc=new gz(e.method,e.params,ha,hb);this.$0(hc);return gZ},$0:function(e){var gZ={};gZ.type='POST';gZ.url=this.$1.$4(e.methodName);gZ.headers=ss.mkdict(['Accept','text/javascript']);gZ.dataType='json';if(ss.isValue(e.methodParams)){gZ.data=e.methodParams}var ha=this.$1.$0(null,e.success,e.error,'immediately');this.$1.$b(gZ,ha)}},null,[Object]);ss.initClass(bC,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().OLk},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().YkF},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().Ltg)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().ord)},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}var ha=e;this.$1.update(bC.$0(ha,0),gZ);this.$2.update(bC.$0(ha,1),gZ);this.swapAndCopyPresModel(ha);this.raiseEvent(this.$2$1,gZ)}},dX);ss.initClass(bD,a,{invoke:function(){return this.invoke$1(bA.newCommand('create-data-source-from-file-upload',this.c))}},ss.makeGenericType(L,[Object,bE]));ss.initClass(bE,a,{});ss.initClass(cx,a,{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),cx.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),cx.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){var e=this.pm.OxY||'';if(e.length===0){return e}if(this.pm.SkN){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.XCW02||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.egc||false},get_isInvalid:function(){return this.pm.SkN},get_isOrphaned:function(){return this.pm.CUl},get_isGenerated:function(){return this.pm.r_$||false},get_isAutoColumn:function(){return this.pm.$su||false},get_isAllowedInCalcs:function(){return this.pm._kV},get_isUnnamedCalc:function(){return this.pm.qu||false},get_isQuickTableCalc:function(){return this.pm.uxk},get_globalName:function(){return this.pm.HBp02},get_localName:function(){return this.pm.dMo02},get_qualifiedLocalName:function(){return'['+this.get_localName()+']'},get_description:function(){return this.pm.Mej02},get_userCaption:function(){return this.pm.KDF},get_ordinal:function(){return this.pm.hUu02},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.tgs02},get_role:function(){return this.pm.YIQ02},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.TOg02:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.SEI02:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.ApM}else{return this.get_userCaption()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,cv)},asGroup:function(){return ss.safeCast(this,dd)},asDimension:function(){return ss.safeCast(this,bF)},asHierarchy:function(){return ss.safeCast(this,bH)},asCubeFolder:function(){return ss.safeCast(this,bG)},asFolder:function(){return ss.safeCast(this,cF)},asDrillPath:function(){return ss.safeCast(this,cp)},asRelationalTable:function(){return ss.safeCast(this,eJ)}},dX);ss.initClass(bF,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.nkG;if(!ss.isNullOrEmptyString(e)){for(var gZ=0;gZ<this.$3.length;gZ++){var ha=this.$3[gZ];if(ss.referenceEquals(ha.get_localName(),e)){return ha.get_levels()[0]}}}var hb=[];for(var hc=0;hc<this.$3.length;hc++){var hd=this.$3[hc];hb.push(hd)}for(var he=0;he<this.$2.length;he++){var hf=this.$2[he];var hg=hf.get_hierarchies();for(var hh=0;hh<hg.length;hh++){var hi=hg[hh];hb.push(hi)}}hb.sort(function(hj,hk){if(hj.get_levels().length>1&&hk.get_levels().length<=1){return-1}else if(hj.get_levels().length<=1&&hk.get_levels().length>1){return 1}else{return 0}});return((hb.length>0)?hb[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,gZ,ha,hb){this.swapAndCopyPresModel(e);this.$3=gZ;this.$2=ha;this.$1=hb}},cx);ss.initClass(bG,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,gZ,ha){this.swapAndCopyPresModel(e);this.$2=gZ;this.$1=ha}},cx);ss.initClass(bH,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,gZ){this.swapAndCopyPresModel(e);this.$1=gZ}},cx);ss.initClass(gf,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new fR(null):e.get_tableCalcIdentifier())},update:null},dX);ss.initClass(bI,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().LLA},get_aggregationValues:function(){return this.$1().VRG02},get_aggregationCaptions:function(){return this.$1().iSd},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$3$1,gZ)}},gf);ss.initClass(bJ,a,{navigateToCustomizedView:function(e){var gZ=tabBootstrap.Utility.get_locationWindow();fm.destroySessionAndForward$1(gZ,bJ.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();fm.destroySessionAndForward$1(e,bJ.buildUrl(null,false))},getCustomizedViews:function(e,gZ){var ha=function(hb,hc,hd){if(!ss.isValue(e)){return}var he;var hf=null;if('customizedViews'in hb){he=hb['customizedViews']}else{he=[]}if('defaultCustomizedViewId'in hb){hf=hb['defaultCustomizedViewId']}e(he,hf)};this.$2(ha,bJ.$0(gZ),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,gZ,ha){var hb=function(hd,he,hf){if(!ss.isValue(gZ)){return}var hg=null;if('defaultCv'in hd){hg=hd['defaultCv']}gZ(hg)};var hc=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){hc['cvId']=e.id}this.$2(hb,bJ.$0(ha),'set_default_customized_view',hc)},destroyCustomizedView:function(e,gZ,ha){tab.Param.verifyValue(e,'cv');var hb=function(hc,hd,he){if(!ss.isValue(gZ)){return}gZ()};this.$1(hb,bJ.$0(ha),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,gZ,ha){tab.Param.verifyValue(e,'cv');var hb=ss.mkdel(this,function(hd,he,hf){if(!ss.isValue(gZ)){return}var hg=null;if('cv'in hd){hg=hd['cv'];this.updateTsConfig(hg,true)}gZ(hg)});var hc=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){hc['cvId']=e.id}this.$2(hb,bJ.$0(ha),'save_customized_view',hc)},updateTsConfig:function(e,gZ){tsConfig.repositoryUrl=this.$0(e);if(gZ){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var gZ=new eL(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',gZ.get_workbookId(),gZ.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',gZ.get_workbookId(),gZ.get_sheetId(),gB.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,gZ,ha){tab.Param.verifyValue(e,'cv');var hb=ss.mkdel(this,function(hd,he,hf){if(!ss.isValue(gZ)){return}var hg=null;if('cv'in hd){hg=hd['cv'];this.updateTsConfig(hg,false)}gZ(hg)});var hc=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(hb,bJ.$0(ha),'update_customized_view',hc)},$1:function(e,gZ,ha,hb){var hc=this.$3.$0(null,e,gZ,'immediately');var hd={};hd.type='POST';hd.url=this.$3.$2(ha);hd.headers=ss.mkdict(['Accept','text/javascript']);hd.dataType='json';if(ss.isValue(hb)){hd.data=hb}this.$3.$b(hd,hc)},$2:function(e,gZ,ha,hb,hc,hd){var he={};he.type=hc||'POST';he.url=this.$3.$4(ha);he.headers=ss.mkdict(['Accept','text/javascript']);he.dataType='json';if(ss.isValue(hb)){he.data=hb}var hf=hd||'immediately';var hg=this.$3.$0(null,e,gZ,hf);this.$3.$b(he,hg)}});ss.initClass(bK,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().SvL},get_nullIfIncompleteState:function(){return this.$1().UWR},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},get_nestedCalcsWidgetState:function(){return this.$1().qdd},get_nestedCalcsIndex:function(){return this.$1().Zaq},get_nestedTableCalcInfoArray:function(){return this.$1().A_J},update:function(e,gZ){var ha=e;if(this.isNewPresModelSameAsOld(ha)){return}this.swapAndCopyPresModel(ha);this.get_referenceModel().update(ha.bUz,gZ);this.raiseEvent(this.$3$1,gZ)}},gf);ss.initClass(bL,a,{});ss.initClass(bM,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_readyZoneChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_readyZoneChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_renderModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_renderModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_portSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_portSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_sizeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_sizeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_formatsChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_formatsChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_titleVisibilityChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_titleVisibilityChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_dashboardNameChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_dashboardNameChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.Jqz){this.$d=this.$d||this.$2();return this.$d}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.SJs}return null},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.xYr1)){return this.pm.xYr1['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$f;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$f=e;return this.$f},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.nhM)){return this.pm.nhM.DDA}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.IJE}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.JiV}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.xdK}return 0},get_readyZoneID:function(){return this.$c},set_readyZoneID:function(e){if(e===this.$c){return}this.$c=e;if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ha.get_zoneId()===this.get_activeZoneID()){return ha.get_visualModel()}}}return null},get_renderMode:function(){return K.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.xYr1}return null},get_portSize:function(){return this.$b},set_portSize:function(e){if(_.isEqual(this.$b,e)){return}this.$b=e;if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.DqN:null)},get_dashboardSizeControlModel:function(){return this.$9},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.IJE)){return this.pm.IJE.WeS}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(gZ){return gZ.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_deviceLayouts:function(){return this.pm.YOM},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.hWn)==='undefined'){return'default'}return this.pm.hWn},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.yqe},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ha.get_zoneType()==='flipboard-nav'){return ha.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(gZ){return ss.equalsT(gZ.get_contentType(),'tLp'.toString())});return ss.isValue(e)&&e.length>0},getViewId:function(e){if(!ss.keyExists(this.pm.dux,e)){return null}return this.pm.dux[e]},getViewSession:function(e){return this.$e[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.JiV)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.JiV,function(gZ){return ss.referenceEquals(gZ.AVP,e.get_worksheetName())}))},getMutableCopyOfPresModel:function(){var e=this.pm.HCq;delete this.pm['HCq'.toString()];var gZ=dX.prototype.getMutableCopyOfPresModel.call(this);gZ.YOM=this.pm.YOM;this.pm.HCq=e;return gZ},update:function(e,gZ){if(ss.isValue(this.$a)&&this.$a!==this.get_renderMode()){this.raiseEvent(this.$2$5,gZ)}this.$a=this.get_renderMode();e.Jqz=e.Jqz||false;e.yqe=e.yqe||false;this.$d=null;if(ss.isValue(e.HCq)){this.zonesModel.update(e.HCq,gZ);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}if(ss.isValue(e.XgC)){}if(ss.isValue(e.syO)){this.autoUpdate=e.syO}this.$8(e,gZ.dialogProvider);if(ss.isValue(e.xdK)){if(ss.isNullOrUndefined(this.pm)||this.pm.xdK!==e.xdK){this.raiseEvent(this.$2$3,gZ)}}if(!(typeof(e.kc$)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.kc$,this.pm.kc$))){this.raiseEvent(bM.$0,gZ)}if(ss.isValue(e.Tbf)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new fx(this)}this.sheetListModel.update(e.Tbf,gZ)}if(ss.isValue(e.UcY)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new dF(this)}this.layoutTreeModel.update(e.UcY,gZ)}if(ss.isValue(this.pm)){if(ss.isValue(e.xYr1)&&!_.isEqual(e.xYr1,this.pm.xYr1)){this.raiseEvent(this.$2$8,gZ)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.nhM)&&!ss.referenceEquals(e.nhM.DDA,this.get_sheetName())){this.raiseEvent(this.$2$12,gZ)}if(ss.isNullOrUndefined(this.pm)||this.pm.yqe!==e.yqe){this.raiseEvent(this.$2$9,gZ)}this.$5(e,gZ);this.$6(e,gZ);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,gZ);this.$7(gZ)},$8:function(e,gZ){if(ss.isValue(e.dux)){var ha=_.keys(e.dux);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=e.dux[hc];var he=this.$e[hc];if(ss.isNullOrUndefined(he)){he=new go(bn.get().get_legacySession().get_urlRoot(),hc,hd,gZ);this.$e[hc]=he}he.set_viewId(hd)}var hf=_.keys(this.$e);var hg=_.difference(hf,_.keys(e.dux));for(var hh=0;hh<hg.length;hh++){var hi=hg[hh];delete this.$e[hi]}}},$5:function(e,gZ){if(ss.isValue(e.OJ$)){if(ss.isNullOrUndefined(this.$9)){this.$9=new bO(this)}this.$9.update(e.OJ$,gZ)}if(ss.isNullOrUndefined(this.$b)){this.set_portSize(e.DqN)}if(ss.isValue(this.pm)){if(ss.isValue(e.DqN)&&!_.isEqual(e.DqN,this.pm.DqN)){this.raiseEvent(this.$2$7,gZ)}}},$6:function(e,gZ){e.hWn=ss.coalesce(e.hWn,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.hWn!==e.hWn){this.raiseEvent(this.$2$10,gZ);this.raiseEvent(this.$2$3,gZ)}if(ss.isNullOrUndefined(e.YOM)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.YOM,e.YOM)){this.raiseEvent(this.$2$11,gZ)}},$7:function(e){if(!K.get_instance().get_isLocalRenderMode()){return}var gZ=ea.getVisualModelsFromDashboard(this);var ha=_.keys(gZ);var hb=_.any(ha,ss.mkdel(this,function(hi){var hj=gZ[hi];return this.$4(hj)||this.$3(hj)}));if(hb){for(var hc=0;hc<ha.length;hc++){var hd=ha[hc];gZ[hd].setIsBrushedFromAction(true,e)}}else{var he=bM.$1(ha,gZ);for(var hf=0;hf<ha.length;hf++){var hg=ha[hf];var hh=he.has(hg);gZ[hg].setIsBrushedFromAction(hh,e)}}},$4:function(e){var gZ=ea.getModelsForViz(bd).call(null,this.get_contentDashboard(),e);return _.any(gZ,function(ha){if(!ha.get_isHighlightEnabled()){return false}var hb=e.get_selectionsModel().getLegendSelection(ha.get_legendTypeEnum(),ha.get_legendNames());return!hb.isEmpty})},$3:function(e){var gZ=ea.getModelsForViz(cd).call(null,this.get_contentDashboard(),e);return _.any(gZ,function(ha){var hb=e.get_selectionsModel().getLegendSelection('highlight',[ha.get_fieldName()]);return!hb.isEmpty})},$2:function(){if(!this.pm.Jqz){return null}var e=null;var gZ=this.zonesModel.get_zoneModels();for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];if(ss.isInstanceOfType(hb.get_model(),cC)){e=hb.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bl.fromColorCode(this.get_backgroundColor());e=e||bl.white;var gZ=e.isLuminanceAboveThreshold(0.314999997615814);var ha=(gZ?0.0199999995529652:0.0299999993294477);var hb=(gZ?new bl(0,0,0,ha):new bl(255,255,255,ha));return bl.alphaBlend(hb,e).toRgba255()}},dX);ss.initClass(bN,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},dX);ss.initClass(bO,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.Y_V},get_maxDimension:function(){return this.pm.FUv},get_stepSize:function(){return this.pm.XZP},get_sizeModeOptions:function(){return this.pm.iCp||[]},update:function(e,gZ){if(ss.isValue(e._yu)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new bP(this)}this.dashboardSizeModel.update(e._yu,gZ)}if(ss.isValue(e.N_b)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new cm(this)}this.layoutInfoModel.update(e.N_b,gZ)}this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(bP,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.$hZ},get_sizeMode:function(){if(this.pm.viO!=='unspecified'){return this.pm.viO}switch(this.pm.OTU){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.rec},get_currentMinWidth:function(){return this.pm.EVq},get_currentMaxWidth:function(){return this.pm.PiK},get_currentHeight:function(){return this.pm.EUR},get_currentMinHeight:function(){return this.pm.pAn},get_currentMaxHeight:function(){return this.pm.McJ},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(bQ,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_recipientsChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_recipientsChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_recipients:function(){return this.$1$6},set_recipients:function(e){this.$1$6=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_selectionCaption:function(){return this.$1$7},set_selectionCaption:function(e){this.$1$7=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.Fcc},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().tbM02)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$8},set_thresholdIsValid:function(e){this.$1$8=e},get_alertConditionMet:function(){return this.$1$9},set_alertConditionMet:function(e){this.$1$9=e},$0:function(e){return this.get_conditionPresModel().tbM02==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().tbM02==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}if(ss.isNullOrUndefined(K.get_instance().get_appPresModel())){return this.$0(e)}else{var gZ=K.get_instance().get_appPresModel().IFh;return this.$0(tableau.format.reformatNumberToJsFormat(e,gZ))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}});bQ.$ctor2.prototype=bQ.$ctor1.prototype=bQ.prototype;ss.initClass(bR,a,{});ss.initClass(bS,a,{});ss.initClass(bT,a,{get_operation:function(){return this.pm.Fcc},get_thresholdText:function(){return this.pm.Aee},update:function(e){if(ss.isValue(e)){this.swapAndCopyPresModel(e)}}},dX);ss.initClass(bU,a,{});ss.initClass(bV,a,{add_show:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_show:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_serverDataSources:function(){return this.$1},updateServerDataSources:function(e,gZ,ha){if(ha){this.$1=e;this.raiseEvent(this.$2$2,gZ)}else{ss.arrayAddRange(this.$1,e);this.raiseEvent$1(Array).call(this,this.$2$3,e,gZ)}},update:function(e){this.updateServerDataSources(this.$1,e,true);this.raiseEvent(this.$2$1,e)}},dX);ss.initClass(bW,a,{});ss.initClass(bX,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().cmV02||''},get_promptTitle:function(){return this.$1().lYk||''},get_variableListInstruction:function(){return this.$1().Ku_||''},get_variableListNameLabel:function(){return this.$1().qyO||''},get_variableListValueLabel:function(){return this.$1().CDS||''},get_addVariableLabel:function(){return this.$1().QRI||''},get_addVariableTooltip:function(){return this.$1().hhx||''},get_deleteVariableTooltip:function(){return this.$1().lvX||''},get_requiredVariableMessage:function(){return this.$1().XDV||''},get_editSectionTitle:function(){return this.$1().Pog||''},get_editSectionInstruction:function(){return this.$1().IoH||''},get_editSectionFromLabel:function(){return this.$1().IsA||''},get_editSectionToLabel:function(){return this.$1().umJ||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().AlT)){this.$2=[];for(var gZ=0;gZ<this.$1().AlT.length;gZ++){var ha=new bZ(new bY(this),gZ);ha.update(this.$1().AlT[gZ]);this.$2.push(ha)}}}},dX);ss.initClass(bY,a,{},dX);ss.initClass(bZ,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1()._Ks},get_description:function(){return this.$1().ZWM},get_guid:function(){return this.$1().tLJ},get_isRequired:function(){return this.$1().Ysn},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().Bdp},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().Isb.lag},get_selectableValues:function(){return this.$1().Isb.Tmi},update:function(e){this.swapAndCopyPresModel(e);this.$2=new cb(null,-1);this.$2.update(this.$1().Isb.WSP);if(ss.isValue(this.$1().mFS)){this.$3=[];for(var gZ=0;gZ<this.$1().mFS.length;gZ++){var ha=new cb(new ca(this),gZ);ha.update(this.$1().mFS[gZ]);this.$3.push(ha)}}}},dX);ss.initClass(ca,a,{},dX);ss.initClass(cb,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().Ltd},get_valueIndex:function(){return this.$1().Ab$},get_operation:function(){return this.$1().uLd.dJp},set_operation:function(e){this.$1().uLd.dJp=e},get_firstValue:function(){return this.$1().uLd.RXR},get_firstValueIndex:function(){return this.$1().uLd.esa},get_secondValue:function(){return(this.$1().uLd.tSM?this.$1().uLd.HcP:null)},get_secondValueIndex:function(){return(this.$1().uLd.tSM?this.$1().uLd.fgO:-1)},update:function(e){this.swapAndCopyPresModel(e)}},dX);ss.initClass(cc,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty(this.$1())||tab.MiscUtil.isNullOrEmpty(this.$1().SR_)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var gZ=e.SR_;if(ss.isValue(gZ)){var ha=this.$1().SR_;if(ss.isValue(ha)){var hb=new ss.ObjectEnumerator(ha);try{while(hb.moveNext()){var hc=hb.current();if(!ss.keyExists(gZ,hc.key)){gZ[hc.key]=hc.value}}}finally{hb.dispose()}}var hd=new ss.ObjectEnumerator(gZ);try{while(hd.moveNext()){var he=hd.current();if(he.value===null){delete gZ[he.key]}}}finally{hd.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,gZ){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().SR_)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().SR_)}for(var ha=0;ss.Nullable$1.lt(ha,this.$2);ha++){var hb=this.$1().SR_[ha.toString()];for(var hc=0;hc<hb.mDL.length;hc++){var hd=hb.mDL[hc];if(ss.isNullOrUndefined(hd)||hd.tbM02!==e){continue}if(gZ<hd.uBu02.length){return hd.uBu02[gZ]}gZ-=hd.uBu02.length;break}}return null}},dX);ss.initClass(cd,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().HBp02},get_searchPlaceholderString:function(){return this.$2().udV},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().DBQ},get_searchText:function(){return this.$2().gub02},get_maxNumberListItems:function(){return this.$2().Zns},get_isActive:function(){return this.$2().Sic},get_bodyTextStyle:function(){return this.$2().mCc},get_numHighlighted:function(){return this.$2().oDj},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,gZ){if(ss.isValue(e)){cG.notifyFontsFromTextStylePresModel(e.mCc)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,gZ)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().NGM;for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];this.$3[ha.YLs]=ha.gjO}}},dX,[dk]);ss.initClass(ce,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().UyO02)){return this.get_dataSchemaPresModel().UyO02}else{return''}},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e,gZ){this.raiseEvent$1(String).call(this,this.$2$3,gZ,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var gZ=null;if(ss.isValue(this.get_dataSchemaPresModel().zmP)&&ss.keyExists(this.get_dataSchemaPresModel().zmP,e)){gZ=this.get_dataSchemaPresModel().zmP[e].PoP02}if(ss.isNullOrEmptyString(gZ)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(ha){return!ss.referenceEquals(ha.get_name(),this.get_dataSchemaPresModel().TTN02)})).first().value()}return this.dataSources.getDataSource(gZ)},getDataSourceCount:function(e){var gZ=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){gZ=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){gZ--}}return gZ},findField:function(e){var gZ=this.findDataSourceFromGlobalFieldName(e);if(ss.isNullOrUndefined(gZ)){return null}return gZ.findField(e)},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var gZ=cf.splitGlobalFieldName(e);if(gZ.length<=1){return null}var ha=gZ[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(ha)},update:function(e,gZ){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var ha=(ss.isValue(e.Zqk1)?e.Zqk1:[]);var hb=(ss.isValue(e.MLW)?e.MLW:[]);this.currentBlendingFields=ss.arrayClone(ha);this.blendingFieldCandidates=ss.arrayClone(hb);if(ss.isValue(e.TTN02)){this.$2=e.TTN02}var hc=this.getDataSourceCount(true);if(ss.isValue(e.dhm)){this.dataSources=this.dataSources||new cg(this);this.dataSources.update(e.dhm,gZ)}if(this.getDataSourceCount(true)>hc){this.notifyNewDataSourceAdded(gZ,'')}if(ss.isValue(this.pm)){var hd=this.pm.zmP;var he=e.zmP;ea.mergeMapPresModelDelta(hd,he)}if(!ss.referenceEquals(e.UyO02,this.$1())){this.raiseEvent(this.$2$1,gZ)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,gZ)}},dX);ss.initClass(cf,a,{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.UyO02},get_caption:function(){return this.pm.Fnn},get_fields:function(){return this.baseColumnsModel.rootFields},get_dataSourceLayoutPresModel:function(){return this.pm.uVu},get_isParametersDataSource:function(){return ss.equals(this,K.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return this.pm.Gqb},get_fieldSortOrder:function(){return this.pm.eX$},get_specifiedWidth:function(){return this.$2},set_specifiedWidth:function(e){this.$2=e},getFilteredFields:function(e){var gZ=[];var ha=this.baseColumnsModel.get_allFields();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(e(hc)){gZ.push(hc)}}return gZ},findField:function(e){var gZ=this.baseColumnsModel.findField(e);if(ss.isValue(gZ)){return gZ}if(ss.isValue(this.$1)){return this.$1.findField(e)}return null},update:function(e,gZ){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.Fnn,e.Fnn)){this.raiseEvent(this.$2$1,gZ)}if(ss.isValue(e.Dfq)){this.baseColumnsModel.update(e.Dfq,gZ)}if(ss.isValue(e.MWY)){this.$1=this.$1||new cy('MWY',this);this.$1.update(e.MWY,gZ)}this.swapAndCopyPresModel(e)}},dX);ss.initClass(cg,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,gZ){var ha=_.keys(e);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=e[hc];if(hd===null){delete this.$1[hc]}else{var he=this.$1[hc];if(ss.isNullOrUndefined(he)){he=new cf(this,hc);this.$1[hc]=he}he.update(hd,gZ)}}if(ss.isValue(this.pm)){ea.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},dX);ss.initInterface(dx,a,{handleCommandFailure:null});ss.initClass(ch,a,{handleCommandFailure:function(e,gZ,ha,hb){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var hc=null;if(!tab.MiscUtil.isNullOrEmpty$1(gZ.responseText)){hc=gZ.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(gZ.status===410||gZ.status===404||gZ.status===403){this.handleSessionExpiration(false)}else if(gZ.status===401){this.handleAuthenticationFailure()}else if(gZ.status===502||gZ.status===503){this.handleSessionKilled(null)}else if(gZ.status===500&&ss.isValue(hc)&&hc.length>0){this.handleUnknownErrorStatus(gZ.responseText)}else if(gZ.status===413){this.handleSessionLimitExceeded()}else if(gZ.status===0){var hd;if(!tab.MiscUtil.isNullOrEmpty$1(gZ.responseText)){var he=new ss.StringBuilder;he.append('XHR Response Status: 0\nReadyState:');he.append(gZ.readyState);he.append('\nHeaders:\n');he.append(gZ.getAllResponseHeaders());he.append('\nResponse:\n');he.append(gZ.responseText);hd=ss.mkdel(this,function(){this.$5.showAlertDialog(he.toString(),tab.Strings.RequestAbortedByBrowser,true,null)})}else{hd=ss.mkdel(this,function(){this.$1(e,gZ)})}window.setTimeout(hd,5000)}else if(ss.isNullOrUndefined(hb)||!hb){this.$1(e,gZ)}return true},handleSessionExpiration:function(e){var gZ=gB.createForCurrentWindowLocation();if(e&&gZ.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.$2(e)},handleAuthenticationFailure:function(){this.$2(false)},$1:function(e,gZ){var ha=ss.safeCast(e,String);var hb=ss.safeCast(e,ss.Exception);var hc='';if(ss.isValue(ha)){hc=ss.replaceAllString(ha,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(hb)){hc=ss.replaceAllString(hb.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}hc=ss.replaceAllString(hc,'XMLHttpTransport Error: ','');var hd=tab.Strings.ServerErrorUnexpected;if(gZ.status<400){hd=tab.Strings.BrowserErrorProcessing;hc=tab.Strings.BrowserErrorProcessingMessage+'<br>'+hc}else if(gZ.status===400){hd=tab.Strings.ServerErrorRejected;hc=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var he;try{he=eval('('+gZ.responseText+')');he=he.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');he='<ul><li>'+he+'</ul>'}catch(hf){he=gZ.responseText}if(ss.isNullOrEmptyString(he)){hc=tab.Strings.ServerErrorGeneral(gZ.status)+'<br>'}else{hc=he}}this.$5.showAlertDialog(hc,hd,true,null)},$0:function(e,gZ,ha){e=ss.coalesce(e,'').trim();e=ct.stripOutMarkup(e);tabBootstrap.Utility.doPostMessage('tableau.completed'.toString());var hb=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){hb+='<br/><br/>'}hb+=ha;var hc=ss.mkdel(this,function(){this.$4();document.body.style.cursor='wait';this.$2(false)});this.$5.showConfirmationDialog(hb,gZ,true,hc,null)},$2:function(e){document.body.style.cursor='wait';var gZ=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var ha=gB.createForCurrentWindowLocationAndVizState(gZ,tsConfig.current_sheet_name);ha.set_retry(e);ha.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;ha.fullPageLoad(null)},handleSessionForbiddenAction:function(e,gZ){var ha=tab.Strings.SessionForbiddenActionTitle;var hb=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 19:case 21:{hb=gZ;break}}this.$5.showAlertDialog(hb,ha,true,null)},handleSessionLimitExceeded:function(){if(ch.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var gZ=tab.Strings.TimeLimitExceededTitle;ch.$0=true;this.$5.showAlertDialog(e,gZ,true,null)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},$4:function(){var e={error:null,success:null,type:'POST',url:this.$6+'/setignore/sessions'};var gZ=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);e.data=gZ;e.async=false;this.$3(e,null)},$3:function(e,gZ){return gU.helper(e,gZ)}},null,[dx]);ss.initClass(ci,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(cj,a,{handle:function(e,gZ){if(!this.$3){return false}if(ss.isNullOrUndefined(e)){return false}var ha=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(ha)){return false}var hb=e['status'];if(ss.isNullOrUndefined(hb)){return false}if(!cj.shouldHandleWithGivenStatus(hb)){return false}this.$0(gZ,ha,false);return true},$1:function(e){if(!this.$3){return}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sq)||e.sq.length===0){return}var gZ=fv.createSwitchSheetsCommand(tsConfig.current_sheet_name);gZ.commandParams['ESN']=true;var ha=eK.create(gZ,'immediately');var hb=e.sq[0];var hc=new tab.DataSourceConnectionAttemptErrorResponse;hc.ErrorType=hb.ppl;var hd=hc;var he=cj.$1(hb.ppl);if(he){var hf=cj.$0(hb);hd.RedirectUrl=hf}else{hd.ErrorMessage=hb.zRk}var hg=!hb.r_S;this.$0(ha,hd,hg)},handlePotentialTabSwitchDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.NHY1)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.connectionAttemptInfo)}},$0:function(e,gZ,ha){if(!ss.isNullOrEmptyString(gZ.RedirectUrl)){var hb=(ha?'&skippopup=1':'');gZ.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',gZ.RedirectUrl,hb,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var hc=function(){bn.SendCommand(e)};var hd=!ss.isNullOrUndefined(e.get_commandName())&&ss.equalsT(e.get_commandName().toString(),'ensure-layout-for-sheet'.toString());var he=cj.$1(gZ.ErrorType);if(hd){if(he){this.$2.showSheetAuthenticationOverlay(gZ,hc)}else{this.$2.showGenericDataSourceErrorOverlay(gZ,hc)}}else if(he){this.$2.showSheetAuthenticationDialog(gZ,hc)}else{this.$2.showGenericDataSourceErrorDialog(gZ,hc)}}});ss.initClass(ck,a,{handleCommandFailure:function(e,gZ,ha,hb){if(!this.$0){return false}if(!cj.shouldHandleWithGivenStatus(gZ.status)){return false}var hc=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(gZ.responseText);if(ss.isNullOrUndefined(hc)){return false}return true}},null,[dx]);ss.initInterface(du,a,{processEvent:null});ss.initClass(cl,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var gZ=this.$0;this.$0=null;if(ss.isNullOrUndefined(gZ)){return}for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];try{hb()}catch(hc){var e=ss.Exception.wrap(hc);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[du,ss.IDisposable]);ss.initClass(cm,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.Bgt},get_defaultHeight:function(){return this.pm.EVK},get_defaultMaxWidth:function(){return this.pm.PiK},get_defaultMaxHeight:function(){return this.pm.McJ},get_defaultMinWidth:function(){return this.pm.EVq},get_defaultMinHeight:function(){return this.pm.pAn},update:function(e,gZ){if(ss.isValue(e.ino)){this.$1.length=0;for(var ha=0;ha<e.ino.VGH.length;ha++){var hb=new fG(this.$2,ha);hb.update(e.ino.VGH[ha],gZ);this.$1.push(hb)}}this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(cn,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().BVS},get_computeCompoundedRateState:function(){return this.$1().iPy},update:function(e,gZ){var ha=e;if(this.isNewPresModelSameAsOld(ha)){return}this.swapAndCopyPresModel(ha);this.get_referenceModel().update(ha.bUz,gZ);this.raiseEvent(this.$3$1,gZ)}},gf);ss.initInterface(dn,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(co,a,{canExtractFont:function(e){return e.VzB==='MqA'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var gZ=e;var ha=gZ.sGS;if(ss.isNullOrEmptyString(ha)){return null}var hb=[];var hc=new cH;hc.set_fontFamily(ha);hc.set_weight((gZ.xjH?'bold':'normal'));hb.push(hc);return hb}},null,[dn]);ss.initClass(cp,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,gZ){this.swapAndCopyPresModel(e);this.$1=gZ}},cx);ss.initClass(cq,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().Nyl;if(ss.isNullOrUndefined(e)){return null}return{key:e.OLk,value:e.HBp02}},get_parameters:function(){return _.map(this.$1().Ppg,function(e){return{key:e.OLk,value:e.HBp02}})},get_selectedValue:function(){return this.$1().gui},set_selectedValue:function(e){this.$1().gui=e},get_enterValueText:function(){return this.$1().Mpj},get_isCustomValueEnabled:function(){return this.$1().RmR},get_precannedValues:function(){var e=[];var gZ=this.$1().Rff;for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];e.push(hb)}return e},update:function(e,gZ){this.swapPresModel(e);this.raiseEvent(this.$2$1,gZ)}},dX);ss.initClass(cr,a,{handle:function(e,gZ,ha,hb){var hc=this.$0;for(var hd=0;hd<hc.length;hd++){var he=hc[hd];if(he.handleCommandFailure(e,gZ,ha,hb)){return}}}});ss.initClass(cs,a,{});ss.initClass(ct,a,{});ss.initClass(cu,a,{});ss.initClass(cv,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.tgs02},get_role:function(){return this.pm.YIQ02},get_baseColumnName:function(){return(this.get_isInstance()?this.pm._HL:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.sNb)&&this.pm.sNb},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?cx.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.TO_02},get_formattedFamilyName:function(){return this.pm.ANq},update:function(e){this.swapAndCopyPresModel(e)}},cx);ss.initEnum(cw,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(cy,a,{get_allFields:function(){if(ss.isValue(this.$a)){return this.$a}this.$a=[];var e=_.keys(this.$9);for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];var hb=this.$9[ha];if(ss.referenceEquals(ha,hb.get_localName())){this.$a.push(hb)}}return this.$a},get_dataSource:function(){return this.$b},findField:function(e){return this.$9[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,gZ){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(this.pm,e)){return}this.$a=null;var ha=this.$9;var hb=this.$e;var hc=this.$d;var hd=this.$c;this.$9={};this.$e={};this.$d={};this.$c={};this.rootFields=[];var he=[];var hf={};var hg={};for(var hh=0;hh<e.length;hh++){var hi=e[hh];hi.OxY=hi.OxY||'';switch(hi.VzB){case'fhq':{he.push(hi);break}case'Xvi':{hg[hi.dMo02]=this.$5(hi,hd,ha);break}case'NJp':{var hj=this.$8(hi,hb,ha);this.rootFields.push(hj);break}case'ZqW':{var hk=this.$7(hi,ha);this.rootFields.push(hk);break}case'wAR':{hf[hi.HBp02]=this.$1(hi,ha);break}case'byN':{var hl=this.$2(hi,ha);this.rootFields.push(hl);break}case'KEq':{var hm=this.$3(hi,ha);this.rootFields.push(hm);break}}}for(var hn=0;hn<he.length;hn++){var ho=he[hn];var hp=this.$6(ho,hc,hf,hg);this.rootFields.push(hp)}var hq=this.rootFields.concat.apply(this.rootFields,_.values(hg));this.rootFields=hq.concat.apply(hq,_.values(hf));var hr=_.keys(this.$9);for(var hs=0;hs<hr.length;hs++){var ht=hr[hs];var hu=this.$9[ht];this.$9[hu.get_localName()]=hu}this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,gZ)},$1:function(e,gZ){var ha=(ss.keyExists(gZ,e.HBp02)?gZ[e.HBp02].asColumn():new cv(this));ha.update(e);this.$9[e.HBp02]=ha;return ha},$8:function(e,gZ,ha){var hb=[];for(var hc=0;hc<e.MWY.length;hc++){var hd=e.MWY[hc];hb.push(this.$1(hd,ha))}var he=(ss.keyExists(gZ,e.dMo02)?gZ[e.dMo02].asRelationalTable():new eJ(this));he.update(e,hb);this.$e[e.dMo02]=he;return he},$6:function(e,gZ,ha,hb){var hc=[];for(var hd=0;hd<e.rZD.length;hd++){var he=e.rZD[hd];var hf=this.$9[he];if(ss.isValue(hf)){hc.push(hf);delete ha[he]}}for(var hg=0;hg<e.hIp.length;hg++){var hh=e.hIp[hg];var hi=this.$c[hh];if(ss.isValue(hi)){hc.push(hi);delete hb[hh]}}var hj=e.dMo02+e.HGC;var hk=(ss.keyExists(gZ,hj)?gZ[hj].asFolder():new cF(this));hk.update(e,hc);this.$d[hj]=hk;return hk},$7:function(e,gZ){var ha=(ss.keyExists(gZ,e.HBp02)?gZ[e.HBp02].asGroup():new dd(this));ha.update(e);this.$9[e.HBp02]=ha;return ha},$5:function(e,gZ,ha){var hb=[];for(var hc=0;hc<e.MWY.length;hc++){var hd=e.MWY[hc];hb.push(this.$1(hd,ha))}var he=(ss.keyExists(gZ,e.dMo02)?gZ[e.dMo02].asDrillPath():new cp(this));he.update(e,hb);this.$c[e.dMo02]=he;return he},$4:function(e,gZ){var ha=[];for(var hb=0;hb<e.MWY.length;hb++){var hc=e.MWY[hb];ha.push(this.$1(hc,gZ))}var hd=(ss.keyExists(gZ,e.HBp02)?gZ[e.HBp02].asHierarchy():new bH(this));hd.update(e,ha);this.$9[e.HBp02]=hd;return hd},$3:function(e,gZ){var ha=[];for(var hb=0;hb<e.nIx.length;hb++){var hc=e.nIx[hb];ha.push(this.$4(hc,gZ))}var hd=[];for(var he=0;he<e.MWY.length;he++){var hf=e.MWY[he];hd.push(this.$1(hf,gZ))}var hg=(ss.keyExists(gZ,e.dMo02)?gZ[e.dMo02].asCubeFolder():new bG(this));hg.update(e,ha,hd);return hg},$2:function(e,gZ){var ha=[];for(var hb=0;hb<e.nIx.length;hb++){var hc=e.nIx[hb];ha.push(this.$4(hc,gZ))}var hd=[];for(var he=0;he<e.hQl.length;he++){var hf=e.hQl[he];hd.push(this.$3(hf,gZ))}var hg=[];for(var hh=0;hh<e.NLZ.length;hh++){var hi=e.NLZ[hh];hg.push(this.$2(hi,gZ))}var hj=(ss.keyExists(gZ,e.HBp02)?gZ[e.HBp02].asDimension():new bF(this));hj.update(e,ha,hd,hg);this.$9[e.HBp02]=hj;return hj}},dX);ss.initClass(cz,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,gZ){var ha=this.$0[this.$1];delete this.cl[ha];this.$0[this.$1]=e;this.cl[e]=gZ;this.$1=(this.$1+1)%this.$2}});ss.initClass(cA,a,{openDownload:function(e,gZ){if(ss.isValue(gZ.popup)){this.$1(e,gZ)}else{this.$0(e,gZ)}},$0:function(e,gZ){var ha=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=ha+'download=true';var hb='_blank';var hc=e;if(ss.isNullOrUndefined(gZ.noping)){var hd=ss.mkdel(this,function(){this.$2.showFileDownloadDialog(gZ.title,gZ.message,hc,hb)});var he=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=he+'nodata=true';var hf=this.$3.$0(null,hd,null,'immediately');var hg={};hg.headers=ss.mkdict(['Accept','text/plain']);hg.dataType='text';hg.type='GET';hg.url=e;this.$3.$b(hg,hf)}else{this.$2.showFileDownloadDialog(gZ.title,gZ.message,hc,hb)}},$1:function(e,gZ){var ha=gZ.popup;var hb=window.open('about:blank',ha);window.setTimeout(ss.mkdel(this,function(){var hc=new tab.WindowHelper(hb);if(ss.isValue(hb)&&!hb.closed&&hc.get_innerWidth()!==0&&hc.get_innerHeight()!==0){hb.location.href=e}else{if(ss.isValue(hb)){hb.close()}gZ.popup=null;this.openDownload(e,gZ)}}),500)}});ss.initClass(cB,a,{});ss.initClass(cC,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().P_I},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,gZ){if(ss.isValue(e.P_I)){var ha=e.stK[e.P_I.toString()];this.$1.update(ha,gZ)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},dX);ss.initClass(cD,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().yTB},get_storyPoints:function(){return this.get_flipboardNavPresModel().mhR},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().RWo.Ovl},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().ELI},get_width:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().czn.rec)},get_height:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().czn.EUR)},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().qkv},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,gZ){if(ss.isValue(e)){if(ss.isValue(e.czn)){cG.notifyFontsFromTextStylePresModel(e.czn.mCc)}if(ss.isValue(e.TaK)){cG.notifyFontsFromTextStylePresModel(e.TaK.mCc)}}var ha=ss.isValue(this.get_flipboardNavPresModel())&&e.ELI!==this.get_flipboardNavPresModel().ELI;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,gZ);this.$2(gZ);if(ha){this.raiseEvent(this.$2$3,gZ)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);if(e.mhR.length!==this.get_flipboardNavPresModel().mhR.length){return}var gZ=this.get_flipboardNavPresModel().yTB;var ha=e.yTB;var hb=this.get_flipboardNavPresModel().mhR[gZ];var hc=e.mhR[ha];if(gZ!==ha&&hb.hVl===hc.hVl&&!hb.mwo&&hc.mwo){this.$3.push(hc.hVl)}var hd=_.filter(e.mhR,function(hi,hj){return hi.mwo===true&&hj!==e.yTB});for(var he=0;he<hd.length;he++){var hf=hd[he];var hg={$:hf.hVl};var hh=_.find(this.get_flipboardNavPresModel().mhR,ss.mkdel({currentId:hg},function(hi){return hi.hVl===this.currentId.$}));if(ss.isNullOrUndefined(hh)){continue}if(!hh.mwo){this.$3.push(hg.$)}}},$2:function(e){for(var gZ=0;gZ<this.$3.length;gZ++){var ha=this.$3[gZ];this.raiseEvent$1(ss.Int32).call(this,this.$2$2,ha,e)}}},dX);ss.initClass(cE,a,{});ss.initClass(cF,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.HGC},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,gZ){this.swapAndCopyPresModel(e);this.$1=gZ}},cx);ss.initClass(cG,a,{});ss.initClass(cH,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(cH.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var gZ=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var ha=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(gZ,ha,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(cL,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().XHt},get_widgetIdentifier:function(){return this.$1().KP$},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,cI)},asFormatControl:function(){return ss.safeCast(this,cJ)},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(cI,a,{get_typeOfFormatContainer:function(){return this.pm.hfR},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.dMo02}else if(this.get_isFormatPane()){return this.pm.dMo02}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.OOg}else if(this.get_isTabGroup()){return this.pm.OOg}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.tNa}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.pHt}else if(this.get_isTab()){return this.pm.pHt}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.x$I}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.YOY}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var gZ=tab.FeatureFlags.isEnabled('FormatWorkbookWebAll');var ha=this.asFormatContainer().get_items();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(gZ||hc.get_widgetIdentifier()==='font'){e.push(hc)}}return e},$2:function(e){this.set_previewProperties({});for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(!ha.get_isFormatControl()){continue}var hb=ha.asFormatControl();var hc=hb.get_widgetKey();switch(hc){case'fontSize':case'lineSize':{this.get_previewProperties()[hc]=hb.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[hc]=hb.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[hc]=hb.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[hc]=hb.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.bRh.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.KP$)}))},update:function(e,gZ){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),gZ);var ha=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];this.$5.push(cL.createModel(this,hc,gZ))}}else if(ss.isValue(ha)){for(var hd=0;hd<ha.length;hd++){var he=ha[hd];this.$5[hd].update(he,gZ)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},cL);ss.initClass(cJ,a,{get_typeOfFormatControl:function(){return this.pm.CFz},get_commandRedirectType:function(){return this.pm.XAS},get_formatCommand:function(){return this.pm.Fks},get_simpleCommand:function(){return bw.deserialize(fF.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.eKx},get_isEnabled:function(){return this.pm.Tsz02},get_textValue:function(){return this.pm.vau},get_numericValue:function(){return this.pm.hUw},get_colorValue:function(){return this.pm.YhU},get_canBeAuto:function(){return this.pm.yVr},get_canBeNone:function(){return this.pm.FEU},get_canMatchMarkColor:function(){return this.pm.uyN},get_hasOpacity:function(){return this.pm.HUJ},get_colorSwatchType:function(){return this.pm.VZa},get_selectorValue:function(){return this.pm.vau},get_toggleValue:function(){return this.pm.gbN02}},cL);ss.initClass(cK,a,{});ss.initClass(cM,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-alert-measures-from-selection',this.c))}},ss.makeGenericType(L,[Object,cN]));ss.initClass(cN,a,{});ss.initClass(cO,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-dashboard-drag-drop',this.c))}},ss.makeGenericType(L,[Object,cP]));ss.initClass(cP,a,{});ss.initClass(cQ,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-dashboard-sizing',this.c))}},ss.makeGenericType(L,[Object,cR]));ss.initClass(cR,a,{});ss.initClass(cS,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-sort-context-menu',this.c))}},ss.makeGenericType(L,[Object,cT]));ss.initClass(cT,a,{});ss.initClass(cU,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-thumbnail',this.c))}},ss.makeGenericType(L,[Object,cV]));ss.initClass(cV,a,{hasThumbnailImage:function(){return ss.keyExists(this.$c,'Gqc')}});ss.initClass(cW,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-url-substitution-keywords',this.c))}},ss.makeGenericType(L,[Object,cX]));ss.initClass(cX,a,{});ss.initClass(cY,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-web-categorical-color-dialog',this.c))}},ss.makeGenericType(L,[Object,cZ]));ss.initClass(cZ,a,{});ss.initClass(da,a,{invoke:function(){return this.invoke$1(bA.newCommand('get-web-quantitative-color-dialog',this.c))}},ss.makeGenericType(L,[Object,db]));ss.initClass(db,a,{});ss.initClass(dc,a,{canExtractFont:function(e){return e.VzB==='rOX'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var gZ=e.tOA;return this.$0(gZ)},$0:function(e){var gZ={};for(var ha=0;ha<e.length;ha++){var hb=e[ha];for(var hc=0;hc<dc.$0.length;hc++){var hd=dc.$0[hc];if(hd.canExtractFont(hb)){var he=hd.extractFontFromPresModel(hb);if(ss.isValue(he)){for(var hf=0;hf<he.length;hf++){var hg=he[hf];gZ[hg.get_hash()]=hg}}break}}}return _.values(gZ)}},null,[dn]);ss.initClass(dd,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.dhu||false}},cv);ss.initClass(de,a,{invoke:function(){return this.invoke$1(bA.newCommand('highlight-items-by-pattern-match',this.c))}},ss.makeGenericType(L,[Object,df]));ss.initClass(df,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$c,'DBQ')}});ss.initClass(dg,a,{});ss.initClass(dh,a,{invoke:function(){return this.invoke$1(bA.newCommand('hit-test-scene',this.c))}},ss.makeGenericType(L,[Object,di]));ss.initClass(di,a,{});ss.initEnum(dj,a,{escape:0,noEscape:1});ss.initInterface(dl,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(dr,a,{get_notificationId:null,onNotify:null});ss.initInterface(dm,a,{add_stopNotifying:null,remove_stopNotifying:null},[dr]);ss.initInterface(dp,a,{get_sheetScrollPositions:null});ss.initInterface(dq,a,{triggerExportPdfUI:null});ss.initClass(ds,a,{});ss.initClass(dt,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(dv,a,{});ss.initClass(dy,a,{invoke:function(){return this.invoke$1(bA.newCommand('is-web-zone-url-valid',this.c))}},ss.makeGenericType(L,[Object,dz]));ss.initClass(dz,a,{hasValidationMessage:function(){return ss.keyExists(this.$c,'Azw')}});ss.initClass(dA,a,{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadModuleOnDemand=false;return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadModuleOnDemand=e;return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException(e)}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this}});ss.initClass(dB,a,{hasDependencies:function(){return ss.isValue(this.dependencies)&&this.dependencies.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');if(!this.hasDependencies()){this.dependencies=[]}this.dependencies.push(e)}});ss.initClass(dC,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.FsL},get_name:function(){return this.pm.dMo02},get_isTableCalc:function(){return this.pm.trO},get_paneDescriptorKeys:function(){return this.pm.N_E},get_encodings:function(){return _.filter(this.pm.Sfw,function(e){return e.DIk02&&e.Tsz02})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(gZ){return gZ.NPh});return e},get_primitiveTypes:function(){return _.filter(this.pm.Arf,function(e){return e.DIk02&&e.Tsz02})},get_markSizeModel:function(){return this.$1},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ);if(ss.isNullOrUndefined(this.$1)){this.$1=new dW(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),gZ)},equals$1:function(e){return this.get_id()===e.FsL},getDropdownPresModel:function(e){var gZ=_.filter(this.pm.Sfw,function(ha){return ha.DIk02&&ha.Tsz02&&ha.Srb===e});if(ss.isNullOrUndefined(gZ)||gZ.length!==1){return null}return gZ[0].URw}},dX);ss.initClass(dD,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,gZ,ha){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(gZ?'&keepfile=yes':'')+(ha?'&attachment=yes':'')},saveSharedView:function(e,gZ,ha){var hb=function(hg,hh,hi){hg['button']=e;if(ss.isValue(hg['guid'])){gU.guid=hg['guid']}};var hc=ss.mkdel(this,function(hg,hh,hi){gU.guid=null;if(hg.status===410||hg.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(hg.status===401){this.handleAuthenticationFailure()}else{var hj=new Object;hj['button']=e;ha(hj)}});var hd=this.$0(null,hb,hc,'none');var he={};he['sheet_id']=gU.get_currentTabName();he['parent_id']=gU.parentID;he['primary_content_url']=gZ;he['share_button']=e;var hf=this.basicPostOpts(this.$4('save_shared_view'),he);hf.async=false;hf.timeout=2000;this.$b(hf,hd)},saveAndOpenMetricsView:function(){window.open(this.$4('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$4('download_metrics_view')},getAutocompleteInfo:function(e,gZ,ha){var hb=function(he,hf,hg){gZ(he['new_value'])};var hc=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var hd=ss.mkdict(['fieldname',ha,'input_string',e]);hc.data=hd;hc.success=hb;this.$b(hc)},performPostLoadOperations:function(e,gZ){var ha=function(hf,hg,hh){if(ss.isValue(gZ)){gZ(hf)}};var hb=ss.mkdel(this,function(hf,hg,hh){this.$6(hh,hf,true,null)});var hc=this.$0(null,ha,hb,'none');var hd=ss.mkdict(['sheet_id',e]);var he={};he.data=hd;he.async=true;he.type='GET';he.headers=ss.mkdict(['Accept','text/javascript']);he.dataType='json';he.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$b(he,hc)}},M);ss.initClass(dE,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.dMo02+this.$0.BCp},get_isFloating:function(){return this.$0.Qba},get_zoneType:function(){return this.$0.jAM},get_isHorizontal:function(){return this.$0.oAu},get_name:function(){return this.$0.dMo02},get_zoneID:function(){return this.$0.BCp},appendChildren:function(e){this.$1.push(e)}});ss.initClass(dF,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,gZ){if(!_.isEqual(this.pm,e)){this.$3();this.$1(e);this.$2();this.simpleSwapToUpdate(e,this.$2$1,gZ)}},saveExpandedState:function(e,gZ){this.$4[e]=gZ},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$5[e])){return}var gZ=this.$5[e].parent;while(ss.isValue(gZ)){var ha=gZ.get_zoneID();this.$4[ha]=true;gZ=this.$5[ha].parent}},isItemExpanded:function(e){return ss.keyExists(this.$4,e)&&this.$4[e]},getItemFromIndex:function(e){return this.$5[e]},$1:function(e){var gZ=e.nr$;this.$5=dF.$0(gZ);if(ss.isValue(gZ)){for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=hb.SWe;var hd=this.$5[hb.BCp];var he=hc===0;if(he){this.rootNodes.push(hd)}else{var hf=this.$5[hc];if(!ss.isNullOrUndefined(hf)){hf.appendChildren(hd);hd.parent=hf}}}}},$2:function(){if(ss.getKeyCount(this.$5)===0){this.$4={}}else{var e=new ss.ObjectEnumerator(this.$4);try{while(e.moveNext()){var gZ=e.current();if(!ss.keyExists(this.$5,gZ.key)){delete this.$4[gZ.key]}}}finally{e.dispose()}}},$3:function(){this.rootNodes=[]}},dX);ss.initClass(dG,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(dI,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var gZ=new String;gZ='[';for(var ha=0;ha<e.name.length;++ha){if(ss.endsWithString(gZ,']')){gZ+='.';gZ+='['}gZ+=e.name[ha];gZ+=']'}return gZ},update:function(e,gZ){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,gZ)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,gZ)}}},dX);ss.initClass(dH,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples}},dI);ss.initClass(dJ,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},dI);ss.initClass(dK,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(dL,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table}},dI);ss.initClass(dM,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().jOs},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().D_I},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,gZ,ha){var hb=!_.isEqual(this.$2,gZ);this.$2=gZ;if(this.isNewPresModelSameAsOld(e)){if(hb){this.raiseEvent$1(Object).call(this,this.$2$1,e,ha)}return}if(ss.isValue(e)){cG.notifyFontsFromTextStylePresModel(e.mCc)}if(ss.isValue(e)&&ss.isValue(e.D_I)){this.$3=new bx(this)}this.$3.update(e.D_I,ha);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ha)},$1:function(){var e=[];var gZ=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var ha=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var hb=['min-max','min-only','max-only','rel-date','rel-pick'];for(var hc=0;hc<gZ.length;hc++){var hd=gZ[hc];for(var he=0;he<ha.length;he++){var hf=ha[he];var hg={};hg.Ymv02=hd;hg.etp=hf;e.push(hg)}for(var hh=0;hh<hb.length;hh++){var hi=hb[hh];var hj={};hj.Ymv02=hd;hj.SPS=hi;e.push(hj)}}return e}},dX);ss.initClass(dN,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},dI);ss.initClass(dO,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},eH);ss.initClass(dP,a,{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});ss.initClass(dR,a,{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().TYx},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().clZ},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().Qbg},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().Kwl},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().mUC},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().ktE},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'ElJ'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().J_M},get_dialogWidth:function(){return 180},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().URs},onNotify:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,gZ){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,gZ)}},dX,[dr,dm]);ss.initClass(dS,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().ssC},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().qKO},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().sx},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().nHX},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().JFr},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().qGS},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().Adc},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().iqu},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().SBS},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().ApB},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,gZ){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,gZ)}}},dX);ss.initClass(dT,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().wKy},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().cpo},get_minZoom:function(){return this.get_mapServerPresModel().Tvg},get_maxZoom:function(){return this.get_mapServerPresModel().AqY},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().nyL)/Math.LN2;var gZ=this.get_mapServerPresModel().Vot+e;if(this.get_useFastMaps()){gZ-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return gZ},get_centerLatitude:function(){return this.get_mapServerPresModel().koK},get_centerLongitude:function(){return this.get_mapServerPresModel().gJt},get_tilePixelSize:function(){return this.get_mapServerPresModel().WLq},get_numWorldRepeats:function(){return this.get_mapServerPresModel().gub},get_tileUrl:function(){var e=this.get_mapServerPresModel();var gZ;if(ss.startsWithString(e.ywq.toString(),'http://')||ss.startsWithString(e.ywq.toString(),'https://')){gZ=''}else{var ha=tab.WindowHelper.getLocation(window.self).protocol;gZ=ha+'//'}gZ+=e.ywq;if(!ss.endsWithString(gZ,String.fromCharCode(47))&&!ss.startsWithString(e.hbM.toString(),String.fromCharCode(47))){gZ+='/'}gZ+=e.hbM;gZ=ss.replaceAllString(gZ,'{K}',e.Dwf);gZ=ss.replaceAllString(gZ,'{L}',e.buX);var hb=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);gZ=ss.replaceAllString(gZ,'{D}',(hb?'@2x':''));gZ=ss.replaceAllString(gZ,'{X}','{x}');gZ=ss.replaceAllString(gZ,'{Y}','{y}');gZ=ss.replaceAllString(gZ,'{Z}','{z}');gZ=ss.replaceAllString(gZ,'{P}','{p}');return gZ},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().gxH},get_attributionUrl:function(){return this.get_mapServerPresModel().FMn},get_attributionText:function(){return this.get_mapServerPresModel().IRP},get_attributionTextColor:function(){return this.get_mapServerPresModel().Qfp},get_attributionTextSize:function(){return this.get_mapServerPresModel().iff},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().voD)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mZp)},get_hasWashout:function(){return this.get_mapServerPresModel().gEj>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().gEj));return new bl(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().nUd},get_mapServerPresModel:function(){return this.pm},get_mapScaleInfoModel:function(){return this.$2},get_radialSelectionDistanceInfoModel:function(){return this.$3},update:function(e,gZ){var ha=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(ha){var hb=!ss.referenceEquals(this.get_mapServerPresModel().ywq,e.ywq);var hc=!ss.referenceEquals(this.get_mapServerPresModel().buX,e.buX);if(hb||hc){this.raiseEvent(this.$2$2,gZ)}}this.simpleSwapToUpdate(e,this.$2$1,gZ);if(this.get_hasPresModel()){this.$3.update(this.get_mapServerPresModel().mZ_);this.$2.update(this.get_mapServerPresModel().Du$,gZ)}},$1:function(e){return bl.fromColorCode(e||'rgb(255,255,255)').toString()}},dX);ss.initClass(fJ,a,{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});ss.initClass(dU,a,{mergeWithExisitingStyle:function(e){var gZ=$.extend({},e);if(ss.isValue(this.defaultSpace)){gZ.GjL=ss.unbox(this.defaultSpace)}else{delete gZ.GjL}if(ss.isValue(this.top)){gZ.Ymv=ss.unbox(this.top)}else{delete gZ.Ymv}if(ss.isValue(this.bottom)){gZ.Cc$=ss.unbox(this.bottom)}else{delete gZ.Cc$}if(ss.isValue(this.left)){gZ.Ptr=ss.unbox(this.left)}else{delete gZ.Ptr}if(ss.isValue(this.right)){gZ.YCW=ss.unbox(this.right)}else{delete gZ.YCW}return gZ}},fJ);dU.$ctor1.prototype=dU.prototype;ss.initClass(dV,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}var ha=[];if(ss.isValue(e)&&ss.isValue(e.baQ)){this.$1(e.baQ,ha,gZ)}if(ss.isValue(e)&&ss.isValue(e.CGV)){for(var hb=0;hb<e.CGV.length;hb++){var hc=e.CGV[hb];this.$1(hc,ha,gZ)}}this.$3=ha;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,gZ)},$1:function(e,gZ,ha){var hb=_.find(this.$3,function(hc){return hc.equals$1(e)});if(ss.isNullOrUndefined(hb)){hb=new dC(this,e.FsL)}hb.update(e,ha);gZ.push(hb)}},dX);ss.initClass(dW,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.wFL},get_maxMarkSize:function(){return this.pm.Utx},get_currentMarkSize:function(){return this.pm.DOI},get_currentSliderFraction:function(){return this.$3.valueToFraction(this.get_currentMarkSize())},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e,gZ){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated),gZ)},$1:function(e){switch(e.Iqw.length){case 0:{this.$3=new dO(e.wFL,e.Utx);break}case 1:{var gZ=e.Iqw[0];this.$3=new C(e.wFL,e.Utx,gZ.mOt,gZ.dbq,gZ.mOt,gZ.dbq);break}case 2:default:{var ha=e.Iqw[0];var hb=e.Iqw[1];this.$3=new C(e.wFL,e.Utx,ha.mOt,ha.dbq,hb.mOt,hb.dbq);break}}}},dX,[dl]);ss.initClass(ea,a,{});ss.initClass(eb,a,{});ss.initClass(ec,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var gZ=this.$2[e];_.defer(gZ)}this.$2.length=0}});ss.initClass(ed,a,{get_instanceType:function(){return'multiple'}},cx);ss.initClass(ee,a,{processEvent:function(e){}},null,[du]);ss.initClass(ef,a,{$3:function(e,gZ){this.$1().done([ss.mkdel(this,function(){var hb=this.$6.createEvent();hb.ofType(e);var hc=new ss.ObjectEnumerator(gZ);try{while(hc.moveNext()){var hd=hc.current();hb.withProperty(hd.key,hd.value)}}finally{hc.dispose()}hb.withProperty('SiteId',this.$c);hb.withProperty('SiteLuid',this.$d);hb.withProperty('SiteUrlName',this.$e);hb.withProperty('UserId',this.$f);hb.withProperty('Language',tsConfig.language);hb.withProperty('Locale',tsConfig.locale);hb.withProperty('SessionId',tsConfig.sessionIdHash);hb.withProperty('ProjectId',tsConfig.current_project_id);hb.withProperty('WorkbookId',tsConfig.current_workbook_id);hb.withProperty('Public',tsConfig.isPublic);hb.withProperty('SaaS',tsConfig.is_saas);this.$9.reportEvent(hb.build())})]);var ha=ef.$1$1;if(!ss.staticEquals(ha,null)){ha(e,gZ)}},$2:function(){return this.$4||(this.$4=eb.load$1('analytics-client',[]))},$0:function(){return this.$b||(this.$b=gN.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$a=e})).fail(function(e){}))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$a);if(e){var gZ=this.$a.server;var ha=this.$a.site;var hb=this.$a.user;e=ss.isValue(gZ)&&ss.isValue(ha)&&ss.isValue(hb);if(e){this.$5=gZ.analyticsEndpoint;this.$8=gZ.logicalServerInstanceId;this.$c=ha.id;this.$d=ha.luid;this.$e=ha.urlName;this.$f=hb.id}}if(!e){}this.$9=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$8,window.location.hostname)})]))}});ss.initClass(eg,a,{});ss.initClass(eh,a,{mergeWithExisitingStyle:function(e){var gZ=$.extend({},e);if(ss.isValue(this.defaultSpace)){gZ.uvy=ss.unbox(this.defaultSpace)}else{delete gZ.uvy}if(ss.isValue(this.top)){gZ.zRk1=ss.unbox(this.top)}else{delete gZ.zRk1}if(ss.isValue(this.bottom)){gZ.JBW=ss.unbox(this.bottom)}else{delete gZ.JBW}if(ss.isValue(this.left)){gZ.zoC=ss.unbox(this.left)}else{delete gZ.zoC}if(ss.isValue(this.right)){gZ.oXZ=ss.unbox(this.right)}else{delete gZ.oXZ}return gZ}},fJ);eh.$ctor1.prototype=eh.prototype;ss.initClass(ei,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.us$)},get_zone:function(){return this.$2.pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.$2},update:function(e,gZ,ha,hb){this.$1=gZ;if(this.isNewPresModelSameAsOld(e)){return}cG.notifyFontsFromPagePresModel(e);if(ha){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,hb)}else{this.swapAndCopyPresModel(e)}}},dX);ss.initClass(ek,a,{});ss.initClass(el,a,{});ss.initClass(em,a,{get_rowIndex:function(){return this.$0['ASo']},get_columnIndex:function(){return this.$0['_WI']},get_pageIndex:function(){return(ss.keyExists(this.$0,'jal')?this.$0['jal']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['_WI']=0;this.$0['ASo']=0}}});em.$ctor1.prototype=em.prototype;ss.initClass(en,a,{});ss.initClass(eo,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().nql},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,gZ,ha){if(ss.isValue(e)){cG.notifyFontsFromTextStylePresModel(e.mCc)}this.$1=gZ;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ha)},updateFrame:function(e,gZ){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),gZ)}}},dX);ss.initClass(ep,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_displayMode:function(){return this.$2().NId},get_fieldName:function(){return this.$2().DMC},get_titleHtml:function(){return(this.$3().pj$.yqe?this.$3().KDk.xBc:'')},get_titleCaption:function(){return(this.$3().pj$.yqe?this.$3().KDk.CST02:'')},get_titleHeight:function(){return(this.$3().pj$.yqe?this.$3().jZr:0)},get_zoneBackgroundColor:function(){return this.$3().pj$.rPC.eBu},get_itemsHeight:function(){return this.$2().$tN},get_itemsFontName:function(){return this.$2().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$2().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$2().mCc.YhU},get_itemsFontWeight:function(){return this.$2().mCc.cjf},get_itemsFontStyle:function(){return this.$2().mCc.BxQ},get_itemsTextDecoration:function(){return this.$2().mCc.zwp},get_items:function(){var e=[];for(var gZ=0;gZ<this.$2().wwu.length;gZ++){e.push(new eq(this.$2().wwu[gZ],this.$1().domain[gZ]))}return e},get_selectedItem:function(){return this.$2().ybD},$2:function(){return this.pm},$1:function(){return this.$2().nql},$3:function(){return this.parent.get_zone().pm},update:function(e,gZ){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent$1(Object).call(this,this.$2$1,e,gZ)}}},dX);ss.initClass(eq,a,{});ss.initClass(er,a,{});ss.initClass(es,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$3$1,gZ)}},gf);ss.initClass(et,a,{});ss.initClass(eu,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Srb)){return'invalid-encoding'}return this.pm.Srb},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Sfw)){return[]}return _.filter(this.pm.Sfw,function(e){return e.DIk02&&e.Tsz02})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Obm)){return'no-filter'}return this.pm.Obm},get_hasDrill:function(){return this.pm.IXT||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm._lm||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.iHY)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.tCk)},get_displayName:function(){return this.pm.MzX},get_contextMenuCommands:function(){return this.pm.Jmx},get_isMultipleFields:function(){return this.pm.Srb!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,ed)},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}this.$1=gZ;this.swapAndCopyPresModel(e)}},dX);ss.initClass(ev,a,{invoke:function(){return this.invoke$1(bA.newCommand$1('ping-session',this.c))}},ss.makeGenericType(L,[Object,ew]));ss.initClass(ew,a,{});ss.initClass(ex,a,{});ss.initClass(ey,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(ez,a,{});ss.initEnum(eA,a,{simple:0,array:1});ss.initClass(eB,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<eB.$7.length;e++){var gZ=eB.$7[e];if(ss.isNullOrUndefined(this.$j[gZ])){continue}return true}return false},extractZoneContent:function(e){if(!eB.$4(e)){return e}var gZ=this.$4(e);if(ss.isNullOrUndefined(gZ)){return e}this.$h(gZ);gZ.HCq=this.$5(gZ.HCq);return e},updateZonesWithVizData:function(e,gZ){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}gx.addVizDataToZones(e.NdE,this.$p);var ha=_.keys(this.$p);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=this.$q[hc]||this.$3(this.$p[hc]);if(ss.isValue(hd)&&ss.isValue(hd.get_visualModel())){var he=hd.get_visualModel();he.update(he.pm,gZ)}}},processModelUpdate:function(e,gZ,ha){if(!eB.$4(e)||!this.get_hasZonesToLoad()){return e}var hb=this.$4(e);if(ss.isNullOrUndefined(hb)){return e}this.$h(hb);var hc=dX.removeUndefinedBoolsOnSwapCopy;if(ha){dX.removeUndefinedBoolsOnSwapCopy=false}try{var hd=hb.HCq;var he=_.keys(hd);for(var hf=0;hf<he.length;hf++){var hg=he[hf];var hh=hd[hg];if(ss.isNullOrUndefined(hh)){continue}var hi=this.$9(hh);if(!ss.contains(eB.zonesThatDeferContentCreation,hi)){continue}var hj=false;var hk=hh.BCp;var hl=[eB.$8[hi],6];for(var hm=0;hm<hl.length;hm++){var hn=hl[hm];var ho=this.$j[hn];if(ss.isValue(ho)){var hp=ho.length;for(var hq=0;hq<hp;hq++){var hr=ho[hq];if(ss.isValue(hr)&&hr.BCp===hk){hj=true;ho[hq]=this.$1(hr,hh,gZ);break}}}if(hj){break}}if(!hj&&hi==='viz'){var hs=_.keys(this.$k);for(var ht=0;ht<hs.length;ht++){var hu=hs[ht];var hv=this.$k[hu];if(hk===hv.BCp){hj=true;this.$k[hu]=this.$1(hv,hh,gZ);break}}}if(hj){hh=eB.removeZoneContent(hh)}}}finally{dX.removeUndefinedBoolsOnSwapCopy=hc}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var gZ=e.get_dimensions();if(gZ.w===1&&gZ.h===1){return}this.$o={x:gZ.l,y:gZ.t,w:gZ.w,h:gZ.h};this.$c()},getPendingVisuals:function(){var e={};var gZ=_.keys(this.$p);for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=this.$p[hb].AVP;var hd=this.getPendingVisual(hc);if(ss.isValue(hd)){e[hc]=hd}}return e},getPendingVisual:function(e){var gZ=null;var ha=_.keys(this.$p);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(ss.referenceEquals(this.$p[hc].AVP,e)){gZ=this.$p[hc];break}}if(ss.isNullOrUndefined(gZ)){return null}var hd=this.$q[gZ.BCp]||this.$3(gZ);return hd.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$m))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$m))}this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$q=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$r)},$8:function(){var e={};for(var gZ=0;gZ<eB.$7.length;gZ++){var ha=eB.$7[gZ];if(ha===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var hb=_.keys(this.$k);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];this.$j[6].push(this.$k[hd])}this.$k=null}var he=this.$j[ha];if(ss.isNullOrUndefined(he)){continue}var hf=he.length;var hg=eB.$6[ha];var hh=0;if(hg.item1===-1){hh=hf}else{var hi=hg.item2*hf;if(hg.item1<hi){var hj=0;for(var hk=0;hk<he.length;hk++){var hl=he[hk];if(ss.isValue(hl)){++hj}}hh=Math.floor(hi);if(hj%hh>0){hh=hh+1}}else{hh=hg.item1}}var hm=0;var hn=0;while(hm<hh&&hn<hf){var ho=he[hn];he[hn]=null;hn++;if(ss.isNullOrUndefined(ho)){continue}if(eB.$3(this.$9(ho))){var hp=ho.AVP;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,hp)){var hq=this.$k[hp];delete this.$k[hp];delete this.$p[hq.BCp];e[hq.BCp.toString()]=hq}}delete this.$p[ho.BCp];var hr=this.$q[ho.BCp];if(ss.isValue(hr)){delete this.$q[ho.BCp];this.$l=this.$l||{};this.$l[ho.BCp]=hr.get_model()}e[ho.BCp.toString()]=ho;++hm}if(hn===hf){this.$j[ha]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var gZ=new tab.WindowHelper(window.self);var ha=gZ.get_innerWidth();var hb=gZ.get_innerHeight();var hc=gZ.get_pageXOffset();var hd=gZ.get_pageYOffset();this.$o={x:hc,y:hd,w:ha,h:hb}}var he={x:e.pj$.thj,y:e.pj$.RAC,w:e.pj$.rec,h:e.pj$.EUR};return tab.RectXYUtil.intersectsWith(he,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var gZ=tab.MiscUtil.cloneObject(this.$n);eB.getZoneRoot(gZ).HCq=e;return gZ},$e:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$m=window.setTimeout(ss.mkdel(this,this.$b),ss.unbox(e))}else{this.$m=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){var e=this.$0();var gZ=this.get_hasZonesToLoad();if(gZ){this.$e()}this.$7(e,!gZ);if(!gZ){this.$6();this.$d()}},$7:function(e,gZ){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,gZ)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var gZ=eB.getZoneRoot(e);if(ss.isNullOrUndefined(gZ)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return gZ},$5:function(e){if(ss.isNullOrUndefined(e)){return null}eB.$2();this.$p={};this.$j={};this.$q={};var gZ=_.keys(e);for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];var hc=e[hb];if(!ss.contains(eB.zonesThatDeferContentCreation,this.$9(hc))){continue}var hd=eB.cloneZone(hc);hc=eB.removeZoneContent(hc);var he=this.$9(hd);if(he==='viz'){this.$p[hb]=hd}var hf=5;if(ss.keyExists(eB.$8,he)){hf=eB.$8[he]}this.$j[hf]=this.$j[hf]||[];this.$j[hf].push(hd)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<eB.$7.length;e++){var gZ=eB.$7[e];if(gZ===6){continue}var ha=this.$j[gZ];if(ss.isNullOrUndefined(ha)||ha.length===0){continue}var hb=0;var hc=new Array(ha.length);for(var hd=0;hd<ha.length;hd++){var he=ha[hd];if(this.$a(he)){hc[hb]=he;hb++}else if(this.$9(he)==='viz'){this.$k[he.AVP]=he}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(he)}}if(hb>0){hc.length=hb;this.$j[gZ]=hc}else{this.$j[gZ]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var gZ=e.length;var ha={};var hb=new Array(gZ);for(var hc=0;hc<gZ;hc++){var hd=e[hc];var he=hd.pj$.RAC*5000+hd.pj$.thj;while(ss.isValue(ha[he])){he+=1}ha[he]=hd;hb[hc]=he}hb=hb.sort(function(hi,hj){return((hi>hj)?1:-1)});for(var hf=0;hf<gZ;hf++){var hg=hb[hf];var hh=ha[hg];e[hf]=hh}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<eB.$7.length;e++){var gZ=eB.$7[e];if(gZ===6){continue}var ha=this.$j[gZ];this.$j[gZ]=this.$g(ha)}},$3:function(e){var gZ=ea.findContentDashboard();var ha=new gX(gZ.zonesModel,gZ,e.BCp);ha.update(e,ee.get_noopContext());this.$q[e.BCp]=ha;return ha},$1:function(e,gZ,ha){var hb=this.$q[e.BCp]||this.$3(e);var hc=eB.cloneZone(gZ);hb.update(hc,ha);return hc},$h:function(e){$.extend(this.$r,eB.$0(e))},$9:function(e){if(ss.isValue(e.pj$)){return e.pj$.jAM}return ss.coalesce(this.$r[e.BCp],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var gZ=this.$n;var ha=e;var hb=null;this.$n=eB.$1(ha,gZ);hb=this.$n;ha=ha.res;gZ=(ss.isNullOrUndefined(gZ)?null:gZ.res);hb.res=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}hb=hb.res;ha=ha.mmK;gZ=(ss.isNullOrUndefined(gZ)?null:gZ.mmK);hb.mmK=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}if(e.res.mmK.Jqz){hb=hb.mmK;ha=ha.HCq;gZ=(ss.isNullOrUndefined(gZ)?null:gZ.HCq);var hc=null;var hd='';if(ss.isValue(ha)){var he=ha;var hf=_.keys(he);for(var hg=0;hg<hf.length;hg++){var hh=hf[hg];if(this.$9(he[hh])!=='flipboard'){continue}hc=he[hh];hd=hh;break}}if(ss.isNullOrUndefined(hc)){hb.HCq=gZ;return}hb.HCq={};hb.HCq[hd]=ex.cloneObjWithScalarsOnly(hc);hb=hb.HCq[hd];ha=ha[hd].wqq;gZ=(ss.isNullOrUndefined(gZ)?null:gZ[hd].wqq);hb.wqq=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}hb=hb.wqq;ha=ha['XIo'];gZ=(ss.isNullOrUndefined(gZ)?null:gZ['XIo']);hb['XIo']=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}var hi=ha.P_I;hb=hb['XIo'];ha=ha.stK;gZ=(ss.isNullOrUndefined(gZ)?null:gZ.stK);hb.stK=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}hb=hb.stK;ha=ha[hi.toString()];gZ=(ss.isNullOrUndefined(gZ)?null:gZ[hi.toString()]);hb[hi.toString()]=eB.$1(ha,gZ);if(ss.isNullOrUndefined(ha)){return}hb=hb[hi.toString()];ha=ha.mmK;gZ=(ss.isNullOrUndefined(gZ)?null:gZ.mmK);hb.mmK=eB.$1(ha,gZ)}}});ss.initClass(eC,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}cG.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,gZ)}},dX);ss.initClass(eD,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var gZ=true;if(ss.isValue(this.$1)){gZ=gZ&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){gZ=gZ&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return gZ}});ss.initClass(eE,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().D_I},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().jOs.CST02},get_titleHtml:function(){return this.$2().jOs.xBc},get_titleHeight:function(){return this.$2().jOs.EUR},get_itemsHeight:function(){return this.$2().$tN},get_itemsFontName:function(){return this.$2().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$2().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$2().mCc.YhU},get_itemsFontWeight:function(){return this.$2().mCc.cjf},get_itemsFontStyle:function(){return this.$2().mCc.BxQ},get_itemsTextDecoration:function(){return this.$2().mCc.zwp},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.pj$.rPC.eBu},get_visualId:function(){var e=this.parent;return ea.getVisualId(e.get_zone().pm.Gge)},get_fieldName:function(){return this.$2().ps$.HBp02},$2:function(){return this.pm},update:function(e,gZ){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){cG.notifyFontsFromTextStylePresModel(e.mCc)}this.swapAndCopyPresModel(e);if(e.ps$.VOu!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.ps$));this.set_quickFilterType(e.ps$.VOu)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.ps$,gZ)}this.raiseEvent(this.$2$1,gZ)}},$1:function(e){switch(e.VOu){case'categorical':{return new be(this)}default:{return null}}}},dX);ss.initClass(eG,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().uwy},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().Qvi},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().Wec},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().v_N},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().EUR},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().rec},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fDh},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().vZo},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().nKM},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().goC},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().zIs},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().FRN},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().QFu},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().hlO},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},dX);ss.initClass(eI,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().weN},get_rankTypeCaptions:function(){return this.$1().QIk},get_rankTypeIndex:function(){return this.$1().SWx},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().JGE},get_sortDirectionValues:function(){return this.$1().GJK02},get_sortDirectionCaptions:function(){return this.$1().sxj},get_sortDirectionIndex:function(){return this.$1().HcK},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$3$1,gZ)}},gf);ss.initClass(eJ,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,gZ){this.swapAndCopyPresModel(e);this.$1=gZ}},cx);ss.initClass(eK,a,{},bh);ss.initClass(eL,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(eM,a,{invoke:function(){return this.invoke$1(bA.newCommand$1('resize-axis-region',this.c))}},ss.makeGenericType(L,[Object,eN]));ss.initClass(eN,a,{});ss.initClass(eO,a,{invoke:function(){return this.invoke$1(bA.newCommand$1('resize-header-region',this.c))}},ss.makeGenericType(L,[Object,eP]));ss.initClass(eP,a,{});ss.initClass(eQ,a,{});ss.initClass(eR,a,{});ss.initClass(eS,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().imC},get_paneIndex:function(){return this.get_sceneElementPM().hJq},get_tupleId:function(){return this.get_sceneElementPM().OBN},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().oqX},get_detail:function(){return this.get_sceneElementPM().NtP},get_hitType:function(){return this.get_sceneElementPM().FCs},get_detailId:function(){return this.get_sceneElementPM().ATa},get_cellId:function(){return this.get_sceneElementPM().OCD},get_worldOffset:function(){return this.get_sceneElementPM().kAz},get_markState:function(){return this.get_sceneElementPM().cwS},get_hitDistance:function(){return this.get_sceneElementPM().JWU},get_overlayHit:function(){return this.get_sceneElementPM().GN_}},dX);ss.initClass(eT,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$8},get_refLineVisualLists:function(){return this.$6},get_trendLineVisualLists:function(){return this.$7},get_drawFirstParts:function(){return this.$4},get_drawLastParts:function(){return this.$5},get_backgroundColor:function(){return this.$3},get_paneDescriptorCount:function(){return ss.getKeyCount(this.pm.ObZ)},update:function(e,gZ){if(ss.isValue(e.QV$)){K.get_instance().get_shapeManager().updateCustomImageMap(e.QV$)}this.$2(e);if(ss.isValue(e.KCi)){ss.clear(this.$4);for(var ha=0;ha<e.KCi.length;ha++){var hb=e.KCi[ha];cG.notifyFontsFromVisualListPresModel(hb);var hc=hb.oqX;if(!ss.keyExists(this.$8,hc)){this.$8[hc]=new gr(this)}if(ss.contains(this.$4,hc)){continue}this.$4.push(hc);this.$8[hc].update(hb,gZ)}}if(ss.isValue(e.lb_)){ss.clear(this.$5);for(var hd=0;hd<e.lb_.length;hd++){var he=e.lb_[hd];cG.notifyFontsFromVisualListPresModel(he);var hf=he.oqX;if(!ss.keyExists(this.$8,hf)){this.$8[hf]=new gr(this)}this.$5.push(hf);this.$8[hf].update(he,gZ)}}if(ss.isValue(e.HUq)){for(var hg=0;hg<e.HUq.length;hg++){var hh=e.HUq[hg];for(var hi=0;hi<hh.MdI.length;hi++){var hj=hh.MdI[hi];cG.notifyFontsFromVisualListPresModel(hj)}}}if(ss.isValue(e.ObZ)){var hk=_.values(e.ObZ);for(var hl=0;hl<hk.length;hl++){var hm=hk[hl];if(ss.isValue(hm)){cG.notifyFontsFromPDMarksPresModel(hm)}}}var hn=ss.isNullOrUndefined(e.$Ww);this.swapAndCopyPresModel(e);if(hn){this.pm.$Ww=null}this.$3=eT.$0(this.$8,e);this.$1();this.raiseEvent(this.$2$1,gZ)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){ss.clear(this.$6);ss.clear(this.$7);if(ss.isValue(this.pm.HUq)){for(var e=0;e<this.pm.HUq.length;e++){var gZ=this.pm.HUq[e];if(ss.isValue(gZ.MdI)){for(var ha=0;ha<gZ.MdI.length;ha++){var hb=gZ.MdI[ha];if(ss.isValue(hb)){if(hb.oqX==='ref-lines'){this.$6.push(hb)}else if(hb.oqX==='trend-lines'){this.$7.push(hb)}}}}}}},$2:function(e){var gZ=new ss.ObjectEnumerator(this.get_visualListModels());try{while(gZ.moveNext()){var ha=gZ.current();var hb={$:ha.key};var hc=_.find(e.KCi,ss.mkdel({currentPart:hb},function(hd){return this.currentPart.$===hd.oqX}));if(ss.isNullOrUndefined(hc)){hc=_.find(e.lb_,ss.mkdel({currentPart:hb},function(hd){return this.currentPart.$===hd.oqX}))}if(ss.isNullOrUndefined(hc)){delete this.get_visualListModels()[hb.$]}}}finally{gZ.dispose()}}},dX);ss.initClass(eU,a,{});ss.initClass(eV,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var gZ=0-e.getTimezoneOffset();var ha=0;var hb=this.$9.scheduleDetails.startTime;var hc=0;var hd='';if(tsConfig.display_schedules_in_client_timezone){ha=gZ-this.$9.serverTimezoneOffset;hb=eV.$2(this.$9.scheduleDetails.startTime,ha);hc=eV.$0(this.$9.scheduleDetails.startTime,ha)}switch(this.$9.scheduleType){case'Hourly':{hd=this.$2(hb,ha);break}case'Daily':{hd=this.$0(hb);break}case'Weekly':{hd=this.$4(hb,hc);break}case'Monthly':{hd=this.$3(hb,hc);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){hd=tab.Strings.SerialScheduleDescription(hd,tab.Strings.SerialScheduleDescriptionSuffix)}return hd},$7:function(e,gZ,ha){var hb=ss.Int32.div(e,60);if(gZ===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(hb===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),eV.$1(ha))}}else if(gZ===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(hb===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(gZ)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hb,eV.$1(ha))}}else if(gZ===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(hb===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(gZ)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hb,eV.$1(ha))}}else if(gZ===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(hb===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(gZ)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hb,eV.$1(ha))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+gZ)}},$2:function(e,gZ){var ha=(this.$9.scheduleDetails.endTime+gZ)%1440;if(e===ha){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var hb;if(this.$9.scheduleDetails.recurrenceMinutes<60){hb=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){hb=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{hb=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(hb,eV.$1(e),eV.$1(ha))},$0:function(e){return tab.Strings.ScheduleDailyDescription(eV.$1(e))},$4:function(e,gZ){var ha=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(gZ!==0){ha=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,gZ)}var hb=this.$1(ha);return tab.Strings.ScheduleWeeklyDescription(eV.$1(e),hb)},$6:function(e,gZ){var ha=[];for(var hb=0;hb<e.length;hb++){var hc=ss.indexOf(eV.$7,e[hb]);var hd=(hc+gZ+eV.$7.length)%eV.$7.length;ha.push(eV.$7[hd])}return ha},$1:function(e){switch(e.length){case 1:{return eV.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(eV.$6[e[0]],eV.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(eV.$6[e[0]],eV.$6[e[1]],eV.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(eV.$6[e[0]],eV.$6[e[1]],eV.$6[e[2]],eV.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(eV.$6[e[0]],eV.$6[e[1]],eV.$6[e[2]],eV.$6[e[3]],eV.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(eV.$6[e[0]],eV.$6[e[1]],eV.$6[e[2]],eV.$6[e[3]],eV.$6[e[4]],eV.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(eV.$6[e[0]],eV.$6[e[1]],eV.$6[e[2]],eV.$6[e[3]],eV.$6[e[4]],eV.$6[e[5]],eV.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,gZ){var ha=this.$9.scheduleDetails.recurrenceDayOfMonth;if(gZ!==0){ha=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,gZ)}if(ha==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(eV.$1(e))}else if(ha==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(eV.$1(e))}var hb=ha.charCodeAt(ha.length-1);var hc='';if(hb===49){hc=tab.Strings.FirstEnding(ha)}else if(hb===50&&ha!=='12'){hc=tab.Strings.SecondEnding(ha)}else if(hb===51&&ha!=='13'){hc=tab.Strings.ThirdEnding(ha)}else{hc=tab.Strings.NumberEnding(ha)}return tab.Strings.ScheduleMonthlyDescription(hc,eV.$1(e))},$5:function(e,gZ){var ha=new Date;var hb=(new Date(ha.getFullYear(),ha.getMonth()+1,0)).getDate();if(e==='Last'){if(gZ>0){return'1'}else if(gZ<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&gZ<0){return'Last'}var hc=parseInt(e);var hd=(hc+gZ+hb)%hb;return hd.toString()}});ss.initClass(eW,a,{});ss.initClass(eX,a,{invoke:function(){return this.invoke$1(bA.newCommand('select-by-tuple-value',this.c))}},ss.makeGenericType(L,[Object,eY]));ss.initClass(eY,a,{});ss.initClass(eZ,a,{});ss.initClass(fa,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$4)){var e={};e.coe='tuples';e.kyj=this.$4;return e}return this.$3()},get_selectionType:function(){return this.$3().coe},get_nodes:function(){return this.$3().p$U},get_ids:function(){if(ss.isValue(this.$4)){return this.$4}return this.$3().kyj},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().VNi.jhL+':'+this.get_selectionPresModel().VNi.pMg.join(';')}return e},$3:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$3())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$5)){this.$5={};if(ss.isValue(this.get_ids())){var gZ=this.get_ids();for(var ha=0;ha<gZ.length;ha++){var hb=gZ[ha];this.$5[hb]=true}}}return ss.keyExists(this.$5,e.YLs)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty){return false}return ss.isValue(this.$1(e.ZHX,e.wwF))},findNodeSelection:function(e){return this.$1(e.ZHX,e.wwF)},isNodeAncestorSelected:function(e,gZ){if(ss.isNullOrUndefined(e.ZHX)||ss.isNullOrUndefined(e.wwF)){return false}var ha=(gZ?0:1);for(var hb=1;hb<e.ZHX.length;hb++){var hc=ss.arrayExtract(e.ZHX,hb);var hd=ss.arrayExtract(e.wwF,hb-ha);if(ss.isValue(this.$1(hc,hd))){return true}}return false},setOverriddenTupleIds:function(e,gZ){if(this.$3().coe!=='tuples'){return}if(_.isEqual(this.$4,e)||tab.MiscUtil.isNullOrEmpty(this.$4)&&tab.MiscUtil.isNullOrEmpty(e)){return}this.$4=e;this.$2();this.raiseEvent(this.$2$1,gZ)},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$4)){return}this.$6=null;this.$5=null;this.$4=null;this.swapAndCopyPresModel(e);this.$2();this.raiseEvent(this.$2$1,gZ)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var gZ=e;if(gZ.coe!==this.get_selectionPresModel().coe){return false}if(ss.isValue(gZ.kyj)&&!_.isEqual(gZ.kyj,this.get_selectionPresModel().kyj)){return false}if(ss.isValue(gZ.p$U)&&!_.isEqual(gZ.p$U,this.get_selectionPresModel().p$U)){return false}if(ss.isValue(gZ.VNi)&&!_.isEqual(gZ.VNi,this.get_selectionPresModel().VNi)){return false}return true},$1:function(e,gZ){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(gZ)){return null}if(ss.isNullOrUndefined(this.$6)){this.$6={};var ha=this.$3();if(ss.isValue(ha.p$U)){for(var hb=0;hb<ha.p$U.length;hb++){var hc=ha.p$U[hb];this.$6[fa.$0(hc.ZHX,hc.wwF)]=hc}}}if(ss.getKeyCount(this.$6)===0){return null}return this.$6[fa.$0(e,gZ)]},createSelectionToken:function(){return this.get_selectionPresModel()},$2:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty(this.get_ids())&&tab.MiscUtil.isNullOrEmpty(this.$3().p$U)}},dX);ss.initClass(fb,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(fc,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(fd,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var gZ=this.selectionModels[e];if(!gZ.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var gZ=this.selectionModels[e];if(!gZ.isEmpty&&gZ.get_selectionType()!=='legend-items'&&gZ.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ff.isCategoricalAndTupleAssociatedHeader(ha.ZHX,ha.wwF)){return true}}return false},getLegendSelection:function(e,gZ){var ha=_.find(this.selectionModels,function(hb){return hb.get_selectionType()==='legend-items'&&ss.isValue(hb.get_selectionPresModel())&&hb.get_selectionPresModel().VNi.jhL===e&&_.isEqual(hb.get_selectionPresModel().VNi.pMg,gZ)});if(ss.isNullOrUndefined(ha)){ha=this.$1('legend-items',ee.get_noopContext());ha.get_selectionPresModel().VNi.jhL=e;ha.get_selectionPresModel().VNi.pMg=gZ}return ha},update:function(e,gZ){var ha=_.compact(e);var hb=[];var hc=[];for(var hd=0;hd<ha.length;hd++){var he=ha[hd];var hf;if(he.coe==='legend-items'){hf=this.getLegendSelection(he.VNi.jhL,he.VNi.pMg)}else{hf=this.$2(he.coe)}if(ss.isNullOrUndefined(hf)){hf=new fa(this,this.selectionModels.length);this.selectionModels.push(hf)}var hg=parseInt(hf.presModelKey.name);hb[hg]=he;hf.update(he,gZ);hc.push(hf.get_hashKey())}for(var hh=0;hh<this.selectionModels.length;hh++){var hi=this.selectionModels[hh];if(ss.contains(hc,hi.get_hashKey())){continue}var hj=fd.$1(hi.get_selectionType());if(hj.coe==='legend-items'){hj.VNi=hi.get_selectionPresModel().VNi}hi.update(hj,gZ);var hk=parseInt(hi.presModelKey.name);hb[hk]=hi.get_selectionPresModel()}for(var hl=0;hl<hb.length;++hl){e[hl]=hb[hl]}var hm=new fe;hm.selections=e;if(this.isNewPresModelSameAsOld(hm)){return}this.swapAndCopyPresModel(hm);this.raiseEvent(this.$2$1,gZ)},$2:function(e){return _.find(this.selectionModels,function(gZ){return gZ.get_selectionType()===e})},$1:function(e,gZ){var ha=new fa(this,this.selectionModels.length);this.selectionModels.push(ha);var hb=fd.$1(e);ha.update(hb,gZ);return ha},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,gZ,ha){if(ss.isNullOrUndefined(e)){return new fb(true,1,null)}var hb=fb.noDifference();for(var hc=0;hc<e.selections.length;hc++){var hd=e.selections[hc];switch(hd.coe){case'ref-lines':case'trend-lines':{var he=hd.kyj||[];var hf=fd.$0(he,this.$2(hd.coe).get_ids());if(hf.length>0){return new fb(true,3,null)}break}case'tuples':{var hg=hd.kyj;var hh=this.tupleSelection.get_ids();var hi=(ss.isValue(gZ)?gZ.kyj:[]);var hj=(ss.isValue(ha)?ha.get_ids():[]);var hk=hg.length+hi.length!==0!==(hh.length+hj.length!==0);if(hk){return new fb(true,2,null)}var hl=fd.$0(hg,hh);var hm=fd.$0(hi,hj);var hn=[];ss.arrayAddRange(hn,hl);ss.arrayAddRange(hn,hm);hb=new fb(false,2,Array.prototype.slice.call(hn));break}default:{break}}}return hb},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(gZ){return gZ.coe==='tuples'&&gZ.kyj.length>0})}},dX);ss.initClass(fe,a,{});ss.initClass(ff,a,{});ss.initClass(fg,a,{});ss.initClass(fh,a,{});ss.initClass(fi,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,gZ){try{if(ss.isValue(this.$2)){this.$2(e,gZ)}}finally{this.$0()}},onSuccess:function(e,gZ,ha){try{var hb=ss.isInstanceOfType(e,Error);if(hb){this.$5.$6(e,ha,false,null)}else if(ha.status===202){var hc=ha['args'];var hd=new fj(this.$5,hc);hd.requestStatus();hb=true}if(!hb){if(ss.isValue(this.$4)){this.$4(e,gZ,ha)}}}finally{this.$0()}},onError:function(e,gZ,ha){try{if(ss.isValue(this.$3)){this.$3(e,gZ,ha)}else{this.$5.$6(ha,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(fj,a,{requestStatus:function(){var e=ss.mkdel(this,function(hc,hd,he){this.$1(hd,he)});var gZ=ss.mkdel(this,function(hc,hd,he){this.$0(hc,hd)});var ha=new fi(this.$8,null,e,gZ,false,false);var hb={};hb.type='GET';hb.url=this.$9;hb.cache=false;gU.helper(hb,ha)},$1:function(e,gZ){if(gZ.status===204){this.$6=true}this.$2(e,gZ)},$0:function(e,gZ){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,gZ)}},$2:function(e,gZ){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var ha=this.$5['skipResendOriginal'];if(ss.isValue(ha)&&ha){if(ss.isValue(this.$5.complete)){this.$5.complete(gZ,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}gU.helper(this.$5)}});ss.initClass(fk,a,{});ss.initClass(fl,a,{});ss.initClass(fm,a,{});ss.initClass(fn,a,{invoke:function(){return this.invoke$1(bA.newCommand('set-dashboard-current-layout',this.c))}},ss.makeGenericType(L,[Object,fo]));ss.initClass(fo,a,{});ss.initClass(fp,a,{invoke:function(){return this.invoke$1(bA.newCommand('set-dashboard-sizing-with-validation',this.c))}},ss.makeGenericType(L,[Object,fq]));ss.initClass(fq,a,{});ss.initClass(fr,a,{invoke:function(){return this.invoke$1(bA.newCommand('set-variables-prompt-responded',this.c))}},ss.makeGenericType(L,[Object,fs]));ss.initClass(fs,a,{});ss.initClass(ft,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e]},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,gZ){var ha=null;if(ss.isValue(gZ)){ha=gZ();if(ss.isValue(ha)){this.$1[e]=ha}}return ha},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,gZ){var ha=null;if(ss.getKeyCount(this.$3)<ft.$1){if(ss.isValue(gZ)){ha=gZ();if(ss.isValue(ha)){this.$3[e]=ha}}}return ha},updateCustomImageMap:function(e){for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ss.isValue(ha)){var hb={$:ha.Yi};var hc=hb.$.toString();var hd=null;var he={$:false};if(ss.keyExists(this.$2,hc)){he.$=true;hd=this.$2[hc]}var hf=ha.Gqc;var hg={$:document.createElement('img')};hg.$.src='data:image/png;base64,'+hf;if(!he.$||ss.isValue(hd)&&hg.$.height>hd.height&&hg.$.width>hd.width){this.$2[hc]=hg.$;var hh={$:null};hh.$=ss.thisFix(ss.mkdel({doesMapContainImage:he,shapeId:hb,imgElt:hg,imageFinishedLoad:hh,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));hg.$.addEventListener('load',hh.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(fu,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(fv,a,{});ss.initClass(fw,a,{get_isDashboard:function(){return this.pm.WeS},get_isIncluded:function(){return this.pm.RuK},get_name:function(){return this.pm.dMo02},update:function(e){this.swapAndCopyPresModel(e)}},dX);ss.initClass(fx,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,gZ){if(ss.isValue(e.xl_)){this.$2=[];for(var ha=0;ha<e.xl_.length;ha++){var hb=new fw(this.$1,ha);hb.update(e.xl_[ha]);this.$2.push(hb)}}this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(fy,a,{get_visualId:function(){return ea.getVisualId(this.sheetId)},requestHSMChildren:function(e,gZ,ha,hb){if(!tsConfig.allow_filter){return}var hc=function(hi,hj,hk){ha(hi)};var hd=this.$0(null,hc,null,'none');var he=new Object;he['name']='file';he['filename']='file';he['contentType']='text/javascript';he['content']=JSON.stringify(gZ);var hf=ss.mkdict(['_method','PUT']);var hg=gU.getMultipartData(he,hf);var hh={};hh.type='POST';hh.url=this.formatFilterReference(this.sheetId,e,'show_children');hh.dataType='json';hh.contentType='multipart/form-data; boundary='+hg.header;hh.data=hg.body;this.$b(hh,hd)},getFilterItems:function(e,gZ,ha,hb,hc){if(!tsConfig.allow_filter){return}var hd=function(hh,hi,hj){hb(hh)};var he=this.$0(null,hd,null,'none');var hf={};hf['fromIndex']=ha.get_from();hf['toIndex']=ha.get_to();hf['domain']=gZ;var hg=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));hg.data=hf;this.$b(hg,he)},searchFilter:function(e,gZ,ha,hb,hc,hd,he){if(!tsConfig.allow_filter){return null}var hf=function(hl,hm,hn){var ho=hl;hd(ho)};var hg=function(hl,hm,hn){he(hn)};var hh=this.$0(null,hf,hg,'none');var hi=(hb?'searchwithindex':'search');var hj=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,hi));var hk=ss.mkdict(['query',gZ,'maxRows',ha,'domain',hc]);hj.data=hk;return this.$b(hj,hh)}},M);ss.initClass(fz,a,{},dX);ss.initClass(fA,a,{},dX);ss.initClass(fB,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().FsL)?this.$1().FsL:0)},get_shelfType:function(){return this.$1().Ene},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().iHY)},get_isVisible:function(){return this.$1().Ugb},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,gZ,ha){if(this.isNewPresModelSameAsOld(e)){return}if(e.zcg===null){this.$2=[]}else if(ss.isValue(e.zcg)){var hb=[];var hc=new fz(this);for(var hd=0;hd<e.zcg.length;hd++){var he=e.zcg[hd];var hf=he.HBp02;var hg;if(ss.isNullOrEmptyString(hf)&&e.Ene==='encoding-shelf'){hg=new ed}else{hg=gZ.findField(hf)}if(ss.isNullOrUndefined(hg)){he.SkN=true}if(he.SkN){var hh=new cv(new cy('',gZ.findDataSourceFromGlobalFieldName(hf)));var hi={VzB:'wAR',HBp02:hf,Mej02:hf,wDF:0};hh.update(hi);hg=hh}var hj=new eu(hc,hd);hj.update(he,hg);hb.push(hj)}this.$2=hb}this.swapAndCopyPresModel(e);this.raiseEvent$1(fB).call(this,this.$2$1,this,ha)}},dX);ss.initClass(fC,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,gZ,ha,hb){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,gZ,ha,hb);this.raiseEvent(this.$2$1,hb)},$1:function(e,gZ,ha,hb){if(ss.isValue(e)){var hc=ss.arrayClone(this.$3);for(var hd=0;hd<e.PmI.length;hd++){var he={$:e.PmI[hd]};if(ss.isNullOrUndefined(he.$.FsL)&&ss.isValue(ha)){he.$.FsL=ss.unbox(ha)}var hf=_.find(this.$3,ss.mkdel({shelf:he},function(hi){return hi.get_shelfType()===this.shelf.$.Ene&&hi.get_paneId()===(this.shelf.$.FsL||0)}));if(ss.isValue(hf)){ss.remove(hc,hf);hf.update(he.$,gZ,hb)}else{this.$3.push(fC.createShelfModel(this,he.$,gZ,hd,hb))}}for(var hg=0;hg<hc.length;hg++){var hh=hc[hg];ss.remove(this.$3,hh)}}},$2:function(e,gZ){return _.find(e,function(ha){return ha.get_shelfType()===gZ})}},dX);ss.initClass(fD,a,{invoke:function(){return this.invoke$1(bA.newCommand('show-dashboard-title',this.c))}},ss.makeGenericType(L,[Object,fE]));ss.initClass(fE,a,{});ss.initClass(fF,a,{get_simpleCommand:function(){return this.$0['eDX'.toString()]},set_simpleCommand:function(e){this.$0['eDX'.toString()]=e}});ss.initClass(fG,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.dMo02},get_width:function(){return this.pm.rec},get_height:function(){return this.pm.EUR},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(fH,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,gZ){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,gZ)}},dX);ss.initClass(fI,a,{});ss.initClass(fK,a,{invoke:function(){return this.invoke$1(bA.newCommand('start-new-data-alert',this.c))}},ss.makeGenericType(L,[Object,fL]));ss.initClass(fL,a,{});ss.initClass(fM,a,{});ss.initClass(fN,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().QTm},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().hVl},get_currentSheet:function(){return this.$3().U$A},update:function(e,gZ){if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.hVl||this.$1(e))){K.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new ez(e.hVl.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,gZ);this.$4=null}this.$4=new bM(this);this.$2(e.mmK,gZ);this.raiseEvent(this.$2$2,gZ)}else{this.$2(e.mmK,gZ)}this.swapPresModel(e)},$2:function(e,gZ){if(ss.isValue(e)){this.get_dashboardModel().update(e,gZ)}},$1:function(e){return ss.isNullOrEmptyString(e.U$A.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}},dX);ss.initClass(fO,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,gZ){if(!ss.isValue(this.$1)){this.$1=new fN(this,e.hVl)}this.$1.update(e,gZ)}},dX);ss.initClass(fP,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var gZ=this.$3.get(e.toString());return gZ.$0()},addStoryPoint:function(e,gZ){this.$3.add(e.toString(),new u(gZ))},$0:function(e){var gZ=e.get_worldUpdateCommand();var ha=e.get_applicationPresModel();var hb=e.get_sheetChanged();if(this.$2(ha,hb)){this.$1()}if(!fP.$3(ha)){return}if(!_.contains(fP.$5.value(),gZ.commandName)){return}var hc=fP.$1(ha);if(ss.isNullOrUndefined(hc)){return}var hd=hc.hVl.toString();this.$3.add(hd,new u(hc))},$2:function(e,gZ){if(fP.$2(e)){return false}if(!e.res.mmK.Jqz||gZ){return true}return false},$1:function(){this.$3.clear();fP.$4=null},dispose:function(){this.$1();gS.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(fQ,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().iKN,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().eBu,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new dU.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new eh.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().ysh1,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().feH,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().lSd,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uCj,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().VKK,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().mjt1,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().efz,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().fUv,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().hVj,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().PtG,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().s$V,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().Fjz,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().kcp,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().eO$,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().Vbt,this.get_borderWidth())},get_border:function(){return new N(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new N(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new N(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new N(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new N(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,gZ){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new eh.$ctor1(this.get_styledBoxPresModel());this.$1=new dU.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,gZ)}},dX);ss.initClass(fR,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.cMO;this.$0=e.HBp02}});ss.initClass(fS,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().too},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().kPv},get_tableCalcTypeCaptions:function(){return this.$2().ygw},get_tableCalcTypeValues:function(){return this.$2().TR$02},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,gZ){var ha=e;if(this.isNewPresModelSameAsOld(ha)){return}this.swapAndCopyPresModel(ha);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(ha.LDF);this.$3.update(ha.xtX,gZ);this.$1(gZ)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,gZ)}this.raiseEvent(this.$2$1,gZ)},$1:function(e){var gZ=null;var ha=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{gZ=cn;ha='_fE'.toString();break}case'pct-total':{gZ=es;ha='oHf'.toString();break}case'rank':case'pct-rank':{gZ=eI;ha='jFF'.toString();break}case'cumulative':{gZ=bI;ha='Wlk'.toString();break}case'window':{gZ=gJ;ha='xKN'.toString();break}case'custom':{gZ=bK;ha='eTk'.toString();break}default:{break}}if(ss.isNullOrUndefined(gZ)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),gZ)){this.$4=new gZ(this)}this.$4.update(fS.$0(this.$2(),ha),e)}},dX);ss.initClass(fT,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().Hin02},get_orderingTypeIndex:function(){return this.get_ordering().Ok$},get_orderingTypeCaptions:function(){return this.get_ordering().BOC},get_addressingIndexes:function(){return this.get_ordering().RoD},get_addressingInvalidIndexes:function(){return this.get_ordering().kxD},get_addressingCaptions:function(){return this.get_ordering().NXj},get_addressingValues:function(){return this.get_ordering().IuE},get_addressingState:function(){return this.get_ordering().hCr},get_atTheLevelState:function(){return this.get_ordering().OVd},get_atTheLevelCaptions:function(){return this.get_ordering().VLX},get_atTheLevelValues:function(){return this.get_ordering().cHO},get_atTheLevelIndex:function(){return this.get_ordering().KsW},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().uCv},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().veT},get_atTheLevelSpecialCaption:function(){return this.get_ordering().tnI},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().OIM},get_restartEveryCaptions:function(){return this.get_ordering().WJC},get_restartEveryIndex:function(){return this.get_ordering().NaB},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().GDE},get_restartEveryValues:function(){return this.get_ordering().yqF},get_restartEverySpecialCaption:function(){return this.get_ordering().kyd},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().IyP},get_sortAggState:function(){return this.get_ordering().mIX},get_sortModeIsAuto:function(){return this.get_ordering().IHq},get_sortModeCaption:function(){return this.get_ordering().IeG},get_sortField:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().uBB[this.get_ordering().C$V]},get_isSortFieldInvalid:function(){return this.get_ordering().ekT},get_sortFieldCaptions:function(){return this.get_ordering().lAu},get_sortFieldIndex:function(){return this.get_ordering().C$V},get_sortFieldValues:function(){return this.get_ordering().uBB},get_sortAgg:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().kqU02[this.get_ordering().JeY]},get_sortAggCaptions:function(){return this.get_ordering().eLv},get_sortAggIndex:function(){return this.get_ordering().JeY},get_sortAggValues:function(){return this.get_ordering().kqU02},get_sortDirectionValues:function(){return this.get_ordering().GJK02},get_sortDirectionIndex:function(){return this.get_ordering().HcK},get_sortDirectionCaptions:function(){return this.get_ordering().sxj},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new fR(null):this.parent.get_tableCalcIdentifier())},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(fU,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm._LW02},get_relativeCaptions:function(){return this.pm.meB},get_fixedValues:function(){return this.pm.xMY},get_fixedCaptions:function(){return this.pm.oGN},get_paramValues:function(){return this.pm.Wkp},get_paramCaptions:function(){return this.pm.QNO},get_referenceOptionsSets:function(){return this.pm.CrB},get_selectionIndex:function(){return this.pm.RP},get_referenceWidgetState:function(){return this.pm.ngD},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new fR(null):e.get_tableCalcIdentifier())},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(fV,a,{});ss.initClass(fW,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.weu},get_html:function(){return this.pm.xBc},get_orientation:function(){return this.pm.JxR},get_styledBox:function(){return this.pm.rPC},get_vAlign:function(){return this.pm.Uec},update:function(e,gZ){cG.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(fX,a,{invoke:function(){return this.invoke$1(bA.newCommand('toggle-ind-join-semantics',this.c))}},ss.makeGenericType(L,[Object,fY]));ss.initClass(fY,a,{});ss.initClass(fZ,a,{},ss.makeGenericType(gF,[Object,ga]));ss.initClass(ga,a,{});ss.initClass(gb,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var gZ=by.create(this.pm.sjb);e=gZ.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=by.create(this.pm.xvl);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.kB},update:function(e,gZ){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var gZ=_.find(this.get_legacyMenuItems(),function(ha){return ha.rhe===e});return ss.isValue(gZ)&&_.every(gZ.FwB,function(ha){return ha!=='grayed'})}},dX);ss.initClass(gc,a,{});ss.initClass(gd,a,{$0:function(){return this.$1},get_transactedChange:function(){return gd.$0(this.$2)},makeMutablePresModel:function(e,gZ){var ha=e.getPresModelPath();for(var hb=0;hb<this.$2.length;hb++){var hc=this.$2[hb];if(_.isEqual(hc.$1(),ha)){return hc.$0()}}var hd=e.getMutableCopyOfPresModel();this.$2.push(new n(ha,hd));if(!gZ){this.$1.push(new n(ha,e.pm))}return hd}});ss.initClass(ge,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new gd(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var gZ=e.current();if(!ss.keyExists(this.$0,gZ.$1().get_pathAsString())){this.$0[gZ.$1().get_pathAsString()]=gZ}}}finally{e.dispose()}var ha=this.$1.get_transactedChange();this.$1=null;return ha},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){K.get_instance().update(gd.$0(_.values(this.$0)),e)}}});ss.initClass(gg,a,{});ss.initClass(gh,a,{});ss.initClass(gi,a,{invoke:function(){return this.invoke$1(bA.newCommand('update-data-alert',this.c))}},ss.makeGenericType(L,[Object,gj]));ss.initClass(gj,a,{});ss.initClass(gk,a,{});ss.initEnum(gl,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(gm,a,{});ss.initClass(gn,a,{update:function(e){this.pm=e}},dX);ss.initClass(go,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$j:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,gZ,ha){if(e.useUrl){return this.formatTileURL(e,gZ,0,0,'',ha)}return this.$j(gZ)+'&'+ha},$i:function(e,gZ){var ha='';if(!tab.MiscUtil.isNullOrEmpty$1(gZ)){ha='&fn='+encodeURIComponent(gZ)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+ha},formatLegendRegionTileURL:function(e,gZ,ha,hb,hc){hb=(ss.isNullOrUndefined(hb)?'':hb);if(e.useUrl){return this.formatTileURL(e,gZ+hb,0,0,ha,hc)}return this.$i(gZ,ha)+'&'+hc},formatTileURL:function(e,gZ,ha,hb,hc,hd){if(e.useUrl){var he=e.url;var hf;if(!tab.MiscUtil.isNullOrEmpty$1(hc)){hf='?fn='+encodeURIComponent(hc)+'&'+hd}else{hf='?='+hd}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(he,'%SESSIONID%',tsConfig.sessionid),'[r]',gZ),'[x]',ha.toString()),'[y]',hb.toString())+hf}var hg=this.formatViewMethod(this.viewid,'tile');return hg+'?r='+gZ+'&x='+ha+'&y='+hb+'&'+hd},formatUnderlyingDataURL:function(e){var gZ=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));gZ.append('?maxrows=200');if(ss.isValue(e)){gZ.append('&select_x=').append(e.x);gZ.append('&select_y=').append(e.y)}return gZ.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,gZ,ha){if(e.commandType===9){this.executeCommand(e)}else{var hb=bA.newCommand('run-action',e.command.commandParams);fh.executeServerCommand(hb,'immediately',gZ,ha)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.commandType){case 9:{var gZ={};gZ.ZNi=e.command.commandParams.ZNi;gZ.ALQ=e.command.commandParams.ALQ;F.launchActionUrls([gZ],this.get_commonDialogProvider());break}case 7:{var ha=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)&&ss.keyExists(e.command.commandParams,'ArG')){var hb=JSON.parse(e.command.commandParams['ArG']);ha=tab.PointUtil.fromPresModel(hb)}window.open(this.formatUnderlyingDataURL(ha),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},fy);ss.initClass(gp,a,{});ss.initClass(gr,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().tOA;for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ha.VzB==='rOX'){this.$1.push(ha)}}}return this.$1},update:function(e,gZ){cG.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,gZ)}},dX);ss.initClass(gs,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_worksheetName:function(){return this.get_visualId().AVP},get_visualId:function(){return this.pm.J_M},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.SmW},get_scenePresModel:function(){return this.pm.X$},get_shelves:function(){return this.$q},get_analyticsModel:function(){return this.$9},get_marksCardModel:function(){return this.$n},get_selectionsModel:function(){return this.$p},get_impliedSelectionModel:function(){return this.$k},get_brushingsModel:function(){return this.$b},get_showMeModel:function(){return this.$r},get_sceneModel:function(){return this.$o},get_labelsModel:function(){return this.$l},get_mapServerModel:function(){return this.$m},get_filters:function(){return _.values(this.$f)},get_filterModels:function(){return this.$f},get_geometryModel:function(){return this.$i},get_sortIndicatorsModel:function(){return this.$s},get_vizDataModel:function(){return this.$v},get_titleModel:function(){return this.$t},get_captionModel:function(){return this.$d},get_hiddenTuples:function(){return this.$8},get_filteredTuples:function(){return this.$7},get_isMap:function(){return this.pm.ri},get_hasBackgroundImage:function(){return this.pm.mqY},get_floatingToolbarVisibility:function(){return this.pm.cqq},get_geoSearchVisibility:function(){return this.pm.pKy},get_vizNavigationSetting:function(){return this.pm.haE},get_defaultMapTool:function(){return this.pm.DpY},get_cacheUrlInfo:function(){return this.$c},get_hasModifiedAxes:function(){return this.pm.qFh},get_backgroundColor:function(){return this.pm.oiS},get_paneBGColor:function(){return this.pm.QLN},get_headerBGColor:function(){return this.pm.ogc},get_shouldUpdate:function(){return K.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=ea.findContentDashboard();return e.get_invalidSheets()},get_isVisualValid:function(){return this.$u},get_isBrushedFromAction:function(){return this.$a},get_emptyHighlightFogAll:function(){return this.$e},get_zone:function(){var e=ss.safeCast(this.parent,gW);return e.get_zone()},setIsVisualValid:function(e,gZ){if(this.pm.GiX&&e!==this.$u){this.$u=e;this.raiseEvent(this.$2$5,gZ)}},setIsBrushedFromAction:function(e,gZ){if(this.$a!==e){this.$a=e;this.raiseEvent(this.$2$6,gZ)}},setEmptyHighlightFogAll:function(e,gZ){if(this.$e!==e){this.$e=e;this.raiseEvent(this.$2$9,gZ)}},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(gZ){return ss.referenceEquals(gZ,e)}).length>1},setFilteredTuples:function(e,gZ){this.$g.set(e,gZ);var ha=new Map;this.$g.forEach(function(hc,hd,he){for(var hf=0;hf<hc.length;hf++){var hg=hc[hf];ha.set(hg.toString(),hg)}});var hb=this.$7.size!==ha.size;if(!hb){tab.MapUtility.forEachWithInterrupt(String,ss.Int32).call(null,this.$7,function(hc,hd,he){if(!ha.has(hd)){hb=true;throw new tab.LoopBreakException}})}if(hb){this.$7=ha;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,gZ){this.$j.set(e,gZ);var ha=new Map;this.$j.forEach(function(hc,hd,he){for(var hf=0;hf<hc.length;hf++){var hg=hc[hf];ha.set(hg.toString(),hg)}});var hb=this.$8.size!==ha.size;if(!hb){tab.MapUtility.forEachWithInterrupt(String,ss.Int32).call(null,this.$8,function(hc,hd,he){if(!ha.has(hd)){hb=true;throw new tab.LoopBreakException}})}if(hb){this.$8=ha;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.X$;var gZ=this.pm.vnA;var ha=this.pm.zFl;delete this.pm['X$'.toString()];delete this.pm['zFl'.toString()];delete this.pm['vnA'.toString()];var hb=dX.prototype.getMutableCopyOfPresModel.call(this);this.pm.X$=e;this.pm.zFl=ha;this.pm.vnA=gZ;return hb},reValidate:function(e){if(this.get_isVisualValid()!==this.pm.GiX){this.$u=this.pm.GiX;this.raiseEvent(this.$2$5,e)}},update:function(e,gZ){if(ss.isNullOrUndefined(this.$q)){this.$q=new fC(this)}if(ss.isValue(e.MiB)){var ha=this.$2(e);this.$q.update(e.MiB,K.get_instance().get_workbook().get_dataSchema(),ha,gZ)}if(ss.isValue(e.OIO)){if(ss.isNullOrUndefined(this.$9)){this.$9=new I(this)}this.$9.update(e.OIO,gZ)}if(ss.isValue(e.zFl)){if(ss.isNullOrUndefined(this.$v)){this.$v=new gw(this)}this.$v.update(e.zFl,gZ)}if(ss.isNullOrUndefined(this.$o)){this.$o=new eT(this)}if(ss.isValue(e.X$)){if(ss.isValue(this.$j)){var hb=this.$8.size>0;this.$j=new Map;this.$8=new Map;if(hb){this.raiseEvent(this.$2$2,gZ)}}if(ss.isValue(this.$g)){var hc=this.$7.size>0;this.$g=new Map;this.$7=new Map;if(hc){this.raiseEvent(this.$2$3,gZ)}}this.$o.update(e.X$,gZ)}if(ss.isValue(e.Ucd)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.Ucd,e.Ucd)){this.raiseEvent(this.$2$7,gZ)}}if(ss.isValue(e.haE)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.haE,e.haE)){this.raiseEvent(this.$2$8,gZ)}}if(ss.isNullOrUndefined(this.$l)){this.$l=new eT(this)}if(ss.isValue(e.vnA)){this.$l.update(e.vnA,gZ)}if(ss.isNullOrUndefined(this.$n)){this.$n=new dV(this)}if(ss.isValue(e.Inn)){this.$n.update(e.Inn,gZ)}if(ss.isValue(e.pUG)&&e.pUG.length>0){this.$p.update(e.pUG,gZ)}if(ss.isValue(e.iyL)){this.$b.update(e.iyL,gZ)}this.$4(this.$p.nodeSelection.get_nodes(),gZ);if(!ss.isValue(this.$r)){this.$r=new bx(this)}if(ss.isValue(e.kCM)){this.$r.update(e.kCM,gZ)}if(ss.isNullOrUndefined(this.$m)){this.$m=new dT(this)}if(ss.isValue(e.RFX)||!e.ri){var hd=(e.ri?e.RFX:null);this.$m.update(hd,gZ)}var he=e.DbF||'';var hf=(ss.isNullOrEmptyString(he)?null:JSON.parse(he));if(this.$5(hf,he)){this.$h=he;if(ss.isValue(hf)){var hg={};for(var hh=0;hh<hf.length;hh++){var hi=hf[hh];var hj=tableau.format.formatQualifiedName(hi.name);var hk=this.$f[hj];if(ss.isNullOrUndefined(hk)){hk=ea.createFilterModel(this,hi)}hk.update(hi,gZ);hg[hj]=hk}this.$f=hg}}var hl=e.XJV||'';var hm=(ss.isNullOrEmptyString(hl)?null:JSON.parse(hl));if(!_.isEqual(hm,this.get_cacheUrlInfo())){this.$c=hm;this.$3(gZ)}var hn=e.kI||'';if(!ss.isValue(this.$i)){this.$i=new gn(this)}var ho=(ss.isNullOrEmptyString(hn)?null:JSON.parse(hn));this.$i.update(ho);if(ss.isNullOrUndefined(this.$t)){this.$t=new fW(this,'CTm'.toString())}if(ss.isValue(e.CTm)){this.$t.update(e.CTm,gZ)}if(!ss.isValue(this.$d)){this.$d=new fW(this,'vv_'.toString())}if(ss.isValue(e.vv_)){this.$d.update(e.vv_,gZ)}if(!ss.isValue(this.$s)){this.$s=new fH(this)}if(ss.isValue(e.$tK)){this.$s.update(e.$tK,gZ)}this.setEmptyHighlightFogAll(e.u,gZ);if(!ss.referenceEquals(e,this.pm)){this.swapAndCopyPresModel(e);this.reValidate(gZ);this.$6(gZ)}},$6:function(e){this.raiseEvent(this.$2$1,e)},$3:function(e){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4,e)}},$5:function(e,gZ){if(ss.isNullOrUndefined(this.$h)){return true}if(ss.isValue(e)){var ha=_.find(e,function(hb){return hb.isTiled});if(ss.isValue(ha)){return true}}return!ss.referenceEquals(this.$h,gZ)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var gZ;var ha=this.$k.get_ids();if(tab.MiscUtil.isNullOrEmpty(ha)){gZ=e}else if(tab.MiscUtil.isNullOrEmpty(e)){gZ=ha}else{var hb=[];ss.arrayAddRange(hb,e);ss.arrayAddRange(hb,ha);gZ=Array.prototype.slice.call(hb)}return gZ},$4:function(e,gZ){var ha=P.getTuplesAssociatedWithSelectedNodes(this,e);this.$k.setOverriddenTupleIds(ha,gZ)},$1:function(e){this.$k.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.Inn)&&ss.isValue(e.Inn.FsL)){return e.Inn.FsL}return ea.findActivePaneSpecId()}},dX);ss.initClass(gt,a,{});ss.initClass(gu,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.tbM02},get_fieldName:function(){return this.$a.HBp02},get_fieldCaption:function(){return this.$a.OLk},get_baseColumnName:function(){return this.$a._HL},get_role:function(){return this.$a.YIQ02},get_aggType:function(){return this.$a.Ymv02},get_specialValuesOverride:function(){return this.$a.ywi},get_filterContext:function(){return this.$a.HWT},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.ISx},$9:function(){return this.$a.ZHX},$7:function(){return tab.Logger.lazyGetLogger(gu)},isTupleIdValid:function(e){for(var gZ=0;gZ<this.$a.ISx.length;++gZ){var ha=this.$a.ISx[gZ];var hb=this.$5(e,ha);if(ss.isValue(hb)){return true}}return false},tupleIdsThatPass:function(e){var gZ=[];for(var ha=0;ha<this.$a.ISx.length;ha++){var hb=this.$a.ISx[ha];var hc=this.$d[hb].ZKj[0];for(var hd=0;hd<hc.nSc.length;hd++){var he=hc.nSc[hd];if(e(he)){gZ.push(he)}}}return gZ},$2:function(e){var gZ=this.$3(e,0);var ha={};var hb=0;for(var hc=0;hc<gZ.nSc.length;hc++){var hd=gZ.nSc[hc];ha[hd]=hb++}this.$e[e]=ha},$5:function(e,gZ){if(!ss.keyExists(this.$e,gZ)){this.$2(gZ)}return this.$e[gZ][e]},getAliasIndex:function(e){var gZ=null;if(!this.get_hasAliases()){return gZ}for(var ha=0;ha<this.$a.ISx.length;++ha){var hb=this.$a.ISx[ha];var hc=this.$5(e,hb);if(ss.isValue(hc)){var hd=this.$a.ZHX[ha];var he=this.$3(hb,hd);gZ=he.wwF[hc];break}}return gZ},getDataValueIndex:function(e){var gZ=null;if(this.get_hasDataValues()){for(var ha=0;ha<this.$a.ISx.length;++ha){var hb=this.$a.ISx[ha];var hc=this.$5(e,hb);if(ss.isValue(hc)){var hd=this.$a.ZHX[ha];var he=this.$3(hb,hd);gZ=he.qtG[hc];break}}}return gZ},getPaneDescriptorKey:function(e){var gZ=null;for(var ha=0;ha<this.$a.ISx.length;++ha){var hb=this.$8()[ha];var hc=this.$5(e,hb);if(ss.isValue(hc)){var hd=this.$4(hb);gZ=hd.uNv.fDN;break}}return gZ},$4:function(e){var gZ=null;if(this.$d.length>e){gZ=this.$d[e]}else{}return gZ},$3:function(e,gZ){var ha=null;var hb=this.$4(e);if(ss.isValue(hb)){if(hb.ZKj.length>gZ){ha=hb.ZKj[gZ]}else{}}return ha},$1:function(){var e=false;for(var gZ=0;gZ<this.$8().length;gZ++){var ha=this.$8()[gZ];var hb=this.$9()[gZ];var hc=this.$3(ha,hb);if(ss.isValue(hc)){e=e||ss.isValue(hc.qtG)&&hc.qtG.length>0}}return e},$0:function(){var e=false;for(var gZ=0;gZ<this.$8().length;gZ++){var ha=this.$8()[gZ];var hb=this.$9()[gZ];var hc=this.$3(ha,hb);if(ss.isValue(hc)){e=e||ss.isValue(hc.wwF)&&hc.wwF.length>0}}return e},$6:function(){}});ss.initClass(gv,a,{});ss.initClass(gw,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().RjV},get_filterFields:function(){return this.$3().Ubv},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().sZN},$3:function(){return this.pm},$1:function(){return this.$3().FOi},$2:function(){return this.$1().wIG},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var gZ=this.$1().Ekt;for(var ha=0;ha<gZ.length;++ha){if(gx.isFieldCaptionOfColumn(gZ[ha],e)){return ha}}for(var hb=0;hb<gZ.length;++hb){if(gx.isFieldNameOfColumn(gZ[hb],e)){return hb}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().Ekt;for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];if(ha.YIQ02==='dimension'&&ha.JDJ!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var gZ=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(ha,hb){if(ha.isTupleIdValid(e)){gZ=true;return false}return true})}return gZ},forEachTupleId:function(e){for(var gZ=0;gZ<this.$2().length;++gZ){var ha=this.$2()[gZ].ZKj[0];for(var hb=0;hb<ha.nSc.length;hb++){var hc=ha.nSc[hb];var hd=!e(hc);if(hd){break}}}},forEachVizDataField:function(e){var gZ=this.$4.length;for(var ha=0;ha<gZ;++ha){var hb=this.$4[ha];if(ss.isNullOrUndefined(hb)){continue}var hc=!e(hb,ha);if(hc){break}}},update:function(e,gZ){var ha=this.simpleSwapToUpdate(e,this.$2$1,gZ);if(!ha){return}if(ss.isValue(e.sZN)){cG.notifyFontsFromUberTipDataPresModel(e.sZN)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var hb=this.$1().Ekt;for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];if(hd.HBp02==='[system:visual].[tuple_id]'){this.$6=hd;this.$4.push(null);continue}this.$5.push(hd.OLk);var he=new gu(hd,this.$1().wIG);this.$4.push(he)}}}},dX);ss.initClass(gx,a,{});ss.initClass(gy,a,{});ss.initClass(gz,a,{});ss.initClass(gA,a,{get_r:function(){return this.$0['dpp'.toString()]},set_r:function(e){this.$0['dpp'.toString()]=e},get_fns:function(){return this.$0['HVp'.toString()]},set_fns:function(e){this.$0['HVp'.toString()]=e},get_x:function(){return this.$0['thj'.toString()]},set_x:function(e){this.$0['thj'.toString()]=e},get_y:function(){return this.$0['RAC'.toString()]},set_y:function(e){this.$0['RAC'.toString()]=e},get_w:function(){return this.$0['rec'.toString()]},set_w:function(e){this.$0['rec'.toString()]=e},get_h:function(){return this.$0['EUR'.toString()]},set_h:function(e){this.$0['EUR'.toString()]=e}});ss.initClass(gB,a,{get_isViewingUri:function(){return this.$l===1},get_isAuthoringUri:function(){return this.$l===2},get_isAuthorNewWorkbookUri:function(){return this.$l===3},get_isInvalid:function(){return this.$l===0},get_isAdminUri:function(){return this.$l===4},get_isSharedViewUri:function(){return this.$l===5},get_isRevisionHistoryUri:function(){return this.$l===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$i},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$f=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$i,e)&&tab.MiscUtil.toBoolean(this.$i[e][0],false)},$d:function(e,gZ){if(gZ){this.$i[e]=[];this.$i[e].push('yes')}else{delete this.$i[e]}},removeQueryParam:function(e){delete this.$i[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$i);return this},clone:function(){var e=new gB;e.$l=this.$l;e.$m=this.$m;e.$k=this.$k;e.$e=this.$e;e.$i=this.$i;e.$f=this.$f;e.$g=this.$g;e.$h=this.$h;e.explicitNotGuest=this.explicitNotGuest;return e},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var gZ=ss.getEnumerator(Object.keys(this.$i));try{while(gZ.moveNext()){var ha=gZ.current();var hb=decodeURIComponent(ha);if(ss.startsWithString(hb,':ff_')||ss.contains(gB.$b,hb)){e[ha]=this.$i[ha]}}}finally{gZ.dispose()}this.$i=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),gB.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),gB.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),gB.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$g=''},$6:function(){var e=this.$a();var gZ=this.$h;if(!ss.startsWithString(e,'/')){gZ+='/'}gZ+=e;return gZ},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var gZ=tab.MiscUtil.replaceUriQueryParameters('',this.$i);if(!tab.MiscUtil.isNullOrEmpty$1(gZ)){e.append(gZ)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$l));if(this.$l===2){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$e)){e.push(encodeURIComponent(this.$e))}}else if(this.$l===1){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$f)){e.push(this.$f)}}else if(this.$l===4){e.push(this.$m);e.push(this.$k)}else if(this.$l===3){e.push(this.$m)}else if(this.$l===5){e.push(tsConfig.guid)}else if(this.$l===6){e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$1(this.$k)){e.push(this.$k)}e.push('history');e.push(this.$j)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$g},$5:function(e){var gZ=_.keys(gB.$d);var ha=gk.getModuleFromPath(e.pathname,gZ);this.$l=this.$b(ha);var hb=gk.getMeatFromPath(e.pathname,gZ);if(this.$l===1){this.$4(hb)}else if(this.$l===2){this.$2(hb)}else if(this.$l===3){this.$1(hb)}else if(this.$l===4){this.$0(hb)}else if(this.$l===6){this.$3(hb)}this.$i=gB.$1(e);this.$g=e.hash;this.$h=tab.BrowserSupport.getOrigin(e)},$4:function(e){var gZ=e.split('/');this.$m=gZ[0];this.$k=gZ[1];if(gZ.length>2){if(gZ.length===3){this.$f=gZ[2]}this.$f=gZ[2]+'/'+gZ[3]}},$2:function(e){var gZ=e.split('/');this.$m=gZ[0];this.$k=gZ[1];if(gZ.length>2){this.$e=decodeURIComponent(gZ[2])}},$0:function(e){var gZ=e.split('/');this.$m=gZ[0];this.$k=gZ[1]},$1:function(e){this.$m=e},$3:function(e){var gZ=e.split('/');this.$m=gZ[0];if(gZ.length>3){this.$k=decodeURIComponent(gZ[1]);this.$j=decodeURIComponent(gZ[3])}else{this.$j=decodeURIComponent(gZ[2])}},$c:function(e){return gB.$9[e]},$b:function(e){return gB.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var gZ=new eL(e);this.$m=gZ.get_workbookId();this.$k=gZ.get_sheetId();this.$e='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var gZ=e.startViewId;if(ss.isNullOrUndefined(gZ)){gZ=this.$k}this.$k=gZ;this.$f=ss.formatString('{0}/{1}',gB.encodeUserName(e.owner.username),e.urlId);this.$e='';this.set_originalView(false);return this}});ss.initEnum(gC,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbook:3,admin:4,sharedView:5,revisionHistory:6});ss.initEnum(gD,a,{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});ss.initClass(gE,a,{isBusy:function(){return this.$d>0},addref:function(e){this.$d+=1;if(this.$d===1&&!this.$c&&!this.$b){var gZ=(e?1:2);this.$8(gZ,false)}},addrefAndShowFullWaitHandlerNow:function(e){this.$d+=1;this.$8(0,e)},showAndLock:function(e){if(!this.$c){this.$8(0,e)}this.$3()},$3:function(){this.$b=true},unlock:function(){this.$b=false},release:function(){this.$d-=1;if(this.$d<0){this.$d=0}this.nudge()},nudge:function(){if(this.$d>0||this.$b){return}this.$1()},reset:function(){this.$0();var e=300;this.$f.hide().css('opacity','0');if(this.$9.length===0){return}var gZ=ss.mkdel(this,function(ha){ha.css('cursor','default').hide();var hb=$('.facadedom');if(hb.length>0){hb.remove()}});this.loadingElementFadeOut(this.$9,e,gZ)},onNextHide:function(e){this.$e=e},$0:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$g=tab.MiscUtil.clearTimeout(this.$g)},$1:function(){if(ss.isValue(this.$e)){this.$e();this.$e=null;this.$0()}else{this.reset()}this.$c=false},$8:function(e,gZ){var ha=400;var hb=500;var hc=1900;var hd=250;var he=0.419999986886978;var hf=(gZ?0:he);this.$0();this.$5(e,hb,hf,ha);if(!gZ){this.$6(e,hd,hc)}this.$c=true},$6:function(e,gZ,ha){switch(e){case 0:{this.$7(gZ);break}case 1:case 2:{this.$g=window.setTimeout(ss.mkdel(this,function(){this.$7(gZ)}),ha);break}}},$5:function(e,gZ,ha,hb){switch(e){case 0:case 1:{this.$4(gZ,ha);break}case 2:{this.$a=window.setTimeout(ss.mkdel(this,function(){this.$4(gZ,ha)}),hb);break}}},$4:function(e,gZ){if(this.$9.css('display')!=='none'){return}this.$9.css('cursor','wait');this.$2(this.$9,e,gZ)},$7:function(e){this.$2(this.$f,e,1)},$2:function(e,gZ,ha){e.css('opacity','0');e.css('transition',gZ+'ms opacity');e.show();e.css('display');e.css('opacity',ha.toString())},loadingElementFadeOut:function(e,gZ,ha){e.css('transition',gZ+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){ha(e)},gZ)}});ss.initClass(gG,a,{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():br.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():br.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():br.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():br.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():br.prototype.get_isVisible.call(this))}},br);gG.$ctor1.prototype=gG.prototype;ss.initClass(gH,a,{});ss.initClass(gI,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.ZNi},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$2$1,gZ)}},dX);ss.initClass(gJ,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().LLA},get_aggregationValues:function(){return this.$2().VRG02},get_aggregationCaptions:function(){return this.$2().iSd},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().EQP},get_numberOfNextValues:function(){return this.$2().Xsn},get_minPrevOrNextValues:function(){return this.$2().d$o},get_maxPrevOrNextValues:function(){return this.$2().ysc},get_summaryCaption:function(){return this.$2().Bcu},get_includeCurrentValue:function(){return this.$2().sBD},get_nullIfIncomplete:function(){return this.$2().SvL},update:function(e,gZ){this.simpleSwapToUpdate(e,this.$3$1,gZ)}},gf);ss.initClass(gK,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sheetTypeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sheetTypeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},get_sheetType:function(){return ss.coalesce(gK.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$8},get_dataConnectionModel:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.Olx)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.Jqz},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6)&&this.$6.get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.GJq})},get_sheetsInfo:function(){return this.$9},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.$Dn},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.kc$)&&this.$3().pm.kc$.length>0},get_removedDataSourceCount:function(){return this.pm.DxN||0},get_removedSheetCount:function(){return this.pm.yNn||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.nhM))?this.$6.pm.nhM.YnR:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.rec,h:e.EUR}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$9},set_formatPaneModel:function(e){this.$2$9=e},handleWorldReset:function(){this.$6=null;this.$8=null},withOuterDashboard:function(e){if(ss.isValue(this.$3())){e(this.$3());return}var gZ=null;gZ=ss.mkdel(this,function(ha){e(ha);this.remove_newDashboard(gZ)});this.add_newDashboard(gZ)},withDashboard:function(e){var gZ=this.findContentDashboard();if(ss.isValue(gZ)){e(gZ);return}var ha=null;ha=ss.mkdel(this,function(hb){e(hb);this.remove_newDashboard(ha)});this.add_newDashboard(ha)},$2:function(e){return gK.$0(e)&&ss.isValue(gK.$1(this.pm))&&this.get_sheetType()!==e.mmK.nhM.xD},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)&&!ss.referenceEquals(e.mmK.nhM.DDA,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,gZ){if(ss.isValue(e._$p)){this.$5=new bX(this);this.get_connectionPromptModel().update(e._$p);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(bX).call(this,this.$2$6,this.get_connectionPromptModel(),gZ)}else{this.raiseEvent(this.$2$7,gZ)}}if(ss.isValue(e.$Dn)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.$Dn)){this.raiseEvent(function(){gK.fireWorkbookModifiedChanged(e.$Dn)},gZ)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$8,e.mmK.nhM.xD,gZ)}var ha=false;if(this.$1(e)){this.handleWorldReset();ha=true}if(!ss.isValue(this.$8)){this.$8=new ce(this)}if(ss.isValue(e.dJ$1)){this.$8.update(e.dJ$1,gZ)}if(typeof(e.mmK)==='undefined'){}else if(e.mmK===null){var hb=this.$6;this.$6=null;this.raiseEvent$1(bM).call(this,this.$2$3,hb,gZ)}else{if(!ss.isValue(this.$6)){this.$6=new bM(this);this.raiseEvent$1(bM).call(this,this.$2$2,this.$6,gZ)}this.$6.update(e.mmK,gZ)}if(ss.isValue(e.Jmx)){this.$4.update(e.Jmx,gZ)}if(ss.isValue(e.jky)&&!_.isEqual(e.jky,this.$9)){this.$9=e.jky;ha=true}if(ha){this.raiseEvent$1(gK).call(this,this.$2$4,this,gZ)}e.Olx=e.Olx||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.Olx!==e.Olx){this.raiseEvent(this.$2$5,gZ)}if(ss.isValue(e.tfj)){this.get_formatPaneModel().update(e.tfj,gZ)}this.swapAndCopyPresModel(e)}},dX);ss.initClass(gL,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed}});ss.initClass(gM,a,{get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var gZ={};gZ.format=K.get_instance().get_localeDateFormat();gZ.locale=tsConfig.locale;gZ.timeFormat=K.get_instance().get_localeTimeFormat();gZ.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),gZ,2,'t')},get_connectsToDescription:function(){var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=gM.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(gN,a,{});ss.initEnum(gO,a,{none:0,userInvalidEmailAddress:10011,ddaDatasourceError:210006});ss.initClass(gP,a,{});ss.initClass(gQ,a,{});ss.initClass(gR,a,{checkpointAppPresModel:function(){this.$1=K.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){dX.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;K.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(gS,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var gZ=this.$1$1;if(!ss.staticEquals(gZ,null)){gZ(e)}},raiseOnCommandResponse:function(e){var gZ=this.$1$2;if(!ss.staticEquals(gZ,null)){gZ(e)}}});ss.initClass(gT,a,{});ss.initClass(gU,a,{request:function(e){var gZ='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,gZ)&&e.headers[gZ]===false){delete e.headers[gZ]}else{e.headers[gZ]=true}if(ss.isValue(gU.$0)&&gU.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(gU.$0)}if(ss.isValue(e.complete)){var ha=e.complete;e.complete=function(hf,hg){hf['args']=e;ha(hf,hg)}}if(ss.isValue(e.success)){var hb=e.success;e.success=function(hf,hg,hh){hh['args']=e;hb(hf,hg,hh)}}if(ss.isValue(e.error)){var hc=e.error;e.error=function(hf,hg,hh){hf['args']=e;hc(hf,hg,hh)}}if(ss.isValue(e.beforeSend)){var hd=e.beforeSend;e.beforeSend=function(hf){hf['args']=e;hd(hf)}}var he=e;return $.ajax(he)}});ss.initClass(gV,a,{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().dMo02},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().BCp},get_parentZoneId:function(){return this.get_zoneCommonPresModel().SWe},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().jAM,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().fzL,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().$HD},get_contentY:function(){return this.get_zoneCommonPresModel().x_W},get_contentHeight:function(){return this.get_zoneCommonPresModel().PVX-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().NSQ-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().EUR},get_width:function(){return this.get_zoneCommonPresModel().rec},get_x:function(){return this.get_zoneCommonPresModel().thj},get_y:function(){return this.get_zoneCommonPresModel().RAC},get_heightWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_height():(this.get_height()+8))}return this.get_height()},get_widthWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_width():(this.get_width()+8))}return this.get_width()},get_xWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_x():(this.get_x()-4))}return this.get_x()},get_yWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_y():(this.get_y()-4))}return this.get_y()},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFloating:function(){return this.get_zoneCommonPresModel().Qba},get_hasTitle:function(){return this.get_zoneCommonPresModel().yqe},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().mqv},get_canFloat:function(){return this.get_zoneCommonPresModel().YmA},get_isHorizontal:function(){return this.get_zoneCommonPresModel().oAu},get_hasBorder:function(){return ea.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){if(ea.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()}}else if(this.get_hasBorder()){return this.get_zoneStyle().get_borderWidth()}return 0},get_zoneStyle:function(){return this.$2},get_contentStyle:function(){return this.$1},update:function(e,gZ){if(ss.isValue(e)){e.SWe=e.SWe||0;e.Qba=e.Qba||false;e.oAu=e.oAu||false;e.mqv=ss.coalesce(e.mqv,true);e.YmA=ss.coalesce(e.YmA,true);e.NSQ=e.NSQ||e.rec;e.PVX=e.PVX||e.EUR;e.$HD=e.$HD||e.thj;e.x_W=e.x_W||e.RAC;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,gZ)}if(ss.isValue(e.rPC)){this.$2.update(e.rPC,gZ)}if(ss.isValue(e.hhe)){this.$1.update(e.hhe,gZ)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().yqe!==e.yqe){this.raiseEvent(this.$2$2,gZ)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().Qba!==e.Qba||this.get_zoneCommonPresModel().YmA!==e.YmA)){this.raiseEvent(this.$2$3,gZ)}this.swapAndCopyPresModel(e)},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.PVX,e.EUR)===this.get_contentHeight()&&ss.coalesce(e.NSQ,e.rec)===this.get_contentWidth()&&ss.coalesce(e.$HD,e.thj)===this.get_contentX()&&ss.coalesce(e.x_W,e.RAC)===this.get_contentY()&&e.EUR===this.get_height()&&e.rec===this.get_width()&&e.thj===this.get_x()&&e.RAC===this.get_y()}return false}},dX);ss.initClass(gW,a,{get_zone:function(){return ss.safeCast(this.parent,gX)}},dX);ss.initClass(gX,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_childrenAdded:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_childrenAdded:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$a},get_dashboardModel:function(){return this.$8},get_zoneCommonModel:function(){return this.$9},get_visualModel:function(){if(this.$9.get_zoneType()==='viz'){return this.$a}return null},get_worksheetName:function(){return this.pm.AVP},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){return this.pm.BCp},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_heightWithMargin:function(){return this.get_zoneCommonModel().get_heightWithMargin()},get_widthWithMargin:function(){return this.get_zoneCommonModel().get_widthWithMargin()},get_xWithMargin:function(){return this.get_zoneCommonModel().get_xWithMargin()},get_yWithMargin:function(){return this.get_zoneCommonModel().get_yWithMargin()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return gX.$2(this.pm)},get_titleHeight:function(){return this.pm.jZr},get_titleWidth:function(){return this.pm.nkG1},get_hasSpace:function(){return this.pm.zGq},get_isSelectionDisabled:function(){return this.pm.OKP},get_contextMenuCommands:function(){if(this.$9.get_zoneType()==='filter'){if(tab.FeatureFlags.isEnabled('VizCatQF')&&!this.$5){var e=this.get_model();return e.get_quickFilterCommands()}else{var gZ=this.get_model();return gZ.get_quickFilterCommands()}}return{}},get_chromeCommands:function(){return this.$3},get_backgroundColor:function(){if(ss.isValue(this.pm.oiS)){this.$7=this.$7||bl.convertColorForCanvas(this.pm.oiS);return this.$7}return null},get_relativeZoneZIndex:function(){return this.pm.Vk$+1},get_associatedSheet:function(){return this.pm.Gge},get_isDependentOnViz:function(){switch(this.$9.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.wqq)||Object.keys(this.pm.wqq).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$2,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$4,e)},update:function(e,gZ){if(ss.isValue(e)){{e.Gge=e.Gge||'';e.nkG1=e.nkG1||0;e.jZr=e.jZr||0;e.OKP=e.OKP||false;e.zGq=e.zGq||false}var ha=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.pj$);if(ss.isValue(e.pj$)){this.$9.update(e.pj$,gZ)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.oiS,e.oiS)){this.$7=null}if(ss.isValue(e.OnR)){this.$3.update(e.OnR,gZ)}if(ss.isValue(e.wqq)){if(!ss.isValue(this.$6)){this.$6=new gW(this)}var hb=gX.$2(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),hb)){this.$a=null}var hc=false;if(ss.isNullOrUndefined(this.$a)&&this.get_zoneCommonModel().get_zoneType()!=='filter'){var hd=ea.getPendingZoneContentModel(this.$9.get_zoneId());if(ss.isValue(hd)){hc=true;this.$a=hd;this.$a.reparent(this.$6);this.$2(this.$a,gZ)}}if(!hc){this.$1(hb,e,ha,gZ)}}else if(ss.isValue(this.pm)&&ss.isValue(this.$a)&&!ss.referenceEquals(e.dCB,this.pm.dCB)){var he=gX.$1(e.dCB);if(this.$5&&e.pj$.jAM==='filter'){var hf=this.$a;hf.update(hf.get_quickFilterDisplayPresModel(),he,gZ)}if(ss.referenceEquals(gX.$2(this.pm),gX.$a)){var hg=gX.getContent(e,gX.$a);if(tab.FeatureFlags.isEnabled('VizParam')&&ep.supportsParameterType(hg)){}else{var hh=this.$a;hh.updateFrame(he,gZ)}}}if(ss.isValue(e.KDk)){cG.notifyFontsFromTextRegionPresModel(e.KDk)}}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$3,gZ)},$1:function(e,gZ,ha,hb){if(ss.referenceEquals(e,gX.$i)){var hc=gX.getContent(gZ,gX.$i);if(ss.isNullOrUndefined(this.$a)){this.$a=new gs(this.$6);this.$2(this.$a,hb)}var hd=this.$a;hd.update(hc,hb)}else if(ss.referenceEquals(e,gX.$h)){var he=gX.getContent(gZ,gX.$h);if(ss.isNullOrUndefined(this.$a)){this.$a=new fW(this.$6,gX.$h);this.$2(this.$a,hb)}var hf=this.$a;hf.update(he,hb)}else if(ss.referenceEquals(e,gX.$g)){var hg=gX.getContent(gZ,gX.$g);if(ss.isNullOrUndefined(this.$a)){this.$a=new fW(this.$6,gX.$g);this.$2(this.$a,hb)}var hh=this.$a;hh.update(hg,hb)}else if(ss.referenceEquals(e,gX.$c)){var hi=gX.getContent(gZ,gX.$c);var hj=this.$5;if(tab.FeatureFlags.isEnabled('VizCatQF')&&eE.supportsQuickFilterType(hi)){this.$5=false;if(ss.isNullOrUndefined(this.$a)||hj){this.$a=new eE(this.$6);this.$2(this.$a,hb)}var hk=this.$a;hk.update(hi,hb)}else{this.$5=true;if(ss.isNullOrUndefined(this.$a)||!hj){this.$a=new dM(this.$6);this.$2(this.$a,hb)}var hl=gX.$1(gZ.dCB);var hm=this.$a;hm.update(hi,hl,hb)}}else if(ss.referenceEquals(e,gX.$b)){if(K.get_instance().get_isLocalRenderMode()){var hn=gX.getContent(gZ,e);if(ss.isNullOrUndefined(this.$a)){this.$a=new eC(this.$6,e);this.$2(this.$a,hb)}var ho=this.$a;ho.update(hn,hb)}}else if(ss.referenceEquals(e,gX.$3)||ss.referenceEquals(e,gX.$f)||ss.referenceEquals(e,gX.$e)||ss.referenceEquals(e,gX.$8)){if(K.get_instance().get_isLocalRenderMode()){var hp=gX.getContent(gZ,e);if(ss.isNullOrUndefined(this.$a)){var hq=this.$9.get_zoneType();this.$a=new bd(this.$6,e,gX.$0(hq));this.$2(this.$a,hb)}var hr=this.$a;hr.update(hp,hb)}}else if(ss.referenceEquals(e,gX.$a)){var hs=gX.getContent(gZ,gX.$a);var ht=gX.$1(hs.Vn);hs.nql=ht;var hu=this.$4;if(tab.FeatureFlags.isEnabled('VizParam')&&ep.supportsParameterType(hs)){this.$4=false;if(ss.isNullOrUndefined(this.$a)||hu){this.$a=new ep(this.$6);this.$2(this.$a,hb)}var hv=this.$a;hv.update(hs,hb)}else{this.$4=true;if(ss.isNullOrUndefined(this.$a)||!hu){this.$a=new eo(this.$6);this.$2(this.$a,hb)}var hw=gX.$1(gZ.dCB);var hx=this.$a;hx.update(hs,hw,hb)}}else if(ss.referenceEquals(e,gX.$9)){var hy=gX.getContent(gZ,gX.$9);if(ss.isNullOrUndefined(this.$a)){this.$a=new ei(this.$6);this.$2(this.$a,hb)}var hz=!ha||ss.isNullOrUndefined(this.pm);var hA=gX.$1(gZ.dCB);var hB=this.$a;hB.update(hy,hA,hz,hb)}else if(ss.referenceEquals(e,gX.$6)){var hC=gX.getContent(gZ,gX.$6);if(ss.isNullOrUndefined(this.$a)){this.$a=new cD(this.$6);this.$2(this.$a,hb)}var hD=this.$a;hD.update(hC,hb)}else if(ss.referenceEquals(e,gX.$5)){var hE=gX.getContent(gZ,gX.$5);if(ss.isNullOrUndefined(this.$a)){this.$a=new cC(this.$6);this.$2(this.$a,hb)}var hF=this.$a;hF.update(hE,hb)}else if(ss.referenceEquals(e,gX.$d)){var hG=gX.getContent(gZ,gX.$d);if(ss.isNullOrUndefined(this.$a)){this.$a=new dK(this.$6);this.$2(this.$a,hb)}var hH=this.$a;hH.update(hG,hb)}else if(ss.referenceEquals(e,gX.$j)){var hI=gX.getContent(gZ,gX.$j);if(ss.isNullOrUndefined(this.$a)){this.$a=new gI(this.$6);this.$2(this.$a,hb)}var hJ=this.$a;hJ.update(hI,hb)}else if(ss.referenceEquals(e,gX.$7)){var hK=gX.getContent(gZ,gX.$7);if(ss.isNullOrUndefined(this.$a)){this.$a=new dt(this.$6);this.$2(this.$a,hb)}var hL=this.$a;hL.update(hK,hb)}else if(ss.referenceEquals(e,gX.$4)){var hM=gX.getContent(gZ,gX.$4);if(ss.isNullOrUndefined(this.$a)){this.$a=new cd(this.$6);this.$2(this.$a,hb)}var hN=this.$a;hN.update(hM,hb)}},contentBorderWidth:function(){return this.$9.get_contentBorderWidth()},$2:function(e,gZ){this.raiseEvent$1(dX).call(this,this.$2$1,e,gZ)}},dX);ss.initClass(gY,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=_.values(this.$7)}return this.$5},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$7[gY.$0(e)]},hasZone:function(e){return ss.keyExists(this.$7,gY.$0(e))},getChildren:function(e){var gZ=gY.$0(e);if(!ss.keyExists(this.$6,gZ)){this.$6[gZ]=_.filter(this.get_zoneModels(),function(ha){return ha.get_parentZoneId()===e})}return this.$6[gY.$0(e)].slice(0)},update:function(gZ,ha){this.$2('Zones before update: ');this.$3(gZ,ha);this.$6={};var hb={};var hc=_.keys(gZ);for(var hd=0;hd<hc.length;hd++){var he=hc[hd];var hf=gZ[he];if(ss.isValue(hf)){var hg=hf.BCp;try{var hh=gY.$0(hg);if(!ss.isValue(this.$7[hh])){var hi=new gX(this,this.parent,hg);this.$7[hh]=hi;this.raiseEvent$1(gX).call(this,this.$2$1,this.$7[hh],ha);this.$5=null;hb[hf.pj$.SWe]=true}else{if(ss.isValue(hf.pj$)&&this.$7[hh].get_parentZoneId()!==hf.pj$.SWe){hb[hf.pj$.SWe]=true}if(ss.isValue(hf.wqq)&&(this.$1(hh,hf)||this.$4(hh,hf))){this.$7[hh].raiseRemoveZoneContent(ha);this.raiseEvent$1(gX).call(this,this.$2$1,this.$7[hh],ha)}}this.$7[hh].update(hf,ha)}catch(hn){var e=ss.Exception.wrap(hn);tab.ErrorTrace.report(e,false)}}}this.swapAndCopyPresModel(gZ);if(tsConfig.is_authoring){var hj=_.keys(hb);for(var hk=0;hk<hj.length;hk++){var hl=hj[hk];var hm=this.getZone(hl);if(ss.isValue(hm)){hm.raiseChildrenAdded(ha)}}}this.$2('Zones after update: ')},$1:function(e,gZ){if(tab.FeatureFlags.isEnabled('VizCatQF')){var ha=this.$7[e].pm;if(ss.isValue(ha.wqq)){var hb='WlK'.toString();if(ss.referenceEquals(gX.$2(gZ),hb)){var hc=gX.getContent(ha,hb);var hd=gX.getContent(gZ,hb);if(eE.supportsQuickFilterType(hc)!==eE.supportsQuickFilterType(hd)){return true}}}}return ss.isValue(this.$7[e].get_contentType())&&!ss.referenceEquals(this.$7[e].get_contentType(),gX.$2(gZ))},$4:function(e,gZ){return ss.isValue(this.$7[e].get_worksheetName())&&!ss.referenceEquals(this.$7[e].get_worksheetName(),gZ.Gge)},$3:function(e,gZ){var ha=_.keys(this.$7);for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];var hd=this.$7[hc];var he=e[hd.get_zoneId().toString()];if(he===null){var hf=hd.get_zoneId().toString();delete e[hf];delete this.get_zonePresModels()[hf];this.removeZone(hd,gZ);continue}if(ss.isValue(he)&&ss.isValue(he.pj$)&&hd.get_zoneCommonModel().get_zoneType()!==he.pj$.jAM){this.removeZone(hd,gZ)}}},removeZone:function(e,gZ){e.raiseRemoveZoneContent(gZ);this.raiseEvent$1(gX).call(this,this.$2$2,e,gZ);delete this.$7[gY.$0(e.get_zoneId())];this.$5=null},$2:function(e){var gZ=new ss.StringBuilder;gZ.appendLine(e);var ha=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(ha.moveNext()){var hb=ha.current();if(ss.isValue(hb.value)&&ss.isValue(hb.value.pj$)){gZ.append('[ ');gZ.append(hb.value.BCp);gZ.append(' ');gZ.append(hb.value.pj$.jAM);gZ.append(' ] ');gZ.appendLine()}}}finally{ha.dispose()}}},dX);(function(){bp.successResult=new bp(true,null)})();(function(){bu.$0=null})();(function(){gx.vizInTooltipDataTag='span[data-tableau="VizInTooltip"]';gx.vizInTooltipBrowserRenderedTag='[data-rendermode="BrowserRendered"]';gx.unknownFieldMarker='~~~???~~~';gx.noLocalSummary='...';gx.invalidTupleId=0;gx.urlStringNull='~~null~';gx.urlStringSkipped='~~skipped~';gx.urlStringRagged='~~ragged~';gx.$8=new RegExp('(\\r|\\n)','g')})();(function(){bw.$5=15;bw.$8={};bw.$6={};bw.$7=[];bw.$8['keep-only-or-exclude']=2;bw.$8['quick-sort']=4;bw.$8['clear-sorts']=6;bw.$8['run-action']=8;bw.$8['load-url']=9;bw.$8['merge-or-split']=10;bw.$8['ranged-by-value-merge']=10;bw.$8['ranged-by-index-merge']=10;bw.$8['legend-group-or-ungroup']=13;bw.$8['label-drill']=12;bw.$8['level-drill']=12;bw.$8['level-drill-up-down']=12;bw.$8['remove-reference-line']=15;bw.$8['show-reference-line-constant-value-editor']=21;bw.$8['trend-lines']=17;bw.$8['show-trend-line-editor']=16;bw.$8['show-col-totals']=18;bw.$8['show-row-totals']=18;bw.$8['remove-subtotals']=18;bw.$8['set-totals-type']=19;bw.$8['set-reference-line-formula']=20;bw.$8['show-reference-line-editor']=22;bw.$8['select-by-tuple-value']=23})();(function(){dX.removeUndefinedBoolsOnSwapCopy=true})();(function(){cx.nameOfMeasuresColumn=':Measure Names';cx.nameOfMeasureValuesColumn='Multiple Values'})();(function(){bl.defaultAlpha=1;bl.white=new bl(255,255,255,1);bl.alphaMultiplier=1.5;bl.luminanceThresholdForFakingLineColor=0.800000011920929;bl.$8=0.999989986419678;bl.$e=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bl.$9=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bl.$a=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bl.$b=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bl.$c=null;bl.$d=new cz(100)})();(function(){cH.defaultWeight='normal';cH.defaultStyle='normal';cH.hashSeparator='-<%>-';cH.matchQuotes=new RegExp('[\'"]','g')})();(function(){co.boldWeight='bold';co.normalWeight='normal'})();(function(){dc.$0=[new dc,new co]})();(function(){cG.fontPropertyName='font';cG.$1$1=null;cG.$1$2=null})();(function(){gw.tupleIdColumnName='[system:visual].[tuple_id]';gw.measureNamesColumnName='[:Measure Names]'})();(function(){dT.$1='@2x';dT.$0='rgb(255,255,255)'})();(function(){ee.$0=new ss.Lazy(function(){return{eventHandler:new ee}})})();(function(){gS.$0=new ss.Lazy(function(){return new gS})})();(function(){N.$1=N.$0()})();(function(){gU.guid='';gU.parentID='';gU.$0=''})();(function(){dg.$6='_vql_state_';dg.$5=new Map;dg.$8=0;dg.$7=0;tab.WindowHelper.addListener(window.self,'popstate',dg.$3)})();(function(){gB.$7=':retry';gB.$5=':original_view';gB.$8=':showSaveAs';gB.$4=':jsdebug';gB.$6=':render';gB.$3=':app';gB.$b=[':app',':jsdebug',':render'];gB.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);gB.$c=[':bootstrapWhenNotified'];gB.$9={};gB.$a={};var e=function(gZ,ha){for(var hb=gZ;hb<=ha;hb++){var hc=String.fromCharCode(hb);gB.$a[hc]=hc}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){ch.$0=false})();(function(){D.instance=null})();(function(){bC.primaryTableCalcIndex=0;bC.secondaryTableCalcIndex=1})();(function(){ft.$0='data:image/png;base64,';ft.selectionBorderSize=1;ft.$1=(tab.BrowserSupport.get_isMobile()?50:200)})();(function(){fM.$1=false;fM.$2=false;fM.$1$1=null;fM.$1$2=null})();(function(){ds.$2=null})();(function(){eb.$d='vql';eb.$c=60;eb.$h={};eb.$f={};eb.$b={};eb.$e=new Set;eb.$i=false;eb.$g=new ec})();(function(){eV.$4='Last';eV.$5='SecondToLast';eV.$3=1440;eV.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];eV.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){v.$0=35;v.$1=1})();(function(){K._instance=null})();(function(){gM.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){gX.zoneMargin=4;gX.rootZoneID=0;gX.$i='uqP'.toString();gX.$h='YYO'.toString();gX.$g='tLp'.toString();gX.$b='ylS'.toString();gX.$3='lDC'.toString();gX.$f='ylX'.toString();gX.$e='nud'.toString();gX.$8='C$K'.toString();gX.$a='j_S'.toString();gX.$9='cfW'.toString();gX.$d='KmA'.toString();gX.$7='wBL'.toString();gX.$j='_Ss'.toString();gX.$c='WlK'.toString();gX.$4='AEl'.toString();gX.$6='lRq'.toString();gX.$5='XIo'.toString()})();(function(){eB.$5=6;eB.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','highlighter'];eB.$7=[1,2,3,4,5,6];eB.$8=null;eB.$6=null})();(function(){bn.$8=135;bn.$9=false;bn.$a=false;bn._instance=null;bn.$1$12=null;bn.fireDeferredUrlActions=false})();(function(){fl.$2=300000;fl.$0=tab.DateUtil.get_nowAsTime();fl.$3=300000;fl.$1=tab.DateUtil.get_nowAsTime()})();(function(){ef.analyticsClientLibrary='analytics-client';ef.analyticsClientMinifiedLibrary='analytics-client.min';ef.serviceName='VizClient';ef.$1=tab.Logger.getLogger(ef,4);ef.$2=null;ef.$1$1=null})();(function(){ea.visualPartToRegionMap=null;ea.regionToVisualPartMap=null;ea.visualPartToRegionMap={};ea.visualPartToRegionMap['left-axis']='leftaxis';ea.visualPartToRegionMap['right-axis']='rightaxis';ea.visualPartToRegionMap['top-axis']='topaxis';ea.visualPartToRegionMap['bottom-axis']='bottomaxis';ea.visualPartToRegionMap['y-labels']='yheader';ea.visualPartToRegionMap['x-labels']='xheader';ea.regionToVisualPartMap={};ea.regionToVisualPartMap['leftaxis']='left-axis';ea.regionToVisualPartMap['rightaxis']='right-axis';ea.regionToVisualPartMap['topaxis']='top-axis';ea.regionToVisualPartMap['bottomaxis']='bottom-axis';ea.regionToVisualPartMap['yheader']='y-labels';ea.regionToVisualPartMap['xheader']='x-labels'})();(function(){cI.$0='font'})();(function(){fh.$1={}})();(function(){M.linkTarget=null;M.autoUpdate=true;M.$0=null;M.$1=null;M.$2=0;M.$3=null;M.$1$1=null;M.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){F.$f=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:'];F.$e=false;F.$d=false})();(function(){eZ.$k=null;eZ.$k={};eZ.$k['simple']='select-options-simple';eZ.$k['toggle']='select-options-toggle';eZ.$k['range']='select-options-range';eZ.$k['menu']='select-options-menu'})();(function(){P.$5='date-time';P.$4='all'})();(function(){fy.$2$1=null})();(function(){cj.sheetChangedEventName='SheetChangedEvt';cj.$3='badpassword';cj.$2='badoauthcredentials';cj.$4='NoAssociatedCustomOAuthKey'})();(function(){gV.zoneMargin=4;gV.rootZoneID=0})();(function(){fP.$6=(tsConfig.is_mobile?4:8);fP.$5=null;fP.$4=null;if(!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache')){gS.get().add_onBootstrapResponse(fP.$0)}})();(function(){cC.presModelCache=null})();(function(){eT.$1=new bl(0,0,0,1)})();(function(){bM.facadeDomId='facadedom';bM.$2$1=null})();(function(){gK.$2$1=null})();(function(){gH.$0={}})();(function(){bs.$0='granted'})();(function(){fm.$0=0})();(function(){bJ.$4='get_customized_views';bJ.$6='set_default_customized_view';bJ.$3='destroy_customized_view';bJ.$5='save_customized_view';bJ.$7='update_customized_view';bJ.$2=tab.Logger.getLogger(bJ)})();(function(){bU.everyTime=0;bU.hourly=60;bU.daily=1440;bU.weekly=10080;bU.onlyOnce=2147483647})();(function(){ci.$0=null})();(function(){cu.$0=5000;cu.$1=120;cu.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();cu.$2=window.setInterval(cu.reportFailures,5000)}})();(function(){dR.mapOptionsDialogWidth=180})();(function(){eR.shapeMapping=null;eR.reverseShapeMapping=null;eR.$1=null;eR.$0=null;eR.lineInterpolationMapping=null;eR.lineMarkerPositionMapping=null;eR.$1={};eR.$1['enable-pan-x']=1;eR.$1['enable-pan-y']=2;eR.$1['enable-zoom-x']=4;eR.$1['enable-zoom-y']=8;eR.$1['enable-scale-x']=16;eR.$1['enable-scale-y']=32;eR.$1['clip-to-cell-x']=64;eR.$1['clip-to-cell-y']=128;eR.$1['clip-to-cell-for-selection']=256;eR.$1['x-axis-on-top']=512;eR.$1['y-axis-on-right']=1024;eR.$1['has-cells-x']=2048;eR.$1['has-cells-y']=4096;eR.$0={};eR.$0['end']=1;eR.$0['endprimitive']=2;eR.$0['closedprimitive']=4;eR.$0['marked']=8;eR.$0['markediflabel']=16;eR.$0['debug']=128;eR.$0['user']=65536;eR.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);eR.reverseShapeMapping={};var e=_.keys(eR.shapeMapping);for(var gZ=0;gZ<e.length;gZ++){var ha=e[gZ];eR.reverseShapeMapping[eR.shapeMapping[ha]]=ha}eR.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump']);eR.lineMarkerPositionMapping=ss.mkdict(['0','lmp-left','1','lmp-center','2','lmp-right'])})();(function(){em.currentPage=4294967295})();(function(){eU.blackColor=null;var e=(new bl(0,0,0,1)).toRgba();eU.blackColor={};eU.blackColor['colorOverrideNone']=e;eU.blackColor['colorOverrideFog']=e;eU.blackColor['colorOverrideOpaque']=e})();(function(){fV.$0={};fV.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';fV.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';fV.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';fV.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';fV.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';fV.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';fV.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';fV.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';fV.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';fV.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';fV.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';fV.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';fV.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';fV.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';fV.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';fV.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';fV.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';fV.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';fV.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';fV.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';fV.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';fV.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';fV.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';fV.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';fV.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';fV.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';fV.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';fV.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';fV.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';fV.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';fV.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';fV.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';fV.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';fV.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';fV.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';fV.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';fV.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';fV.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';fV.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';fV.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';fV.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';fV.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';fV.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';fV.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';fV.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';fV.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';fV.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';fV.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';fV.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';fV.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';fV.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';fV.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';fV.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';fV.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';fV.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';fV.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';fV.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';fV.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';fV.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';fV.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';fV.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';fV.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';fV.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';fV.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';fV.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';fV.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';fV.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';fV.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';fV.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';fV.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';fV.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';fV.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';fV.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';fV.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';fV.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';fV.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';fV.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';fV.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';fV.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';fV.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';fV.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';fV.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';fV.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';fV.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';fV.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';fV.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';fV.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';fV.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';fV.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';fV.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';fV.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';fV.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';fV.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';fV.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';fV.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';fV.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';fV.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';fV.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';fV.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';fV.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';fV.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';fV.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';fV.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';fV.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';fV.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';fV.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';fV.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';fV.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';fV.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';fV.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';fV.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';fV.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';fV.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';fV.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';fV.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';fV.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';fV.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';fV.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';fV.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';fV.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';fV.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';fV.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';fV.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';fV.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';fV.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';fV.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';fV.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';fV.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';fV.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';fV.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';fV.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';fV.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';fV.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';fV.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';fV.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';fV.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';fV.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';fV.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';fV.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';fV.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';fV.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';fV.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';fV.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';fV.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';fV.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';fV.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';fV.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';fV.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';fV.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';fV.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';fV.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';fV.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';fV.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';fV.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';fV.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';fV.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';fV.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';fV.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';fV.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';fV.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';fV.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';fV.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';fV.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';fV.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';fV.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';fV.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';fV.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';fV.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';fV.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';fV.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';fV.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';fV.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';fV.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';fV.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';fV.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';fV.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';fV.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';fV.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';fV.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';fV.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';fV.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';fV.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';fV.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';fV.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';fV.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';fV.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';fV.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';fV.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';fV.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';fV.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';fV.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';fV.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';fV.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';fV.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';fV.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';fV.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';fV.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';fV.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';fV.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';fV.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';fV.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';fV.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';fV.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';fV.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';fV.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';fV.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';fV.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';fV.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';fV.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';fV.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';fV.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';fV.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';fV.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';fV.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';fV.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';fV.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';fV.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';fV.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';fV.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';fV.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';fV.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';fV.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';fV.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';fV.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';fV.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';fV.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';fV.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){gc.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){gh.$9=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];gh.$a=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})()})();;
/*! BEGIN SpiffUI */
var IScroll=function(a,b,c){function f(a,c){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?" translateZ(0)":"",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),c||(e.style.pointerEvents="none"),e.appendChild(f),e}function h(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,"touchstart",this),e.addEvent(a,"touchend",this)),this.options.disablePointer||(a.PointerEvent?(e.addEvent(this.indicator,"pointerdown",this),e.addEvent(a,"pointerup",this)):a.MSPointerEvent&&(e.addEvent(this.indicator,"MSPointerDown",this),e.addEvent(a,"MSPointerUp",this))),this.options.disableMouse||(e.addEvent(this.indicator,"mousedown",this),e.addEvent(a,"mouseup",this)))}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f!==!1&&(""===f?a:f+a.charAt(0).toUpperCase()+a.substr(1))}var d={},e=b.createElement("div").style,f=function(){for(var b,a=["t","webkitT","MozT","msT","OT"],c=0,d=a.length;c<d;c++)if(b=a[c]+"ransform",b in e)return a[c].substr(0,a[c].length-1);return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.momentum=function(a,b,d,e,f){var i,j,g=a-b,h=c.abs(g)/d,k=6e-4;return i=a+h*h/(2*k)*(g<0?-1:1),j=h/k,i<e?(i=f?e-f/2.5*(h/8):e,g=c.abs(i-a),j=g/h):i>0&&(i=f?f/2.5*(h/8):0,g=c.abs(a)+i,j=g/h),{destination:c.round(i),duration:j}};var h=g("transform");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g("perspective")in e,hasTouch:"ontouchstart"in a,hasPointer:navigator.msPointerEnabled,hasTransition:g("transition")in e}),d.isAndroidBrowser=/Android/.test(a.navigator.appVersion)&&/Version\/\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g("transitionTimingFunction"),transitionDuration:g("transitionDuration"),transformOrigin:g("transformOrigin")}),d.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},d.addClass=function(a,b){if(!d.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},d.removeClass=function(a,b){if(d.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},d.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*(2*c.PI)/b)+1}}}),d.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var d,c=a.target;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(d=b.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();return f.prototype={version:"5.0.6",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(a){if((1==e.eventType[a.type]||0===a.button)&&this.enabled&&(!this.initiated||e.eventType[a.type]===this.initiated)){!this.options.preventDefault||e.isAndroidBrowser||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var d,b=a.touches?a.touches[0]:a;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition&&(d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var h,i,j,k,b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY),!(g-this.endTime>300&&j<10&&k<10)){if(this.directionLocked||this.options.freeScroll||(j>k+this.options.directionLockThreshold?this.directionLocked="h":k>=j+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);f=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=d>0?-1:d<0?1:0,this.directionY=f>0?-1:f<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y),this._execEvent("scroll")}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var d,f,g=(a.changedTouches?a.changedTouches[0]:a,e.getTime()-this.startTime),h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m="";if(this.scrollTo(h,i),this.isInTransition=0,this.initiated=0,this.endTime=e.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved)return this.options.tap&&e.tap(a,this.options.tap),void(this.options.click&&e.click(a));if(this._events.flick&&g<200&&j<100&&k<100)return void this._execEvent("flick");if(this.options.momentum&&g<300&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1),this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}return h!=this.x||i!=this.y?((h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)&&(m=e.ease.quadratic),void this.scrollTo(h,i,l,m)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].call(this)}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn),this._execEvent("scroll")},scrollToElement:function(a,b,d,f,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+"ms",this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[e.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),e.hasPointer&&!this.options.disablePointer&&(a.PointerEvent?(c(this.wrapper,"pointerdown",this),c(d,"pointermove",this),c(d,"pointercancel",this),c(d,"pointerup",this)):a.MSPointerEvent&&(c(this.wrapper,"MSPointerDown",this),c(d,"MSPointerMove",this),c(d,"MSPointerCancel",this),c(d,"MSPointerUp",this))),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var c,d,b=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(b=b[e.style.transform].split(")")[0].split(", "),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\d]/g,""),d=+b.top.replace(/[^-\d]/g,"")),{x:c,y:d}},_initIndicators:function(){var e,a=this.options.interactiveScrollbars,c=("object"!=typeof this.options.scrollbars,"string"!=typeof this.options.scrollbars),d=[];this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:g("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(e.el),d.push(e)),this.options.scrollX&&(e={el:g("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(e.el),d.push(e))),this.options.indicators&&(d=d.concat(this.options.indicators));for(var f=d.length;f--;)this.indicators[f]=new h(this,d[f]);this.on("refresh",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].refresh()}),this.on("destroy",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].destroy();delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,"mousewheel",this),e.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){e.removeEvent(this.wrapper,"mousewheel",this),e.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b,d,e,f,g=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd")},400),"wheelDeltaX"in a)b=a.wheelDeltaX/120,d=a.wheelDeltaY/120;else if("wheelDelta"in a)b=d=a.wheelDelta/120;else{if(!("detail"in a))return;b=d=-a.detail/3}if(b*=this.options.mouseWheelSpeed,d*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:b<0&&e++,d>0?f--:d<0&&f++,void this.goToPage(e,f);e=this.x+c.round(this.hasHorizontalScroll?b*this.options.invertWheelDirection:0),f=this.y+c.round(this.hasVerticalScroll?d*this.options.invertWheelDirection:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var b,e,f,g,i,l,a=0,d=0,h=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(f=c.round(j/2),g=c.round(k/2);h>-this.scrollerWidth;){for(this.pages[a]=[],b=0,i=0;i>-this.scrollerHeight;)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}else for(l=this.options.snap,b=l.length,e=-1;a<b;a++)(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)&&(d=0,e++),this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);d<e;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;f<e;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,d<0?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,f<0?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(b){var d,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(d in this.options.keyBindings)"string"==typeof this.options.keyBindings[d]&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,"keydown",this),this.on("destroy",function(){e.removeEvent(a,"keydown",this)})},_key:function(a){if(this.enabled){var j,b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=g-h<200?c.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return void this.goToPage(d,f);d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g}},_animate:function(a,b,c,f){function l(){var n,o,p,m=e.getTime();return m>=k?(g.isAnimating=!1,g._translate(a,b),void(g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd"))):(m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),void(g.isAnimating&&d(l)))}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){if("MSPointerDown"!=a.type&&"MSPointerMove"!=a.type&&"MSPointerCancel"!=a.type&&"MSPointerUp"!=a.type&&"pointerdown"!=a.type&&"pointermove"!=a.type&&"pointercancel"!=a.type&&"pointerup"!=a.type||"mouse"!=a.pointerType&&4!=a.pointerType)switch(a.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,"touchstart",this),e.removeEvent(this.indicator,"MSPointerDown",this),e.removeEvent(this.indicator,"pointerdown",this),e.removeEvent(this.indicator,"mousedown",this),e.removeEvent(a,"touchmove",this),e.removeEvent(a,"MSPointerMove",this),e.removeEvent(a,"pointermove",this),e.removeEvent(a,"mousemove",this),e.removeEvent(a,"touchend",this),e.removeEvent(a,"MSPointerUp",this),e.removeEvent(a,"pointerup",this),e.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,"touchmove",this),this.options.disablePointer||(a.PointerEvent?e.addEvent(a,"pointermove",this):a.MSPointerEvent&&e.addEvent(a,"MSPointerMove",this)),this.options.disableMouse||e.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var c,d,f,g,b=a.touches?a.touches[0]:a;e.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,"touchmove",this),e.removeEvent(a,"MSPointerMove",this),e.removeEvent(a,"pointermove",this),e.removeEvent(a,"mousemove",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);this.scroller.x==d.x&&this.scroller.y==d.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+"ms"},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(0),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,"iScrollBothScrollbars"),e.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(e.removeClass(this.wrapper,"iScrollBothScrollbars"),e.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=c.round(this.sizeRatioX*this.scroller.x)||0,b=c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY)),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)}},f.ease=e.ease,f}(window,document,Math);;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){var n=t[a][1][e];return o(n?n:e)},p,p.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(40),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{40:40}],2:[function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],3:[function(e,t,n){"use strict";var r=e(18),o=e(24),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{18:18,24:24}],4:[function(e,t,n){"use strict";var r=e(35),o=(e(43),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,l=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=u,n},f={addPoolingTo:l,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=f},{35:35,43:43}],5:[function(e,t,n){"use strict";var r=e(46),o=e(9),i=e(11),a=e(23),s=e(10),u=e(14),c=e(15),p=e(21),l=e(28),f=e(34),d=(e(45),c.createElement),h=c.createFactory,v=c.cloneElement,y=r,m={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:f},Component:i,PureComponent:a,createElement:d,cloneElement:v,isValidElement:c.isValidElement,PropTypes:p,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:u,version:l,__spread:y};t.exports=m},{10:10,11:11,14:14,15:15,21:21,23:23,28:28,34:34,45:45,46:46,9:9}],6:[function(e,t,n){"use strict";function r(){if(!o){var t=e(30);o=t.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}return o}var o;n.getReactDOM=r},{30:30}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=e(46),u=e(5),c=e(27),p=e(8),l=function(e){function t(){var n,i,a;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=o(this,e.call.apply(e,[this].concat(c))),i._wrapChild=function(e){return u.createElement(p,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},e)},a=n,o(i,a)}return i(t,e),t.prototype.render=function(){return u.createElement(c,s({},this.props,{childFactory:this._wrapChild}))},t}(u.Component);l.displayName="ReactCSSTransitionGroup",l.propTypes={transitionName:p.propTypes.name,transitionAppear:u.PropTypes.bool,transitionEnter:u.PropTypes.bool,transitionLeave:u.PropTypes.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},l.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.exports=l},{27:27,46:46,5:5,8:8}],8:[function(e,t,n){"use strict";var r=e(5),o=e(6),i=e(39),a=e(26),s=e(34),u=17,c=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.getReactDOM().findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||s+"-active",c=null,p=function(e){e&&e.target!==r||(clearTimeout(c),i.removeClass(r,s),i.removeClass(r,u),a.removeEndEventListener(r,p),t&&t())};i.addClass(r,s),this.queueClassAndNode(u,r),n?(c=setTimeout(p,n),this.transitionTimeouts.push(c)):a.addEndEventListener(r,p)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){i.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});t.exports=c},{26:26,34:34,39:39,5:5,6:6}],9:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);m(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,o,n,y.thatReturnsArgument):null!=u&&(v.isValidElement(u)&&(u=v.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(t,a,o,i);m(e,u,c),s.release(c)}function p(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function l(e,t,n){return null}function f(e,t){return m(e,l,null)}function d(e){var t=[];return c(e,t,null,y.thatReturnsArgument),t}var h=e(4),v=e(15),y=e(41),m=e(37),g=h.twoArgumentPooler,E=h.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,E);var T={forEach:a,map:p,mapIntoWithKeyPrefixInternal:c,count:f,toArray:d};t.exports=T},{15:15,37:37,4:4,41:41}],10:[function(e,t,n){"use strict";function r(e){return e}function o(e,t){var n=b.hasOwnProperty(t)?b[t]:null;_.hasOwnProperty(t)&&("OVERRIDE_BASE"!==n?f("73",t):void 0),e&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?f("74",t):void 0)}function i(e,t){if(t){"function"==typeof t?f("75"):void 0,v.isValidElement(t)?f("76"):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(g)&&T.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==g){var a=t[i],s=n.hasOwnProperty(i);if(o(s,i),T.hasOwnProperty(i))T[i](e,a);else{var p=b.hasOwnProperty(i),l="function"==typeof a,d=l&&!p&&!s&&t.autobind!==!1;if(d)r.push(i,a),n[i]=a;else if(s){var h=b[i];!p||"DEFINE_MANY_MERGED"!==h&&"DEFINE_MANY"!==h?f("77",h,i):void 0,"DEFINE_MANY_MERGED"===h?n[i]=u(n[i],a):"DEFINE_MANY"===h&&(n[i]=c(n[i],a))}else n[i]=a}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in T;o?f("78",n):void 0;var i=n in e;i?f("79",n):void 0,e[n]=r}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:f("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?f("81",n):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return s(o,n),s(o,r),o}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,t){var n=t.bind(e);return n}function l(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=p(e,o)}}var f=e(35),d=e(46),h=e(11),v=e(15),y=(e(20),e(19)),m=e(42),g=(e(43),e(45),"mixins"),E=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};d(P.prototype,h.prototype,_);var w={createClass:function(e){var t=r(function(e,n,r){this.__reactAutoBindPairs.length&&l(this),this.props=e,this.context=n,this.refs=m,this.updater=r||y,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?f("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=o});t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],E.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:f("83");for(var n in b)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){E.push(e)}}};t.exports=w},{11:11,15:15,19:19,20:20,35:35,42:42,43:43,45:45,46:46}],11:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}var o=e(35),i=e(19),a=(e(31),e(42));e(43),e(45);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};t.exports=r},{19:19,31:31,35:35,42:42,43:43,45:45}],12:[function(e,t,n){"use strict";var r=e(36),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{36:36}],13:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],14:[function(e,t,n){"use strict";var r=e(15),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},{15:15}],15:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=e(46),a=e(13),s=(e(45),e(31),Object.prototype.hasOwnProperty),u=e(16),c={key:!0,ref:!0,__self:!0,__source:!0},p=function(e,t,n,r,o,i,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i};return s};p.createElement=function(e,t,n){var i,u={},l=null,f=null,d=null,h=null;if(null!=t){r(t)&&(f=t.ref),o(t)&&(l=""+t.key),d=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!c.hasOwnProperty(i)&&(u[i]=t[i])}var v=arguments.length-2;if(1===v)u.children=n;else if(v>1){for(var y=Array(v),m=0;m<v;m++)y[m]=arguments[m+2];u.children=y}if(e&&e.defaultProps){var g=e.defaultProps;for(i in g)void 0===u[i]&&(u[i]=g[i])}return p(e,l,f,d,h,a.current,u)},p.createFactory=function(e){var t=p.createElement.bind(null,e);return t.type=e,t},p.cloneAndReplaceKey=function(e,t){var n=p(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},p.cloneElement=function(e,t,n){var u,l=i({},e.props),f=e.key,d=e.ref,h=e._self,v=e._source,y=e._owner;if(null!=t){r(t)&&(d=t.ref,y=a.current),o(t)&&(f=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(u in t)s.call(t,u)&&!c.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==m?l[u]=m[u]:l[u]=t[u])}var g=arguments.length-2;if(1===g)l.children=n;else if(g>1){for(var E=Array(g),b=0;b<g;b++)E[b]=arguments[b+2];l.children=E}return p(e.type,f,d,h,v,y,l)},p.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},t.exports=p},{13:13,16:16,31:31,45:45,46:46}],16:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],17:[function(e,t,n){"use strict";var r=e(35),o=e(9),i=e(15),a=e(41),s=(e(43),e(45),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType?r("0"):void 0;var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=s},{15:15,35:35,41:41,43:43,45:45,9:9}],18:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:void 0===e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=e(5);r.PropTypes={link:o},t.exports=r},{5:5}],19:[function(e,t,n){"use strict";function r(e,t){}var o=(e(45),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});t.exports=o},{45:45}],20:[function(e,t,n){"use strict";var r={};t.exports=r},{}],21:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function t(t,n,r,i,a,s,u){if(i=i||x,s=s||r,null==n[r]){var c=_[a];return t?new o(null===n[r]?"The "+c+" `"+s+"` is marked as required "+("in `"+i+"`, but its value is `null`."):"The "+c+" `"+s+"` is marked as required in "+("`"+i+"`, but its value is `undefined`.")):null}return e(n,r,i,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,i,a,s){var u=t[n],c=g(u);if(c!==e){var p=_[i],l=E(u);return new o("Invalid "+p+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function s(){return i(w.thatReturns(null))}function u(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=_[i],c=g(s);return new o("Invalid "+u+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var p=0;p<s.length;p++){var l=e(s,p,r,i,a+"["+p+"]",P);if(l instanceof Error)return l}return null}return i(t)}function c(){function e(e,t,n,r,i){var a=e[t];if(!T.isValidElement(a)){var s=_[r],u=g(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return i(e)}function p(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var s=_[i],u=e.name||x,c=b(t[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(t)}function l(e){function t(t,n,i,a,s){for(var u=t[n],c=0;c<e.length;c++)if(r(u,e[c]))return null;var p=_[a],l=JSON.stringify(e);return new o("Invalid "+p+" `"+s+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return Array.isArray(e)?i(t):w.thatReturnsNull}function f(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=g(s);if("object"!==u){var c=_[i];return new o("Invalid "+c+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var p in s)if(s.hasOwnProperty(p)){var l=e(s,p,r,i,a+"."+p,P);if(l instanceof Error)return l}return null}return i(t)}function d(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,P))return null}var c=_[i];return new o("Invalid "+c+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?i(t):w.thatReturnsNull}function h(){function e(e,t,n,r,i){if(!y(e[t])){var a=_[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function v(e){function t(t,n,r,i,a){var s=t[n],u=g(s);if("object"!==u){var c=_[i];return new o("Invalid "+c+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var p in e){var l=e[p];if(l){var f=l(s,p,r,i,a+"."+p,P);if(f)return f}}return null}return i(t)}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||T.isValidElement(e))return!0;var t=A(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function E(e){var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var T=e(15),_=e(20),P=e(22),w=e(41),A=e(33),x=(e(45),"<<anonymous>>"),O={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:c(),instanceOf:p,node:h(),objectOf:f,oneOf:l,oneOfType:d,shape:v};o.prototype=Error.prototype,t.exports=O},{15:15,20:20,22:22,33:33,41:41,45:45}],22:[function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},{}],23:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function o(){}var i=e(46),a=e(11),s=e(19),u=e(42);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},{11:11,19:19,42:42,46:46}],24:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var u=t.call(e,n,r,o,i,a,s);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],25:[function(e,t,n){"use strict";var r=e(32),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},{32:32}],26:[function(e,t,n){"use strict";function r(){var e=s("animationend"),t=s("transitionend");e&&u.push(e),t&&u.push(t)}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var a=e(40),s=e(1),u=[];a.canUseDOM&&r();var c={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){i(e,n,t)})}};t.exports=c},{1:1,40:40}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e(46),s=e(5),u=e(25),c=e(41),p=function(e){function t(){var n,i,s;r(this,t);for(var c=arguments.length,p=Array(c),l=0;l<c;l++)p[l]=arguments[l];return n=i=o(this,e.call.apply(e,[this].concat(p))),i.state={children:u.getChildMapping(i.props.children)},i.performAppear=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e)):i._handleDoneAppearing(e)},i._handleDoneAppearing=function(e){var t=i.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performEnter=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e)):i._handleDoneEntering(e)},i._handleDoneEntering=function(e){var t=i.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performLeave=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e)):i._handleDoneLeaving(e)},i._handleDoneLeaving=function(e){var t=i.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)?i.performEnter(e):i.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},s=n,o(i,s)}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=u.getChildMapping(e.children),n=this.state.children;this.setState({children:u.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=a({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,s.createElement(this.props.component,r,e)},t}(s.Component);p.displayName="ReactTransitionGroup",p.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},p.defaultProps={component:"span",childFactory:c.thatReturnsArgument},t.exports=p},{25:25,41:41,46:46,5:5}],28:[function(e,t,n){"use strict";t.exports="15.4.2"},{}],29:[function(e,t,n){"use strict";var r=e(3),o=e(5),i=(e(6),e(12)),a=e(7),s=e(17),u=e(27),c=e(36),p=e(38);o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,createFragment:s.create,shallowCompare:c,update:p},t.exports=o},{12:12,17:17,27:27,3:3,36:36,38:38,5:5,6:6,7:7}],30:[function(e,t,n){"use strict";var r=e(46),o=e(29),i=r({__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:null,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:e(13)}},o);t.exports=i},{13:13,29:29,46:46}],31:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],32:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e,i=void 0===o[n];i&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(2),e(37));e(45);"undefined"!=typeof n&&n.env,t.exports=o}).call(this,void 0)},{2:2,37:37,45:45}],33:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],34:[function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o("143"),e}var o=e(35),i=e(15);e(43);t.exports=r},{15:15,35:35,43:43}],35:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],36:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(44);t.exports=r},{44:44}],37:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(i,e,""===t?p+r(e,0):t),1;var d,h,v=0,y=""===t?p:t+l;if(Array.isArray(e))for(var m=0;m<e.length;m++)d=e[m],h=y+r(d,m),v+=o(d,h,n,i);else{var g=u(e);if(g){var E,b=g.call(e);if(g!==e.entries)for(var T=0;!(E=b.next()).done;)d=E.value,h=y+r(d,T++),v+=o(d,h,n,i);else for(;!(E=b.next()).done;){var _=E.value;_&&(d=_[1],h=y+c.escape(_[0])+l+r(d,0),v+=o(d,h,n,i))}}else if("object"===f){var P="",w=String(e);a("31","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,P)}}return v}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(35),s=(e(13),e(16)),u=e(33),c=(e(43),e(2)),p=(e(45),"."),l=":";t.exports=i},{13:13,16:16,2:2,33:33,35:35,43:43,45:45}],38:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)?void 0:a("1",n,e);var r=t[n];Array.isArray(r)?void 0:a("2",n,r)}function i(e,t){if("object"!=typeof t?a("3",v.join(", "),f):void 0,u.call(t,f))return 1!==Object.keys(t).length?a("4",f):void 0,t[f];var n=r(e);if(u.call(t,d)){var m=t[d];m&&"object"==typeof m?void 0:a("5",d,m),n&&"object"==typeof n?void 0:a("6",d,n),s(n,t[d])}u.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),u.call(t,l)&&(Array.isArray(e)?void 0:a("7",l,e),Array.isArray(t[l])?void 0:a("8",l,t[l]),t[l].forEach(function(e){Array.isArray(e)?void 0:a("8",l,t[l]),n.splice.apply(n,e)})),u.call(t,h)&&("function"!=typeof t[h]?a("9",h,t[h]):void 0,n=t[h](n));for(var g in t)y.hasOwnProperty(g)&&y[g]||(n[g]=i(e[g],t[g]));return n}var a=e(35),s=e(46),u=(e(43),{}.hasOwnProperty),c="$push",p="$unshift",l="$splice",f="$set",d="$merge",h="$apply",v=[c,p,l,f,d,h],y={};v.forEach(function(e){y[e]=!0}),t.exports=i},{35:35,43:43,46:46}],39:[function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var o=e(43),i={addClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?o(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};t.exports=i},{43:43}],40:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],41:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],42:[function(e,t,n){"use strict";var r={};t.exports=r},{}],43:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,i,a,s,u],l=0;c=new Error(t.replace(/%s/g,function(){return p[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};t.exports=r},{}],44:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],45:[function(e,t,n){"use strict";var r=e(41),o=r;t.exports=o},{41:41}],46:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(e,t){for(var n,o,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var p=0;p<o.length;p++)a.call(n,o[p])&&(s[o[p]]=n[o[p]])}}return s}},{}]},{},[30])(30)});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return function(e){return e()}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=r},{}],2:[function(e,t,n){"use strict";var r=e(33),o=e(131),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{131:131,33:33}],3:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case"topCompositionStart":return k.compositionStart;case"topCompositionEnd":return k.compositionEnd;case"topCompositionUpdate":return k.compositionUpdate}}function a(e,t){return"topKeyDown"===e&&t.keyCode===_}function s(e,t){switch(e){case"topKeyUp":return y.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==_;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(C?o=i(e):N?s(e,n)&&(o=k.compositionEnd):a(e,n)&&(o=k.compositionStart),!o)return null;x&&(N||o!==k.compositionStart?o===k.compositionEnd&&N&&(l=N.getData()):N=m.getPooled(r));var c=v.getPooled(o,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return f.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case"topCompositionEnd":return u(t);case"topKeyPress":var n=t.which;return n!==w?null:(P=!0,T);case"topTextInput":var r=t.data;return r===T&&P?null:r;default:return null}}function p(e,t){if(N){if("topCompositionEnd"===e||!C&&s(e,t)){var n=N.getData();return m.release(N),N=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!o(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return x?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=E?c(e,n):p(e,n),!o)return null;var i=g.getPooled(k.beforeInput,t,n,r);return i.data=o,f.accumulateTwoPhaseDispatches(i),i}var f=e(19),h=e(123),m=e(20),v=e(78),g=e(82),y=[9,13,27,32],_=229,C=h.canUseDOM&&"CompositionEvent"in window,b=null;h.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var E=h.canUseDOM&&"TextEvent"in window&&!b&&!r(),x=h.canUseDOM&&(!C||b&&b>8&&b<=11),w=32,T=String.fromCharCode(w),k={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},P=!1,N=null,S={eventTypes:k,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=S},{123:123,19:19,20:20,78:78,82:82}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(123),i=(e(58),e(125),e(94)),a=e(136),s=e(140),u=(e(142),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=u(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)o[p]="";else o[a]=""}}}};t.exports=d},{123:123,125:125,136:136,140:140,142:142,4:4,58:58,94:94}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(113),i=e(24),a=(e(137),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());t.exports=i.addPoolingTo(a)},{113:113,137:137,24:24}],7:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=x.getPooled(P.change,S,e,w(e));_.accumulateTwoPhaseDispatches(t),E.batchedUpdates(i,t)}function i(e){y.enqueueEvents(e),y.processEventQueue(!1)}function a(e,t){N=e,S=t,N.attachEvent("onchange",o)}function s(){N&&(N.detachEvent("onchange",o),N=null,S=null)}function u(e,t){if("topChange"===e)return t}function l(e,t,n){"topFocus"===e?(s(),a(t,n)):"topBlur"===e&&s()}function c(e,t){N=e,S=t,M=e.value,I=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",A),N.attachEvent?N.attachEvent("onpropertychange",d):N.addEventListener("propertychange",d,!1)}function p(){N&&(delete N.value,N.detachEvent?N.detachEvent("onpropertychange",d):N.removeEventListener("propertychange",d,!1),N=null,S=null,M=null,I=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==M&&(M=t,o(e))}}function f(e,t){if("topInput"===e)return t}function h(e,t,n){"topFocus"===e?(p(),c(t,n)):"topBlur"===e&&p()}function m(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&N&&N.value!==M)return M=N.value,S}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if("topClick"===e)return t}var y=e(16),_=e(19),C=e(123),b=e(33),E=e(71),x=e(80),w=e(102),T=e(110),k=e(111),P={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},N=null,S=null,M=null,I=null,O=!1;C.canUseDOM&&(O=T("change")&&(!document.documentMode||document.documentMode>8));var R=!1;C.canUseDOM&&(R=T("input")&&(!document.documentMode||document.documentMode>11));var A={get:function(){return I.get.call(this)},set:function(e){M=""+e,I.set.call(this,e)}},D={eventTypes:P,extractEvents:function(e,t,n,o){var i,a,s=t?b.getNodeFromInstance(t):window;if(r(s)?O?i=u:a=l:k(s)?R?i=f:(i=m,a=h):v(s)&&(i=g),i){var c=i(e,t);if(c){var p=x.getPooled(P.change,c,n,o);return p.type="change",_.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};t.exports=D},{102:102,110:110,111:111,123:123,16:16,19:19,33:33,71:71,80:80}],8:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(m(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&m(r,document.createTextNode(n),o):n?(h(o,n),u(r,o,t)):u(r,e,t)}var c=e(9),p=e(13),d=(e(33),e(58),e(93)),f=e(115),h=e(116),m=d(function(e,t,n){e.insertBefore(t,n)}),v=p.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":o(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":i(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":f(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};t.exports=g},{115:115,116:116,13:13,33:33,58:58,9:9,93:93}],9:[function(e,t,n){"use strict";function r(e){if(v){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)g(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){v?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){v?e.html=t:p(e.node,t)}function s(e,t){v?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(10),p=e(115),d=e(93),f=e(116),h=1,m=11,v="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=g,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{10:10,115:115,116:116,93:93}],10:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],11:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(113),i=(e(137),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?o("48",p):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};t.exports=s},{113:113,137:137}],12:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=e(11),a=(e(33),e(58),e(112)),s=(e(142),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{11:11,112:112,142:142,33:33,58:58}],13:[function(e,t,n){"use strict";var r=e(113),o=e(9),i=e(123),a=e(128),s=e(129),u=(e(137),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{113:113,123:123,128:128,129:129,137:137,9:9}],14:[function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=r},{}],15:[function(e,t,n){"use strict";var r=e(19),o=e(33),i=e(84),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,p;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;p=d?o.getClosestInstanceFromNode(d):null}else c=null,p=t;if(c===p)return null;var f=null==c?u:o.getNodeFromInstance(c),h=null==p?u:o.getNodeFromInstance(p),m=i.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=f,m.relatedTarget=h;var v=i.getPooled(a.mouseEnter,p,n,s);return v.type="mouseenter",v.target=h,v.relatedTarget=f,r.accumulateEnterLeaveDispatches(m,v,c,p),[m,v]}};t.exports=s},{19:19,33:33,84:84}],16:[function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var i=e(113),a=e(17),s=e(18),u=e(50),l=e(91),c=e(98),p=(e(137),{}),d=null,f=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},m=function(e){return f(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?i("94",t,typeof n):void 0;var r=v(e),o=p[t]||(p[t]={});o[r]=n;var s=a.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];if(r){var o=v(e);delete r[o]}},deleteAllListeners:function(e){var t=v(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var o,i=a.plugins,s=0;s<i.length;s++){var u=i[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=l(o,c))}}return o},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d?i("95"):void 0,u.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};t.exports=g},{113:113,137:137,17:17,18:18,50:50,91:91,98:98}],17:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(113),s=(e(137),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a("102",n):void 0,u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=l.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{113:113,137:137}],18:[function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function i(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(113),m=e(50),v=(e(137),e(142),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),g={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:v};t.exports=g},{113:113,137:137,142:142,50:50}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=r(e,n,t);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){v(e,u)}var f=e(16),h=e(18),m=e(91),v=e(98),g=(e(142),f.getListener),y={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=y},{142:142,16:16,18:18,91:91,98:98}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(143),i=e(24),a=e(107);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{107:107,143:143,24:24}],21:[function(e,t,n){"use strict";var r=e(11),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=l},{11:11}],22:[function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],23:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(113),u=e(121),l=e(64),c=(e(137),e(142),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.PropTypes.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,"prop",null,l);o instanceof Error&&!(o.message in d)&&(d[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{113:113,121:121,137:137,142:142,64:64}],24:[function(e,t,n){"use strict";var r=e(113),o=(e(137),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=o,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=u,n},d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=d},{113:113,137:137}],25:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=f++,p[e[m]]={}),p[e[m]]}var o,i=e(143),a=e(17),s=e(51),u=e(90),l=e(108),c=e(110),p={},d=!1,f=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=a.registrationNameDependencies[e],s=0;s<i.length;s++){var u=i[s];o.hasOwnProperty(u)&&o[u]||("topWheel"===u?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),o.topBlur=!0,o.topFocus=!0):h.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,h[u],n),o[u]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}}});t.exports=v},{108:108,110:110,143:143,17:17,51:51,90:90}],26:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(66),i=e(109),a=(e(22),e(117)),s=e(118);e(142);"undefined"!=typeof n&&n.env,1;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{109:109,117:117,118:118,142:142,22:22,66:66}],27:[function(e,t,n){"use strict";var r=e(8),o=e(37),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{37:37,8:8}],28:[function(e,t,n){"use strict";var r=e(113),o=(e(137),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{113:113,137:137}],29:[function(e,t,n){"use strict";function r(e){}function o(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=e(113),u=e(143),l=e(121),c=e(28),p=e(120),d=e(50),f=e(57),h=(e(58),e(62)),m=e(66),v=e(130),g=(e(137),e(141)),y=e(117),_=(e(142),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=f.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var C=1,b={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=C++,this._hostParent=t,this._hostContainerInfo=n;var c,p=this._currentElement.props,d=this._processContext(u),h=this._currentElement.type,m=e.getUpdateQueue(),g=i(h),y=this._constructComponent(g,p,d,m);g||null!=y&&null!=y.render?a(h)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(c=y,o(h,c),null===y||y===!1||l.isValidElement(y)?void 0:s("105",h.displayName||h.name||"Component"),y=new r(h),this._compositeType=_.StatelessFunctional),y.props=p,y.context=d,y.refs=v,y.updater=m,this._instance=y,f.set(y,this);var b=y.state;void 0===b&&(y.state=b=null),"object"!=typeof b||Array.isArray(b)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var E;return E=y.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,n,e,u):this.performInitialMount(c,t,n,e,u),y.componentDidMount&&e.getReactMountReady().enqueue(y.componentDidMount,y),E},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,t,n,this._processChildContext(o),a);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,f.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return v;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in t)o in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===o?a=i.context:(a=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var p=this._processPendingState(c,a),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,a):this._compositeType===_.PureClass&&(d=!g(l,c)||!g(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,a,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent(),i=0;if(y(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=h.getType(o);this._renderedNodeType=s;var u=this._instantiateReactComponent(o,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==_.StatelessFunctional){p.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{p.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||l.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),o=n.refs===v?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===_.StatelessFunctional?null:e},_instantiateReactComponent:null};t.exports=b},{113:113,117:117,120:120,121:121,130:130,137:137,141:141,142:142,143:143,28:28,50:50,57:57,58:58,62:62,66:66}],30:[function(e,t,n){"use strict";var r=e(33),o=e(47),i=e(60),a=e(66),s=e(71),u=e(72),l=e(96),c=e(103),p=e(114);e(142);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{103:103,114:114,142:142,33:33,47:47,60:60,66:66,71:71,72:72,96:96}],31:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&(X[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",r(e)):void 0)}function i(e,t,n,r){if(!(r instanceof R)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===q,s=i?o._node:o._ownerDocument;F(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;N.postMountWrapper(e)}function u(){var e=this;I.postMountWrapper(e)}function l(){var e=this;S.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:m("63");var t=U(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[T.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in K)K.hasOwnProperty(n)&&e._wrapperState.listeners.push(T.trapBubbledEvent(n,K[n],t));break;case"source":e._wrapperState.listeners=[T.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[T.trapBubbledEvent("topError","error",t),T.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[T.trapBubbledEvent("topReset","reset",t),T.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[T.trapBubbledEvent("topInvalid","invalid",t)]}}function p(){M.postUpdateWrapper(this)}function d(e){$.call(G,e)||(Q.test(e)?void 0:m("65",e),G[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e(113),v=e(143),g=e(2),y=e(5),_=e(9),C=e(10),b=e(11),E=e(12),x=e(16),w=e(17),T=e(25),k=e(32),P=e(33),N=e(38),S=e(39),M=e(40),I=e(43),O=(e(58),e(61)),R=e(68),A=(e(129),e(95)),D=(e(137),e(110),e(141),e(119),e(142),k),L=x.deleteListener,U=P.getNodeFromInstance,F=T.listenTo,V=w.registrationNameModules,B={string:!0,number:!0},j="style",W="__html",H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},q=11,K={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},X=v({menuitem:!0},z),Q=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,G={},$={}.hasOwnProperty,Z=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=Z++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"input":N.mountWrapper(this,i,t),i=N.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"option":S.mountWrapper(this,i,t),i=S.getHostProps(this,i);break;case"select":M.mountWrapper(this,i,t),i=M.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"textarea":I.mountWrapper(this,i,t),i=I.getHostProps(this,i),e.getReactMountReady().enqueue(c,this)}o(this,i);var a,p;null!=t?(a=t._namespaceURI,p=t._tag):n._tag&&(a=n._namespaceURI,p=n._tag),(null==a||a===C.svg&&"foreignobject"===p)&&(a=C.html),a===C.html&&("svg"===this._tag?a=C.svg:"math"===this._tag&&(a=C.mathml)),this._namespaceURI=a;var d;if(e.useCreateElement){var f,h=n._ownerDocument;if(a===C.html)if("script"===this._tag){var m=h.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",f=m.removeChild(m.firstChild)}else f=i.is?h.createElement(this._currentElement.type,i.is):h.createElement(this._currentElement.type);else f=h.createElementNS(a,this._currentElement.type);P.precacheNode(this,f),this._flags|=D.hasCachedChildNodes,this._hostParent||E.setAttributeForRoot(f),this._updateDOMProperties(null,i,e);var y=_(f);this._createInitialChildren(e,i,r,y),d=y}else{var b=this._createOpenTagMarkupAndPutListeners(e,i),x=this._createContentMarkup(e,i,r);d=!x&&z[this._tag]?b+"/>":b+">"+x+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(V.hasOwnProperty(r))o&&i(this,r,o,e);else{r===j&&(o&&(o=this._previousStyleCopy=v({},t.style)),o=y.createMarkupForStyles(o,this));var a=null;null!=this._tag&&f(this._tag,t)?H.hasOwnProperty(r)||(a=E.createMarkupForCustomAttribute(r,o)):a=E.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+E.createMarkupForRoot()),n+=" "+E.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=B[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=A(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Y[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&_.queueHTML(r,o.__html);else{var i=B[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&_.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)_.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"input":i=N.getHostProps(this,i),a=N.getHostProps(this,a);break;case"option":i=S.getHostProps(this,i),a=S.getHostProps(this,a);break;case"select":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"textarea":i=I.getHostProps(this,i),a=I.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":N.updateWrapper(this);break;case"textarea":I.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===j){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else V.hasOwnProperty(r)?e[r]&&L(this,r):f(this._tag,e)?H.hasOwnProperty(r)||E.deleteValueForAttribute(U(this),r):(b.properties[r]||b.isCustomAttribute(r))&&E.deleteValueForProperty(U(this),r);for(r in t){var u=t[r],l=r===j?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===j)if(u?u=this._previousStyleCopy=v({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(V.hasOwnProperty(r))u?i(this,r,u,n):l&&L(this,r);else if(f(this._tag,t))H.hasOwnProperty(r)||E.setValueForAttribute(U(this),r,u);else if(b.properties[r]||b.isCustomAttribute(r)){var c=U(this);null!=u?E.setValueForProperty(c,r,u):E.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(U(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=B[typeof e.children]?e.children:null,i=B[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return U(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),P.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return U(this)}},v(h.prototype,h.Mixin,O.Mixin),t.exports=h},{10:10,11:11,110:110,113:113,119:119,12:12,129:129,137:137,141:141,142:142,143:143,16:16,17:17,2:2,25:25,32:32,33:33,38:38,39:39,40:40,43:43,5:5,58:58,61:61,68:68,9:9,95:95}],32:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],33:[function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function o(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=o(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=o(u)._domID;if(0!==l){for(;null!==a;a=a.nextSibling)if(r(a,l)){i(u,a);continue e}p("32",l)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?p("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=e(113),d=e(11),f=e(32),h=(e(137),d.ID_ATTRIBUTE_NAME),m=f,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:i,uncacheNode:a};t.exports=g},{11:11,113:113,137:137,32:32}],34:[function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e(119),9);t.exports=r},{119:119}],35:[function(e,t,n){"use strict";var r=e(143),o=e(9),i=e(33),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{143:143,33:33,9:9}],36:[function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};t.exports=r},{}],37:[function(e,t,n){"use strict";var r=e(8),o=e(33),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{33:33,8:8}],38:[function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);c.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=l.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var p=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==a&&f.form===a.form){var h=l.getInstanceFromNode(f);h?void 0:i("90"),c.asap(r,h)}}}return n}var i=e(113),a=e(143),s=e(12),u=e(23),l=e(33),c=e(71),p=(e(137),e(142),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t),o=a({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&s.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=l.getNodeFromInstance(e),o=u.getValue(t);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=p},{113:113,12:12,137:137,142:142,143:143,23:23,33:33,71:71}],39:[function(e,t,n){"use strict";function r(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(143),i=e(121),a=e(33),s=e(40),u=(e(142),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{121:121,142:142,143:143,33:33,40:40}],40:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=u.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e(143),s=e(23),u=e(33),l=e(71),c=(e(142),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{142:142,143:143,23:23,33:33,71:71}],41:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(123),l=e(106),c=e(107),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{106:106,107:107,123:123}],42:[function(e,t,n){"use strict";var r=e(113),o=e(143),i=e(8),a=e(9),s=e(33),u=e(95),l=(e(137),e(119),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(i),d=c.createComment(l),f=a(c.createDocumentFragment());return a.queueChild(f,a(p)),this._stringText&&a.queueChild(f,a(c.createTextNode(this._stringText))),a.queueChild(f,a(d)),s.precacheNode(this,p),this._closingComment=d,f}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+i+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{113:113,119:119,137:137,143:143,33:33,8:8,9:9,95:95}],43:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e(113),a=e(143),s=e(23),u=e(33),l=e(71),c=(e(137),e(142),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a?i("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:i("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});t.exports=c},{113:113,137:137,142:142,143:143,23:23,33:33,71:71}],44:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-->0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",o);for(l=u.length;l-->0;)n(u[l],"captured",i)}var u=e(113);e(137);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{113:113,137:137}],45:[function(e,t,n){"use strict";var r=e(121),o=e(30),i=o;r.addons&&(r.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i),t.exports=i},{121:121,30:30}],46:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(143),i=e(71),a=e(89),s=e(129),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{129:129,143:143,71:71,89:89}],47:[function(e,t,n){"use strict";function r(){x||(x=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:b,BeforeInputEventPlugin:i}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(o),y.DOMProperty.injectDOMPropertyConfig(l),y.DOMProperty.injectDOMPropertyConfig(C),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),y.Updates.injectReconcileTransaction(_),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var o=e(1),i=e(3),a=e(7),s=e(14),u=e(15),l=e(21),c=e(27),p=e(31),d=e(33),f=e(35),h=e(44),m=e(42),v=e(46),g=e(52),y=e(55),_=e(65),C=e(73),b=e(74),E=e(75),x=!1;t.exports={inject:r}},{1:1,14:14,15:15,21:21,27:27,3:3,31:31,33:33,35:35,42:42,44:44,46:46,52:52,55:55,65:65,7:7,73:73,74:74,75:75}],48:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],49:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],50:[function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===o&&(o=e)}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],51:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};t.exports=i},{16:16}],52:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var s=e(143),u=e(122),l=e(123),c=e(24),p=e(33),d=e(71),f=e(102),h=e(134);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{102:102,122:122,123:123,134:134,143:143,24:24,33:33,71:71}],53:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],54:[function(e,t,n){"use strict";function r(e){return s?void 0:a("111",e.type),new s(e)}function o(e){return new u(e)}function i(e){return e instanceof u}var a=e(113),s=(e(137),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:l};t.exports=c},{113:113,137:137}],55:[function(e,t,n){"use strict";var r=e(11),o=e(16),i=e(18),a=e(28),s=e(49),u=e(25),l=e(54),c=e(71),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};t.exports=p},{11:11,16:16,18:18,25:25,28:28,49:49,54:54,71:71}],56:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(41),i=e(126),a=e(131),s=e(132),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{126:126,131:131,132:132,41:41}],57:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],58:[function(e,t,n){"use strict";var r=null;t.exports={debugTool:r}},{}],59:[function(e,t,n){"use strict";var r=e(92),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{92:92}],60:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===A?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(I)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=w.mountComponent(e,n,null,_(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),k.ReactReconcileTransaction.release(o)}function u(e,t,n){for(w.unmountComponent(e,n),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==A&&e.nodeType!==D)}function p(e){var t=o(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(113),h=e(9),m=e(11),v=e(121),g=e(25),y=(e(120),e(33)),_=e(34),C=e(36),b=e(53),E=e(57),x=(e(58),e(59)),w=e(66),T=e(70),k=e(71),P=e(130),N=e(109),S=(e(137),e(115)),M=e(117),I=(e(142),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,R=1,A=9,D=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props.child},F.isReactTopLevelWrapper=!0;var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),o&&T.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:f("37"),g.ensureScrollValueMonitoring();var o=N(e,!1);k.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)?void 0:f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)?void 0:f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(F,{child:t});if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=P;var c=d(n);if(c){var p=c._currentElement,h=p.props.child;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,g),m}V.unmountComponentAtNode(n)}var y=o(n),_=y&&!!i(y),C=l(n),b=_&&!c&&!C,x=V._renderNewRootComponent(s,n,b,a)._renderedComponent.getPublicInstance();return r&&r.call(x),x},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:f("40");var t=d(e);return t?(delete L[t._instance.rootID],k.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(O),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)?void 0:f("41"),i){var s=o(t);if(x.canReuseMarkup(e,s))return void y.precacheNode(n,s);var u=s.getAttribute(x.CHECKSUM_ATTR_NAME);s.removeAttribute(x.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(x.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===A?f("42",m):void 0}if(t.nodeType===A?f("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else S(t,e),y.precacheNode(n,t.firstChild)}};t.exports=V},{109:109,11:11,113:113,115:115,117:117,120:120,121:121,130:130,137:137,142:142,25:25,33:33,34:34,36:36,53:53,57:57,58:58,59:59,66:66,70:70,71:71,9:9}],61:[function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(113),p=e(28),d=(e(57),e(58),e(120),e(66)),f=e(26),h=(e(129),e(97)),m=(e(137),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a,s=0;return a=h(t,s),f.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=d.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,f=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,f)),f=Math.max(v._mountIndex,f),v._mountIndex=p):(v&&(f=Math.max(v._mountIndex,f)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=d.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=m},{113:113,120:120,129:129,137:137,26:26,28:28,57:57,58:58,66:66,97:97}],62:[function(e,t,n){"use strict";var r=e(113),o=e(121),i=(e(137),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{113:113,121:121,137:137}],63:[function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=e(113),i=(e(137),{addComponentAsRefTo:function(e,t,n){r(n)?void 0:o("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)?void 0:o("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=i},{113:113,137:137}],64:[function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},{}],65:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(143),i=e(6),a=e(24),s=e(25),u=e(56),l=(e(58),e(89)),c=e(70),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l,m),a.addPoolingTo(r),t.exports=r},{143:143,24:24,25:25,56:56,58:58,6:6,70:70,89:89}],66:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(67),i=(e(58),e(142),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{142:142,58:58,67:67}],67:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(63),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{63:63}],68:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(143),i=e(24),a=e(89),s=(e(58),e(69)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a,c),i.addPoolingTo(r),t.exports=r},{143:143,24:24,58:58,69:69,89:89}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){}var i=e(70),a=(e(142),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):o(e,"setState")},e}());t.exports=a},{142:142,70:70}],70:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n?n:null}var a=e(113),s=(e(120),e(57)),u=(e(58),e(71)),l=(e(137),e(142),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,o(e)):void 0}});t.exports=l},{113:113,120:120,137:137,142:142,57:57,58:58,71:71}],71:[function(e,t,n){"use strict";function r(){P.ReactReconcileTransaction&&b?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=P.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){return r(),b.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?c("124",t,g.length):void 0,g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){return r(),b.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void b.batchedUpdates(u,e)}function l(e,t){b.isBatchingUpdates?void 0:c("125"),_.enqueue(e,t),C=!0}var c=e(113),p=e(143),d=e(6),f=e(24),h=e(53),m=e(66),v=e(89),g=(e(137),[]),y=0,_=d.getPooled(),C=!1,b=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[E,x];p(o.prototype,v,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,P.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var T=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(C){C=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},k={injectReconcileTransaction:function(e){e?void 0:c("126"),P.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,b=e}},P={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:k,asap:l};t.exports=P},{113:113,137:137,143:143,24:24,53:53,6:6,66:66,89:89}],72:[function(e,t,n){"use strict";t.exports="15.4.2"},{}],73:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],74:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!d(g,n)){g=n;var o=l.getPooled(h.select,v,e,t);return o.type="select",o.target=m,i.accumulateTwoPhaseDispatches(o),o}return null}var i=e(19),a=e(123),s=e(33),u=e(56),l=e(80),c=e(132),p=e(111),d=e(141),f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,_=!1,C={eventTypes:h,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(i)||"true"===i.contentEditable)&&(m=i,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,o(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return o(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(_=!0)}};t.exports=C},{111:111,123:123,132:132,141:141,19:19,33:33,56:56,80:80}],75:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var i=e(113),a=e(122),s=e(19),u=e(33),l=e(76),c=e(77),p=e(80),d=e(81),f=e(83),h=e(84),m=e(79),v=e(85),g=e(86),y=e(87),_=e(88),C=e(129),b=e(99),E=(e(137),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=o,x[r]=o});var w={},T={eventTypes:E,extractEvents:function(e,t,n,r){var o=x[e];if(!o)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===b(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=_;break;case"topCopy":case"topCut":case"topPaste":a=c}a?void 0:i("86",e);var u=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!o(e._tag)){var i=r(e),s=u.getNodeFromInstance(e);w[i]||(w[i]=a.listen(s,"click",C))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var n=r(e);w[n].remove(),delete w[n]}}};t.exports=T},{113:113,122:122,129:129,137:137,19:19,33:33,76:76,77:77,79:79,80:80,81:81,83:83,84:84,85:85,86:86,87:87,88:88,99:99}],76:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],77:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{80:80}],78:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],79:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{84:84}],80:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(143),i=e(24),a=e(129),s=(e(142),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{129:129,142:142,143:143,24:24}],81:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{87:87}],82:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],83:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(99),a=e(100),s=e(101),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{100:100,101:101,87:87,99:99}],84:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(90),a=e(101),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{101:101,87:87,90:90}],85:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(101),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{101:101,87:87}],86:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],87:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i=e(102),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{102:102,80:80}],88:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{84:84}],89:[function(e,t,n){"use strict";var r=e(113),o=(e(137),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};t.exports=i},{113:113,137:137}],90:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],91:[function(e,t,n){"use strict";function r(e,t){return null==t?o("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(113);e(137);t.exports=r},{113:113,137:137}],92:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=i&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],93:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],94:[function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);return o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),i=(e(142),o.isUnitlessNumber);t.exports=r},{142:142,4:4}],95:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],96:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?o("44"):o("45",Object.keys(e)))}var o=e(113),i=(e(120),e(33)),a=e(57),s=e(103);e(137),e(142);t.exports=r},{103:103,113:113,120:120,137:137,142:142,33:33,57:57}],97:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e,i=void 0===o[n];i&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(22),e(118));e(142);"undefined"!=typeof n&&n.env,t.exports=o}).call(this,void 0)},{118:118,142:142,22:22}],98:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],99:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],100:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(99),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{99:99}],101:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],102:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],103:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(62);t.exports=r},{62:62}],104:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],105:[function(e,t,n){"use strict";function r(){return o++}var o=1;t.exports=r},{}],106:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],107:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(123),i=null;t.exports=r},{123:123}],108:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(123),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{123:123}],109:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||e===!1)n=l.create(i);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var d="";d+=r(s._owner),a("130",null==u?u:typeof u,d)}"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(113),s=e(143),u=e(29),l=e(49),c=e(54),p=(e(105),e(137),e(142),function(e){this.construct(e)});s(p.prototype,u,{_instantiateReactComponent:i}),t.exports=i},{105:105,113:113,137:137,142:142,143:143,29:29,49:49,54:54}],110:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(123);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{123:123}],111:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(95);t.exports=r},{95:95}],113:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],114:[function(e,t,n){"use strict";var r=e(60);t.exports=r.renderSubtreeIntoContainer},{60:60}],115:[function(e,t,n){"use strict";var r,o=e(123),i=e(10),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(93),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{10:10,123:123,93:93}],116:[function(e,t,n){"use strict";var r=e(123),o=e(95),i=e(115),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void i(e,o(t))})),t.exports=a},{115:115,123:123,95:95}],117:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var _,C=y.call(e);if(y!==e.entries)for(var b=0;!(_=C.next()).done;)f=_.value,h=v+r(f,b++),m+=o(f,h,n,i);else for(;!(_=C.next()).done;){var E=_.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var x="",w=String(e);a("31","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,x)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(113),s=(e(120),e(48)),u=e(104),l=(e(137),e(22)),c=(e(142),"."),p=":";t.exports=i},{104:104,113:113,120:120,137:137,142:142,22:22,48:48}],119:[function(e,t,n){"use strict";var r=(e(143),e(129)),o=(e(142),r);t.exports=o},{129:129,142:142,143:143}],120:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.ReactCurrentOwner},{}],121:[function(t,n,r){"use strict";n.exports=e},{}],122:[function(e,t,n){"use strict";var r=e(129),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{129:129}],123:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],124:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],125:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(124),i=/^-ms-/;t.exports=r},{124:124}],126:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(139);t.exports=r},{139:139}],127:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(137);t.exports=i},{137:137}],128:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(123),a=e(127),s=e(133),u=e(137),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{123:123,127:127,133:133,137:137}],129:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],130:[function(e,t,n){"use strict";var r={};t.exports=r},{}],131:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],132:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){return a?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(123),i=e(137),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{123:123,137:137}],134:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],135:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],136:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(135),i=/^ms-/;t.exports=r},{135:135}],137:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};t.exports=r},{}],138:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(138);t.exports=r},{138:138}],140:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],141:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],142:[function(e,t,n){"use strict";var r=e(129),o=r;t.exports=o},{129:129}],143:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(e,t){for(var n,o,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s}},{}]},{},[45])(45)})});;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.SharedWidgets=e(require("react"),require("react-dom")):t.SharedWidgets=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="/dist/",e(0)}([function(t,e,o){"use strict";var i=o(1);e.SuppressClickBustingClass=i.SuppressClickBustingClass;var n=o(2);e.setConfig=n.setConfig;var r=o(3);e.TabStyles=r.TabStyles;var s=o(4);e.assign=s.assign;var a=o(9);e.conditional=a.conditional,e.testId=a.testId,e.isAlphabeticChar=a.isAlphabeticChar;var l=o(10);e.InteractiveDomHoC=l.InteractiveDomHoC,e.InteractiveDomHoCDecorator=l.InteractiveDomHoCDecorator,e.InteractiveDomWrapper=l.InteractiveDomWrapper;var d=o(17);e.VerticalOriginOption=d.VerticalOriginOption,e.HorizontalOriginOption=d.HorizontalOriginOption,e.Overlay=d.Overlay;var c=o(14);e.PointerEventAdapterManager=c.PointerEventAdapterManager;var p=o(12);e.PointerEventWrapper=p.PointerEventWrapper,e.PointerEventHoC=p.PointerEventHoC,e.PointerEventHoCDecorator=p.PointerEventHoCDecorator;var u=o(15);e.mergeEventHandlers=u.mergeEventHandlers,e.convertToStatefulComponentClass=u.convertToStatefulComponentClass,e.getComponentName=u.getComponentName;var h=o(27);e.StackingComponentHOC=h.StackingComponentHOC,e.StackingComponentWrapper=h.StackingComponentWrapper;var g=o(28);e.SingletonStyleSheet=g.SingletonStyleSheet,e.StyleSheet=g.StyleSheet;var y=o(29);e.Unicode=y.Unicode;var I=o(30);e.isMouseEvent=I.isMouseEvent,e.isTouchEvent=I.isTouchEvent,e.getClientPosition=I.getClientPosition;var b=o(31);e.ButtonType=b.ButtonType,e.ButtonWidget=b.ButtonWidget;var f=o(34);e.CheckBoxWidget=f.CheckBoxWidget;var m=o(37);e.CheckBoxWithLabelGroupWidget=m.CheckBoxWithLabelGroupWidget;var C=o(38);e.CheckBoxWithLabelWidget=C.CheckBoxWithLabelWidget;var v=o(40);e.DateTimeInputWidget=v.DateTimeInputWidget,e.DateTimeInputType=v.DateTimeInputType;var w=o(45);e.DialogPositioningBehavior=w.DialogPositioningBehavior,e.DialogType=w.DialogType,e.DialogWidget=w.DialogWidget;var M=o(59);e.DialogFooterButtonsWidget=M.DialogFooterButtonsWidget;var S=o(60);e.DiscreteProgressBarWidget_UNFINISHED=S.DiscreteProgressBarWidget_UNFINISHED;var L=o(35);e.Block=L.Block,e.InlineBlock=L.InlineBlock,e.Img=L.Img;var D=o(62);e.DropdownType=D.DropdownType,e.DropdownWidget=D.DropdownWidget;var T=o(33);e.DynamicThemeComponent=T.DynamicThemeComponent;var x=o(64);e.FlyoutListMenuWidget=x.FlyoutListMenuWidget;var P=o(39);e.InputLabelWidget=P.InputLabelWidget;var z=o(69);e.LineTextFieldWidget=z.LineTextFieldWidget;var j=o(41);e.OutlineTextFieldWidget=j.OutlineTextFieldWidget;var H=o(70);e.RadioLayoutType=H.RadioLayoutType,e.RadioButtonWithLabelGroupWidget=H.RadioButtonWithLabelGroupWidget;var A=o(73);e.RichTextEditOutlineWidget_UNFINISHED=A.RichTextEditOutlineWidget_UNFINISHED;var W=o(74);e.RichTextEditWidget_UNFINISHED=W.RichTextEditWidget_UNFINISHED;var k=o(75);e.SearchFieldWidget=k.SearchFieldWidget;var B=o(76);e.StepperType=B.StepperType,e.StepperWidget=B.StepperWidget;var N=o(42);e.TextInputType=N.TextInputType,e.TextFieldInputWidget=N.TextFieldInputWidget;var E=o(81);e.ToggleTextWidget=E.ToggleTextWidget,e.SelectedToggle=E.SelectedToggle;var O=o(83);e.ColorGridWidget=O.ColorGridWidget,e.ColorGridPreset=O.ColorGridPreset;var R=o(84);e.ColorPickerWidget=R.ColorPickerWidget},function(t,e){"use strict";e.SuppressClickBustingClass="tabDontBustMyClicks"},function(t,e,o){"use strict";var i=o(3),n=o(5),r=o(6),s=o(7),a=o(8),l=function(t){t.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(t.styleMediaQueries)},d=function(t){t.styles&&(i.overrideTabStyles(t.styles),a.WidgetManager.rerenderWidgets())},c=function(t){t.defaultStackingRootId&&r.StackingRootConfig.setDefaultRootContainerId(t.defaultStackingRootId)},p=function(t){t.defaultScrollingRootId&&n.ScrollingRootConfig.setDefaultRootContainerId(t.defaultScrollingRootId)},u=function(t){d(t),c(t),p(t),l(t)};e.setConfig=u},function(t,e,o){"use strict";var i=o(4),n=6,r=n,s="Benton Sans, Arial, Helvetica, sans-serif",a=["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"],l=["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"],d=["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"],c={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},p={PrimaryDark:"rgba(0, 0, 0, 0.90)",Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},u={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.35)"},h={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",Focus:"rgb(52, 152, 219)",L1:u.Grey250,L2:u.Grey245,L2_5:u.Grey235,L3:u.Grey230,L4:u.Grey225,L5:u.Grey212,L6:u.Grey203,L7:u.Grey180,L8:u.Grey102,L9:u.Grey51,L9Disabled:u.Grey51Disabled,F1:u.Grey250,F2:u.Grey245,F2_5:u.Grey235,F3:u.Grey230,F4:u.Grey225,F5:u.Grey212,F6:u.Grey203,F7:u.Grey180,F7Disabled:u.Grey180Disabled,F8:u.Grey102,F9:u.Grey51},g={Colors:h,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:n/2,DefaultSpace:n,MediumSpace:2*n,LargeSpace:3*n,ExtraLargeSpace:4*n},Sizing:{BaseUnit:r,RowHeight:24,ButtonMinWidth:15*r,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20,MultiLineInputLineHeight:14,ColorSwatchSize:15},Typography:{FontFamily:s,Sizing:c,Color:p},Opacity:{OpaqueGlass:.33,ClearGlass:.01},ColorPickerPresets:{Dark:a.concat(l),Light:a.concat(d)}};e.TabStyles=g;var y=function(t){g.Colors=i.assign({},g.Colors,t.Colors),g.Opacity=i.assign({},g.Opacity,t.Opacity),g.Shadow=i.assign({},g.Shadow,t.Shadow),g.Sizing=i.assign({},g.Sizing,t.Sizing),g.Spacing=i.assign({},g.Spacing,t.Spacing),t.Typography&&(g.Typography.FontFamily=t.Typography.FontFamily?t.Typography.FontFamily:g.Typography.FontFamily,g.Typography.Color=i.assign({},g.Typography.Color,t.Typography.Color),g.Typography.Sizing=i.assign({},g.Typography.Sizing,t.Typography.Sizing))};e.overrideTabStyles=y},function(t,e){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=Object.assign||function(t,e){for(var r,s,a=o(t),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var d in r)i.call(r,d)&&(a[d]=r[d]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var c=0;c<s.length;c++)n.call(r,s[c])&&(a[s[c]]=r[s[c]])}}return a};e.assign=r},function(t,e){"use strict";var o=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultScrollingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultScrollingRootId?document.getElementById(t.defaultScrollingRootId):document.body;if(!e)throw Error("Could not find scrolling root with the id scrollingRootId.");return e},t}();e.ScrollingRootConfig=o},function(t,e){"use strict";var o=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultStackingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultStackingRootId?document.getElementById(t.defaultStackingRootId):document.body;if(!e)throw Error("Could not find stacking root.");return e},t}();e.StackingRootConfig=o},function(t,e,o){"use strict";var i=o(2),n=function(){function t(){}return t.setMediaStyleQueries=function(e){t.mediaQueryLists={};for(var o=0;o<e.length;o++){var i=e[o],n=t.registerMediaQuery(i),r=t.getMediaQueryListListener(i);r(n),n.addListener(r)}},t.registerMediaQuery=function(e){var o=e.mediaQuery;return o in t.mediaQueryLists||(t.mediaQueryLists[o]=window.matchMedia(o)),t.mediaQueryLists[o]},t.getMediaQueryListListener=function(t){return function(e){e.matches?i.setConfig({styles:t.matchingStyle}):i.setConfig({styles:t.nonMatchingStyle})}},t}();e.StyleMediaQueryManager=n},function(t,e){"use strict";var o=function(){function t(){}return t.registerWidget=function(e){t.widgets.push(e)},t.unregisterWidget=function(e){t.widgets=t.widgets.filter(function(t){return t!==e})},t.rerenderWidgets=function(){for(var e=0;e<t.widgets.length;e++)t.widgets[e].forceUpdate()},t.widgets=[],t}();e.WidgetManager=o},function(t,e){"use strict";function o(t,e){return t?e:null}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.join("-")}function n(t){return t&&/^[a-z0-9]$/i.test(t)}e.conditional=o,e.testId=i,e.isAlphabeticChar=n},function(t,e,o){"use strict";function i(t,e){var o=e.props,i=o.disabled,n=o.interactiveStyles;return n?a.assign({},t,e.state.hover&&!i&&n.hover,e.state.focus&&!i&&n.focus,e.state.active&&!i&&n.active,i&&n.disabled):t}function n(t,e){var o=i(e.props.style,t),n=t.props.pointerDown,r={pointerDown:d.mergeEventHandlers(n,function(){t.interactiveIsMounted&&(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0),t.removePointerUpListener||p(t))})},c=e.props,u=c.onMouseOver,h=c.onMouseOut,g=c.onKeyDown,y=c.onKeyUp,I=c.onFocus,b=c.onBlur,f={onMouseOver:d.mergeEventHandlers(u,function(){t.interactiveIsMounted&&(t.setState({hover:!0}),t.props.handleHover&&t.props.handleHover(!0))}),onMouseOut:d.mergeEventHandlers(h,function(){t.interactiveIsMounted&&(t.setState({hover:!1}),t.props.handleHover&&t.props.handleHover(!1))}),onKeyDown:d.mergeEventHandlers(g,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0)))}),onKeyUp:d.mergeEventHandlers(y,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1)))}),onFocus:d.mergeEventHandlers(I,function(){t.interactiveIsMounted&&(t.setState({focus:!0}),t.props.handleFocus&&t.props.handleFocus(!0))}),onBlur:d.mergeEventHandlers(b,function(){t.interactiveIsMounted&&(t.setState({focus:!1}),t.props.handleFocus&&t.props.handleFocus(!1))})},m=a.assign({style:o,disabled:t.props.disabled},f),C=a.assign({},t.props,r),v=s.createElement(l.PointerEventWrapper,C,s.cloneElement(e,m));return v}var r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},s=o(11),a=o(4),l=o(12),d=o(15),c=o(16),p=function(t){var e=function(){t.interactiveIsMounted&&(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1),t.removePointerUpListener(),t.removePointerUpListener=void 0)};t.removePointerUpListener=c.GlobalPointerUpListener.subscribe(e)},u=function(t){function e(e){t.call(this,e),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(e,t),e.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},e.prototype.render=function(){var t=s.Children.only(this.props.children);return n(this,t)},e}(s.Component);e.InteractiveDomWrapper=u;var h=function(t){var e=d.convertToStatefulComponentClass(t),o=function(o){function i(t){o.call(this,t),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(i,o),i.prototype.callComponentClassWillUnmount=function(){var t=e.prototype.componentWillUnmount;t&&t.apply(this)},i.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},i.prototype.render=function(){return n(this,o.prototype.render.call(this))},i.displayName="InteractiveDom("+d.getComponentName(t)+")",i}(e);return o};e.InteractiveDomHoC=h;var g=h;e.InteractiveDomHoCDecorator=g},function(e,o){e.exports=t},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(14),a=o(15),l=function(t){function e(e){t.call(this,e),this.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory()}return i(e,t),e.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var t=r.findDOMNode(this);this.pointerEventAdapter.didMount(t,this.props)}},e.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},e.prototype.render=function(){var t=this.pointerEventAdapter.getHtmlAttributes(this.props),e=n.Children.only(this.props.children),o={};Object.keys(t).forEach(function(i){o[i]=a.mergeEventHandlers(t[i],e.props[i])});var i=n.cloneElement(e,o,e.props.children);return i},e}(n.Component);e.PointerEventWrapper=l;var d=function(t){var e=a.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="PointerEventHoC("+a.getComponentName(t)+")",o};e.PointerEventHoC=d;var c=d;e.PointerEventHoCDecorator=c},function(t,o){t.exports=e},function(t,e){"use strict";var o=function(){function t(){}return t.prototype.getHtmlAttributes=function(t){var e={onDoubleClick:t.pointerDoubleClick?function(e){t.disabled||t.pointerDoubleClick(e)}:void 0,onMouseDown:t.pointerDown?function(e){t.disabled||t.pointerDown(e)}:void 0,onMouseUp:t.pointerUp?function(e){t.disabled||t.pointerUp(e)}:void 0,onClick:t.pointerClick?function(e){t.disabled||t.pointerClick(e)}:void 0};return e},t}(),i=function(){function t(){}return t.adapterFactory=function(){return new o},t}();e.PointerEventAdapterManager=i},function(t,e,o){"use strict";function i(t){return!t.prototype.render}function n(t){if(i(t)){var e=t;return function(t){function o(){t.apply(this,arguments)}return a(o,t),o.prototype.render=function(){return e(this.props)},o.displayName=s(e),o}(l.Component)}return t}function r(t,e){return t&&e&&function(o){t(o),e(o)}||t||e}function s(t){return t.displayName||t.name||"AnonymousComponent"}var a=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},l=o(11);e.convertToStatefulComponentClass=n,e.mergeEventHandlers=r,e.getComponentName=s},function(t,e){"use strict";var o=function(){function t(){}return t.subscribe=function(t){return window.addEventListener("mouseup",t),window.addEventListener("touchend",t),function(){window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t)}},t}();e.GlobalPointerUpListener=o},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(11),a=o(13),l=o(18),d=o(27),c=o(6),p=o(5),u=100,h=50;!function(t){t[t.top=0]="top",t[t.centerY=1]="centerY",t[t.bottom=2]="bottom"}(i||(i={})),e.VerticalOriginOption=i;var g;!function(t){t[t.left=0]="left",t[t.centerX=1]="centerX",t[t.right=2]="right"}(g||(g={})),e.HorizontalOriginOption=g;var y=function(t){function e(){var e=this;t.apply(this,arguments),this.onResize=l(function(){return e.setPlacement()},u)}return n(e,t),e.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},e.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},e.prototype.componentDidUpdate=function(t){this.resetScrollingRootBehaviorIfNeeded(t),this.setPlacement()},e.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},e.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},e.prototype.resetScrollingRootBehaviorIfNeeded=function(t){t.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&t.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},e.prototype.setOnScroll=function(){var t=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var e=function(){t.props.shouldAutoPositionOnScrollingRootScroll&&t.setPlacement(),t.props.handleScrollOnScrollingRoot&&t.props.handleScrollOnScrollingRoot()};this.onScroll=l(e,h)}else this.onScroll=null},e.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):p.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},e.prototype.getAnchorPosition=function(){var t=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),e=t.getBoundingClientRect(),o=t.offsetWidth,i=t.offsetHeight,n={top:e.top,left:e.left};return n.right=e.right||n.left+o,n.bottom=e.bottom||n.top+i,n.centerX=n.left+(n.right-n.left)/2,n.centerY=n.top+(n.bottom-n.top)/2,n},e.prototype.getStackedElCurrentShapeInPositionCoords=function(){var t=this.getStackedEl();return{top:0,centerX:t.offsetHeight/2,bottom:t.offsetHeight,left:0,centerY:t.offsetWidth/2,right:t.offsetWidth}},e.prototype.getContainerRect=function(){var t=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):c.StackingRootConfig.getDefaultRootContainer();if(!t)throw Error("Could not find stacking root.");return t.getBoundingClientRect()},e.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var t=this.getStackedElAdjustedPosition(),e=this.getStackedEl();e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.position="absolute"}},e.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},e.prototype.getStackedElAdjustedPosition=function(){var t=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(t=this.getAutoPositionIfNeeded(t));var e=this.getAdjustStackedElPositionForContainer(t);return e=this.getAdjustedStackedElPositionFromProps(e)},e.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},e.prototype.getAdjustStackedElPositionForContainer=function(t){var e=this.getContainerRect(),o={top:t.top-e.top,left:t.left-e.left};return o},e.prototype.getAdjustedStackedElPositionFromProps=function(t){return{top:t.top+(this.props.topFromOverlaidPosition||0),left:t.left+(this.props.leftFromOverlaidPosition||0)}},e.prototype.getStackedElViewportPosition=function(t,e){var o=this.getAnchorPosition(),n=this.getStackedElCurrentShapeInPositionCoords(),r=i[t.vertical],s=g[t.horizontal],a=i[e.vertical],l=g[e.horizontal],d=o[r],c=o[s],p=n[a],u=n[l],h={top:d-p,left:c-u};return h},e.prototype.getAutoPositionIfNeeded=function(t){var e=this.getStackedElCurrentShapeInPositionCoords(),o=this.getOppositeOriginPosition(),i=20,n=window.innerHeight-i,r=window.innerWidth-i,s=t.top<0||t.top+e.bottom>n,a=t.left<0||t.left+e.right>r;return s&&o.top+e.bottom<=n&&(t.top=Math.max(0,o.top)),a&&o.left+e.right<=r&&(t.left=Math.max(0,o.left)),t},e.prototype.getOppositeOriginPosition=function(){var t=this.getOppositeOriginsOptions(this.props.anchorOrigin),e=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(t,e)},e.prototype.getOppositeOriginsOptions=function(t){return{horizontal:this.getOppositeHorizontalOption(t.horizontal),vertical:this.getOppositeVerticalOption(t.vertical)}},e.prototype.getOppositeVerticalOption=function(t){return t===i.centerY?i.centerY:t===i.top?i.bottom:i.top},e.prototype.getOppositeHorizontalOption=function(t){return t===g.centerX?g.centerX:t===g.left?g.right:g.left},e.prototype.setStackingWrapper=function(t){this.stackingWrapper=t,this.setPlacement()},e.prototype.render=function(){var t=this;return s.createElement("div",{display:"none"},s.createElement(d.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(e){return t.setStackingWrapper(e)},zIndex:this.props.zIndex},this.props.children))},e.defaultProps={anchorOrigin:{vertical:i.top,horizontal:g.left},stackedOrigin:{vertical:i.top,horizontal:g.left}},e}(r.Component);e.Overlay=y},function(t,e,o){function i(t,e,o){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(s);return r(o)&&(i="leading"in o?!!o.leading:i,a="trailing"in o?!!o.trailing:a),n(t,e,{leading:i,maxWait:e,trailing:a})}var n=o(19),r=o(20),s="Expected a function";t.exports=i},function(t,e,o){function i(t,e,o){function i(e){var o=f,i=m;return f=m=void 0,S=e,v=t.apply(i,o)}function c(t){return S=t,w=setTimeout(h,e),L?i(t):v}function p(t){var o=t-M,i=t-S,n=e-o;return D?d(n,C-i):n}function u(t){var o=t-M,i=t-S;return void 0===M||o>=e||o<0||D&&i>=C}function h(){var t=r();return u(t)?g(t):void(w=setTimeout(h,p(t)))}function g(t){return w=void 0,T&&f?i(t):(f=m=void 0,v)}function y(){void 0!==w&&clearTimeout(w),S=0,f=M=m=w=void 0}function I(){return void 0===w?v:g(r())}function b(){var t=r(),o=u(t);if(f=arguments,m=this,M=t,o){if(void 0===w)return c(M);if(D)return w=setTimeout(h,e),i(M)}return void 0===w&&(w=setTimeout(h,e)),v}var f,m,C,v,w,M,S=0,L=!1,D=!1,T=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,n(o)&&(L=!!o.leading,D="maxWait"in o,C=D?l(s(o.maxWait)||0,e):C,T="trailing"in o?!!o.trailing:T),b.cancel=y,b.flush=I,b}var n=o(20),r=o(21),s=o(24),a="Expected a function",l=Math.max,d=Math.min;t.exports=i},function(t,e){function o(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=o},function(t,e,o){var i=o(22),n=function(){return i.Date.now()};t.exports=n},function(t,e,o){var i=o(23),n="object"==typeof self&&self&&self.Object===Object&&self,r=i||n||Function("return this")();t.exports=r},function(t,e){(function(e){var o="object"==typeof e&&e&&e.Object===Object&&e;t.exports=o}).call(e,function(){return this}())},function(t,e,o){function i(t){if("number"==typeof t)return t;if(r(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var o=d.test(t);return o||c.test(t)?p(t.slice(2),o?2:8):l.test(t)?s:+t}var n=o(20),r=o(25),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;t.exports=i},function(t,e,o){function i(t){return"symbol"==typeof t||n(t)&&a.call(t)==r}var n=o(26),r="[object Symbol]",s=Object.prototype,a=s.toString;t.exports=i},function(t,e){function o(t){return null!=t&&"object"==typeof t}t.exports=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(6),a=o(15),l=function(t){function e(e){if(t.call(this,e),this.stackingRoot=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!this.stackingRoot)throw Error("Could not find stacking root.");this.warnIfRootIsNotPositioned()}return i(e,t),e.prototype.warnIfRootIsNotPositioned=function(){var t=window.getComputedStyle(this.stackingRoot).position;if("relative"!==t&&"absolute"!==t)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},e.prototype.componentDidMount=function(){this.renderLayer()},e.prototype.componentDidUpdate=function(){this.renderLayer()},e.prototype.componentWillUnmount=function(){this.unrenderLayer()},e.prototype.getMountPoint=function(){return this.mountPoint},e.prototype.renderLayer=function(){this.createMountPointIfNeeded();var t=n.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,t,this.mountPoint)},e.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.stackingRoot.appendChild(this.mountPoint))},e.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},e.prototype.render=function(){return null},e}(n.Component);e.StackingComponentWrapper=l,e.StackingComponentHOC=function(t){var e=a.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="StackingComponentHOC("+a.getComponentName(t)+")",o}},function(t,e){"use strict";var o="shared-widgets",i=function(){function t(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var t=document.createElement("style");document.head.appendChild(t);for(var e=0;e<document.styleSheets.length;e++){var o=document.styleSheets[e];o.ownerNode===t&&(this.styleSheet=o)}}}return t.prototype.addRawSelector=function(t,e){var o=this.toRuleBody(e);if(t in this.rawSelectorLookup)throw new Error(t+" has already been defined.");this.rawSelectorLookup[t]=!0,this.addRule(t+" {"+o+"}")},t.prototype.addClass=function(t,e){var i=this.toRuleBody(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css rule using class name '"+e+"', but a class with the given\n           rule body already exists under class name '"+n+"'. Rule body: "+i+".");return n}return e||(e=o+"_"+this.idCounter++),this.classNameLookup[i]=e,this.addRule("."+e+" {"+i+"}"),e},t.prototype.addAnimation=function(t,e){var o=t.options,i=JSON.stringify(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css animation using class name '"+e+"', but a css rule with that\n           definition already exists under class name '"+n+"'. Definition: "+t);return n}var r=this.addKeyframes(t.keyframes),s=this.addClass({"animation-duration":o.durationMs/1e3+"s","animation-timing-function":o.timingFunction,"animation-iteration-count":""+(o.count===1/0?"infinite":o.count),"animation-direction":o.direction,"animation-name":r},e);return this.classNameLookup[i]=s,s},t.prototype.dispose=function(){var t=this.styleSheet.ownerNode;t.parentElement.removeChild(t)},t.prototype.addKeyframes=function(t){var e=this,i=t.fromCSSLines,n=t.toCSSLines,r=t.tweenFrames,s=o+"_"+this.idCounter++,a=[{percent:0,cssLines:i},{percent:100,cssLines:n}].concat(r),l=a.map(function(t){return t?t.percent+"% { "+e.toRuleBody(t.cssLines)+" }":""});return this.addRule("@keyframes "+s+" { "+l.join(" ")+"}"),s},t.prototype.toRuleBody=function(t){return Object.keys(t).map(function(e){if(e.toLowerCase()!==e)throw new Error("The CSS prop '"+e+"' should be written kebab-case, not camelCase");return e+": "+t[e]+";"}).join("")},t.prototype.addRule=function(t){try{this.styleSheet.insertRule(t,this.styleSheet.cssRules.length)}catch(e){throw new Error(e+". Stylesheet injection of "+t+" failed.  This browser may not support the given CSS rule or selector")}},t}();e.StyleSheet=i;var n=new i;e.SingletonStyleSheet=n},function(t,e){"use strict";var o={NonBreakingSpace:""};e.Unicode=o},function(t,e){"use strict";function o(t){var e=t;return"number"==typeof e.clientX}function i(t){var e=t;return!!e.touches}function n(t){if(o(t))return{x:t.clientX,y:t.clientY};if(i(t))return{x:t.touches[0].clientX,y:t.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}e.isMouseEvent=o,e.isTouchEvent=i,e.getClientPosition=n},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(4),a=o(3),l=o(32),d=o(10),c=o(33);!function(t){t[t.Attention=0]="Attention",t[t.Grey=1]="Grey",t[t.Go=2]="Go",t[t.Outline=3]="Outline",t[t.LightOutline=4]="LightOutline",t[t.OutlineGo=5]="OutlineGo",t[t.OutlineAttention=6]="OutlineAttention",t[t.Text=7]="Text",t[t.DarkText=8]="DarkText",t[t.DarkBoldText=9]="DarkBoldText"}(i||(i={})),e.ButtonType=i;var p=a.TabStyles.Colors,u=a.TabStyles.Sizing,h=a.TabStyles.Typography,g=function(){return u.RowHeight},y=function(){return{backgroundColor:p.F7Disabled,borderColor:p.Transparent,color:h.Color.Disabled}},I=function(){return s.assign({fontSize:h.Sizing.Default,fontFamily:h.FontFamily,fontWeight:"normal",color:h.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:g(),paddingRight:g(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:u.BorderWidth,borderRadius:u.BorderRadius,height:u.RowHeight,lineHeight:u.RowHeight-2*u.BorderWidth+"px",minWidth:u.ButtonMinWidth,boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"},l.PreventUserSelect)},b=function(){return{base:s.assign({},I(),{backgroundColor:p.AttentionLight,borderColor:p.AttentionLight,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:p.AttentionLight,borderColor:p.L8,color:h.Color.InvertedPrimary},focus:{backgroundColor:p.AttentionLight,borderColor:p.L8,color:h.Color.InvertedPrimary},active:{backgroundColor:p.AttentionDark,borderColor:p.AttentionDark,color:h.Color.InvertedPrimary},disabled:y()}}},f=function(){return{base:s.assign({},I(),{backgroundColor:p.GoLight,borderColor:p.GoLight,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:p.GoLight,borderColor:p.L8,color:h.Color.InvertedPrimary},focus:{backgroundColor:p.GoLight,borderColor:p.L8,color:h.Color.InvertedPrimary},active:{backgroundColor:p.GoDark,borderColor:p.GoDark,color:h.Color.InvertedPrimary},disabled:y()}}},m=function(){return{base:s.assign({},I(),{backgroundColor:p.F5,borderColor:p.L5,color:h.Color.Primary}),interactive:{hover:{backgroundColor:p.F5,borderColor:p.L8,color:h.Color.Primary},focus:{backgroundColor:p.F5,borderColor:p.L8,color:h.Color.Primary},active:{backgroundColor:p.F8,borderColor:p.L8,color:h.Color.InvertedPrimary},disabled:y()}}},C=function(){return{base:s.assign({},I(),{backgroundColor:p.White,borderColor:p.L6,color:h.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:p.White,borderColor:p.L8,color:h.Color.Primary},focus:{backgroundColor:p.White,borderColor:p.Focus,color:h.Color.PrimaryMedium},active:{backgroundColor:p.F2,borderColor:p.L9,color:h.Color.Primary},disabled:s.assign({},y(),{backgroundColor:p.White,borderColor:p.L9Disabled,color:h.Color.Disabled})}}},v=function(){return{base:s.assign({},I(),{backgroundColor:p.Transparent,borderColor:p.L6,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:p.Transparent,borderColor:p.White,color:h.Color.InvertedPrimary},focus:{backgroundColor:p.Transparent,borderColor:p.White,color:h.Color.InvertedPrimary},active:{backgroundColor:p.WhiteTransparent,borderColor:p.White,color:h.Color.InvertedPrimary},disabled:s.assign({},y(),{borderColor:p.WhiteDisabled,backgroundColor:p.Transparent,color:h.Color.InvertedDisabled})}}},w=function(){return{base:s.assign({},I(),{fontWeight:"bold",backgroundColor:p.Transparent,borderColor:p.Transparent,color:p.GoLight}),interactive:{hover:{backgroundColor:p.F2,borderColor:p.F2,color:p.GoLight},focus:{backgroundColor:p.F2,borderColor:p.F2,color:p.GoLight},active:{backgroundColor:p.F2,borderColor:p.F2,color:p.GoDark},disabled:s.assign({},y(),{backgroundColor:p.Transparent,borderColor:p.Transparent,color:p.GoDarkDisabled})}}},M=function(){return{base:s.assign({},I(),{backgroundColor:p.White,borderColor:p.GoLight,color:h.Color.PrimaryDark,borderWidth:u.ButtonBorderWidth,lineHeight:u.RowHeight-2*u.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:p.White,borderColor:p.GoDark,color:p.Black},focus:{backgroundColor:p.White,borderColor:p.Focus,color:p.Black},active:{backgroundColor:p.F2,borderColor:p.GoDark,color:p.Black},disabled:s.assign({},y(),{backgroundColor:p.White,borderColor:p.GoDarkDisabled,color:h.Color.Disabled})}}},S=function(){return{base:s.assign({},I(),{backgroundColor:p.White,borderColor:p.AttentionLight,color:h.Color.PrimaryDark,borderWidth:u.ButtonBorderWidth,lineHeight:u.RowHeight-2*u.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:p.White,borderColor:p.AttentionDark,color:p.Black},focus:{backgroundColor:p.White,borderColor:p.Focus,color:p.Black},active:{backgroundColor:p.F2,borderColor:p.AttentionDark,color:p.Black},disabled:s.assign({},y(),{backgroundColor:p.White,borderColor:p.AttentionDarkDisabled,color:h.Color.Disabled})}}},L=function(){return{base:s.assign({},I(),{backgroundColor:p.Transparent,borderColor:p.Transparent,color:h.Color.Primary}),interactive:{hover:{backgroundColor:p.F2,borderColor:p.F2,color:h.Color.Primary},focus:{backgroundColor:p.F2,borderColor:p.F2,color:h.Color.Primary},active:{backgroundColor:p.F2_5,borderColor:p.F2_5,color:p.Black},disabled:s.assign({},y(),{backgroundColor:p.Transparent,borderColor:p.Transparent,color:h.Color.Disabled})}}},D=function(){return{base:s.assign({},I(),{fontWeight:"bold",backgroundColor:p.Transparent,borderColor:p.Transparent,color:h.Color.Primary}),interactive:{hover:{backgroundColor:p.F2,borderColor:p.F2,color:h.Color.Primary},focus:{backgroundColor:p.F2,borderColor:p.F2,color:h.Color.Primary},active:{backgroundColor:p.F2_5,borderColor:p.F2_5,color:p.Black},disabled:s.assign({},y(),{backgroundColor:p.Transparent,borderColor:p.Transparent,color:h.Color.Disabled})}}},T=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleClick=function(){return e.handleClick()},this.boundHandleKeyUp=function(t){return e.handleKeyUp(t)},this.boundHandleKeyDown=function(t){return e.handleKeyDown(t)},this.boundHandleBlur=function(){return e.handleBlur()},this.isKeyboardPressed=!1}return n(e,t),e.prototype.handleClick=function(){this.props.disabled||this.props.handleClick()},e.prototype.handleKeyUp=function(t){this.props.disabled||!this.isKeyboardPressed||" "!==t.key&&"Enter"!==t.key||(this.props.handleClick(),this.isKeyboardPressed=!1)},e.prototype.handleKeyDown=function(t){this.props.disabled||" "!==t.key&&"Enter"!==t.key||(this.isKeyboardPressed=!0,t.preventDefault())},e.prototype.handleBlur=function(){this.isKeyboardPressed=!1},e.prototype.render=function(){var t;switch(this.props.buttonType){case i.Attention:t=b();break;case i.Grey:t=m();break;case i.Go:t=f();break;case i.Outline:t=C();break;case i.LightOutline:t=v();break;case i.OutlineGo:t=M();break;case i.OutlineAttention:t=S();break;case i.Text:t=w();break;case i.DarkText:t=L();break;case i.DarkBoldText:t=D();break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+this.props.buttonType)}return r.createElement(d.InteractiveDomWrapper,{interactiveStyles:t.interactive,disabled:this.props.disabled,pointerClick:this.boundHandleClick},r.createElement("div",{style:s.assign({},t.base,this.props.style),onKeyUp:this.boundHandleKeyUp,onKeyDown:this.boundHandleKeyDown,onBlur:this.boundHandleBlur,tabIndex:this.props.disabled?-1:0,role:"button",title:this.props.title?this.props.title:this.props.label,"data-tb-test-id":this.props.testId+"-Button"},this.props.label,this.props.children))},e}(c.DynamicThemeComponent);e.ButtonWidget=T},function(t,e){"use strict";e.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none"}},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(8),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},e.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},e}(n.Component);e.DynamicThemeComponent=s},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.CheckBoxIcon.selectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.selectedActive:c.CheckBoxIcon.selected:t.disabled?c.CheckBoxIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.unselectedActive:c.CheckBoxIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=o(11),a=o(11),l=o(35),d=o(10),c=o(36),p=o(33),u=o(3),h=function(){return{baseDiv:{marginLeft:u.TabStyles.Spacing.DefaultSpace-c.CheckBoxIcon.padding,marginRight:u.TabStyles.Spacing.DefaultSpace-c.CheckBoxIcon.padding,verticalAlign:"middle",height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,minWidth:c.CheckBoxIcon.width,flexShrink:0},checkbox:{opacity:0,height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeCheckBox:{height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,position:"absolute",verticalAlign:"top"}}},g=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(t.target.checked)},e.prototype.render=function(){var t=this,e=i(this.props,this.state),o=h();return a.createElement(l.InlineBlock,{style:o.baseDiv},a.createElement(l.Img,{style:o.fakeCheckBox,src:e}),s.DOM.input({style:o.checkbox,type:"checkbox",onChange:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id,name:this.props.name}))},e=r([d.InteractiveDomHoCDecorator],e)}(p.DynamicThemeComponent);e.CheckBoxWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(32),l={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,this.props.style)}))},e}(n.Component);e.Block=d;var c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,{display:"inline-block"},this.props.style)}))},e}(n.Component);e.InlineBlock=c;var p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement("img",s.assign({},this.props,{role:this.props.role||"presentation",style:s.assign({},a.PreventUserSelect,this.props.style)}))},e}(n.Component);e.Img=p},function(t,e){"use strict";e.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},e.CheckBoxIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTIgICBjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyQzE1LDEuNSwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjcgIGwxLjMsMC44TDcuOSwxMkM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiNDQkNCQ0I7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjUsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC41LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjQsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTE0LDJ2MTJIMlYySDE0IE0xNCwxSDJDMS41LDEsMSwxLjQsMSwydjEyYzAsMC42LDAuNSwxLDEsMWgxMmMwLjYsMCwxLTAuNCwxLTFWMiAgIEMxNSwxLjQsMTQuNiwxLDE0LDFMMTQsMXoiLz4KPC9nPgo8L3N2Zz4="},e.DropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42QzEzLjMsNy4xLDEzLjIsNywxMyw3SDZDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4=",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42YzAuMS0wLjIsMC0wLjMtMC4yLTAuM0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2ICBDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4="},e.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},e.RadioButtonIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9yZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8Y2lyY2xlIHN0eWxlPSJmaWxsOiM2NjY3NjY7IiBjeD0iOCIgY3k9IjgiIHI9IjMiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzY2Njc2NjsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMUM0LjEsMSwxLDQuMSwxLDhzMy4xLDcsNyw3czctMy4xLDctNyAgUzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4=",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzMzMzMzOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiNGRkZGRkY7IiBkPSJNOCwxLjVDNC40LDEuNSwxLjUsNC40LDEuNSw4czIuOSw2LjUsNi41LDYuNXM2LjUtMi45LDYuNS02LjVTMTEuNiwxLjUsOCwxLjVMOCwxLjV6Ii8+CjxjaXJjbGUgc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGN4PSI4IiBjeT0iOCIgcj0iMyIvPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJSZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojQ0JDQkNBOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJVbnNlbGVjdGVkX2hvdmVyIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaXNhYmxlZCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMSAgQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03UzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4="},e.StepperRightIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBpZD0ic3ZnXzEiIGZpbGw9IiMzMzMzMzMiIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6Ii8+CiA8L2c+Cjwvc3ZnPg==",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg=="},e.StepperLeftIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTEuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xIiBmaWxsPSIjMzMzMzMzIiBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIiBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE0LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTAuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIvPgogPC9nPgo8L3N2Zz4="},e.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.StepperDownIcon={height:10,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},e.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="}},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(38),a=o(35),l=o(33),d=o(36),c=o(3),p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.checkBoxWithLabelPropsList.length-1?{paddingBottom:c.TabStyles.Sizing.ListRowHeight-c.TabStyles.Sizing.MultiLineInputLineHeight-(d.CheckBoxIcon.height-c.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.render=function(){var t=this;return n.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(e,o){var i=r.assign({},e.containerStyle,t.getContainerStyleOfIndex(o)),a=r.assign({},e,{containerStyle:i,key:o});return n.createElement(s.CheckBoxWithLabelWidget,a)}))},e}(l.DynamicThemeComponent);e.CheckBoxWithLabelGroupWidget=p},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(34),a=o(35),l=o(1),d=o(33),c=o(36),p=o(10),u=o(39),h=o(3),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",paddingTop:(c.CheckBoxIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=g();return r.createElement(a.Block,{className:l.SuppressClickBustingClass,style:this.props.containerStyle,role:"checkbox","aria-checked":this.props.checked},r.createElement(u.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:t.label},r.createElement(s.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=n([p.InteractiveDomHoCDecorator],e)}(d.DynamicThemeComponent);e.CheckBoxWithLabelWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(3),l=o(10),d=o(33),c=a.TabStyles.Typography,p=function(){return{base:{fontSize:c.Sizing.Default,fontFamily:c.FontFamily,fontWeight:"normal",color:c.Color.Primary,lineHeight:"normal"},disabled:{color:c.Color.Disabled}}},u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t,e=p();return t=this.props.disabled?s.assign({},e.base,this.props.style,e.disabled):s.assign({},e.base,this.props.style),r.DOM.label({style:t,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},e=n([l.InteractiveDomHoCDecorator],e)}(d.DynamicThemeComponent);e.InputLabelWidget=u},function(t,e,o){"use strict";function i(t){var e=t.match(/^(?:(\d\d\d\d)-(1[0-2]|0?[1-9])-([12][0-9]|3[01]|0?[1-9]))?(?:T?(00|1[0-9]|2[0-3]|0[0-9]|[0-9]):([0-5][0-9]|[0-9])(?::([0-5][0-9]|[0-9]))?(?:(?:\+|\-)([0-9][0-4]|[0-9]):?:([0-5][0-9]|[0-9]))?)?/);return new Date(Date.UTC(+e[1]||0,+e[2]-1||0,+e[3]||0,+e[4]||0,+e[5]||0,+e[6]||0,0))}function n(t){var e=2-t.toString().length+1;return Array(+(e>0&&e)).join("0")+t}function r(t,e){if(!t)return null;if("string"==typeof t||t instanceof String)return t.toString();if(t instanceof Date){if(t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()),isNaN(t.getDate()))return null;if(e===g.Date)return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate());if(e===g.Time)return n(t.getHours())+":"+n(t.getMinutes());if(e===g.DateTime)return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())}return null}var s=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},a=o(11),l=o(4),d=o(35),c=o(33),p=o(41),u=o(9),h=o(42),g=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.Date=new e("date"),e.DateTime=new e("datetime-local"),e.Time=new e("time"),e}(h.TextInputType);e.DateTimeInputType=g;var y=function(t){function e(e){var o=this;t.call(this,e),this.boundhandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundHandleChangeWrapper=function(t){return o.handleChangeWrapper(t)},this.state={inputFocus:!1,inputActive:!1,inputHover:!1}}return s(e,t),e.prototype.handleChangeWrapper=function(t){var e=i(t);e&&this.props.handleChange(e)},e.prototype.getInputStyle=function(){var t=p.getTextOutlineStyles();return l.assign({},t.input.base,{paddingRight:0},this.props.inputStyle)},e.prototype.handleKeyDown=function(t){this.props.disabled},e.prototype.render=function(){var t={style:this.props.containerStyle},e=p.getTextOutlineStyles(),o=this.getInputStyle(),i={style:o,interactiveStyles:e.input.interactive,text:r(this.props.value,this.props.type),testId:u.testId(this.props.testId,"DateTimeWidget"),type:this.props.type,handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,readOnly:this.props.readOnly,onKeyDown:this.boundhandleKeyDown,name:this.props.name};return a.createElement(d.Block,t,a.createElement(h.TextFieldInputWidget,i))},e}(c.DynamicThemeComponent);e.DateTimeInputWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(4),a=o(36),l=o(9),d=o(35),c=o(3),p=o(42);e.TextInputType=p.TextInputType;var u=o(43),h=o(44),g=c.TabStyles.Colors,y=c.TabStyles.Sizing,I=c.TabStyles.Spacing,b=c.TabStyles.Typography,f=function(){return{input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:g.L6,borderStyle:"solid",height:y.RowHeight,paddingLeft:I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text",paddingRight:a.TextFieldClearIcon.width+2*I.DefaultSpace},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:b.Color.Disabled}}},placeholder:{base:{fontSize:b.Sizing.Default,fontFamily:b.FontFamily,fontWeight:"normal",color:b.Color.Secondary,position:"absolute",left:I.DefaultSpace,textAlign:"start",lineHeight:y.RowHeight+"px"},disabled:{color:b.Color.Disabled}}}};e.getTextOutlineStyles=f;var m=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleClearSearch=function(){return o.handleCancelSearchWrapper()},this.boundHandleClearHover=function(t){return o.handleClearHover(t)},this.boundHandleBlur=function(){return o.handleBlurWrapper()},this.boundHandleTextFieldClearButtonRef=function(t){return o.handleTextFieldClearButtonRef(t)},this.state=s.assign({},this.state,{clearHover:!1})}return i(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=s.assign({},this.state,{clearHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){var t=this;this.props.disabled||(this.wasClearTextFired=!0,this.props.handleClearText(),setTimeout(function(){t.resetWasClearTextFired()},50))},e.prototype.handleBlurWrapper=function(){var t=this;setTimeout(function(){return t.wasClearTextFired||t.isTextFieldClearButtonActiveElement()?void t.resetWasClearTextFired():void(t.props.handleBlur&&t.props.handleBlur())},0)},e.prototype.isTextFieldClearButtonActiveElement=function(){return!!this.textFieldClearButton&&document.activeElement===r.findDOMNode(this.textFieldClearButton)},e.prototype.handleTextFieldClearButtonRef=function(t){this.textFieldClearButton=t},e.prototype.resetWasClearTextFired=function(){this.wasClearTextFired=void 0},e.prototype.handleClearHover=function(t){this.props.disabled||this.setState(s.assign({},this.state,{clearHover:t}))},e.prototype.getInputStyle=function(){var t=f();return s.assign({},t.input.base,l.conditional(this.state.clearHover,t.input.interactive.hover),this.props.inputStyle)},e.prototype.render=function(){var t=this,e=f(),o=s.assign({},e.placeholder.base,this.props.placeholderStyle,l.conditional(this.props.disabled,e.placeholder.disabled)),i=this.isPlaceholderShowing(),r={type:this.props.type,style:this.getInputStyle(),interactiveStyles:e.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},handleBlur:this.boundHandleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,inputRef:this.props.inputRef};return n.createElement(d.Block,{style:this.props.containerStyle},i?n.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(p.TextFieldInputWidget,r),this.props.text&&!this.props.disabled?n.createElement(h.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,ref:this.boundHandleTextFieldClearButtonRef,disabled:this.props.disabled}):null)},e}(u.TextFieldBase);e.OutlineTextFieldWidget=m},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(11),a=o(4),l=o(10),d=o(28),c=o(3),p="shared-widgets-text-input";d.SingletonStyleSheet.addRawSelector("."+p+":focus",{"background-color":c.TabStyles.Colors.Transparent});try{d.SingletonStyleSheet.addRawSelector("."+p+"::-ms-clear",{display:"none"})}catch(u){}var h=function(){function t(t){this.value=t}return t.prototype.toString=function(){return this.value},t.Text=new t("text"),t.Password=new t("password"),t}();e.TextInputType=h;var g={input:{width:"100%",boxSizing:"border-box"}},y=function(t){function e(){var e=this;t.apply(this,arguments),this.boundInputRef=function(t){e.props.inputRef&&e.props.inputRef(t)}}return i(e,t),e.prototype.handleChangeWrapper=function(t){this.props.disabled||this.props.handleChange(t.target.value)},e.prototype.render=function(){var t=this,e=this.props.type?this.props.type.toString():"text",o={className:p,type:e,style:a.assign({},g.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(e){return t.handleChangeWrapper(e)},onKeyDown:function(e){t.props.disabled||!t.props.handleEnter&&!t.props.onKeyDown||("Enter"===e.key&&t.props.handleEnter&&t.props.handleEnter(),t.props.onKeyDown&&t.props.onKeyDown(e))},disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,"aria-label":this.props.ariaLabel,onBlur:this.props.handleBlur,ref:this.boundInputRef};return s.createElement("input",o)},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldInputWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(4),r=o(33),s=function(t){function e(e){t.call(this,e),this.state=n.assign({},this.state,{inputFocus:!1,inputActive:!1,inputHover:!1})}return i(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputFocus:t}))},e.prototype.handleBlur=function(){this.props.disabled||this.props.handleBlur&&this.props.handleBlur()},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputHover:t}))},e.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},e}(r.DynamicThemeComponent);e.TextFieldBase=s},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(11),a=o(35),l=o(3),d=o(10),c=o(9),p=o(36),u=l.TabStyles.Sizing,h=l.TabStyles.Spacing,g=function(){var t=(u.RowHeight-p.TextFieldClearIcon.height)/2,e=u.RowHeight-t-p.TextFieldClearIcon.height;return{icon:{position:"absolute",right:0,paddingRight:h.DefaultSpace,paddingLeft:h.DefaultSpace,paddingTop:t,paddingBottom:e}}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIcon=function(t,e){return!t.disabled&&(t.active||e.active||e.focus||e.hover)?p.TextFieldClearIcon.clearActive:p.TextFieldClearIcon.clear},e.prototype.render=function(){var t=g();return s.createElement(a.Img,{style:t.icon,tabIndex:-1,src:this.getIcon(this.props,this.state),"data-tb-test-id":c.testId(this.props.testId,"ClearIcon")})},e=n([d.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldClearButton=y},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(13),a=o(18),l=o(4),d=o(46),c=o(3),p=o(9),u=o(53),h=o(33),g=o(54),y=o(56),I=o(17),b=o(57),f=o(58);!function(t){t[t.Centered=0]="Centered",t[t.Maximized=1]="Maximized",t[t.Draggable=2]="Draggable",t[t.Anchored=3]="Anchored"}(i||(i={})),e.DialogPositioningBehavior=i;var m;!function(t){t[t.NormalWithTitleBar=0]="NormalWithTitleBar",t[t.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",t[t.Uber=2]="Uber"}(m||(m={})),e.DialogType=m;var C="SharedWidgetsDialogLabel";e.SharedWidgetsDialogLabel=C;var v=500,w=100,M=0,S=function(){return{Dialog:{borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:c.TabStyles.Colors.L5,borderRadius:c.TabStyles.Sizing.BorderRadius,backgroundColor:c.TabStyles.Colors.White,cursor:"default",boxShadow:c.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"}}},L=function(t){function e(e){var o=this;t.call(this,e),this.boundGetDialogClientRect=function(){return o.getDialogFloaterClientRect()},this.boundDragBoundedDialogPosition=function(t){return o.dragBoundedDialogFloaterPosition(t)},this.boundHandleFloaterWidgetRef=function(t){return o.handleFloaterWidgetRef(t)},this.boundHandleOverlayRef=function(t){return o.handleOverlayRef(t)},this.boundHandleSizingWrapperRef=function(t){return o.handleSizingWrapperRef(t)},this.boundHandleOrientationChange=function(){return o.handleOrientationChange()},this.boundHandleAdjustPositionOnResize=a(function(){return o.handleAdjustPositionOnResize()},w),this.instanceId=M++,this.state={hasBeenDragged:!1}}return n(e,t),e.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.boundHandleAdjustPositionOnResize)},e.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.boundHandleAdjustPositionOnResize)},e.prototype.handleAdjustPositionOnResize=function(){this.props.shouldAdjustPositionOnWindowResize&&this.repositionDialog()},e.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.centerInVisualViewport();break;case i.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case i.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},e.prototype.handleFloaterWidgetRef=function(t){this.floaterWidget=t},e.prototype.handleOverlayRef=function(t){this.overlay=t},e.prototype.handleSizingWrapperRef=function(t){this.sizingWrapper=t},e.prototype.getDialogFloaterClientRect=function(){return this.floaterWidget?this.floaterWidget.getFloaterClientRect():null},e.prototype.dragBoundedDialogFloaterPosition=function(t){this.state.hasBeenDragged||this.setState(l.assign({},this.state,{hasBeenDragged:!0})),this.floaterWidget&&this.floaterWidget.setPosition(this.getBoundedFloaterPos(t))},e.prototype.handleOrientationChange=function(){var t=this;return this.resizeAndRepositionTimeoutId?(clearTimeout(this.resizeAndRepositionTimeoutId),void(this.resizeAndRepositionTimeoutId=setTimeout(this.resizeAndRepositionCallback,v))):void this.hideDialogAndThen(function(e){t.forceRepaintHack(),t.resizeAndRepositionCallback=function(){t.resizeAndRepositionTimeoutId=null,t.resizeAndRepositionCallback=null,t.sizingWrapper.updateSize(),e&&e(),t.repositionDialog()},t.resizeAndRepositionTimeoutId=setTimeout(t.resizeAndRepositionCallback,v)})},e.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},e.prototype.repositionDraggedDialog=function(){var t;this.dragPositionBeforeHide?(t=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):t=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(t))},e.prototype.hideDialogAndThen=function(t){var e;switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Anchored:var o=s.findDOMNode(this.sizingWrapper),n=o.style.display;o.style.display="none",e=function(){o.style.display=n};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}t(e)},e.prototype.forceRepaintHack=function(){var t=s.findDOMNode(this),e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e},e.prototype.getBoundedFloaterPos=function(t){var e=this.floaterWidget.getFloaterClientRect(),o={top:t.top,left:t.left,width:e.width,height:e.height},i={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return g.computePositionToContainBounds(o,i)},e.prototype.getPositionedDialogElem=function(t){switch(this.props.positioningBehavior){case i.Centered:case i.Draggable:case i.Maximized:return r.createElement(u.FloaterWidget,{testId:p.testId(this.props.testId,"Dialog"),stackingRootId:this.props.stackingRootId,ref:this.boundHandleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged},t);case i.Anchored:return r.createElement(I.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:I.VerticalOriginOption.bottom,horizontal:I.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:I.VerticalOriginOption.top,horizontal:I.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.left:void 0,topFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.top:void 0,ref:this.boundHandleOverlayRef},t);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},e.prototype.getGlassElem=function(){return r.createElement(y.GlassWidget,{testId:p.testId(this.props.testId,"Dialog"),handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex})},e.prototype.componentDidMount=function(){f.OrientationChange.addListener(this.boundHandleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},e.prototype.componentDidUpdate=function(t){this.props.shouldAdjustPositionOnWindowResize!==t.shouldAdjustPositionOnWindowResize&&(this.props.shouldAdjustPositionOnWindowResize?this.addResizeEventListener():this.removeResizeEventListener())},e.prototype.componentWillUnmount=function(){f.OrientationChange.removeListener(this.boundHandleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.removeResizeEventListener()},e.prototype.render=function(){var t=S(),e=l.assign({},this.props,{getDraggableDialogClientRect:this.boundGetDialogClientRect,setDraggableDialogPosition:this.boundDragBoundedDialogPosition,instanceId:this.instanceId,testId:p.testId(this.props.testId,"Dialog")}),o={isMaximized:this.props.positioningBehavior===i.Maximized,style:l.assign({},t.Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.boundHandleSizingWrapperRef},n=r.createElement(b.ViewportConstrainedDomWrapper,o,r.createElement(d.DialogContent,e));return r.createElement("div",{display:"none"},p.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(n))},e}(h.DynamicThemeComponent);e.DialogWidget=L},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(13),a=o(47),l=o(4),d=o(9),c=o(48),p=o(49),u=o(50),h=o(45),g=o(35),y=function(){return{DialogContent:{outline:"none",display:"flex",flexDirection:"column"}}},I=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleDialogKeyDown=function(t){return e.handleDialogKeyDown(t)},this.boundHandleDialogHeaderRef=function(t){return e.handleDialogHeaderRef(t)},this.boundHandleDialogKeyUp=function(t){return e.handleDialogKeyUp(t)}}return i(e,t),e.prototype.handleDialogHeaderRef=function(t){this.dialogHeader=s.findDOMNode(t)},e.prototype.handleDialogKeyUp=function(t){"Escape"===t.key&&this.props.onCloseRequest()},e.prototype.handleDialogKeyDown=function(t){if("Tab"===t.key){var e=a(this.dialog),o=e.length>0?e[0]:null,i=e.length>0?e[e.length-1]:null;t.target!==i||t.shiftKey?t.target===o&&t.shiftKey&&(t.preventDefault(),i.focus()):(t.preventDefault(),o.focus())}},e.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=s.findDOMNode(this),this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},e.prototype.initializeFocusOnMount=function(){var t=a(this.dialog);if(0===t.length)throw Error("Something within the dialog must be focusable as to dismiss it");var e=0;if(this.dialogHeader)for(var o=0;o<t.length;o++)if(!this.dialogHeader.contains(t[o])){e=o;break}var i=t[e];setTimeout(function(){i.focus()},0)},e.prototype.setFocusEventListener=function(){var t=this;this.focusEventListener=function(e){if(!t.props.isModal){var o=e.target;t.dialog.contains(o)||(t.elementToReturnFocus=o)}}},e.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},e.prototype.returnFocusToElement=function(){var t=this;setTimeout(function(){t.elementToReturnFocus.focus()},0)},e.prototype.render=function(){var t=y(),e=l.assign({},this.props,{ref:this.boundHandleDialogHeaderRef});return r.createElement(g.Block,{"data-tb-test-id":d.testId(this.props.testId,"Content"),tabIndex:-1,style:t.DialogContent,onKeyDown:this.boundHandleDialogKeyDown,onKeyUp:this.boundHandleDialogKeyUp,role:"dialog","aria-labelledby":d.conditional(!!this.props.title,h.SharedWidgetsDialogLabel+String(this.props.instanceId))},d.conditional(this.props.type!==h.DialogType.Uber,r.createElement(u.DialogHeader,e)),r.createElement(c.DialogBody,this.props),d.conditional(this.props.showFooter,r.createElement(p.DialogFooter,this.props)))},e}(n.Component);e.DialogContent=I},function(t,e){function o(){var t=[];return function e(o){if(o===document.documentElement)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i][0]===o)return t[i][1];var r=!1,s=window.getComputedStyle(o);return"hidden"===s.visibility||"none"===s.display?r=!0:o.parentNode&&(r=e(o.parentNode)),t.push([o,r]),r}}t.exports=function(t){for(var e,i,n=[],r=[],s=o(),a=t.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,d=a.length;l<d;l++)e=a[l],i=e.tabIndex,i<0||"INPUT"===e.tagName&&"hidden"===e.type||e.disabled||s(e)||(0===i?n.push(e):r.push({tabIndex:i,node:e}));var c=r.sort(function(t,e){return t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(c,n),c}},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(9),l=o(45),d=o(35),c=o(3),p=function(){return{Body:{outline:"none",overflow:"auto"}}},u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getPaddingStyle=function(){var t=c.TabStyles.Spacing.LargeSpace,e=c.TabStyles.Spacing.LargeSpace,o=c.TabStyles.Spacing.LargeSpace,i=0;switch(this.props.type){case l.DialogType.NormalWithTitleBar:i=c.TabStyles.Spacing.LargeSpace;break;case l.DialogType.NormalWithoutTitleBar:i=0;break;case l.DialogType.Uber:i=c.TabStyles.Spacing.MediumSpace;break;default:throw Error("Dialog type not handled")}return this.props.showFooter&&(o=0),{padding:i+"px "+e+"px "+o+"px "+t+"px"}},e.prototype.render=function(){var t=p(),e=s.assign({},t.Body,this.getPaddingStyle(),this.props.dialogBodyStyle);return r.createElement(d.Block,{"data-tb-test-id":a.testId(this.props.testId,"Body"),style:e,id:a.testId(this.props.testId,"Body-Id")},this.props.children)},e}(n.Component);e.DialogBody=u},function(t,e,o){"use strict";var i=o(11),n=o(9),r=o(35),s=o(3),a=8*s.TabStyles.Sizing.BaseUnit,l=function(){return{Footer:{paddingLeft:s.TabStyles.Spacing.LargeSpace,paddingRight:s.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:a,flexShrink:0},FooterContent:{height:"100%"}}},d=function(t){var e=l();return i.createElement(r.Block,{"data-tb-test-id":n.testId(t.testId,"Footer"),style:e.Footer},n.conditional(!!t.footerContent,i.createElement(r.Block,{style:e.FooterContent},t.footerContent)))};e.DialogFooter=d},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(13),a=o(4),l=o(51),d=o(9),c=o(45),p=o(35),u=o(12),h=o(3),g=o(52),y=o(30),I=5*h.TabStyles.Sizing.BaseUnit,b=function(){return{DraggableHeader:{cursor:"move"},Header:{height:I,flexShrink:0},TitleBar:a.assign({},g.TextEllipsis,{color:h.TabStyles.Colors.F8,backgroundColor:h.TabStyles.Colors.F2,height:"100%",paddingRight:h.TabStyles.Spacing.LargeSpace,paddingLeft:h.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),TitleBarWithCloseButton:{paddingRight:0},Title:a.assign({},g.TextEllipsis,{fontFamily:h.TabStyles.Typography.FontFamily,fontSize:h.TabStyles.Typography.Sizing.Default,flexGrow:1})}},f=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleStart=function(t){return e.handleStart(t)},this.boundHandleMove=function(t){return e.handleMove(t)},this.boundHandleStop=function(t){return e.handleStop(t)},this.boundHandleCloseButtonRef=function(t){return e.handleCloseButtonRef(t)}}return i(e,t),e.prototype.componentDidMount=function(){this.titleBar=s.findDOMNode(this),this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners()},e.prototype.componentDidUpdate=function(t){this.props.positioningBehavior!==t.positioningBehavior&&(t.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners(),this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners())},e.prototype.componentWillUnmount=function(){this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners()},e.prototype.addMouseEventListeners=function(){window.addEventListener("touchend",this.boundHandleStop),window.addEventListener("mouseup",this.boundHandleStop)},e.prototype.removeMouseEventListeners=function(){window.removeEventListener("touchend",this.boundHandleStop),window.removeEventListener("touchmove",this.boundHandleMove),window.removeEventListener("mouseup",this.boundHandleStop),window.removeEventListener("mousemove",this.boundHandleMove)},e.prototype.handleStart=function(t){if(!this.isEventWithinCloseButton(t)&&this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable){t.preventDefault();var e=y.getClientPosition(t),o=this.props.getDraggableDialogClientRect();this.startXPosition=e.x-o.left,this.startYPosition=e.y-o.top,window.addEventListener("touchmove",this.boundHandleMove),window.addEventListener("mousemove",this.boundHandleMove)}},e.prototype.isEventWithinCloseButton=function(t){var e=t.target;return!!this.closeButton&&this.closeButton.contains(e)},e.prototype.handleMove=function(t){t.preventDefault();var e=y.getClientPosition(t);this.props.setDraggableDialogPosition({top:e.y-this.startYPosition,left:e.x-this.startXPosition})},e.prototype.handleStop=function(t){window.removeEventListener("mousemove",this.boundHandleMove),window.removeEventListener("touchmove",this.boundHandleMove)},e.prototype.handleCloseButtonRef=function(t){this.closeButton=s.findDOMNode(t)},e.prototype.render=function(){var t=b(),e=a.assign({},t.Header,d.conditional(this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable,t.DraggableHeader)),o=this.props.type===c.DialogType.NormalWithTitleBar,i=a.assign({},t.TitleBar,d.conditional(this.props.showCloseButton,t.TitleBarWithCloseButton)),n={testId:this.props.testId,requestClose:this.props.onCloseRequest,ref:this.boundHandleCloseButtonRef};return r.createElement(u.PointerEventWrapper,{pointerDown:this.boundHandleStart},r.createElement(p.Block,{"data-tb-test-id":d.testId(this.props.testId,"Header"),style:e},d.conditional(o,r.createElement(p.Block,{"data-tb-test-id":d.testId(this.props.testId,"TitleBar"),style:i},d.conditional(!!this.props.title,r.createElement(p.Block,{style:t.Title,id:c.SharedWidgetsDialogLabel+String(this.props.instanceId)},this.props.title)),d.conditional(this.props.showCloseButton,r.createElement(l.CloseButtonWidget,n))))))},e}(n.Component);e.DialogHeader=f},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(3),a=o(10),l=o(9),d=o(35),c=o(36),p=o(33),u=function(){return{containerBase:{width:5*s.TabStyles.Sizing.BaseUnit,height:5*s.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none",flexShrink:0},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*s.TabStyles.Sizing.BaseUnit,height:3*s.TabStyles.Sizing.BaseUnit}}},h=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleHover=function(t){return o.handleHover(t)},this.boundHandleFocus=function(t){return o.handleFocus(t)},this.boundHandleActive=function(t){return o.handleActive(t)},this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.state={hover:!1,active:!1,focus:!1}}return i(e,t),e.prototype.handleHover=function(t){this.setState(r.assign({},this.state,{hover:t}))},e.prototype.handleFocus=function(t){this.setState(r.assign({},this.state,{focus:t}))},e.prototype.handleActive=function(t){this.setState(r.assign({},this.state,{active:t}))},e.prototype.handleKeyDown=function(t){"Enter"!==t.key&&" "!==t.key||this.props.requestClose()},e.prototype.render=function(){var t,e,o=u();return this.state.hover||this.state.focus||this.state.active?(t=c.CloseButtonIcon.active,e=r.assign({},o.imageContainer,{backgroundColor:s.TabStyles.Colors.F3})):(t=c.CloseButtonIcon.enabled,e=o.imageContainer),n.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus},n.createElement(d.Block,{style:o.containerBase,tabIndex:0,onKeyDown:this.boundHandleKeyDown,role:"button",title:"Close dialog","data-tb-test-id":l.testId(this.props.testId,"CloseButton")},n.createElement(d.Block,{style:e},n.createElement(d.Img,{src:t,draggable:!1,style:{width:c.CloseButtonIcon.width,height:c.CloseButtonIcon.height}}))))},e}(p.DynamicThemeComponent);e.CloseButtonWidget=h},function(t,e){"use strict";var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.TextEllipsis=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(11),a=o(4),l=o(35),d=o(9),c=o(54),p=o(27),u=o(55),h={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},g=function(t){function e(){var e=this;t.apply(this,arguments),this.boundFloaterRefHandler=function(t){return e.floaterRefHandler(t)}}return i(e,t),e.prototype.floaterRefHandler=function(t){this.floater=r.findDOMNode(t),this.props.handleFloaterRef&&this.props.handleFloaterRef(t)},e.prototype.getCenteredFloaterRectInLayoutCoords=function(){var t=u.getVisualViewportRectRelativeToLayoutViewport(),e={width:this.floater.offsetWidth,height:this.floater.offsetHeight},o=c.computePositionToCenterAreaInBounds(e,t);return c.makeClientRect(o,e)},e.prototype.getMinimumPageRectInLayoutCoords=function(){var t=u.getElementPositionRelativeToLayoutViewport(document.documentElement),e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},o=u.getVisualViewportRectRelativeToLayoutViewport(),i={width:o.right-t.left,height:o.bottom-t.top},n=c.getMaxWidthAndHeight(e,i);return c.makeClientRect(t,n)},e.prototype.centerInVisualViewport=function(){var t=this.getCenteredFloaterRectInLayoutCoords(),e=this.getMinimumPageRectInLayoutCoords(),o=c.computePositionToContainBounds(t,e);this.setPosition(o)},e.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},e.prototype.setPosition=function(t){var e=this.floater.offsetParent||document.documentElement,o=u.getElementPositionRelativeToLayoutViewport(e),i=c.subtractPositions(t,o);this.floater.style.top=i.top+"px",this.floater.style.left=i.left+"px"},e.prototype.componentDidMount=function(){this.centerInVisualViewport()},e.prototype.componentDidUpdate=function(t){var e=this;this.props.shouldRecenterOnUpdate&&setTimeout(function(){e.centerInVisualViewport()},0)},e.prototype.render=function(){var t={"data-tb-test-id":d.testId(this.props.testId,"Floater"),style:a.assign({},h.Floater,this.props.customFloaterStyle||{}),ref:this.boundFloaterRefHandler};return s.createElement(l.Block,t,this.props.children)},e}(n.Component);e.FloaterWidgetDefault=g;var y=p.StackingComponentHOC(g);e.FloaterWidget=y},function(t,e){"use strict";function o(t){return{top:t.top+t.height/2,left:t.left+t.width/2}}function i(t,e){return{top:t.top-e.top,left:t.left-e.left}}function n(t,e){return{width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}}function r(t,e){var i=o(e);return{top:i.top-t.height/2,left:i.left-t.width/2}}function s(t,e){var o=e.top+e.height,i=e.left+e.width;return{top:Math.max(e.top,Math.min(t.top,o-t.height)),left:Math.max(e.left,Math.min(t.left,i-t.width))}}function a(t,e){return{top:t.top,left:t.left,bottom:t.top+e.height,right:t.left+e.width,width:e.width,height:e.height}}e.computeCenter=o,e.subtractPositions=i,e.getMaxWidthAndHeight=n,e.computePositionToCenterAreaInBounds=r,e.computePositionToContainBounds=s,e.makeClientRect=a},function(t,e,o){"use strict";function i(t){return t.getBoundingClientRect()}function n(){var t=document.documentElement.getBoundingClientRect();return{top:-t.top,left:-t.left}}function r(){var t=s(),e=a();return l.makeClientRect(t,e)}function s(){var t=n(),e={top:window.pageYOffset,left:window.pageXOffset};return l.subtractPositions(e,t)}function a(){return{width:window.innerWidth,height:window.innerHeight}}var l=o(54);e.getElementPositionRelativeToLayoutViewport=i,e.getLayoutViewportPositionRelativeToPage=n,e.getVisualViewportRectRelativeToLayoutViewport=r,e.getVisualViewportPositionRelativeToLayoutViewport=s,e.getVisualViewportSize=a},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(35),a=o(9),l=o(3),d=o(10),c=o(33),p=o(27),u=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:l.TabStyles.Colors.White,opacity:l.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:l.TabStyles.Colors.F2,opacity:l.TabStyles.Opacity.OpaqueGlass}}},h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=u(),o=r.assign({},e.Glass,this.props.isTransparent?e.Clear:e.Opaque);return n.createElement(d.InteractiveDomWrapper,{pointerClick:function(e){e.preventDefault(),t.props.handleClick&&t.props.handleClick()}},n.createElement(s.Block,{style:o,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},e}(c.DynamicThemeComponent);e.GlassWidgetBase=h;var g=p.StackingComponentHOC(h);e.GlassWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(9),l=o(55),d=20,c=function(t){function e(e){t.call(this,e),this.state=this.getStateForCurrentViewport()}return i(e,t),e.prototype.getStateForCurrentViewport=function(){return{visualViewportSize:l.getVisualViewportSize(),documentClientSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},e.prototype.getMaxSize=function(){var t={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&(this.props.style.minWidth||(t.width=Math.max(t.width,this.state.documentClientSize.width)),this.props.style.minHeight||(t.height=Math.max(t.height,this.state.documentClientSize.height))),{width:t.width-2*d,height:t.height-2*d}},e.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},e.prototype.render=function(){var t=this.getMaxSize(),e=s.assign({},{maxWidth:t.width,maxHeight:t.height},this.props.style,a.conditional(this.props.isMaximized,{width:t.width,height:t.height}));return r.createElement("div",{style:e},this.props.children)},e}(n.Component);e.ViewportConstrainedDomWrapper=c},function(t,e){"use strict";var o=250;e.PendingOrientationChangeTimeoutMs=o;var i=200;e.PendingResizeTimeoutMs=i;var n=function(){function t(){}return t.init=function(){window.addEventListener("orientationchange",t.handleOrientationChange),window.addEventListener("resize",t.handleResize)},t.handleOrientationChange=function(){null!==t.latestPendingResizeTimestamp&&Date.now()-t.latestPendingResizeTimestamp<=i?t.fireOrientationChange():t.latestPendingOrientationChangeTimestamp=Date.now()},t.handleResize=function(){null!==t.latestPendingOrientationChangeTimestamp&&Date.now()-t.latestPendingOrientationChangeTimestamp<=o?t.fireOrientationChange():t.latestPendingResizeTimestamp=Date.now()},t.fireOrientationChange=function(){t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners.forEach(function(t){t()})},t.addListener=function(e){e&&t.listeners.push(e)},t.removeListener=function(e){t.listeners=t.listeners.filter(function(t){return t!==e})},t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners=[],t}();e.OrientationChange=n,n.init()},function(t,e,o){"use strict";var i=o(11),n=o(31),r=o(9),s=o(35),a=o(3),l=function(){return{ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:a.TabStyles.Spacing.MediumSpace}}},d=function(t){var e=l();return i.createElement(s.Block,{"data-tb-test-id":r.testId(t.testId,"Confirm-Cancel-Footer"),style:e.ButtonsContainer},t.buttons.map(function(t,o){return i.createElement(s.InlineBlock,{style:r.conditional(0!==o,e.FooterButton),key:o},i.createElement(n.ButtonWidget,t))}))};e.DialogFooterButtonsWidget=d},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(61),s=o(33),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.currentStep/this.props.totalSteps;return n.createElement(r.ProgressBarContainer,{width:this.props.width},n.createElement(r.ProgressCompleteBar,{fractionComplete:t},1===t?null:n.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*t})))},e}(s.DynamicThemeComponent);e.DiscreteProgressBarWidget_UNFINISHED=a},function(t,e,o){"use strict";var i=o(11),n=o(4),r=o(28),s=o(3),a=o(35),l=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},d=function(t){var e=n.assign({},l(),{width:t.width});return i.createElement(a.Block,{style:e},t.children)};e.ProgressBarContainer=d;var c=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},p=function(t){var e=n.assign({},c(),{width:100*t.fractionComplete+"%"});return i.createElement(a.Block,{style:e},t.children)};e.ProgressCompleteBar=p;var u=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:u(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(t){var e=t.containerWidth,o=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(e-u())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return i.createElement(a.Block,{style:h(),className:o})};e.ProgressBarAnimation=g},function(t,e,o){"use strict";function i(t){var e=D();switch(t){case n.Outline:return e.OutlineDropdownStyle;case n.Line:return e.LineDropdownStyle;case n.Text:return e.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+t)}}var n,r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},s=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},a=o(11),l=o(11),d=o(13),c=o(4),p=o(63),u=o(9),h=o(52),g=o(32),y=o(3),I=o(10),b=o(35),f=o(36),m=o(64),C=o(17),v=o(33),w=y.TabStyles.Sizing,M=y.TabStyles.Colors,S=y.TabStyles.Spacing,L=y.TabStyles.Typography;!function(t){t[t.Outline=0]="Outline",t[t.Line=1]="Line",t[t.Text=2]="Text"}(n||(n={})),e.DropdownType=n;var D=function(){var t=w.RowHeight-2*w.BorderWidth;return{OutlineDropdownStyle:{container:{},button:{base:c.assign({borderWidth:w.BorderWidth,borderRadius:w.BorderRadius,borderColor:M.L6,borderStyle:"solid",backgroundColor:M.Transparent,height:w.RowHeight,paddingLeft:S.DefaultSpace,paddingRight:S.LargeSpace+S.DefaultSpace,outline:"none",fontSize:L.Sizing.Default,fontFamily:L.FontFamily,fontWeight:"normal",color:L.Color.Primary,cursor:"default"},h.TextEllipsis,g.PreventUserSelect),interactive:{hover:{borderColor:M.L8},active:{borderColor:M.L9},focus:{borderColor:M.L8},disabled:{borderColor:M.L9Disabled,color:L.Color.Disabled}}},value:{lineHeight:t+"px"},iconContainer:{position:"absolute",right:0,height:t,borderWidth:w.BorderWidth,borderColor:M.L3,borderStyle:"none none none solid"},icon:{marginTop:(t-f.DropdownArrowIcon.height)/2}},LineDropdownStyle:{container:{},button:{base:c.assign({borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:w.BorderWidth,borderBottomColor:M.L6,borderBottomStyle:"solid",backgroundColor:M.Transparent,height:w.RowHeight,paddingRight:S.LargeSpace+S.DefaultSpace,outline:"none",fontSize:L.Sizing.Default,fontFamily:L.FontFamily,fontWeight:"normal",color:L.Color.Primary,cursor:"default"},h.TextEllipsis,g.PreventUserSelect),interactive:{hover:{borderBottomColor:M.L8},active:{borderBottomColor:M.L9},focus:{borderBottomColor:M.L8},disabled:{borderBottomColor:M.L9Disabled,color:L.Color.Disabled}}},value:{top:w.BorderWidth,lineHeight:t+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(t-f.DropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:L.Sizing.Tiny,fontFamily:L.FontFamily,fontWeight:"normal",color:L.Color.Secondary,lineHeight:L.Sizing.Small+"px"}},TextDropdownStyle:{container:{display:"inline-block",width:"auto"},button:{base:c.assign({border:"none",backgroundColor:M.Transparent,height:w.RowHeight,outline:"none",fontSize:L.Sizing.Default,fontFamily:L.FontFamily,fontWeight:"normal",color:L.Color.Primary,cursor:"default",lineHeight:w.RowHeight+"px",display:"inline-block",paddingRight:f.DropdownArrowIcon.width},g.PreventUserSelect),interactive:{active:{color:M.Black},disabled:{color:L.Color.Disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(w.RowHeight-f.DropdownArrowIcon.height)/2}}}};e.getDropdownStylesByType=i;var T=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState(c.assign({},this.state,{active:!1}))},e.prototype.getDropdownIcon=function(){return this.props.disabled?f.DropdownArrowIcon.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===n.Text&&this.state.hover?f.DropdownArrowIcon.active:f.DropdownArrowIcon.enabled},e.prototype.render=function(){var t=i(this.props.dropdownType),e=c.assign({},t.button.base,u.conditional(this.props.dropdownOpen,t.button.interactive.active));return l.createElement(b.Block,{disabled:this.props.disabled,style:e,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","aria-haspopup":!0,"aria-labelledby":this.props.labelledById},l.createElement("span",{style:t.value},this.props.children),l.createElement(b.InlineBlock,{style:t.iconContainer},l.createElement(b.Img,{style:t.icon,src:this.getDropdownIcon()})))},e=s([I.InteractiveDomHoCDecorator],e)}(a.Component);e.DropdownButtonWidget=T;var x="SharedWidgetsDropdownLabel",P=0,z=function(t){function e(e){var o=this;t.call(this,e),this.boundToggleMenu=function(){return o.toggleMenu()},this.boundKeyDown=function(t){return o.handleKeyDown(t)},this.boundOnRequestClose=function(){return o.onRequestClose()},this.boundSetButtonElement=function(t){return o.setButtonElement(t)},this.boundHandleSelect=function(t){return o.handleSelect(t)},this.labelId=x+String(P++),this.setEnabledItems(),this.state={isOpen:!1}}return r(e,t),e.prototype.componentDidMount=function(){this.domNode=d.findDOMNode(this)},e.prototype.componentWillReceiveProps=function(t){this.setEnabledItems()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},e.prototype.getMenuWidth=function(){return this.props.dropdownType===n.Text&&this.props.containerStyle?this.props.containerStyle.width:this.buttonEl?this.buttonEl.getBoundingClientRect().width:null},e.prototype.getIndexOfSelectedItem=function(){var t=this;return p.findIndex(this.enabledItems,function(e){return e.value===t.props.selectedValue},0,this)},e.prototype.setEnabledItems=function(){this.props.menuItemInfos?this.enabledItems=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}):this.enabledItems=[]},e.prototype.toggleMenu=function(){this.props.disabled||this.setState({isOpen:!this.state.isOpen})},e.prototype.handleSelect=function(t){this.props.onSelect(t),this.onRequestClose()},e.prototype.handleKeyDown=function(t){if(!this.state.isOpen){var e=this.getIndexOfSelectedItem();if(u.isAlphabeticChar(t.key)){var o=p.findIndex(this.enabledItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},e+1,this);o>-1&&this.props.onSelect(this.enabledItems[o].value)}else{switch(t.key){case" ":case"Enter":this.toggleMenu();break;case"ArrowUp":e>0?this.props.onSelect(this.enabledItems[e-1].value):this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;case"ArrowDown":e<this.enabledItems.length-1?this.props.onSelect(this.enabledItems[e+1].value):this.props.onSelect(this.enabledItems[0].value);break;case"Home":this.props.onSelect(this.enabledItems[0].value);break;case"End":this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;default:return}t.preventDefault(),t.stopPropagation()}}},e.prototype.onRequestClose=function(){this.toggleMenu()},e.prototype.getButtonDisplayValue=function(){var t=this.getIndexOfSelectedItem();return t>-1?this.enabledItems[t].displayValue:this.props.placeholder||""},e.prototype.setButtonElement=function(t){this.buttonEl=d.findDOMNode(t)},e.prototype.render=function(){var t=i(this.props.dropdownType),e=this.props.dropdownType===n.Line&&!!this.props.label,o=c.assign({},this.props.containerStyle,t.container),r={width:this.getMenuWidth()};return l.createElement(b.Block,{style:o,"data-tb-test-id":this.props.testId+"-Dropdown"},u.conditional(e,l.createElement("label",{style:t.label,id:this.labelId},this.props.label)),l.createElement(b.Block,{},l.createElement(T,{disabled:this.props.disabled,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,interactiveStyles:t.button.interactive,onKeyDown:this.boundKeyDown,pointerClick:this.boundToggleMenu,labelledById:u.conditional(e,this.labelId),ref:this.boundSetButtonElement},this.getButtonDisplayValue())),u.conditional(this.state.isOpen,l.createElement(m.FlyoutListMenuWidget,{toggleEl:this.buttonEl,anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:C.VerticalOriginOption.bottom,horizontal:C.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.boundToggleMenu,onSelect:this.boundHandleSelect,initialHighlightedValue:this.props.selectedValue,maxHeight:this.props.maxHeight,menuStyle:r,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.boundOnRequestClose,zIndex:this.props.zIndex,testId:this.props.testId})))},e}(v.DynamicThemeComponent);e.DropdownWidget=z},function(t,e){"use strict";var o=function(t,e,o,i){void 0===o&&(o=0);for(var n=o;n<t.length+o;n++){var r=n%t.length;if(e.call(i,t[r],r))return r}return-1};e.findIndex=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(65),s=o(33),a=o(17),l=o(68),d={vertical:a.VerticalOriginOption.bottom,horizontal:a.HorizontalOriginOption.left},c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){this.props.toggleEl&&(this.pointerDownOutsideListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.props.requestCloseAll))},e.prototype.componentWillUnmount=function(){var t=this;this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe(),this.props.toggleEl&&setTimeout(function(){t.props.toggleEl.focus()},0)},e.prototype.render=function(){return n.createElement(a.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||d,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex},n.createElement(r.ListMenuWidget,{menuItemInfos:this.props.menuItemInfos,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,initialHighlightedValue:this.props.initialHighlightedValue,menuStyle:this.props.menuStyle,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyDown:this.props.onEscapeKeyDown,subMenuAllowAutoPosition:this.props.allowAutoPosition,scrollingRootId:this.props.scrollingRootId,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll}))},e}(s.DynamicThemeComponent);e.FlyoutListMenuWidget=c},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(13),r=o(11),s=o(4),a=o(35),l=o(9),d=o(63),c=o(3),p=o(66),u=o(33),h=o(67),g=o(68),y=c.TabStyles.Sizing,I=c.TabStyles.Colors,b=c.TabStyles.Spacing,f=c.TabStyles.Typography,m=c.TabStyles.Shadow,C=function(){return{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:I.L6,borderStyle:"solid",backgroundColor:I.White,padding:b.DefaultSpace,outline:"none",fontSize:f.Sizing.Default,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.Primary,boxShadow:m.Low}},v=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.stopPropagation=function(t){t.stopPropagation()};var i=[];this.props.menuItemInfos&&(i=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}));var n=d.findIndex(i,function(t){return t.value===o.props.initialHighlightedValue},0,this);this.state={highlightedItemIndex:n>-1?n:0,enabledMenuItems:i,keyboardFocused:!0}}return i(e,t),e.prototype.componentDidMount=function(){this.domNode=n.findDOMNode(this),this.pointerDownOutsideListenerUnsubscribe=g.GlobalPointerDownOutsideListener.subscribe(this.domNode,this.props.requestCloseAll),this.addStopPropogationListeners()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe(),this.removeStopPropogationListeners()},e.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},e.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},e.prototype.handleKeyDown=function(t){if(l.isAlphabeticChar(t.key)){var e=d.findIndex(this.state.enabledMenuItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},this.state.highlightedItemIndex+1,this);e>-1&&this.setHighlightedItemIndexAndKeyboardFocus(e,!0)}else{switch(t.key){case"Escape":this.props.onEscapeKeyDown?this.props.onEscapeKeyDown():this.props.requestCloseAll();break;case"Tab":this.props.requestCloseAll();break;case"ArrowUp":this.state.highlightedItemIndex>0?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex-1,!0):this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;case"ArrowDown":this.state.highlightedItemIndex<this.state.enabledMenuItems.length-1?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex+1,!0):this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"ArrowLeft":this.props.onLeftArrowKeyDown&&this.props.onLeftArrowKeyDown();break;case"Home":this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"End":this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},e.prototype.setHighlightedItemIndexAndKeyboardFocus=function(t,e){this.setState(s.assign({},this.state,{highlightedItemIndex:t,keyboardFocused:e})),e||this.domNode.focus()},e.prototype.buildMenuFromMenuItemInfos=function(){var t,e=this,o=0,i=0;return this.props.menuItemInfos.map(function(n){if(n.isDivider)t=r.createElement(h.DividerWidget,{key:"divider"+i++});else{var s=e.setHighlightedItemIndexAndKeyboardFocus.bind(e,o,!!n.menuItemInfos),a=function(t){return e.props.onSelect(t)};if(t=r.createElement(p.MenuItemWidget,{value:n.value,key:n.value,isHighlighted:!n.disabled&&e.state.highlightedItemIndex===o,onHover:n.disabled?null:s,onSelect:a,keyboardFocused:e.state.keyboardFocused,disabled:n.disabled,menuItemInfos:n.menuItemInfos,subMenuStyle:n.subMenuStyle,subMenuMaxHeight:n.subMenuMaxHeight,subMenuAllowAutoPosition:e.props.subMenuAllowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:e.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackingRootId:e.props.stackingRootId,scrollingRootId:e.props.scrollingRootId,requestCloseAll:e.props.requestCloseAll,displayValue:n.displayValue,zIndex:e.props.zIndex,testId:e.props.testId}),n.disabled||o++,!n.value)throw new Error("Each non-divider menu item requires a value")}return t})},e.prototype.render=function(){var t=s.assign({},C(),this.props.menuStyle,{maxHeight:this.props.maxHeight,overflowY:this.props.maxHeight?"auto":null});return r.createElement(a.Block,{style:t,onKeyDown:this.boundHandleKeyDown,tabIndex:-1,role:"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},e}(u.DynamicThemeComponent);e.ListMenuWidget=v},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(4),a=o(9),l=o(35),d=o(17),c=o(52),p=o(32),u=o(3),h=o(10),g=o(36),y=o(33),I=o(64),b=u.TabStyles.Sizing,f=u.TabStyles.Colors,m=u.TabStyles.Spacing,C=u.TabStyles.Typography,v=function(){return{MenuItem:s.assign({height:b.ListRowHeight,paddingLeft:m.DefaultSpace,paddingRight:m.DefaultSpace,lineHeight:b.ListRowHeight+"px",cursor:"default",outline:"none"},c.TextEllipsis,p.PreventUserSelect),Highlighted:{backgroundColor:f.F2_5},Active:{backgroundColor:f.F3},WithSubMenu:{paddingRight:g.MenuItemArrowIcon.width},InteractiveStyles:{disabled:{color:C.Color.Disabled}},ArrowIcon:{position:"absolute",right:m.DefaultSpace}}},w=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundOnSelect=function(){return o.onSelect()},this.boundOnHover=function(t){return o.onHover(t)},this.boundSetDomNode=function(t){return o.setDomNode(t)},this.boundRequestClose=function(){return o.requestClose()},this.boundOnActive=function(t){return o.onActive(t)},this.hasSubMenu=!!this.props.menuItemInfos,this.state={menuItemActive:!1}}return i(e,t),e.prototype.componentDidMount=function(){this.updateFocus()},e.prototype.componentDidUpdate=function(){!this.props.isHighlighted&&this.state.menuItemActive&&this.setState(s.assign({},this.state,{menuItemActive:!1})),this.updateFocus()},e.prototype.updateFocus=function(){var t=r.findDOMNode(this);this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused&&setTimeout(function(){return t.focus()},0)},e.prototype.handleKeyDown=function(t){switch(t.key){case" ":case"Enter":this.boundOnSelect(),t.preventDefault();break;case"ArrowRight":this.hasSubMenu&&this.boundOnSelect();break;default:return}},e.prototype.onSelect=function(){this.props.disabled||(this.hasSubMenu?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.props.onSelect(this.props.value))},e.prototype.onHover=function(t){t&&(this.props.onHover&&this.props.onHover(),this.hasSubMenu&&this.setState(s.assign({},this.state,{menuItemActive:!0})))},e.prototype.onActive=function(t){this.hasSubMenu||(t?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.setState(s.assign({},this.state,{menuItemActive:!1})))},e.prototype.setDomNode=function(t){this.domNode=t},e.prototype.requestClose=function(){this.setState(s.assign({},this.state,{menuItemActive:!1}))},e.prototype.render=function(){var t=v(),e=t.InteractiveStyles,o=s.assign({},t.MenuItem,a.conditional(!!this.props.menuItemInfos,t.WithSubMenu),a.conditional(this.props.isHighlighted,t.Highlighted),a.conditional(this.state.menuItemActive,t.Active)),i=this.props.disabled?g.MenuItemArrowIcon.disabled:g.MenuItemArrowIcon.enabled,r=this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&this.hasSubMenu;return n.createElement(h.InteractiveDomWrapper,{pointerClick:this.boundOnSelect,handleHover:this.boundOnHover,handleActive:this.boundOnActive,interactiveStyles:e,disabled:this.props.disabled},n.createElement("div",{onKeyDown:this.boundHandleKeyDown,style:o,tabIndex:-1,ref:this.boundSetDomNode,role:"menuitem","aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},a.conditional(this.hasSubMenu,n.createElement(l.Img,{style:t.ArrowIcon,src:i})),this.props.displayValue,a.conditional(r,n.createElement(I.FlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,scrollingRootId:this.props.scrollingRootId,anchorOrigin:{vertical:d.VerticalOriginOption.top,horizontal:d.HorizontalOriginOption.right},stackedOrigin:{vertical:d.VerticalOriginOption.top,horizontal:d.HorizontalOriginOption.left},allowAutoPosition:this.props.subMenuAllowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:this.props.subMenuStyle,onLeftArrowKeyDown:this.boundRequestClose,onEscapeKeyDown:this.boundRequestClose,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},e}(y.DynamicThemeComponent);e.MenuItemWidget=w},function(t,e,o){"use strict";var i=o(11),n=o(3),r=n.TabStyles.Sizing,s=n.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,borderStyle:"solid",borderWidth:r.BorderWidth,borderColor:s.L3,borderBottom:"none"}},l=function(t){return i.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};e.DividerWidget=l},function(t,e){"use strict";var o=function(){function t(){}return t.subscribe=function(e,o){return!this.callback&&o&&(this.callback=o),0===this.domNodes.length&&(document.addEventListener("mousedown",this.handleClickAway.bind(this)),document.addEventListener("touchstart",this.handleClickAway.bind(this))),this.domNodes.push(e),function(){t.unsubscribe(e)}},t.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,document.removeEventListener("mousedown",this.handleClickAway.bind(this)),document.removeEventListener("touchstart",this.handleClickAway.bind(this)))},t.handleClickAway=function(t){if(this.callback){for(var e=t.target,o=0,i=this.domNodes;o<i.length;o++){var n=i[o];if(n.contains(e))return}this.callback()}},t.domNodes=[],t}();e.GlobalPointerDownOutsideListener=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(9),a=o(35),l=o(3),d=o(43),c=o(42);e.TextInputType=c.TextInputType;var p=o(29),u=l.TabStyles.Colors,h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,y=l.TabStyles.Typography,I=function(){return{baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:h.BorderWidth,borderBottomRadius:h.BorderRadius,borderBottomColor:u.L6,borderBottomStyle:"solid",height:h.RowHeight,outline:"none",backgroundColor:u.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Primary,position:"relative",paddingBottom:g.DefaultSpace,marginBottom:g.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:u.L8},active:{borderBottomColor:u.GoLight},focus:{borderBottomColor:u.GoLight},disabled:{borderBottomColor:u.L9Disabled,color:y.Color.Disabled}}},errorInput:{borderBottomColor:u.AttentionLight},placeholder:{base:{fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:h.RowHeight+"px",bottom:g.DefaultSpace},disabled:{color:y.Color.Disabled}},errorLabel:{fontSize:y.Sizing.Tiny,fontFamily:y.FontFamily,fontWeight:"normal",color:u.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:y.Sizing.Small,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,lineHeight:h.RowHeight+"px"}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=I(),o=r.assign({},e.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,e.placeholder.disabled)),i=r.assign({},e.floatingLabel,this.props.floatingLabelStyle),l=this.isPlaceholderShowing(),d=r.assign({},e.baseInput.base,this.props.hasError?e.errorInput:null,this.props.inputStyle),u=this.props.hasError?null:e.baseInput.interactive,h={type:this.props.type,style:d,interactiveStyles:u,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.floatingLabel||this.props.placeholder};return n.createElement(a.Block,{style:this.props.containerStyle},this.props.floatingLabel?n.createElement(a.Block,{},n.createElement("label",{style:i,"data-tb-test-id":this.props.testId+"-FloatingLabel"},l?p.Unicode.NonBreakingSpace:this.props.floatingLabel)):null,n.createElement(a.Block,{},l?n.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(c.TextFieldInputWidget,h)),n.createElement(a.Block,{},n.createElement("label",{style:e.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:p.Unicode.NonBreakingSpace)))},e}(d.TextFieldBase);e.LineTextFieldWidget=b},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(11),a=o(4),l=o(35),d=o(36),c=o(3),p=o(71),u="RadioButtonWithLabelGroup";!function(t){t[t.Veritical=0]="Veritical",t[t.Horizontal=1]="Horizontal"}(i||(i={})),e.RadioLayoutType=i;var h=function(t){function e(o){t.call(this,o),this.groupId=e.groupIdIncrementor++}return n(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.buttonList.length-1?this.props.layout===i.Horizontal?{paddingRight:c.TabStyles.Spacing.ExtraLargeSpace}:{paddingBottom:c.TabStyles.Sizing.ListRowHeight-c.TabStyles.Sizing.MultiLineInputLineHeight-(d.RadioButtonIcon.height-c.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.getContainerStyle=function(){var t={};return this.props.layout===i.Horizontal&&(a.assign(t,{display:"flex",flexWrap:"wrap"}),this.props.justifyHorizontalItems&&a.assign(t,{justifyContent:"space-between"})),t},e.prototype.render=function(){var t=this,e=this.props.buttonList.map(function(e,o){var i=t.getContainerStyleOfIndex(o);return s.createElement(p.RadioButtonWithLabelWidget,{index:o,groupName:t.props.name||u+t.groupId.toString(),value:e.value,testId:e.testId,checked:o===t.props.checkedIndex,disabled:e.disabled,handleChange:t.props.handleChange,label:e.label,containerStyle:i,key:o})});return s.createElement(l.Block,{role:"radiogroup","aria-label":this.props.ariaLabel,style:this.getContainerStyle(),"data-tb-test-id":"RadioButtonWithLabelGroupWidget-"+this.props.testId},e)},e.groupIdIncrementor=0,e}(r.Component);e.RadioButtonWithLabelGroupWidget=h},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(72),l=o(35),d=o(1),c=o(36),p=o(10),u=o(39),h=o(3),g=o(33),y=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight,height:"100%"},text:{width:"100%",paddingTop:(c.RadioButtonIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},I=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=y();return r.createElement(l.Block,{className:d.SuppressClickBustingClass,role:"radio","aria-checked":this.props.checked},r.createElement(u.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:s.assign({},t.label,this.props.containerStyle)},r.createElement(a.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,value:this.props.value,index:this.props.index}),r.createElement(l.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=n([p.InteractiveDomHoCDecorator],e)}(g.DynamicThemeComponent);e.RadioButtonWithLabelWidget=I},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.RadioButtonIcon.selectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.selectedActive:c.RadioButtonIcon.selected:t.disabled?c.RadioButtonIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.unselectedActive:c.RadioButtonIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=o(11),a=o(11),l=o(35),d=o(10),c=o(36),p=o(3),u=o(33),h=function(){return{baseDiv:{marginLeft:p.TabStyles.Spacing.DefaultSpace-c.RadioButtonIcon.padding,marginRight:p.TabStyles.Spacing.DefaultSpace-c.RadioButtonIcon.padding,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,minWidth:c.RadioButtonIcon.width,flexShrink:0},radioButton:{opacity:0,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeRadioButton:{height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,position:"absolute",verticalAlign:"top"}}},g=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},e.prototype.render=function(){var t=this,e=i(this.props,this.state),o=h();return s.createElement(l.InlineBlock,{style:o.baseDiv},a.createElement(l.Img,{style:o.fakeRadioButton,src:e}),s.DOM.input({style:o.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id}))},e=r([d.InteractiveDomHoCDecorator],e)}(u.DynamicThemeComponent);e.RadioButtonWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(13),a=o(11),l=o(4),d=o(35),c=o(9),p=o(10),u=o(3),h=o(74),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=u.TabStyles.Spacing,b=u.TabStyles.Typography,f=function(){var t=5*y.ListRowHeight+2*y.BorderWidth;return{container:{background:g.White},input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:g.L6,borderStyle:"solid",paddingLeft:I.DefaultSpace,paddingRight:I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:y.ListRowHeight+"px",minHeight:y.RowHeight,maxHeight:t,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:b.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Disabled,top:I.SmallSpace,left:I.DefaultSpace,textAlign:"start",lineHeight:y.ListRowHeight+"px"}}};e.getRichTextEditOutlineStyles=f;var m=function(t){function e(){var e=this;t.apply(this,arguments),this.boundInputRef=function(t){e.textInputRef=s.findDOMNode(t),e.props.handleInputRef(t)},this.shouldShowPlaceholder=function(){if(e.state.focus)return!1;var t=!e.textInputRef||0===e.textInputRef.innerText.length;return t}}return i(e,t),e.prototype.render=function(){var t=f(),e=this.shouldShowPlaceholder(),o={style:l.assign({},t.container,this.props.containerStyle)},i={style:t.placeholder,"data-tb-test-id":c.testId(this.props.testId,"Placeholder")},n={style:t.input.base,interactiveStyles:t.input.interactive,testId:this.props.testId,handleInputRef:this.boundInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return a.createElement(d.Block,o,c.conditional(e,a.createElement("label",i,this.props.placeholder)),a.createElement(h.RichTextEditWidget_UNFINISHED,n))},e=n([p.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditOutlineWidget_UNFINISHED=m},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(35),l=o(11),d=o(10),c="shared-widgets-content-editable-div",p=function(){return{userSelect:"text",WebkitUserSelect:"text"}},u=function(t){function e(){var e=this;t.apply(this,arguments),this.boundOnKeyDown=function(t){return e.handleUserInput(t)},this.boundOnKeyUp=function(t){return e.handleChange(t)}}return i(e,t),e.prototype.handleUserInput=function(t){this.props.disabled||"Enter"!==t.key||t.shiftKey||this.props.handleEnter&&(this.props.handleEnter(),t.preventDefault(),t.stopPropagation())},e.prototype.handleChange=function(t){this.props.disabled||this.props.handleChange&&this.props.handleChange()},e.prototype.render=function(){var t={className:c,"data-tb-test-id":this.props.testId+"-TextInput",style:s.assign({},p(),this.props.style),contentEditable:!0,onKeyDown:this.boundOnKeyDown,onKeyUp:this.boundOnKeyUp,ref:this.props.handleInputRef};return l.createElement(a.Block,t)},e=n([d.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditWidget_UNFINISHED=u},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(9),a=o(35),l=o(36),d=o(3),c=o(41),p=o(43),u=o(44),h=o(42);e.TextInputType=h.TextInputType;var g=d.TabStyles.Sizing,y=d.TabStyles.Spacing,I=function(){return{iconPadding:{paddingRight:l.SearchIcon.width+2*y.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:y.DefaultSpace,paddingLeft:y.DefaultSpace,marginTop:(g.RowHeight-l.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},b=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleClearSearch=function(){return o.handleCancelSearchWrapper()},this.boundHandleCancelHover=function(t){return o.handleCancelHover(t)},this.state=r.assign({},this.state,{cancelHover:!1})}return i(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleCancelSearch()},e.prototype.handleCancelHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{cancelHover:t}))},e.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?l.SearchIcon.searchActive:l.SearchIcon.search},e.prototype.getInputStyle=function(){var t=c.getTextOutlineStyles(),e=I();return r.assign({},t.input.base,e.iconPadding,this.state.cancelHover?t.input.interactive.hover:{},this.props.inputStyle)},e.prototype.render=function(){var t=this,e=I(),o=c.getTextOutlineStyles(),i=r.assign({},o.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,o.placeholder.disabled)),l=this.isPlaceholderShowing(),d=this.getInputStyle(),p={type:this.props.type,style:d,interactiveStyles:o.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},handleHover:function(e){return t.handleInputHover(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder};return n.createElement(a.Block,{style:this.props.containerStyle},s.conditional(!this.props.text,n.createElement(a.Img,{src:this.getIcon(),style:e.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"})),s.conditional(l,n.createElement("label",{style:i,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder)),n.createElement(h.TextFieldInputWidget,p),this.props.text?n.createElement(u.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled}):null)},e}(p.TextFieldBase);e.SearchFieldWidget=b},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(4),a=o(35),l=o(41),d=o(77),c=o(36),p=o(3),u=o(9),h=o(43),g=o(42),y=o(80);!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(i||(i={})),e.StepperType=i;var I=p.TabStyles.Spacing,b=p.TabStyles.Sizing,f=function(){return{verticalIconPadding:{paddingRight:c.StepperDownIcon.width+I.DefaultSpace},horizontalIconPadding:{paddingRight:c.StepperRightIcon.width+c.StepperLeftIcon.width+I.DefaultSpace+2*b.BorderWidth},outlineContainer:{width:"100%"}}},m=function(t){function e(e){var o=this;t.call(this,e),this.boundhandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundHandleActive=function(t){return o.handleInputActive(t)},this.boundHandleFocus=function(t){return o.handleInputFocus(t)},this.boundHandleHover=function(t){return o.handleInputHover(t)},this.boundHandleIncrementWrapper=function(){return o.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return o.handleDecrementWrapper()},this.boundHandleChangeWrapper=function(t){return o.handleChangeWrapper(t)},this.boundHandleStepperHover=function(t){return o.handleStepperHover(t)},this.state=s.assign({},this.state,{stepperHover:!1})}return n(e,t),e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleChangeWrapper=function(t){this.props.disabled||this.props.readOnly||this.props.handleNumberVerification&&!this.props.handleNumberVerification(t)||this.props.handleChange(t)},e.prototype.getInputStyle=function(){var t=this.props.stepperLayoutType===i.Vertical,e=l.getTextOutlineStyles(),o=f();return s.assign({},e.input.base,u.conditional(this.state.stepperHover,e.input.interactive.hover),this.props.inputStyle,t?o.verticalIconPadding:o.horizontalIconPadding)},e.prototype.getPlaceholderStyle=function(){var t=l.getTextOutlineStyles();return s.assign({},t.placeholder.base,this.props.placeholderStyle,u.conditional(this.props.disabled,t.placeholder.disabled))},e.prototype.handleStepperHover=function(t){this.props.disabled||this.setState(s.assign({},this.state,{stepperHover:t}))},e.prototype.handleKeyDown=function(t){this.props.disabled||("ArrowUp"===t.key?this.handleIncrementWrapper():"ArrowDown"===t.key&&this.handleDecrementWrapper())},e.prototype.render=function(){var t={style:this.props.containerStyle},e=this.isPlaceholderShowing(),o=this.props.stepperLayoutType===i.Vertical,n=o?y.VerticalStepperArrowGroup:d.HorizontalStepperArrowGroup,s=l.getTextOutlineStyles(),c=this.getInputStyle(),p=this.getPlaceholderStyle(),h={style:c,interactiveStyles:s.input.interactive,text:String(this.props.text),testId:u.testId(this.props.testId,"StepperWidget"),handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus,handleHover:this.boundHandleHover,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.boundhandleKeyDown,name:this.props.name},I={testId:u.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.boundHandleIncrementWrapper,handleDecrement:this.boundHandleDecrementWrapper,handleHover:this.boundHandleStepperHover},b={style:p,"data-tb-test-id":this.props.testId+"-Placeholder"};return r.createElement(a.Block,t,u.conditional(e,r.createElement("label",b,this.props.placeholder)),r.createElement(g.TextFieldInputWidget,h),r.createElement(n,I))},e}(h.TextFieldBase);e.StepperWidget=m},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(35),l=o(78),d=o(10),c=o(79),p=o(36),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{iconContainer:{position:"absolute",top:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{right:y.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:y.BorderWidth+p.StepperRightIcon.width}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIncrementIconStyle=function(){var t=I();return s.assign({},t.incrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=I();return s.assign({},t.decrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.render=function(){var t={style:I().arrowLayout},e={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperLeftIcon.active,enabledIcon:p.StepperLeftIcon.enabled,disabledIcon:p.StepperLeftIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled},o={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperRightIcon.active,enabledIcon:p.StepperRightIcon.enabled,disabledIcon:p.StepperRightIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled};return r.createElement(a.Block,t,r.createElement(l.IconButtonBase,e),r.createElement(l.IconButtonBase,o))},e=n([d.InteractiveDomHoCDecorator],e)}(c.StepperArrowGroup);e.HorizontalStepperArrowGroup=b},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(35),l=o(10),d=o(9),c=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleActive=function(t){return o.handleActiveWrapper(t)},this.boundPointerClick=function(){return o.handleClickWrapper()},this.state={active:!1}}return i(e,t),e.prototype.handleClickWrapper=function(){!this.props.disabled&&this.props.handleClick&&this.props.handleClick()},e.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon:this.state.active?this.props.activeIcon:this.props.enabledIcon},e.prototype.handleActiveWrapper=function(t){this.setState(s.assign({},this.state,{active:t}))},e.prototype.render=function(){var t={pointerClick:this.boundPointerClick,handleActive:this.boundHandleActive},e={src:this.getIcon(),draggable:!1,style:this.props.style,"data-tb-test-id":d.testId(this.props.testId,"IconButtonBase")};return r.createElement(l.InteractiveDomWrapper,t,r.createElement(a.Img,e))},e}(n.Component);e.IconButtonBase=c},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleIncrementWrapper=function(){return e.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return e.handleDecrementWrapper()}}return i(e,t),e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleHoverWrapper=function(t){this.props.disabled||this.props.handleHover(t)},e}(n.Component);e.StepperArrowGroup=r},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(35),l=o(78),d=o(10),c=o(79),p=o(36),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{icon:{position:"absolute",right:y.BorderWidth,paddingRight:y.BorderWidth,paddingLeft:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderBottom:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{top:y.BorderWidth},decrementStyle:{top:y.RowHeight-p.StepperDownIcon.height-2*y.BorderWidth,borderTop:"solid"}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIncrementIconStyle=function(){var t=I();return s.assign({},t.incrementStyle,t.icon,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=I();return s.assign({},t.decrementStyle,t.icon,this.props.inputStyle)},e.prototype.render=function(){var t={style:I().arrowLayout},e={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperUpIcon.active,enabledIcon:p.StepperUpIcon.enabled,disabledIcon:p.StepperUpIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled},o={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperDownIcon.active,enabledIcon:p.StepperDownIcon.enabled,disabledIcon:p.StepperDownIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled};return r.createElement(a.Block,t,r.createElement(l.IconButtonBase,e),r.createElement(l.IconButtonBase,o))},e=n([d.InteractiveDomHoCDecorator],e)}(c.StepperArrowGroup);e.VerticalStepperArrowGroup=b},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(4),a=o(33),l=o(32),d=o(3),c=o(82);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(i||(i={})),e.SelectedToggle=i;var p=function(){return{container:{display:"flex"},toggleBase:s.assign({flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:d.TabStyles.Spacing.MediumSpace,paddingRight:d.TabStyles.Spacing.MediumSpace,borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:d.TabStyles.Sizing.RowHeight-2*d.TabStyles.Sizing.BorderWidth+"px"},l.PreventUserSelect),selectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:d.TabStyles.Colors.F1,color:d.TabStyles.Typography.Color.Primary,borderColor:d.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:d.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:d.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:d.TabStyles.Colors.L9},focusUnselectedToggle:{borderColor:d.TabStyles.Colors.L9},activeSelectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.L9},unactiveToggle:{backgroundColor:d.TabStyles.Colors.F1,color:d.TabStyles.Typography.Color.Primary,borderColor:d.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:d.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:d.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:d.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:d.TabStyles.Sizing.BorderRadius}}},u=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleChange=function(t){return e.handleChangeHelper(t)}}return n(e,t),e.prototype.handleChangeHelper=function(t){1===t?this.props.handleRightToggleSelected():this.props.handleLeftToggleSelected()},e.prototype.render=function(){var t=p();return t.container=s.assign({},t.container,this.props.containerStyle),r.createElement(c.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===i.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.boundHandleChange,style:t,testId:this.props.testId,name:this.props.name,ariaLabel:this.props.ariaLabel})},e}(a.DynamicThemeComponent);e.ToggleTextWidget=u},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(35),l=o(1),d=o(9),c=o(39),p="SwitcherTextGroup",u=function(t){function e(){var e=this;t.apply(this,arguments),this.boundedChange=function(t){return e.props.handleChange(e.props.idx)},this.boundHandleActive=function(t){return e.handleActive(t)}}return i(e,t),e.prototype.handleActive=function(t){this.props.handleActive(t?this.props.idx:-1)},e.prototype.render=function(){return r.createElement(c.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.boundHandleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.props.checked?null:this.boundedChange,type:"radio",checked:this.props.checked,name:this.props.groupName,readOnly:this.props.checked,"data-tb-test-id":d.testId(this.props.testId,"input")}),this.props.children)},e}(n.Component),h=function(t){function e(o){var i=this;t.call(this,o),this.boundHandleActive=function(t){return i.handleActive(t)},this.groupId=e.groupIdIncrementor++,this.state={activerSwitcherIdx:-1}}return i(e,t),e.prototype.handleActive=function(t){this.setState({activerSwitcherIdx:t})},e.prototype.getToggleStyling=function(t){var e=s.assign({},this.props.style.toggleBase,0===t?this.props.style.firstToggle:null,t===this.props.toggleTexts.length-1?this.props.style.lastToggle:null);return e=this.state.activerSwitcherIdx>=0?s.assign({},e,this.state.activerSwitcherIdx!==t?this.props.style.unactiveToggle:this.props.checkedIndex===t?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle):s.assign({},e,this.props.checkedIndex===t?this.props.style.selectedToggle:this.props.style.unselectedToggle)},e.prototype.render=function(){var t=this,e=p+String(this.groupId),o=this.props.toggleTexts.map(function(o,i){var n=t.getToggleStyling(i),s=t.props.checkedIndex===i?t.props.style.hoverSelectedToggle:t.props.style.hoverUnselectedToggle,a=t.props.checkedIndex===i?t.props.style.focusSelectedToggle:t.props.style.focusUnselectedToggle;return r.createElement(u,{groupName:t.props.name||e,handleChange:t.props.handleChange,checked:t.props.checkedIndex===i,testId:d.testId(t.props.testId,o),idx:i,style:n,hoverStyle:s,focusStyle:a,key:i,handleActive:t.boundHandleActive},o)});return r.createElement(a.Block,{style:this.props.style.container,className:l.SuppressClickBustingClass,role:"radiogroup","aria-label":this.props.ariaLabel},o)},e.groupIdIncrementor=0,e}(n.Component);e.SwitcherTextBase=h},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(35),a=o(9),l=o(11),d=o(45),c=o(10),p=o(3),u=function(){return{border:"1px solid white"}},h=function(t){var e=u();return{base:{width:t.size,height:t.size,backgroundColor:t.color.toLowerCase(),boxSizing:"border-box",cursor:"pointer"},interactive:{hover:e,active:e,disabled:{cursor:"normal"}}}},g=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleHover=function(t){return o.handleHover(t)},this.boundHandleActive=function(t){return o.handleActive(t)},this.boundOnClicked=function(){return o.onClicked()},this.state={hover:!1,active:!1}}return i(e,t),e.prototype.render=function(){var t=h(this.props),e={interactiveStyles:t.interactive,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,disabled:this.props.disabled};return l.createElement(c.InteractiveDomWrapper,e,l.createElement("div",{style:r.assign({},t.base,this.props.selected?u():{}),onClick:this.boundOnClicked},a.conditional(!this.props.disabled,l.createElement("div",{style:this.getInnerBorderStyle()}))))},e.prototype.getInnerBorderStyle=function(){var t=this.props.selected||this.state.hover||this.state.active,e=t&&p.TabStyles.Colors?p.TabStyles.Colors.F9:"transparent";return{borderWidth:1,borderStyle:"solid",borderColor:e,width:"100%",height:"100%",boxSizing:"border-box"}},e.prototype.handleHover=function(t){this.setState(r.assign({},this.state,{hover:t}))},e.prototype.handleActive=function(t){this.setState(r.assign({},this.state,{active:t}))},e.prototype.onClicked=function(){this.props.disabled||this.props.handleClick(this.props.color.toLowerCase())},e}(n.Component);e.ColorSwatchWidget=g;var y;!function(t){t[t.Dark=0]="Dark",t[t.Light=1]="Light"}(y||(y={})),e.ColorGridPreset=y;var I=function(t){function e(e){var o=this;t.call(this,e),this.boundOnSwatchClicked=function(t){return o.onSwatchClicked(t)},this.preset=this.props.colorsPreset||y.Dark}return i(e,t),e.prototype.render=function(){this.props.colorsPreset&&this.props.colorsPreset!==this.preset&&(this.preset=this.props.colorsPreset);var t=l.createElement(c.InteractiveDomWrapper,{interactiveStyles:{focus:{outline:"none"}}},this.buildColorSwatchGrid());return this.props.isDropdown?l.createElement(d.DialogWidget,this.buildDialogProps(),t):l.createElement(s.Block,{"data-tb-test-id":a.testId(this.props.testId,"ColorGrid")},t)},e.prototype.onSwatchClicked=function(t){this.props.disabled||this.props.handleSwatchClicked(t.toLowerCase())},e.prototype.getColorPreset=function(){return this.preset===y.Light?p.TabStyles.ColorPickerPresets.Light:p.TabStyles.ColorPickerPresets.Dark},e.prototype.buildDialogProps=function(){return{shouldReturnFocusOnClose:!0,testId:a.testId(this.props.testId,"ColorGridWidget"),type:d.DialogType.Uber,positioningBehavior:d.DialogPositioningBehavior.Anchored,anchorEl:this.props.anchorEl,isModal:!0,isGlassTransparent:!0,handleGlassClick:this.props.handleGlassClick,showCloseButton:!1,onCloseRequest:this.props.handleCloseRequest,showFooter:!1}},e.prototype.buildColorSwatchGrid=function(){for(var t=[],o=this.getColorPreset(),i=[],n=[],r=0,s=0;s<o.length;s++){var a=o[s].toLowerCase(),d={color:a,handleClick:this.boundOnSwatchClicked,key:"swatch-"+a,size:p.TabStyles.Sizing.ColorSwatchSize,selected:this.props.selectedColor===a,disabled:this.props.disabled};n.push(l.createElement(g,d)),r+=1;var c=1===r&&t.length<2||3===r&&t.length>=2;(r===e.colorsPerColumn||c)&&(i.push(l.createElement("div",{style:{border:"1px solid "+p.TabStyles.Colors.L6},key:"group-"+s},n)),c&&i.push(l.createElement("div",{style:{width:p.TabStyles.Sizing.ColorSwatchSize,height:e.dividerHeight},key:"divider-"+s})),r===e.colorsPerColumn&&(t.push(l.createElement("div",{key:"column-"+s,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:t.length?e.groupSpacing:0}},i)),i=[],r=0),n=[])}return l.createElement("div",{style:{display:"flex"},tabIndex:0},t)},e.colorsPerColumn=6,e.groupSpacing=4,e.dividerHeight=5,e}(n.Component);e.ColorGridWidget=I},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(83),a=o(9),l=o(11),d=o(62),c=o(3),p=function(t){var e=c.TabStyles.Sizing.RowHeight,o=.5*e;return{display:"inline-block",width:t.colorLabelWidth||40,height:o,boxSizing:"border-box",backgroundColor:(t.color||"").toLowerCase(),marginTop:(e-(o+2*c.TabStyles.Sizing.BorderWidth))/2}},u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t={dropdownType:d.DropdownType.Outline,pointerClick:this.props.handleClick,onKeyDown:this.props.onKeyDown,dropdownOpen:this.props.isPickerOpen,disabled:this.props.disabled,interactiveStyles:d.getDropdownStylesByType(d.DropdownType.Outline).button.interactive};return l.createElement(d.DropdownButtonWidget,t,l.createElement("div",{style:p(this.props)}))},e}(n.Component);e.ColorPickerButton=u;var h=function(t){function e(e){var o=this;t.call(this,e),this.boundOnColorSelected=function(t){return o.onColorSelected(t)},this.boundTogglePicker=function(){return o.togglePicker()},this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundSetDialogAnchor=function(t){return o.setDialogAnchor(t)},this.state={isPickerVisible:!1}}return i(e,t),e.prototype.render=function(){var t={handleSwatchClicked:this.boundOnColorSelected,anchorEl:this.dialogAnchor,handleGlassClick:this.boundTogglePicker,handleCloseRequest:this.boundTogglePicker,selectedColor:(this.props.selectedColor||"").toLowerCase(),isDropdown:!0,colorsPreset:this.props.colorsPreset,testId:"colorgrid"},e={handleClick:this.boundTogglePicker,color:this.props.selectedColor,disabled:this.props.disabled,isPickerOpen:this.state.isPickerVisible,colorLabelWidth:this.props.colorLabelWidth,ref:this.boundSetDialogAnchor,onKeyDown:this.boundHandleKeyDown};return l.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":a.testId(this.props.testId,"ColorPicker")},l.createElement(u,e),a.conditional(this.state.isPickerVisible,l.createElement(s.ColorGridWidget,t)))},e.prototype.setDialogAnchor=function(t){this.dialogAnchor=r.findDOMNode(t)},e.prototype.onColorSelected=function(t){this.props.handleColorSelected(t.toLowerCase())},e.prototype.togglePicker=function(){this.props.disabled||this.setState({isPickerVisible:!this.state.isPickerVisible})},e.prototype.handleKeyDown=function(t){" "!==t.key&&"Enter"!==t.key||(this.togglePicker(),t.preventDefault(),t.stopPropagation())},e}(n.Component);e.ColorPickerWidget=h}])});;(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(eu,ev){dC.call(this,eu,ev)};b.__typeName='spiff.$0';b.$1=function(){var eu=new cr;eu.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};eu.ref='iscroll-component';return eu};b.$0=function(eu){var ev=b.$1();ev.augmentedScrollX=eu.augmentedScrollX;ev.augmentedScrollY=eu.augmentedScrollY;ev.extraCssClass=eu.extraCssClass;ev.iScrollOptions.scrollX=eu.scrollX;ev.iScrollOptions.scrollY=eu.scrollY;ev.scrollStopCallback=eu.onScrollStop;ev.scrollCallback=eu.onScroll;ev.alwaysShowScrollbarsIfScrollable=eu.alwaysShowScrollbarsIfScrollable;ev.startingY=eu.startingY;ev.customStyle=eu.customStyle;if(eu.scrollbars){ev.iScrollOptions.scrollbars='custom'}return ev};var c=function(eu){this.$0=null;this.$0=eu};c.__typeName='spiff.$1';var d=function(){eb.call(this,$("<span class='tabTabLabel' />"))};d.__typeName='spiff.$10';var e=function(eu){this.$0=null;this.$0=eu};e.__typeName='spiff.$11';var f=function(eu){this.$0=null;this.$0=eu};f.__typeName='spiff.$12';var g=function(eu,ev){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,eu,ev.iScrollOptions);this.$2=eu;this.$0=ev.augmentedScrollX;this.$1=ev.augmentedScrollY};g.__typeName='spiff.$2';var h=function(){};h.__typeName='spiff.$3';h.$0=function(eu,ev,ew){var ex=new de(eu,ev,ew);ex.source=h.$3[ex.type];ex.inputType=h.$1(ex.type);return ex};h.$1=function(eu){var ev=6;if(ss.keyExists(h.$9,eu)){ev=0}else if(ss.keyExists(h.$6,eu)){ev=1}else if(ss.keyExists(h.$5,eu)){ev=2}else if(ss.keyExists(h.$7,eu)){ev=3}else if(ss.keyExists(h.$4,eu)){ev=5}else if(ss.keyExists(h.$8,eu)){ev=4}return ev};h.$2=function(){h.$9['touchstart']=2;h.$6['touchmove']=2;h.$5['touchend']=2;h.$4['touchcancel']=2;if(tsConfig.is_mobile){if(!tab.BrowserSupport.isTouch){h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1}}else{h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1;h.$8['scroll']=1;h.$5['contextmenu']=1}$.extend(h.$3,h.$9,h.$6,h.$5,h.$7,h.$8,h.$4)};var i=function(){};i.__typeName='spiff.$4';i.$2=function(eu,ev){if(eu===9){i.$3[0]=ev}else if(eu===27){i.$3[1]=ev}else if(eu>=33&&eu<=40){i.$3[eu-31]=ev}};i.$0=function(){i.$3=new Array(10)};i.$1=function(){for(var eu=0;eu<i.$3.length;eu++){if(i.$3[eu]){return true}}return false};var j=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;eb.call(this,$("\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};j.__typeName='spiff.$5';var k=function(eu,ev){this.$6=new j;this.$6.$6=this.$6.getElementBySelector('.tabMenuItemName');this.$6.$6.text(eu);if(!ev){this.$6.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};k.__typeName='spiff.$6';var l=function(){this.$3=null;this.$2=null;this.$4=null;eb.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('span')};l.__typeName='spiff.$7';var m=function(){this.$0=null;eb.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};m.__typeName='spiff.$8';var n=function(){this.$1=null;this.$0=null;eb.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};n.__typeName='spiff.$9';var o=function(){};o.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=o;var p=function(){};p.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=p;var q=function(){};q.__typeName='spiff.AriaRole';global.spiff.AriaRole=q;var r=function(eu){ds.call(this,eu)};r.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=r;var s=function(eu){var ev=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(eu);w.call(this)};ss.registerGenericClassInstance(ev,s,[eu],{add_propsUpdated:function(ew){this.$2$1=ss.delegateCombine(this.$2$1,ew)},remove_propsUpdated:function(ew){this.$2$1=ss.delegateRemove(this.$2$1,ew)},get_props:function(){return this.$2$2},set_props:function(ew){this.$2$2=ew},updateProps$1:function(ew){this.set_props(ew);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return w},function(){return[ss.IDisposable,cz,ss.makeGenericType(cm,[eu])]});return ev};s.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(s,a,1);global.spiff.BaseComponentViewModel$1=s;var t=function(eu){var ev=function(ew,ex){ss.makeGenericType(v,[eu]).call(this,ew,ex)};ss.registerGenericClassInstance(ev,t,[eu],{positionMenu:function(ew,ex,ey){var ez=$(window).scrollLeft()+6;var eA=ez+$(window).width()-12;var eB=$(window).innerWidth()-12;var eC=ey.domRoot.outerHeight(false);var eD=ey.domRoot.outerWidth(false);var eE=eC-ey.domRoot.height();var eF=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(ex.relativeDom));var eG=ex.relativeDom.outerWidth(false);var eH=ex.relativeDom.outerHeight(false);if(ss.isValue(ex.cursorPosition)){eF=tab.PointUtil.fromPosition(ex.cursorPosition);eG=0;eH=0}var eI,eJ;var eK=ew.getVisibleRoom(eF);var eL=null;if(!ex.preferUp&&eK.roomBelow>=eC+eH){eJ=eF.y+eH}else if(eK.roomAbove>eC){eJ=eF.y-eC}else if(eK.roomBelow-eH>=eK.roomAbove){eJ=eF.y+eH;eL=eK.roomBelow-eH-eE-6}else{eJ=eF.y-eK.roomAbove+6;eL=eK.roomAbove-eE-6}if(ex.preferLeft){eI=eF.x+eG-eD}else{eI=eF.x}eI=Math.max(eI,ez);if(eI+eD>eA){eI=eA-eD}eI=Math.max(6,eI);var eM={};eM['top']=eJ+'px';eM['left']=eI+'px';eM['max-height']=(ss.isValue(eL)?(eL+'px'):'');eM['max-width']=eB+'px';ey.domRoot.css(eM)}},function(){return ss.makeGenericType(v,[eu])},function(){return[bW,ss.IDisposable,ss.makeGenericType(cy,[eu])]});ev.$0=6;return ev};t.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(t,a,1);global.spiff.BaseMenuView$1=t;var u=function(eu){var ev=function(){this.$1=null;this.$2$1=null;w.call(this)};ss.registerGenericClassInstance(ev,u,[eu],{add_propsUpdated:function(ew){this.$2$1=ss.delegateCombine(this.$2$1,ew)},remove_propsUpdated:function(ew){this.$2$1=ss.delegateRemove(this.$2$1,ew)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(ew){this.$1=ew},incrementProps:function(){var ew=this.createUpdatedProps();var ex=$.extend(false,new Object,this.get_props(),ew);this.set_props(ex);if(ss.isNullOrUndefined(ew)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(ew){var ex=ss.mkdel(this,this.incrementProps);ew.add_propsUpdated(ex);return new tab.CallOnDispose(function(){ew.remove_propsUpdated(ex)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},function(){return w},function(){return[ss.IDisposable,cz,ss.makeGenericType(cm,[eu])]});return ev};u.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(u,a,1);global.spiff.BaseReactViewModel$1=u;var v=function(eu){var ev=function(ew,ex){this.$3=null;this.$4=ss.getDefaultValue(eu);et.call(this,ex.domRoot);tab.Param.verifyValue(ew,'viewModel');tab.Param.verifyValue(ex,'t');this.$3=ex;this.$4=ew;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(ev,v,[eu],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();et.prototype.dispose.call(this)},onViewModelPropertyChanged:function(ew,ex){},$2:function(ew){this.dispose()}},function(){return et},function(){return[bW,ss.IDisposable,ss.makeGenericType(cy,[eu])]});return ev};v.__typeName='spiff.BaseView$1';ss.initGenericClass(v,a,1);global.spiff.BaseView$1=v;var w=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};w.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=w;var x=function(eu){var ev=function(){React.Component.call(this)};ss.registerGenericClassInstance(ev,x,[eu],{componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var ew=this.$0();this.props.reportWidth(this.props.col.name,ew)},shouldComponentUpdate:function(ew,ex){return!ss.staticEquals(this.props,ew)||!ss.staticEquals(this.state,ex)},render:null,$0:function(){var ew=ReactDOM.findDOMNode(this);var ex=ew.getBoundingClientRect();return Math.ceil(ex.right-ex.left)},handleCellClick:function(ew){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,this.props.col)}},handleCellRightClick:function(ew){if(!ss.staticEquals(this.props.onRightClick,null)){this.props.onRightClick(ew.target,this.props.row,this.props.col)}}},function(){return React.Component},function(){return[]});return ev};x.__typeName='spiff.BodyCell$1';ss.initGenericClass(x,a,1);global.spiff.BodyCell$1=x;var y=function(){React.Component.call(this)};y.__typeName='spiff.BodyRow';y.createBodyRow=function(eu){return React.createElement(y,eu)};global.spiff.BodyRow=y;var z=function(eu){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;et.call(this,eu);this.$2()};z.__typeName='spiff.Button';global.spiff.Button=z;var A=function(eu){var ev=function(ew){React.Component.call(this,ew)};ss.registerGenericClassInstance(ev,A,[eu],{get_className:function(){var ew=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){ew.push(this.props.customClassName)}if(this.props.border){ew.push('bordered')}if(this.props.disabled){ew.push('disabled')}return ew.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var ew={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(ex){var ey=ex.keyCode;if(ey===32||ey===13){this.$0(de.create(ex,ReactDOM.findDOMNode(this),null));ex.preventDefault();ex.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){ew.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){ew.role+=' '+this.props.additionalRoles.join(' ')}return bw.div({tap:ss.mkdel(this,this.$0)},ew,[this.customContentBefore(),React.DOM.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$0:function(ew){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ew)}}},function(){return React.Component},function(){return[]});return ev};A.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(A,a,1);global.spiff.ButtonBaseComponent$1=A;var B=function(eu){ss.makeGenericType(A,[Object]).call(this,eu)};B.__typeName='spiff.ButtonComponent';B.create=function(eu,ev,ew){return React.createElement(B,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+eu,label:ev,onTap:ew})};global.spiff.ButtonComponent=B;var C=function(){};C.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=C;var D=function(){};D.__typeName='spiff.CellType';global.spiff.CellType=D;var E=function(){ss.makeGenericType(x,[Object]).call(this)};E.__typeName='spiff.CheckboxCell';E.createCheckboxCell=function(eu){return React.createElement(E,eu)};global.spiff.CheckboxCell=E;var F=function(eu,ev){ss.makeGenericType(dx,[cC,Object,Object]).call(this,cC.newCheckbox(eu.label,eu.isSelected),eu,ev);this.get_widget().set_disabled(eu.disabled)};F.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=F;var G=function(eu,ev,ew,ex){this.$a=null;this.$b=null;this.$3$1=null;ed.call(this,eu,ev,ew,null,false);this.$a=eu;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new z(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(ex);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};G.__typeName='spiff.ClearableTextInputView';G.newClearableTextInputView=function(eu,ev,ew){var ex=new H;return new G(ex,eu,ev,ew)};global.spiff.ClearableTextInputView=G;var H=function(){this.$0=null;this.$1=null;this.$2=null;eb.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};H.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=H;var I=function(){};I.__typeName='spiff.ClickBuster';I.add_clickBustDetected=function(eu){I.$1$1=ss.delegateCombine(I.$1$1,eu)};I.remove_clickBustDetected=function(eu){I.$1$1=ss.delegateRemove(I.$1$1,eu)};I.preventGhostClick=function(eu,ev,ew){if(!tab.BrowserSupport.isTouch||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(I.$3)){I.$3=[];document.addEventListener('click',I.$0,true)}I.$3.push({item1:eu,item2:ev});window.setTimeout(I.$1,ss.coalesce(ew,600))};I.$1=function(){ss.removeAt(I.$3,0)};I.$0=function(eu){var ev=eu;var ew=$(eu.target).parents('.'+I.suppressClickBustingClass).length>0;if(ew){return}var ex=ev.pageX;var ey=ev.pageY;for(var ez=0;ez<I.$3.length;ez++){var eA=I.$3[ez];if(Math.abs(eA.item1-ex)<25&&Math.abs(eA.item2-ey)<25){eu.stopPropagation();eu.preventDefault();if(ss.isValue(I.$1$1)){I.$1$1(eu)}}}};global.spiff.ClickBuster=I;var J=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+J.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};J.__typeName='spiff.ClickHandler';J.targetAndClick=function(eu,ev){return(new J).setTarget(eu).onClick(ev)};J.targetAndRightClick=function(eu,ev){return(new J).setTarget(eu).onRightClick(ev)};J.targetAndPress=function(eu,ev){return(new J).setTarget(eu).onPress(ev)};global.spiff.ClickHandler=J;var K=function(){React.Component.call(this);var eu=new R;eu.isSelecting=false;this.state=eu};K.__typeName='spiff.ComboBoxComponent';K.createCustomIconElements=function(eu){if(ss.isNullOrEmptyString(eu)){return null}return[React.DOM.div({className:'tab-Icon '+eu})]};global.spiff.ComboBoxComponent=K;var L=function(eu){cW.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+eu};L.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=L;var M=function(eu,ev,ew,ex){this.$2=null;this.$3=null;this.$0=null;this.$1=null;this.$2=eu;this.$3=ev;this.$0=ew;this.$1=ex};M.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=M;var N=function(){cW.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};N.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=N;var O=function(){};O.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=O;var P=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)};P.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=P;var Q=function(){};Q.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=Q;var R=function(){this.isSelecting=false};R.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=R;var S=function(){this.icon=null;this.name=null;this.button=null;eb.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};S.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=S;var T=function(){};T.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=T;var U=function(eu,ev){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(v,[V]).call(this,eu,ev);this.$d=eu;this.$c=ev;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dT.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(U.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};U.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=U;var V=function(){this.$k=[];this.$n=null;this.$r=null;this.$f=null;this.$s=0;this.$m=0;this.$q=0;this.$p=true;this.$o=false;this.$g=true;this.$j=false;this.$l='';this.$e=null;this.$h='hasIcons';this.$i=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$6=false;this.$3$7=null;ss.makeGenericType(u,[P]).call(this);this.generateProps=false};V.__typeName='spiff.ComboBoxViewModel';V.newUnificationComboBoxViewModel=function(){var eu=new V;eu.set_theme(2);eu.set_menuTheme(2);return eu};V.newLineAndArrowComboBoxViewModel=function(){var eu=new V;eu.set_theme(3);eu.set_menuTheme(2);return eu};V.newReactLineAndArrowComboBoxViewModel=function(){var eu=new V;eu.set_theme(3);eu.set_menuTheme(2);eu.generateProps=true;return eu};global.spiff.ComboBoxViewModel=V;var W=function(eu){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;et.call(this,eu.get_domRootElement());this.compositeSearchWidgetTemplate=eu;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bC.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bC.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};W.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=W;var X=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};X.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=X;var Y=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;eb.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=ed.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cB.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.$0=cB.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};Y.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=Y;var Z=function(eu,ev){this.$2=null;ds.$ctor1.call(this,eu,ev);this.$2={tap:ss.mkdel(this,function(ew){this.$0()})}};Z.__typeName='spiff.CustomButtonComponent';Z.create=function(eu){return React.createElement(Z,eu)};global.spiff.CustomButtonComponent=Z;var ba=function(eu,ev,ew,ex,ey){this.$4=null;M.call(this,ev,ew,ex,ey);this.$4=eu};ba.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=ba;var bb=function(eu,ev){this.$0=null;if(ss.isValue(eu)){this.$0='url('+tableau.util.assetUrl(eu,true)+'), '+ev}else{this.$0=ev}};bb.__typeName='spiff.CustomCursor';bb.copyFromElement=function(eu){var ev=(ss.isValue(eu)?eu.css('cursor'):'');return new bb(null,ev)};global.spiff.CustomCursor=bb;var bc=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;cs.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};bc.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=bc;var bd=function(eu){ct.call(this,eu,new bc);this.$9();this.$a();if(eu.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};bd.__typeName='spiff.CustomIScrollView';bd.$0=function(eu,ev,ew){return Math.max(ss.round(eu*ev/Math.max(ew,1)),8)};global.spiff.CustomIScrollView=bd;var be=function(){this.$0=null;cP.call(this)};be.__typeName='spiff.CustomMenuItem';be.newCustomMenuItem=function(eu){var ev=new be;ev.set_domRoot(eu);return ev};global.spiff.CustomMenuItem=be;var bf=function(){cs.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};bf.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=bf;var bg=function(eu){this.$a=null;this.$9=null;ct.call(this,eu,new bf);this.addScroller();this.setUpEvents()};bg.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=bg;var bh=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};bh.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=bh;var bi=function(eu,ev){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;et.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(eu);this.set_body(ev);this.$f=cB.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var ew=$('#loadingSpinner');if(ew.length===1){this.$s.append(ew.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');bK.add_firstTouch(ss.mkdel(this,this.$4));bK.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_lastTouch(ss.mkdel(this,this.$5))})));bo.attachDropTarget(this.$g,bi.$3)};bi.__typeName='spiff.Dialog';global.spiff.Dialog=bi;var bj=function(eu){this.$f=null;this.$i=0;this.$j=0;this.$g=false;this.$h=0;bI.call(this,eu,'discrete',true)};bj.__typeName='spiff.Discrete';global.spiff.Discrete=bj;var bk=function(){M.call(this,null,null,null,null)};bk.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bk;var bl=function(eu,ev,ew,ex){this.$z=false;this.$A=0;this.$y=null;this.template=null;bi.call(this,eu,ev);this.template=new eb(ev);this.$z=ew;this.$A=ex;this.$w()};bl.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bl;var bm=function(){};bm.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bm;var bn=function(eu){this.$9=false;this.$b=null;this.$a=null;this.$8=false;bI.call(this,eu,'drag',true)};bn.__typeName='spiff.Drag';global.spiff.Drag=bn;var bo=function(){};bo.__typeName='spiff.DragDropManager';bo.add_dragStarted=function(eu){bo.$1$1=ss.delegateCombine(bo.$1$1,eu)};bo.remove_dragStarted=function(eu){bo.$1$1=ss.delegateRemove(bo.$1$1,eu)};bo.add_dragMoved=function(eu){bo.$1$2=ss.delegateCombine(bo.$1$2,eu)};bo.remove_dragMoved=function(eu){bo.$1$2=ss.delegateRemove(bo.$1$2,eu)};bo.add_dragEnded=function(eu){bo.$1$3=ss.delegateCombine(bo.$1$3,eu)};bo.remove_dragEnded=function(eu){bo.$1$3=ss.delegateRemove(bo.$1$3,eu)};bo.add_currentTargetChanged=function(eu){bo.$1$4=ss.delegateCombine(bo.$1$4,eu)};bo.remove_currentTargetChanged=function(eu){bo.$1$4=ss.delegateRemove(bo.$1$4,eu)};bo.get_isDragging=function(){return ss.isValue(bo.get_currentDrag())};bo.$f=function(){return tab.Logger.lazyGetLogger(bo)};bo.get_lastDragEvent=function(){return bo.$x};bo.get_currentTarget=function(){return bo.$n};bo.set_currentTarget=function(eu){var ev=!ss.referenceEquals(bo.$n,eu);bo.$n=eu;if(ev&&!ss.staticEquals(bo.$1$4,null)){bo.$1$4(bo.$n)}};bo.get_currentDrag=function(){return bo.$1$5};bo.set_currentDrag=function(eu){bo.$1$5=eu};bo.init=function(){bo.$q=new dU.$ctor1(document.body,bo.$t)};bo.$0=function(eu,ev){var ew=eu.get(0);var ex=ew.getAttribute('class');if(ss.isNullOrEmptyString(ex)){ew.setAttribute('class',ev);return}var ey=ex.split(' ');if(ss.indexOf(ey,ev)===-1){ew.setAttribute('class',ey.concat([ev]).join(' '))}};bo.$b=function(eu,ev){var ew=eu.get(0);var ex=ew.getAttribute('class');if(ss.isNullOrEmptyString(ex)){return}var ey=ex.split(' ');var ez=ss.indexOf(ey,ev);if(ez>=0){ey.splice(ez,1);ew.setAttribute('class',ey.join(' '))}};bo.attachDropTarget=function(eu,ev){bo.$0(eu,'tabDropTarget');eu.data('tabDropTarget',ev)};bo.detachDropTarget=function(eu){eu.removeData('tabDropTarget');bo.$b(eu,'tabDropTarget')};bo.isDragTarget=function(eu){return eu.hasClass('tabDropTarget')};bo.attachDragSource=function(eu,ev){bo.$0(eu,'tabDragSource');eu.data('tabDragSource',ev)};bo.removeDragSource=function(eu){eu.removeData('tabDragSource');bo.$b(eu,'tabDragSource')};bo.isDragSource=function(eu){return eu.hasClass('tabDragSource')};bo.$2=function(){bo.$r=new bq;bo.$r.show();if(bo.get_currentDrag().get_hasPayload()&&bo.get_currentDrag().get_dragType()==='dragmove'){bo.setDragCursor(bb.copyFromElement(bo.$u))}bo.$s=new dU.$ctor1(bo.$r.element.get(0),bo.$t);bo.$p=new tab.DisposableHolder;bo.$p.add$1(bo.$r);bo.$p.add$1(bo.$s);bo.$p.add$1(bC.bindWithDispose($(document.body),'keydown',bo.$9));bo.$p.add$1(bC.bindWithDispose($(document.body),'keyup',bo.$a))};bo.$3=function(){bo.$p=tab.MiscUtil.dispose$1(bo.$p)};bo.startDrag=function(eu,ev){if(ss.isNullOrUndefined(eu)||ss.isNullOrUndefined(ev)||!eu.get_hasPayload()){return}bo.$x=ev;bo.cancelDrag(null);bo.set_currentDrag(eu);bo.$c(bo.get_currentDrag().get_dragAvatar());bo.$e();bo.$m=tab.WindowHelper.requestAnimationFrame(bo.$e);bo.$2();bo.$d(ev);if(ss.isValue(bo.$1$1)){bo.$1$1(bo.get_currentDrag())}};bo.cancelDrag=function(eu){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}if(ss.isNullOrUndefined(eu)||ss.referenceEquals(eu,bo.get_currentDrag())){bo.get_currentDrag().cancelDrag();bo.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bo.drop=function(eu,ev,ew){bo.get_currentDrag().isCopyDrag=ss.isValue(ev)&&ev;bo.get_currentDrag().set_isShiftDrag(ss.isValue(ew)&&ew);bo.$6(eu,false,bo.get_currentDrag().isCopyDrag,function(){if(ss.isValue(eu)){return eu.acceptDrop(bo.get_currentDrag()).always(function(ex){})}else{bo.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bo.firstTouch=function(eu){var ev=$(eu.target).closest('.tabDragSource');if(ss.isNullOrUndefined(ev)||ev.length===0){bo.$v=null;bo.$u=null;return}bo.$v=ev.data('tabDragSource');bo.$u=ev};bo.dragEnd=function(eu){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}switch(bo.get_currentDrag().get_dragType()){case'dragdrop':{bo.drop(bo.get_currentTarget(),eu.get_isCtrlKey(),eu.shiftKey);break}case'dragmove':{bo.$6(null,false,false,function(){bo.get_currentDrag().endDragAt(eu);return $.Deferred().resolve(true).promise()});break}}};bo.dragMove=function(eu){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(eu);bo.$x=eu;bo.get_currentDrag().isCopyDrag=eu.get_isCtrlKey();bo.get_currentDrag().set_isShiftDrag(eu.shiftKey);tab.WindowHelper.clearSelection();var ev=tab.DateUtil.get_nowAsTime();if(ev-bo.$w>75){if(ss.isValue(bo.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bo.$m))}bo.$e()}bo.$d(eu);if(ss.isValue(bo.$1$2)){bo.$1$2(bo.get_currentDrag())}};bo.$9=function(eu){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(eu);switch(eu.which){case 16:{bo.get_lastDragEvent().shiftKey=true;bo.dragMove(bo.get_lastDragEvent());break}case 27:{bo.cancelDrag(bo.get_currentDrag());break}}};bo.$a=function(eu){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(eu);switch(eu.which){case 16:{bo.get_lastDragEvent().shiftKey=false;bo.dragMove(bo.get_lastDragEvent());break}}};bo.$d=function(eu){switch(bo.get_currentDrag().get_dragType()){case'dragdrop':{var ev=bo.findDropTarget(eu);if(ss.isValue(bo.get_currentTarget())){if(!ss.referenceEquals(bo.get_currentTarget(),ev)){bo.get_currentTarget().dragExit(bo.get_currentDrag())}else if(bo.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(ev)){var ew=ev.dragOver(bo.get_currentDrag());while(ss.isValue(ew)&&!ss.referenceEquals(ew,ev)){ev=ew;ew=ev.dragOver(bo.get_currentDrag())}ev=ew}if(ss.isValue(ev)){bo.setDragCursor(ev.getDropCursor(bo.get_currentDrag()))}else{bo.setDragCursor(bo.get_currentDrag().get_defaultDropCursor())}bo.set_currentTarget(ev);break}case'dragmove':{bo.get_currentDrag().moveTo(eu);break}default:{break}}};bo.setDragCursor=function(eu){eu.setCursor(bo.$r.element)};bo.dragStart=function(eu){if(bo.get_isDragging()){return}var ev=bo.$v;if(ss.isNullOrUndefined(ev)){var ew=$(eu.target).closest('.tabDragSource');ev=ew.data('tabDragSource')}if(ss.isNullOrUndefined(ev)){return}var ex=ev.startDrag(eu);if(ss.isNullOrUndefined(ex)){return}bo.startDrag(ex,eu)};bo.$6=function(eu,ev,ew,ex){bo.$c(null);bo.$3();if(ss.isValue(bo.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bo.$m));bo.$m=null}ex().always(function(ey){if(ss.isValue(bo.$1$3)){bo.$1$3({drag:bo.get_currentDrag(),target:eu,dropAccepted:ey,canceled:ev,isCopyDrop:ew})}bo.set_currentDrag(null);bo.set_currentTarget(null)})};bo.$c=function(eu){if(ss.isValue(bo.$o)){bo.$o.get_rootElement().detach();var ev=bo.$o;ev.dispose();bo.$o=null}bo.$o=eu;if(ss.isValue(bo.$o)){bo.$o.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bo.$o.addToDom($('body'))}};bo.$e=function(){if(ss.isNullOrUndefined(bo.$o)){return}var eu=function(ew,ex,ey){if(ex<ss.Int32.div(ey,2)){return 0}else if(ex>ew-ss.Int32.div(ey,2)){return ew-ey}else{return ex-ss.Int32.div(ey,2)}};var ev=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bo.$o.get_rootElement(),eu(ev.scrollWidth,bo.$x.pageX,tab.DoubleUtil.roundToInt(bo.$o.get_rootElement().outerWidth())),eu(ev.scrollHeight,bo.$x.pageY,tab.DoubleUtil.roundToInt(bo.$o.get_rootElement().outerHeight())));bo.$w=tab.DateUtil.get_nowAsTime();bo.$m=tab.WindowHelper.requestAnimationFrame(bo.$e)};bo.$7=function(eu){bo.$4();var ev=eu.clientX;var ew=eu.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(eu.touches)&&eu.touches.length>0&&ss.isValue(eu.touches[0].screenX)){ev=eu.touches[0].screenX;ew=eu.touches[0].screenY}else{ev=eu.originalEvent['screenX'];ew=eu.originalEvent['screenY']}}var ex=$(document.elementFromPoint(ev,ew));bo.$5();return ex};bo.$4=function(){for(var eu=0;eu<bo.$y.length;eu++){var ev=bo.$y[eu];ev.disableHitTests()}};bo.$5=function(){for(var eu=0;eu<bo.$y.length;eu++){var ev=bo.$y[eu];ev.enableHitTests()}};bo.findDropTarget=function(eu){if(!bo.get_isDragging()){return null}var ev=bo.get_currentDrag();var ew=bo.$8(eu);for(var ex=0;ex<ew.length;ex++){var ey=ew[ex];var ez=ey.data('tabDropTarget');if(bo.$1(ez,ev)){return ez.getDropTarget(ey)}}return null};bo.$8=function(eu){var ev=[];var ew=bo.$7(eu).closest('.tabDropTarget');if(ew.length>0){ev.push(ew);ew.parents('.tabDropTarget').each(function(ex,ey){ev.push($(ey))})}return ev};bo.$1=function(eu,ev){return ss.isValue(eu)&&ss.isValue(ev)&&ss.isValue(eu.dragOver(ev))};bo.registerDragGlass=function(eu){bo.$y.push(eu)};bo.unregisterDragGlass=function(eu){ss.remove(bo.$y,eu)};global.spiff.DragDropManager=bo;var bp=function(eu,ev){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=eu;this.$0=ev;this.isCopyDrag=false;this.$1=false};bp.__typeName='spiff.DragInstance';global.spiff.DragInstance=bp;var bq=function(eu){bJ.call(this,eu,false);bo.registerDragGlass(this)};bq.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bq;var br=function(eu){this.$0=null;this.$0=eu.element.clone(false).addClass('dragAvatar')};br.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=br;var bs=function(){React.Component.call(this);this.state={isSelecting:false}};bs.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bs;var bt=function(eu,ev){ss.makeGenericType(dx,[bu,Object,Object]).call(this,bt.$0(eu),eu,ev)};bt.__typeName='spiff.EditableTextLabelComponent';bt.$0=function(eu){var ev=bu.newEditableTextView(eu.initialContent,eu.placeHolderText,eu.editOnDoubleClick);ev.showTooltip=eu.showTooltip;ev.showHover=ss.isNullOrUndefined(eu.showHover)||eu.showHover;ev.add_committed(function(){eu.onCommit(ev.get_text())});if(!ss.isNullOrEmptyString(eu.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(eu.styleOverrideClass+'-override-style','.'+eu.styleOverrideClass+' .tab-editable-text-view > div',eu.styleOverride)}return ev};global.spiff.EditableTextLabelComponent=bt;var bu=function(eu,ev,ew,ex){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;ed.call(this,eu,ev,ew,null,false);this.$9=eu;this.updateTextElement(ev);var ey=new z(this.get_textElement());if(ex){this.disposables.add$1(dT.targetAndDoubleClick(ey.element.get(0),ss.mkdel(this,function(eA){this.edit()})))}else{ey.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ey.remove_click(ss.mkdel(this,this.edit));ey.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(eA){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var ez=new bV(this,null,ss.mkdel(this,function(eA){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(eA){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(ez)}this.set_isEditing(false);this.showHover=true;this.stopPropogationOfInputEvents()};bu.__typeName='spiff.EditableTextView';bu.newEditableTextView=function(eu,ev,ew){var ex=new l;return new bu(ex,eu,ev,ew)};global.spiff.EditableTextView=bu;var bv=function(){React.Component.call(this)};bv.__typeName='spiff.EmptyBody';bv.createEmptyBody=function(eu){return React.createElement(bv,eu)};global.spiff.EmptyBody=bv;var bw=function(eu){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,eu,null);this.$2=dV.createEmpty()};bw.__typeName='spiff.EventForwarder';bw.$0=function(eu,ev,ew,ex){var ey=new bx;ey.tagName=eu;ey.htmlAttributes=ew;ey.spec=ev;ey.key=ew.key;var ez=ey;if(ss.isValue(ew.ref)){ez.ref=ew.ref;delete ew['ref']}if(ss.isValue(ex)&&ex.length===1){return React.createElement(bw,ez,ex[0])}return React.createElement(bw,ez,ex)};bw.div=function(eu,ev,ew){return bw.$0('div',eu,ev,ew)};bw.span=function(eu,ev,ew){return bw.$0('span',eu,ev,ew)};bw.$1=function(eu,ev){return!_.every(Object.keys(ev),function(ew){return ss.contains(Object.keys(eu),ew)})};global.spiff.EventForwarder=bw;var bx=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bx.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bx;var by=function(){};by.__typeName='spiff.EventHandleSpecExtensions';by.isHandling=function(eu,ev){var ew=eu;return ss.isValue(ew[ev])};by.isUsingHover=function(eu){return by.isHandling(eu,'hover')||by.isHandling(eu,'moving')};by.setHandler=function(eu,ev,ew){eu[ev]=ew};by.removeHandler=function(eu,ev){eu[ev]=null};by.usingPressDrag=function(eu){return by.isHandling(eu,'pressDragStart')||by.isHandling(eu,'pressDragMove')||by.isHandling(eu,'pressDragEnd')||by.isHandling(eu,'doublePressDragStart')||by.isHandling(eu,'doublePressDragMove')||by.isHandling(eu,'doublePressDragEnd')};global.spiff.EventHandleSpecExtensions=by;var bz=function(){};bz.__typeName='spiff.EventInputType';global.spiff.EventInputType=bz;var bA=function(eu){this.$1=null;this.$0=null;this.$6=null;this.$3=null;this.$5=false;this.$4=null;this.$2=false;this.$1=new bn(eu);this.$0=new bj(eu);this.$6=new dl(eu);if(by.isUsingHover(eu)){this.$3=new bT(eu)}};bA.__typeName='spiff.EventRecognizer';bA.$0=function(){return bA.$2};bA.$1=function(eu){if(bA.$2!==eu){bA.$2=eu}};global.spiff.EventRecognizer=bA;var bB=function(){};bB.__typeName='spiff.EventSource';global.spiff.EventSource=bB;var bC=function(){};bC.__typeName='spiff.EventUtil';bC.bindWithDispose=function(eu,ev,ew){var ex=ss.formatString('{0}.{1}',ev,++bC.$0);eu.on(ex,ew);return new tab.CallOnDispose(function(){eu.off(ex)})};bC.addEventListenerWithDispose=function(eu,ev,ew,ex){eu.addEventListener(ev.toString(),ew,ex);return new tab.CallOnDispose(function(){eu.removeEventListener(ev.toString(),ew,ex)})};bC.isCtrlKey=function(eu){if(ss.isNullOrUndefined(eu)){return false}return(tab.BrowserSupport.get_isMac()?eu.metaKey:eu.ctrlKey)};bC.getDragFileList=function(eu){if(ss.isNullOrUndefined(eu)||ss.isNullOrUndefined(eu.dataTransfer)){return null}return eu.dataTransfer.files};bC.stopEvent=function(eu){eu.stopPropagation();eu.preventDefault()};global.spiff.EventUtil=bC;var bD=function(eu){dc.call(this,eu)};bD.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bD.buildExclusiveMultiSelectGroupSelection=function(eu){return function(ev,ew){var ex=new bD(ev.length);var ey=ev.length;for(var ez=0;ez<ey;++ez){if(ew(ev[ez])){ex.get_selectedIndexes()[ez]=true}}ex.validateAllSelectedState();return ex}};global.spiff.ExclusiveMultiSelectGroupSelection=bD;var bE=function(eu){dM.call(this,eu)};bE.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bE.buildExclusiveSingleSelectGroupSelection=function(eu){return function(ev,ew){var ex=new bE(ev.length);var ey=ev.length;for(var ez=0;ez<ey;++ez){if(ew(ev[ez])){ex.get_selectedIndexes()[ez]=true}}ex.validateAllSelectedState();return ex}};global.spiff.ExclusiveSingleSelectGroupSelection=bE;var bF=function(){ss.makeGenericType(x,[Object]).call(this)};bF.__typeName='spiff.FixedValueCell';bF.createFixedValueCell=function(eu){return React.createElement(bF,eu)};global.spiff.FixedValueCell=bF;var bG=function(){{bG.$0('focus',bG.$3);bG.$0('blur',bG.$1);bG.$0('keydown',bG.$4);bG.$0('keyup',bG.$4);bK.add_firstTouch(bG.$2)}};bG.__typeName='spiff.FocusManager';bG.shutdown=function(){if(ss.isNullOrUndefined(bG.$7)){return}bG.$5('focus',bG.$3);bG.$5('blur',bG.$1);bG.$5('keydown',bG.$4);bG.$5('keyup',bG.$4);bK.remove_firstTouch(bG.$2);bG.$7=null};bG.initialize=function(){if(ss.isNullOrUndefined(bG.$7)){bG.$7=new bG}};bG.$0=function(eu,ev){document.body.addEventListener(eu,ev,true)};bG.$5=function(eu,ev){document.body.removeEventListener(eu,ev,true)};bG.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',!bG.$8)};bG.$3=function(eu){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,eu.target)&&i.$1()){bG.$8=false}bG.updateFocusIndicatorVisibility()};bG.$1=function(eu){window.setTimeout(function(){if(document.hasFocus()){$(eu.target).removeClass('tab-showFocusIndicator')}else{i.$0()}})};bG.$4=function(eu){var ev=eu.keyCode;i.$2(ev,eu.type==='keydown')};bG.$2=function(eu,ev){bG.$8=true};bG.wasFocusedByClick=function(){return bG.$8};global.spiff.FocusManager=bG;var bH=function(eu){ds.call(this,eu)};bH.__typeName='spiff.GenericDropdownButtonComponent';bH.create=function(eu){return React.createElement(bH,eu)};global.spiff.GenericDropdownButtonComponent=bH;var bI=function(eu,ev,ew,ex){this.$2=null;this.slop=5;this.numTouches=1;this.type='gesture';this.isPotentialPress=false;this.isActivePress=false;this.pressTimer=null;this.doubleTapTimer=null;this.potentialPressTimer=null;if(ss.isValue(ev)){this.type=ev}if(ss.isValue(ew)){this.slop=(ew?bI.defaultSlop:0)}if(ss.isValue(ex)){this.numTouches=ex}this.$2={};this.update(eu)};bI.__typeName='spiff.Gesture';bI.$0=function(eu,ev){return eu.data('tab-'+ev)};global.spiff.Gesture=bI;var bJ=function(eu,ev){this.$3=null;this.$2=null;this.$2$1=null;et.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=eu||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var ew={};by.setHandler(ew,'firstTouch',ss.mkdel(this,this.handleClick));if(ev){ew.doubleTap=function(ex){ex.preventDefault()};ew.pinchStart=function(ex){ex.preventDefault()}}this.$2=dT.targetAndConfig(this.element[0],ew).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bJ.__typeName='spiff.Glass';global.spiff.Glass=bJ;var bK=function(){};bK.__typeName='spiff.GlobalUIEvents';bK.add_firstTouch=function(eu){bK.$1$1=ss.delegateCombine(bK.$1$1,eu)};bK.remove_firstTouch=function(eu){bK.$1$1=ss.delegateRemove(bK.$1$1,eu)};bK.add_press=function(eu){bK.$1$2=ss.delegateCombine(bK.$1$2,eu)};bK.remove_press=function(eu){bK.$1$2=ss.delegateRemove(bK.$1$2,eu)};bK.add_tap=function(eu){bK.$1$3=ss.delegateCombine(bK.$1$3,eu)};bK.remove_tap=function(eu){bK.$1$3=ss.delegateRemove(bK.$1$3,eu)};bK.add_lastTouch=function(eu){bK.$1$4=ss.delegateCombine(bK.$1$4,eu)};bK.remove_lastTouch=function(eu){bK.$1$4=ss.delegateRemove(bK.$1$4,eu)};bK.add_rightClick=function(eu){bK.$1$5=ss.delegateCombine(bK.$1$5,eu)};bK.remove_rightClick=function(eu){bK.$1$5=ss.delegateRemove(bK.$1$5,eu)};bK.add_dragEnd=function(eu){bK.$1$6=ss.delegateCombine(bK.$1$6,eu)};bK.remove_dragEnd=function(eu){bK.$1$6=ss.delegateRemove(bK.$1$6,eu)};bK.add_dismissTemporaryElements=function(eu){bK.$1$7=ss.delegateCombine(bK.$1$7,eu)};bK.remove_dismissTemporaryElements=function(eu){bK.$1$7=ss.delegateRemove(bK.$1$7,eu)};bK.fireFirstTouch=function(eu,ev){bK.$0(bK.$1$1,eu,ev)};bK.firePress=function(eu,ev){bK.$0(bK.$1$2,eu,ev)};bK.fireTap=function(eu,ev){bK.$0(bK.$1$3,eu,ev)};bK.fireLastTouch=function(eu,ev){bK.$0(bK.$1$4,eu,ev)};bK.fireRightClick=function(eu,ev){bK.$0(bK.$1$5,eu,ev)};bK.fireDragEnd=function(eu,ev){bK.$0(bK.$1$6,eu,ev)};bK.fireDismissTemporaryElements=function(){if(!ss.staticEquals(bK.$1$7,null)){bK.$1$7()}};bK.$0=function(eu,ev,ew){if(!ss.staticEquals(eu,null)){eu(ev,ew)}};global.spiff.GlobalUIEvents=bK;var bL=function(eu){React.Component.call(this,eu);this.state={}};bL.__typeName='spiff.GridIScrollHandler';global.spiff.GridIScrollHandler=bL;var bM=function(eu){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=eu;this.allSelected=false;this.set_selectedIndexes({})};bM.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bM;var bN=function(eu){this.$1={hovered:false};ds.call(this,eu)};bN.__typeName='spiff.HeaderColumn';bN.createHeaderColumn=function(eu){return React.createElement(bN,eu)};global.spiff.HeaderColumn=bN;var bO=function(eu){this.$0=null;this.$1=null;ds.call(this,eu);this.$1=ss.mkdel(this,this.handleReportHeaderWidth)};bO.__typeName='spiff.HeaderRow';bO.createHeaderRow=function(eu){return React.createElement(bO,eu)};global.spiff.HeaderRow=bO;var bP=function(eu,ev){this.$c=null;this.$b=null;React.Component.call(this,eu,ev);this.state={value:eu.initialValue,emptyTextBox:false,locallyModified:false}};bP.__typeName='spiff.HorizontalSliderComponent';global.spiff.HorizontalSliderComponent=bP;var bQ=function(eu,ev){React.Component.call(this,eu,ev)};bQ.__typeName='spiff.HorizontalSpinnerComponent';global.spiff.HorizontalSpinnerComponent=bQ;var bR=function(){};bR.__typeName='spiff.HorizontalSpinnerDirection';global.spiff.HorizontalSpinnerDirection=bR;var bS=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.disabled=false;this.onSpinnerClicked=null};bS.__typeName='spiff.HorizontalSpinnerProps';global.spiff.HorizontalSpinnerProps=bS;var bT=function(eu){this.$a=0;this.$b=0;this.$9=true;this.$8=false;this.$7=null;this.$6=0;bI.call(this,eu,'hover',false);this.$6=(ss.isValue(eu.hoverDelay)?eu.hoverDelay:150)};bT.__typeName='spiff.Hover';global.spiff.Hover=bT;var bU=function(){};bU.__typeName='spiff.HoverAddClassBehavior';bU.attach=function(eu,ev,ew){ev=ss.coalesce(ev,'hover');return new bV(eu,ew,function(ex){bU.$0(ex,ev)},function(ex){bU.$1(ex,ev)})};bU.$0=function(eu,ev){$(eu.currentTarget).addClass(ev)};bU.$1=function(eu,ev){$(eu.currentTarget).removeClass(ev)};global.spiff.HoverAddClassBehavior=bU;var bV=function(eu,ev,ew,ex){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=eu;this.$4=ev;this.$5=ew;this.$6=ex;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(ev)){this.$7.element.on('mouseenter'+this.$3(),ev,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ev,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bV.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bV;var bW=function(){};bW.__typeName='spiff.IAppendableView';global.spiff.IAppendableView=bW;var bX=function(){};bX.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bX;var bY=function(){this.iconElement=null;z.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bY.__typeName='spiff.IconButton';global.spiff.IconButton=bY;var bZ=function(eu){React.Component.call(this,eu);this.state=this.$0()};bZ.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bZ;var ca=function(){this.isActive=false};ca.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=ca;var cb=function(){};cb.__typeName='spiff.IContent';global.spiff.IContent=cb;var cc=function(){};cc.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=cc;var cd=function(){};cd.__typeName='spiff.IDragSource';global.spiff.IDragSource=cd;var ce=function(){};ce.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=ce;var cf=function(){};cf.__typeName='spiff.IHasEnabledState';global.spiff.IHasEnabledState=cf;var cg=function(){};cg.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=cg;var ch=function(){};ch.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=ch;var ci=function(){};ci.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=ci;var cj=function(){};cj.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=cj;var ck=function(){};ck.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=ck;var cl=function(){};cl.__typeName='spiff.InputType';global.spiff.InputType=cl;var cm=function(eu){var ev=function(){};ss.registerGenericInterfaceInstance(ev,cm,[eu],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return ev};cm.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(cm,a,1);global.spiff.IPropsProvider$1=cm;var cn=function(){};cn.__typeName='spiff.IScrollable';global.spiff.IScrollable=cn;var co=function(eu,ev){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,eu,ev);this.state={hovered:false,scrolling:false}};co.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=co;var cp=function(){};cp.__typeName='spiff.IScroller';global.spiff.IScroller=cp;var cq=function(){};cq.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=cq;var cr=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null};cr.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=cr;var cs=function(eu){this.content=null;this.scroll=null;eb.call(this,$(eu))};cs.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=cs;var ct=function(eu,ev){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;dz.call(this,eu,ev)};ct.__typeName='spiff.IScrollView';global.spiff.IScrollView=ct;var cu=function(){};cu.__typeName='spiff.ISelectable';global.spiff.ISelectable=cu;var cv=function(){};cv.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cv;var cw=function(){};cw.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cw;var cx=function(){};cx.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=cx;var cy=function(eu){var ev=function(){};ss.registerGenericInterfaceInstance(ev,cy,[eu],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,bW]});ss.setMetadata(ev,{variance:[1]});return ev};cy.__typeName='spiff.IView$1';ss.initGenericInterface(cy,a,1);global.spiff.IView$1=cy;var cz=function(){};cz.__typeName='spiff.IViewModel';global.spiff.IViewModel=cz;var cA=function(){};cA.__typeName='spiff.JQueryGestureExtensions';cA.fireTableauGesture=function(eu,ev,ew,ex){if(ss.isNullOrUndefined(ew)){var ey=new Object;ey.type='touchend';ey.timeStamp=tab.DateUtil.get_nowAsTime();ey.keyCode=null;ey.ctrlKey=false;ey.altKey=false;ey.metaKey=false;ey.shiftKey=false;ey.charOrCode=null;ey.clientX=0;ey.clientY=0;ey.touches=new Array;ey.targetTouches=new Array;ey.changedTouches=new Array;ey.target=eu;ew=ey}var ez;switch(ev){case'dragMove':case'dragStart':case'dragEnd':{ez='drag';break}case'hover':case'moving':case'mouseleave':{ez='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{ez='pinch';break}default:{ez='discrete';break}}var eA=de.create(ew,eu,null);bI.$0($(eu),ez).$0(ev,eA,ex||{})};global.spiff.JQueryGestureExtensions=cA;var cB=function(eu,ev){this.$b='.label';z.call(this,eu);this.$b=ev};cB.__typeName='spiff.LabelButton';cB.newAnchorButton=function(){return new cB($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cB.newAnchorButton$1=function(eu,ev){var ew=new cB($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');ew.element.attr('href',eu);ew.element.attr('target',ss.coalesce(ev,'_blank').toString());return ew};cB.newNativeButton=function(){return new cB($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cB.newMenuButton=function(){return new cB($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')};cB.newTextButton=function(eu,ev){var ew=new cB($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(eu)){ew.add_click(eu);ew.disposables.add$1(new tab.CallOnDispose(function(){ew.remove_click(eu)}))}if(ss.isValue(ev)){ew.set_label(ev)}return ew};global.spiff.LabelButton=cB;var cC=function(eu,ev){this.$e='.label';ee.call(this,eu);this.$e=ev};cC.__typeName='spiff.LabelToggleButton';cC.newCheckbox=function(eu,ev){var ew=cC.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eu,ev);ew.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return ew};cC.newRadioButton=function(eu,ev){var ew=cC.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eu,ev);ew.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return ew};cC.newNativeCheckbox=function(eu,ev){return cC.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",eu,ev)};cC.newNativeRadioButton=function(eu,ev){var ew=cC.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",eu,ev);ew.set_preventMouseDeselect(true);return ew};cC.newLabelToggleButton=function(eu,ev){return cC.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",eu,ev)};cC.$0=function(eu,ev,ew){var ex=new cC($(eu),'.label');ex.set_label(ev);ex.set_selected(ew);var ey=ex;var ez=ey.get_inputElement();if(ss.isValue(ez)){ez.click(function(eA){eA.preventDefault()})}return ey};global.spiff.LabelToggleButton=cC;var cD=function(eu){this.$3=null;React.Component.call(this,eu,null);this.state=this.$0();this.$3={firstTouch:ss.mkdel(this,function(ev){this.handleEnterPress()})}};cD.__typeName='spiff.LineEditWithButtonComponent';global.spiff.LineEditWithButtonComponent=cD;var cE=function(eu,ev){var ew=function(ex,ey){React.Component.call(this,ex,ey)};ss.registerGenericClassInstance(ew,cE,[eu,ev],{render:function(){var ex=_.map(this.props.items,ss.mkdel(this,function(ey){var ez=this.getEventHandleSpecForItem(ey);var eA={className:'tabListItem',key:this.getItemKey(ey.data)};if(ss.isNullOrUndefined(ez)){return React.DOM.div(eA,this.buildItem(ey.data))}else{return bw.div(ez,eA,[this.buildItem(ey.data)])}}));return React.DOM.div({className:'tabList'},ex)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(ex){return null}},function(){return React.Component},function(){return[]});return ew};cE.__typeName='spiff.ListComponent$2';ss.initGenericClass(cE,a,2);global.spiff.ListComponent$2=cE;var cF=function(eu,ev){this.$1$1=null;this.$1$2=null;this.set_parentListView(eu);this.set_draggableListItemView(ev)};cF.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=cF;var cG=function(eu){this.$f=null;this.$g=null;dH.call(this);this.set_selectionType(eu)};cG.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cG;var cH=function(eu,ev){this.$g=null;this.$f=null;ee.call(this,cH.$0(eu));tab.Param.verifyValue(ev,'viewModel');tab.Param.verifyValue(ev.get_id(),'viewModel.Id');this.$g=ev;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(ev.get_id());this.set_widgetId(ev.get_id());this.$f=eu};cH.__typeName='spiff.ListItemView';cH.$0=function(eu){var ev=$('<div/>').addClass('tab-list-item');ev.append(eu);return ev};global.spiff.ListItemView=cH;var cI=function(eu,ev,ew,ex,ey){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;w.call(this);this.$2=eu;if(ss.isValue(ev)){this.$0=ev}this.$5=ew;this.$4=ex;this.$3=ey};cI.__typeName='spiff.ListItemViewModel';cI.newListItem=function(eu,ev,ew,ex,ey){tab.Param.verifyString(eu,'id');return new cI(eu,ev,ew,ex,ey)};global.spiff.ListItemViewModel=cI;var cJ=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cJ.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cJ;var cK=function(eu,ev){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(v,[cM]).call(this,eu,new cN);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new f(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=ev;this.$5()};cK.__typeName='spiff.ListView';cK.createListView=function(eu,ev){return new cK(eu,ev)};global.spiff.ListView=cK;var cL=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cL.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cL;var cM=function(eu,ev){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;w.call(this);this.$8={};this.$6=new cG(ev);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(eu)};cM.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cM;var cN=function(){this.$0=null;eb.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cN.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cN;var cO=function(eu){this.menuItems=null;this.defaultItem=null;this.menuItems=eu;this.defaultItem=_.find(eu,function(ev){return ev.isDefault})};cO.__typeName='spiff.Menu';global.spiff.Menu=cO;var cP=function(){this.name=null;this.description=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cP.$0;this.id='menuItem'+cP.$0};cP.__typeName='spiff.MenuItem';cP.newDivider=function(){var eu=new cP;eu.isDivider=true;eu.enabled=false;return eu};cP.newTextInput=function(eu,ev){var ew=new cP;ew.isTextInput=true;if(!ss.staticEquals(eu,null)){ew.data=eu;ew.enabled=true}ew.description=ev;return ew};cP.newActionItem=function(eu,ev){var ew=new cP;ew.name=eu;if(ss.isValue(ev)){ew.data=ev;ew.enabled=true}return ew};cP.newActionItemWithItemClass=function(eu,ev,ew){var ex=new cP;ex.name=eu;ex.itemClass=ew;if(ss.isValue(ev)){ex.data=ev;ex.enabled=true}return ex};cP.newItemWithIcon=function(eu,ev,ew){var ex=new cP;ex.data=eu;ex.name=ev;ex.iconClass=ew;ex.iconClassTwo=null;ex.enabled=true;return ex};cP.newItemWithIconAndDescription=function(eu,ev,ew,ex){var ey=new cP;ey.data=eu;ey.name=ev;ey.iconClass=ew;ey.enabled=true;ey.description=ex;return ey};cP.newItem=function(eu,ev,ew,ex){var ey=new cP;ey.data=eu;ey.name=ev;if(ss.isValue(ew)){ey.checkState=ew}if(ss.isValue(ex)){ey.subMenu=ex;ey.enabled=ex.menuItems.some(function(ez){return ez.enabled})}else{ey.enabled=true}return ey};global.spiff.MenuItem=cP;var cQ=function(){};cQ.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cQ;var cR=function(){eb.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cR.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cR;var cS=function(){this.textInput=null;eb.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cS.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cS;var cT=function(){this.content=null;eb.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"));this.content=this.getElementBySelector('.tabMenuContent')};cT.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cT;var cU=function(eu,ev){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$c={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(t,[cV]).call(this,eu,ev);this.menuViewModel=eu;this.dom=ev;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$a));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cU.__typeName='spiff.MenuView';cU.getMenuItem=function(eu){return eu.data('tabMenuMenuItem')};cU.getMenuItemLevel=function(eu){return ss.coalesce(eu.data('tabMenuMenuItemLevel'),1)};global.spiff.MenuView=cU;var cV=function(eu){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;w.call(this);this.set_shouldAnimateOnClose(eu);this.set_theme(new eq);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cV.__typeName='spiff.MenuViewModel';cV.createForMenu=function(eu,ev,ew,ex,ey){var ez=new cV(ey);ez.set_menu(eu);var eA=ez;if(ss.isValue(ev)){eA.add_menuItemClicked(ev);eA.disposables.add$1(new tab.CallOnDispose(function(){eA.remove_menuItemClicked(ev)}))}eA.set_disposeOnHide(true);eA.set_theme(ew||new eq);if(ss.isValue(ex)){eA.add_hidden(ex);eA.disposables.add$1(new tab.CallOnDispose(function(){eA.remove_hidden(ex)}))}dg.newView(cU).call(null,[eA]);return eA};cV.handleMenuActionItemClicked=function(eu){if($.isFunction(eu.data)){eu.data()}};global.spiff.MenuViewModel=cV;var cW=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cW.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cW;var cX=function(eu,ev){this.$y=null;this.template=null;bi.call(this,eu,ev.domRoot);this.template=ev;this.$w()};cX.__typeName='spiff.ModalDialog';cX.$ctor1=function(eu,ev){this.$y=null;this.template=null;bi.call(this,eu,ev);this.template=new eb(ev);this.$w()};global.spiff.ModalDialog=cX;var cY=function(){};cY.__typeName='spiff.MouseCapture';cY.$6=function(){return tab.Logger.lazyGetLogger(cY)};cY.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cY.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_embedMode()!=='notEmbedded'};cY.setCapture=function(eu,ev,ew){tab.Param.verifyValue(eu,'element');tab.Param.verifyValue(ev,'handler');if(cY.$7()){if(ss.isNullOrUndefined(cY.$8)||ss.isNullOrUndefined(ew)||!ew){cY.releaseCapture();document.addEventListener('mousemove',cY.$2,true);document.addEventListener('mouseup',cY.$4,true);document.addEventListener('mouseout',cY.$3,true);cY.$8=ev}else{}}};cY.releaseCapture=function(){if(cY.$7()){document.removeEventListener('mousemove',cY.$2,true);document.removeEventListener('mouseup',cY.$4,true);document.removeEventListener('mouseout',cY.$3,true)}};cY.$2=function(eu){if(ss.isValue(cY.$8)){cY.$8.handleCapturedMouseMove(eu)}};cY.$4=function(eu){cY.$1(eu)};cY.$3=function(eu){if(cY.$5()&&cY.$0(eu)){cY.$1(eu)}};cY.$1=function(eu){cY.releaseCapture();if(ss.isValue(cY.$8)){cY.$8.handleCapturedMouseComplete(eu);cY.$8=null}};cY.$0=function(eu){var ev=eu.toElement;return ss.isNullOrUndefined(ev)||ev.nodeName==='HTML'};global.spiff.MouseCapture=cY;var cZ=function(){};cZ.__typeName='spiff.MouseEventUtil';cZ.get_clickEvent=function(){return(tab.BrowserSupport.isTouch?'touchstart':'click')};cZ.getMouseButtonEnum=function(eu){cZ.$0();var ev='none';var ew=eu['which'];if(ss.isValue(ew)){var ex=ew;if(ss.keyExists(cZ.$3,ex)){ev=cZ.$3[ex]}}else if(ss.isValue(eu['button'])){var ey=eu['button'];if(ss.keyExists(cZ.$2,ey)){ev=cZ.$2[ey]}}return ev};cZ.$0=function(){if(!cZ.$1){cZ.$2={};cZ.$2[1]='left';cZ.$2[4]='middle';cZ.$2[2]='right';cZ.$3={};cZ.$3[1]='left';cZ.$3[2]='middle';cZ.$3[3]='right';cZ.$1=true}};global.spiff.MouseEventUtil=cZ;var da=function(eu,ev,ew,ex){da.$ctor1.call(this,eu,ev,ew,da.$0,ex)};da.__typeName='spiff.MoveDragInstance';da.$ctor1=function(eu,ev,ew,ex,ey){this.$4=null;this.$3=null;this.$2=null;bp.call(this,eu,ey);this.$4=ev;this.$3=ew;this.$2=ex};global.spiff.MoveDragInstance=da;var db=function(eu,ev,ew){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=eu;this.$2=ev;this.$1='useScrollSize';this.$0=ew;bo.attachDragSource(this.$3,this)};db.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=db;var dc=function(eu){bM.call(this,eu)};dc.__typeName='spiff.MultiSelectGroupSelection';dc.buildMultiSelectGroupSelection$1=function(eu){return function(ev,ew){var ex=new dc(ev.length);var ey=ev.length;for(var ez=0;ez<ey;++ez){if(ew(ev[ez])){ex.get_selectedIndexes()[ez]=true}}ex.validateAllSelectedState();return ex}};dc.buildMultiSelectGroupSelection=function(eu){return function(ev,ew){var ex=new dc(ev.length);if(ew){ex.handleTapAll()}return ex}};global.spiff.MultiSelectGroupSelection=dc;var dd=function(){bh.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(eu,ev){return ev};this.onAcceptDrop=function(eu){return $.Deferred().resolve(false)};this.onGetDropCursor=function(eu){return bb.noOp}};dd.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=dd;var de=function(eu,ev,ew){this.originalEvent=null;this.reactEvent=null;this.inputType=0;this.source=0;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=eu;this.reactEvent=ew;this.type=eu.type;this.timeStamp=eu.timeStamp;this.keyCode=eu['keyCode'];this.ctrlKey=eu.ctrlKey;this.altKey=eu.altKey;this.metaKey=eu.metaKey;this.shiftKey=eu.shiftKey;this.clientX=eu['clientX'];this.clientY=eu['clientY'];if(ss.isValue(eu.touches)){this.touches=eu.touches;this.targetTouches=eu.targetTouches;this.changedTouches=eu.changedTouches;var ex=eu.target;this.target=((ex.nodeType===3)?ex.parentNode:ex);this.currentTarget=ev}else{this.targetTouches=((eu.type==='mouseup')?[]:[eu]);this.touches=this.targetTouches;this.changedTouches=[eu];this.currentTarget=eu.currentTarget;this.target=eu.target}var ey=this.touches.length;this.touchesById=new Array(ey);while(ey>0){ey-=1;var ez=this.touches[ey].identifier||0;this.touchesById[ez]=this.touches[ey]}ey=this.changedTouches.length;while(ey>0){ey-=1;var eA=this.changedTouches[ey].identifier||0;this.touchesById[eA]=this.changedTouches[ey]}};de.__typeName='spiff.NormalizedEvent';de.get_allHandledEvents=function(){return Object.keys(h.$3)};de.create=function(eu,ev,ew){return h.$0(eu,ev,ew)};global.spiff.NormalizedEvent=de;var df=function(){ss.makeGenericType(x,[Object]).call(this)};df.__typeName='spiff.NumberCell';df.createBodyCell=function(eu){return React.createElement(df,eu)};global.spiff.NumberCell=df;var dg=function(){};dg.__typeName='spiff.ObjectRegistry';dg.registerType=function(eu,ev){return function(){if(ss.isNullOrUndefined(dg.$2)){dg.$2={}}dg.$2[ss.getTypeFullName(eu)]=ev}};dg.newView$1=function(eu){return function(ev,ew){return dg.$1(eu).call(null,ev,ew)}};dg.newView=function(eu){return function(ev){return dg.$1(eu).call(null,eu,ev)}};dg.newWidget$2=function(eu){return function(ev,ew){return dg.$1(eu).call(null,ev,ew)}};dg.newWidget=function(eu){return function(){return dg.$1(eu).call(null,eu,[])}};dg.newWidget$1=function(eu){return function(ev){return dg.$1(eu).call(null,eu,ev)}};dg.$1=function(eu){return function(ev,ew){if(ss.isNullOrUndefined(dg.$2)){throw new ss.Exception('No types registered')}var ex=dg.$2[ss.getTypeFullName(ev)];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(ev))}var ey=((ew.length===0)?ss.createInstance(ex):ss.applyConstructor(ex,ew));return(dg.$0(ex,eu)?ey:ey)}};dg.newLegacyTooltip=function(eu){return function(ev,ew,ex){if(ss.isNullOrUndefined(dg.$2)){throw new ss.Exception('No types registered')}var ey=dg.$2[ss.getTypeFullName(ev)];if(ss.isNullOrUndefined(ey)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(ev))}var ez=new ey(ew,ex);return ez}};dg.newLegacyTooltipBehavior=function(eu){return function(ev,ew){if(ss.isNullOrUndefined(dg.$2)){throw new ss.Exception('No types registered')}var ex=dg.$2[ss.getTypeFullName(ev)];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(ev))}var ey=new ex(ew);return ey}};dg.resolve=function(eu){return function(ev){var ew=eu;if(ss.isNullOrUndefined(dg.$2)){throw new ss.Exception('No types registered')}var ex=dg.$2[ss.getTypeFullName(ew)];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(ew))}return ss.applyConstructor(ex,ev)}};dg.$0=function(eu,ev){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(ev))||ss.isValue(ss.getGenericTypeDefinition(eu))};global.spiff.ObjectRegistry=dg;var dh=function(){};dh.__typeName='spiff.OnBlurBehavior';global.spiff.OnBlurBehavior=dh;var di=function(){};di.__typeName='spiff.OrientationHandler';di.add_orientationChanged=function(eu){di.$1$1=ss.delegateCombine(di.$1$1,eu)};di.remove_orientationChanged=function(eu){di.$1$1=ss.delegateRemove(di.$1$1,eu)};di.get_isLandscape=function(){return di.$e===90||di.$e===-90};di.get_isPortrait=function(){return di.$e===0||di.$e===180};di.get_windowInstHelper=function(){return di.$k};di.init=function(){if(!tsConfig.is_mobile_device){di.$e=0;return}di.$j=di.$1();di.$k=new tab.WindowHelper(di.$j);di.$e=di.$3();di.$f=di.$k.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(di.$j).on('orientationchange'.toString(),di.$6)}$(di.$j).on('resize'.toString(),di.$7);if('addEventListener'in window.self){window.addEventListener('unload',di.$a,true)}};di.$a=function(eu){di.unbindEvents()};di.unbindEvents=function(){if(ss.isNullOrUndefined(di.$j)){return}$(di.$j).off('orientationchange'.toString(),di.$6);$(di.$j).off('resize'.toString(),di.$7)};di.$1=function(){var eu=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_embedMode()!=='notEmbedded'){try{while(ss.isValue(eu.parent)&&!ss.referenceEquals(eu.parent,eu)){var ev=eu.parent;var ew=new tab.WindowHelper(ev);if(ss.isNullOrUndefined(ew.get_outerWidth())){break}eu=ev}}catch(ex){}}return eu};di.$6=function(eu){di.$h=new Date;di.$5()};di.$5=function(){var eu=new Date;if(eu-di.$h>=2500||di.$g||di.$9()||di.$8()){di.$b();di.$2()}else{di.$0();di.$i=window.setTimeout(di.$5,75)}};di.$7=function(eu){if(di.$g||di.$9()){di.$b();di.$2()}};di.$2=function(){di.$0();if(di.$8()){di.$e=di.$3();di.$g=false;if(ss.isValue(di.$1$1)){di.$1$1()}}};di.$9=function(){var eu=di.$k.get_innerWidth();if(di.$f!==eu){return true}return false};di.$8=function(){var eu=di.$3();if(di.$e!==eu){return true}return false};di.$b=function(){di.$f=di.$k.get_innerWidth();di.$g=true};di.$3=function(){var eu;if(!tab.BrowserSupport.get_isAndroid()){eu=di.$4();if(ss.isValue(eu)){return ss.unbox(eu)}}eu=((di.$k.get_innerWidth()<di.$k.get_innerHeight())?0:90);return ss.unbox(eu)};di.$4=function(){try{return di.$j.orientation}catch(eu){}return null};di.$0=function(){di.$i=tab.MiscUtil.clearTimeout(di.$i)};global.spiff.OrientationHandler=di;var dj=function(eu,ev){var ew=function(ex){React.Component.call(this,ex)};ss.registerGenericClassInstance(ew,dj,[eu,ev],{render:function(){var ex=_.map(this.props.items,ss.mkdel(this,function(eB,eC){var eD=this.getEventHandleSpecForItem(eB);var eE=['tabListItem'];if(eC%2===1){eE.push('tabListItemAlternate')}var eF={className:eE.join(' '),key:this.getUniqueKey(eB.data)};if(ss.isNullOrUndefined(eD)){return React.DOM.div(eF,this.buildItem(eB.data))}else{return bw.div(eD,eF,[this.buildItem(eB.data)])}}));var ey=new dD;ey.scrollY=true;ey.scrollbars=true;ey.onScrollStop=ss.mkdel(this,this.onScrollStop);ey.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();ey.startingY=this.props.startingY;var ez=ey;var eA=dC.createScroller(ez,ex);return React.DOM.div({className:'tabPagableList'},eA)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(ex){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return ew};dj.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(dj,a,2);global.spiff.PagableListComponent$2=dj;var dk=function(eu){this.$1=null;ss.makeGenericType(dj,[Object,ea]).call(this,eu)};dk.__typeName='spiff.PagableTableRowList';global.spiff.PagableTableRowList=dk;var dl=function(eu){this.$6=false;this.$8=null;this.$9=null;this.$7=null;this.$5=null;bI.call(this,eu,'pinch',true,2)};dl.__typeName='spiff.Pinch';global.spiff.Pinch=dl;var dm=function(){ss.makeGenericType(x,[Object]).call(this)};dm.__typeName='spiff.PlainTextCell';dm.createBodyCell=function(eu){return React.createElement(dm,eu)};global.spiff.PlainTextCell=dm;var dn=function(eu){cK.call(this,eu,eu.get_listItemCreator())};dn.__typeName='spiff.PopupListView';global.spiff.PopupListView=dn;var dp=function(eu,ev,ew){this.$b=null;cM.call(this,eu,ew);this.$b=ev};dp.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=dp;var dq=function(eu){this.$0=null;ss.EventArgs.call(this);this.$0=eu};dq.__typeName='spiff.PropertyChangedEventArgs';global.spiff.PropertyChangedEventArgs=dq;var dr=function(){};dr.__typeName='spiff.PureRender';dr.mixIn=function(eu){var ev=function(ew,ex){return dr.$0(eu,ew,ex)};eu['shouldComponentUpdate']=ev};dr.$0=function(eu,ev,ew){var ex=!tab.MiscUtil.shallowEquals(eu.props,ev)||!tab.MiscUtil.shallowEquals(eu.state,ew);if(!ex){}return ex};global.spiff.PureRender=dr;var ds=function(eu){React.Component.call(this,eu)};ds.__typeName='spiff.PureRenderComponent';ds.$ctor1=function(eu,ev){React.Component.call(this,eu,ev)};global.spiff.PureRenderComponent=ds;var dt=function(){};dt.__typeName='spiff.ReactComponentExtensions';dt.generateUniqueKeys=function(eu){return function(ev,ew){var ex={};for(var ey=0;ey<ev.length;++ey){ex[ev[ey].toString()]=0}for(var ez=0;ez<ew.length;++ez){ex[ew[ez]]=1}return _.map(ev,function(eA){var eB=eA.toString();var eC=ex[eB];if(eC===0){ex[eB]=1;return eB}var eD=null;do eD=[eB,'_',++eC].join('');while(ss.isValue(ex[eD]));ex[eB]=eC;ex[eD]=1;return eD})}};global.spiff.ReactComponentExtensions=dt;var du=function(){};du.__typeName='spiff.ReactElement';du.div$1=function(eu,ev){return React.DOM.div.apply(null,[{className:eu}].concat(ev))};du.div=function(eu,ev){var ew=(ss.isValue(eu)?eu.join(' '):null);return React.DOM.div.apply(null,[{className:ew}].concat(ev))};du.span$1=function(eu,ev){return React.DOM.span.apply(null,[{className:eu}].concat(ev))};du.span=function(eu,ev){var ew=(ss.isValue(eu)?eu.join(' '):null);return React.DOM.span.apply(null,[{className:ew}].concat(ev))};du.br=function(eu){return React.DOM.br({className:eu})};global.spiff.ReactElement=du;var dv=function(eu,ev,ew){var ex=function(ey){this.$5=ss.getDefaultValue(eu);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=ey;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(ex,dv,[eu,ev,ew],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(ey){this.$1$1=ey},$3:function(){return this.$1$2},$4:function(ey){this.$1$2=ey},addToDom:function(ey){ey.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(ey){ReactDOM.render(React.createElement(ev,ey),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(ey){this.dispose()},addClass:function(ey){this.get_rootElement().addClass(ey)}},function(){return null},function(){return[ss.IDisposable,bW,ss.makeGenericType(cy,[eu])]});ex.$0="<div class='tab-ReactView' />";dg.registerType(ex,ex).call(null);return ex};dv.__typeName='spiff.ReactHostView$3';ss.initGenericClass(dv,a,3);global.spiff.ReactHostView$3=dv;var dw=function(){};dw.__typeName='spiff.ReactRefs';dw.attachDragSource=function(eu){var ev=null;return function(ew){if(ss.isValue(ew)){ev=ReactDOM.findDOMNode(ew);bo.attachDragSource($(ev),eu())}else{bo.removeDragSource($(ev))}}};dw.attachDropTarget=function(eu){var ev=null;return function(ew){if(ss.isValue(ew)){ev=ReactDOM.findDOMNode(ew);bo.attachDropTarget($(ev),eu())}else{bo.detachDropTarget($(ev))}}};global.spiff.ReactRefs=dw;var dx=function(eu,ev,ew){var ex=function(ey,ez,eA){this.$3$1=null;React.Component.call(this,ez,eA);this.set_widget(ey);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(ex,dx,[eu,ev,ew],{get_widget:function(){return this.$3$1},set_widget:function(ey){this.$3$1=ey},render:function(){return React.DOM.div(null,'')},componentDidMount:function(){var ey=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(ey)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(ey){this.updateWidgetState(ey)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return ex};dx.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(dx,a,3);global.spiff.ReactSpiffAdapter$3=dx;var dy=function(eu,ev,ew){this.$5='bottomRight';db.call(this,eu,ev,false);this.$5=ew};dy.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=dy;var dz=function(eu,ev){ss.makeGenericType(v,[dA]).call(this,eu,ev)};dz.__typeName='spiff.ScrollableView';dz.createScrollableView=function(eu){if(eu.get_hasCustomIndicator()){return new bd(eu)}else{return new bg(eu)}};global.spiff.ScrollableView=dz;var dA=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(true)};dA.__typeName='spiff.ScrollableViewModel';dA.$ctor1=function(eu){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(eu)};global.spiff.ScrollableViewModel=dA;var dB=function(){};dB.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dB;var dC=function(eu,ev){React.Component.call(this,eu,ev)};dC.__typeName='spiff.ScrollingComponent';dC.$0=function(eu){var ev=eu.forceScrollerType;if(ss.isNullOrUndefined(ev)){ev=0}return ss.unbox(ev)};dC.createScroller=function(eu,ev){var ew=dC.$0(eu);var ex=dC.$1[ew];if(ev.length===1){return React.createElement(ex,eu,ev[0])}return React.createElement(ex,eu,ev)};global.spiff.ScrollingComponent=dC;var dD=function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true};dD.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=dD;var dE=function(eu){ss.makeGenericType(A,[Object]).call(this,eu)};dE.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=dE;var dF=function(eu){React.Component.call(this,eu);this.state=this.$1(this.props.selection)};dF.__typeName='spiff.SelectableButtonGroupComponent';dF.getDesiredHeight=function(eu){return $('.tab-vScrollable',eu).get(0).scrollHeight};dF.getMinimumWidth=function(eu){return $('.tab-vScrollable',eu).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dF;var dG=function(){this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};dG.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=dG;var dH=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dH.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dH;var dI=function(eu,ev,ew){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=eu;this.$2=ev;this.$0=ew};dI.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=dI;var dJ=function(){};dJ.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dJ;var dK=function(){this.$0=null;this.$0=dV.createEmpty()};dK.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dK;var dL=function(eu,ev,ew){this.relativeDom=null;this.cursorPosition=null;this.preferUp=false;this.preferLeft=false;this.minWidth=null;this.additionalMenuClass=null;this.expanded=false;this.relativeDom=eu;this.cursorPosition=null;this.preferUp=ev;this.preferLeft=false;this.minWidth=ew;this.additionalMenuClass=null;this.expanded=false};dL.__typeName='spiff.ShowMenuOptions';dL.create=function(eu,ev,ew){return new dL(eu,ev,ew)};dL.preferDownAndLeft=function(eu,ev){var ew=new dL(eu,false,ev);ew.preferLeft=true;return ew};dL.anchorToCursorLocation=function(eu,ev){var ew=new dL(eu,false,null);ew.cursorPosition=ev;return ew};global.spiff.ShowMenuOptions=dL;var dM=function(eu){bM.call(this,eu)};dM.__typeName='spiff.SingleSelectGroupSelection';dM.buildSingleSelectGroupSelection$1=function(eu){return function(ev,ew){var ex=new dM(ev.length);var ey=ev.length;if(ey===0){}for(var ez=0;ez<ey;++ez){if(ew(ev[ez])){ex.get_selectedIndexes()[ez]=true}}ex.validateAllSelectedState();return ex}};dM.buildSingleSelectGroupSelection=function(eu){return function(ev,ew){var ex=new dM(ev.length);if(ew){ex.handleTapAll()}return ex}};global.spiff.SingleSelectGroupSelection=dM;var dN=function(eu,ev){this.$0=null;this.$1=null;this.$0=eu;this.$1=ev};dN.__typeName='spiff.SpiffBrowserViewport';dN.getViewport=function(eu){if(!ss.staticEquals(dN.getSpiffBrowserViewportFunc,null)){dN.getSpiffBrowserViewportFunc(eu)}else{eu(new dN(null,null))}};global.spiff.SpiffBrowserViewport=dN;var dO=function(eu,ev){this.$5=null;this.$6=null;React.Component.call(this,eu,ev);this.$5=ss.mkdel(this,function(ew){this.$6=ew})};dO.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dO;var dP=function(eu){cB.call(this,dP.$0(eu),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dP.__typeName='spiff.StyledButton';dP.createStyledButton=function(eu,ev,ew,ex){var ey=new dP(ew);ey.set_label(ev);ey.add_click(eu);ey.disposables.add$1(new tab.CallOnDispose(function(){ey.remove_click(eu)}));if(ss.isValue(ex)){ey.tabIndex(ss.unbox(ex))}return ey};dP.$0=function(eu){return $('<span>').addClass('tab-styled-button').addClass(eu).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dP;var dQ=function(eu,ev){ss.makeGenericType(dx,[cB,Object,Object]).call(this,dR.createUnificationLabelButton(eu.clickHandler,eu.label,eu.buttonClass,ss.coalesce(eu.buttonStyle,0),eu.tabIndex),eu,ev);this.get_widget().set_disabled(ss.coalesce(eu.disabled,false));this.get_widget().set_hoverTooltipText(eu.tooltipText)};dQ.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dQ;var dR=function(){};dR.__typeName='spiff.StyledTextButton';dR.createUnificationLabelButton=function(eu,ev,ew,ex,ey){var ez=dR.$0(eu,ev,ew,1,ey);var eA;switch(ex){case 0:{eA='tabStyledTextButtonFilledGreen';break}case 1:{eA='tabStyledTextButtonFilledRed';break}case 2:{eA='tabStyledTextButtonFilledGrey';break}case 3:{eA='tabStyledTextButtonOutline';break}default:{eA='';break}}ez.addClass(eA);return ez};dR.createUnificationIconTextButton=function(eu,ev,ew){var ex=new cB($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(eu,null)){ex.onClick(function(ey){eu()})}if(!ss.isNullOrEmptyString(ev)){ex.set_label(ev)}if(!ss.isNullOrEmptyString(ew)){ex.addClass(ew)}return ex};dR.createActionButton=function(eu,ev,ew,ex,ey){var ez=dR.$0(eu,ev,ew,ex,ey);ez.addClass('tabStyledTextButtonAction');return ez};dR.$0=function(eu,ev,ew,ex,ey){var ez=cB.newTextButton(eu,ev);ez.addClass('tabStyledTextButton');switch(ex){case 2:{ez.addClass('tabLargeStyledTextButton');break}case 1:{ez.addClass('tabMediumStyledTextButton');break}}ez.addClass(ew);if(ss.isValue(ey)){ez.tabIndex(ss.unbox(ey))}return ez};global.spiff.StyledTextButton=dR;var dS=function(eu){this.$1=new dH;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(eu)){eu=new n}this.$5=eu};dS.__typeName='spiff.TabControl';global.spiff.TabControl=dS;var dT=function(eu,ev){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=ev||{};by.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));by.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));by.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dU.$ctor1(eu,this.eventConfig)};dT.__typeName='spiff.TableauClickHandler';dT.target=function(eu){return new dT(eu,null)};dT.targetAndConfig=function(eu,ev){return new dT(eu,ev)};dT.targetAndClick=function(eu,ev){return(new dT(eu,null)).onClick(ev)};dT.targetAndPress=function(eu,ev){return(new dT(eu,null)).onPress(ev)};dT.targetAndRightClick=function(eu,ev){return(new dT(eu,null)).onRightClick(ev)};dT.targetAndDoubleClick=function(eu,ev){return(new dT(eu,null)).onDoubleClick(ev)};global.spiff.TableauClickHandler=dT;var dU=function(){this.config=null;this.$2=null;this.$3=null};dU.__typeName='spiff.TableauEventHandler';dU.$ctor1=function(eu,ev){this.config=null;this.$2=null;this.$3=null;this.config=ev||{};this.config.domElem=eu;this.configureDomElem(eu);this.setupEventRecognizer(this.config);this.$0(eu)};dU.$0=function(eu,ev){return eu[ev]};global.spiff.TableauEventHandler=dU;var dV=function(){this.$2$1=null;dU.call(this);this.set_eventHandlingAttributesForReact(this.$4())};dV.__typeName='spiff.TableauEventHandlerForReact';dV.createEmpty=function(){return new dV};dV.$0=function(eu){if(ss.isNullOrUndefined(dV.$1)){dV.$1={};dV.$1['touchstart']='onTouchStart';dV.$1['touchmove']='onTouchMove';dV.$1['touchend']='onTouchEnd';dV.$1['touchcancel']='onTouchCancel';dV.$1['mousedown']='onMouseDown';dV.$1['mousemove']='onMouseMove';dV.$1['mouseup']='onMouseUp';dV.$1['mouseout']='onMouseOut';dV.$1['scroll']='onScroll';dV.$1['contextmenu']='onContextMenu'}return dV.$1[eu]};global.spiff.TableauEventHandlerForReact=dV;var dW=function(){this.$3={indexOfFirstVisibleSection:0,indexOfLastVisibleSection:0};React.Component.call(this)};dW.__typeName='spiff.TableBody';dW.createTableBody=function(eu){return React.createElement(dW,eu)};global.spiff.TableBody=dW;var dX=function(){this.name=null;this.dataKey=null;this.text=null;this.tooltip=null;this.defaultSortDirection=0;this.resizable=false;this.sortable=false;this.growToFit=false;this.preferredWidth=null;this.preferredCellType=1};dX.__typeName='spiff.TableColumn';global.spiff.TableColumn=dX;var dY=function(){};dY.__typeName='spiff.TableColumnSort';global.spiff.TableColumnSort=dY;var dZ=function(){this.$b=null;this.$a=null;this.$7=0;this.$9=null;this.$8=null;this.$c=null;this.$6=null;React.Component.call(this);this.$9=ss.mkdel(this,this.$3);this.$8=ss.mkdel(this,this.$2);this.$c=ss.mkdel(this,this.$5);this.$6=ss.mkdel(this,this.$0)};dZ.__typeName='spiff.TableComponent';dZ.createTable=function(eu){return React.createElement(dZ,eu)};global.spiff.TableComponent=dZ;var ea=function(){this.key=null;this.data=null};ea.__typeName='spiff.TableRow';global.spiff.TableRow=ea;var eb=function(eu){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=eu};eb.__typeName='spiff.Template';eb.fromHtml=function(eu){return new eb($(eu))};global.spiff.Template=eb;var ec=function(eu,ev){ds.$ctor1.call(this,eu,ev)};ec.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=ec;var ed=function(eu,ev,ew,ex,ey){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;et.call(this,eu.get_domRootElement());this.$5=eu;this.$6=ev;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',ew);this.$5.get_inputElement().attr('title',ew);if(ss.isValue(ex)){var ez='textinput-'+this.get_instanceId();eu.get_inputElement().attr('id',ez);eu.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",ez,ex)))}if(ey){eu.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(eA){this.$4=true})).on('compositionend',ss.mkdel(this,function(eA){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};ed.__typeName='spiff.TextInputView';ed.newTextInputView=function(eu,ev,ew,ex){var ey=new m;return new ed(ey,eu,ev,ew,ex)};global.spiff.TextInputView=ed;var ee=function(eu,ev){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;z.call(this,eu);this.$d=ee.$0();this.$c=ss.coalesce(ev,'selected')};ee.__typeName='spiff.ToggleButton';ee.createButton=function(eu,ev,ew){var ex=new ee(eu,ev);ex.set_selected(ew.get_toggleValue());var ey=function(ez,eA){if(eA.get_propertyName()==='selected'){ew.raiseToggled()}};ex.add_propertyChanged(ey);ex.disposables.add$1(new tab.CallOnDispose(function(){ex.remove_propertyChanged(ey)}));return ex};ee.$0=function(){ee.$1++;return'toggleBtn-'+ee.$1.toString()};global.spiff.ToggleButton=ee;var ef=function(eu,ev){this.$0=false;this.$2$1=null;this.$2$2=null;w.call(this);this.$0=ev;this.set_data({});this.add_toggled(eu);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(eu)})))};ef.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=ef;var eg=function(){};eg.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=eg;var eh=function(){};eh.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=eh;var ei=function(){};ei.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=ei;var ej=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=ej.startingGlassZIndex;this.useCaret=false};ej.__typeName='spiff.UberPopupShowOptions';ej.$ctor1=function(eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=ej.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=eu;this.horizontalAttach=ev;this.theme=ew;this.preferUp=ex;this.coverRelativeElement=ey;this.limitPopupHeight=ez;this.maxPopupHeight=eA;this.additionalClassNames=eB;this.isToolbarFlyout=eC;this.popupMode=eD;this.globalTouchWhitelist=eE;this.glassZIndex=eF;this.focusOnShown=eG};global.spiff.UberPopupShowOptions=ej;var ek=function(){this.content=null;this.caret=null;this.caretBorder=null;eb.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent');this.caret=this.getElementBySelector('.tabUberArrow');this.caretBorder=this.getElementBySelector('.tabUberArrow2');this.caret.hide();this.caretBorder.hide()};ek.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=ek;var el=function(){};el.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=el;var em=function(eu,ev){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(v,[en]).call(this,eu,ev);this.popupViewModel=eu;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};em.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=em;var en=function(eu){this.$0=null;this.$1=null;this.options=new ej;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;w.call(this);this.$1=eu;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};en.__typeName='spiff.UberPopupViewModel';en.$ctor1=function(eu){en.call(this,function(){return eu})};en.createForContent=function(eu,ev,ew,ex){var ey=new en(ev);if(!ss.staticEquals(ew,null)){ey.add_hidden(ew);ey.addDisposables(new tab.CallOnDispose(function(){ey.remove_hidden(ew)}))}ey.set_content(eu);ey.set_disposeOnHide(true);dg.newView(em).call(null,[ey]);if(ex){ey.disposables.add$1(new tab.CallOnDispose(function(){eu.disposeViewModel()}))}return ey};en.createForContent$1=function(eu,ev,ew,ex){return en.createForContent(eu,function(){return ev},ew,ex)};en.createForContentUsingCaretStyle=function(eu,ev,ew,ex,ey){var ez=en.createForContent(eu,function(){return ev},ex,ey);ez.set_mode(2);var eA=new ej;eA.popupMode=2;eA.preferUp=true;eA.additionalClassNames=['tabUberCaretStyle',ew];eA.horizontalAttach=0;eA.horizontalAlign=1;eA.useCaret=true;ez.options=eA;return ez};global.spiff.UberPopupViewModel=en;var eo=function(){};eo.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=eo;var ep=function(){cW.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};ep.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=ep;var eq=function(){cW.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};eq.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=eq;var er=function(eu,ev){this.$b=null;React.Component.call(this,eu,ev);this.state=er.$0(this.props.initialValue)};er.__typeName='spiff.VerticalSpinnerComponent';er.$0=function(eu){return{value:eu,pendingValue:eu,displayValue:eu.toString()}};global.spiff.VerticalSpinnerComponent=er;var es=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0};es.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=es;var et=function(eu){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(eu,'element');this.element=eu;eu.addClass('tab-widget');eu.data('widgetInstance',this);et.$3++;this.$0=et.$3};et.__typeName='spiff.Widget';et.enableTextSelectionOnElement=function(eu){eu.removeClass('tab-unselectable');eu.addClass(et.selectableNodeClass);eu.off('.tab-disableSelection')};et.disableTextSelectionOnElement=function(eu){if(tab.BrowserSupport.get_isIE()){return}if(tab.BrowserSupport.get_isMobile()){return}eu.removeClass(et.selectableNodeClass);eu.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var ev='selectstart'+'.tab-disableSelection';eu.on(ev,function(ew){if(tab.DomUtil.isFocusableTextElement(ew.target)){return}ew.preventDefault()})}};et.findWidget=function(eu,ev){tab.Param.verifyValue(eu,'element');var ew=eu;var ex;ev=ev||et;do{ex=ew.data('widgetInstance');if(ss.isValue(ex)&&!ss.isAssignableFrom(ev,ss.getInstanceType(ex))){ex=null}ew=ew.parent('.tab-widget')}while(ss.isNullOrUndefined(ex)&&!ew.is('body')&&ew.length>0);return(ss.isNullOrUndefined(ex)?null:ex)};et.getWidgets=function(eu,ev){var ew=[];ev=ev||et;var ex;eu.each(function(ey,ez){ex=$(ez).data('widgetInstance');if(ss.isValue(ex)&&ss.isAssignableFrom(ev,ss.getInstanceType(ex))){ew.push(ex)}});return ew};global.spiff.Widget=et;ss.initClass(dC,a,{get_scrollingControl:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var eu=this.refs['iscroll-component'];if(ss.isValue(eu)&&ss.isValue(eu.iScroll)){return new c(eu.iScroll)}return null},render:function(){var eu=b.$0(this.props);return React.createElement(co,eu,this.props.children)}},dC);ss.initInterface(cq,a,{scrollBy:null,scrollTo:null,scrollToElement:null});ss.initClass(c,a,{scrollBy:function(eu,ev){this.$0.scrollBy(-eu,-ev,0,null)},scrollTo:function(eu,ev){this.$0.scrollTo(-eu,-ev,0,null)},scrollToElement:function(eu,ev,ew){this.$0.scrollToElement(eu,0,ev,ew)}},null,[cq]);ss.initClass(eb,a,{getElementsBySelector:function(eu){return this.domRoot.find(eu)},getElementBySelector:function(eu){var ev=this.getElementsBySelector(eu);return ev},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(eu){if(ss.isValue(eu)){this.disposables.add$1(eu)}}},null,[ss.IDisposable]);ss.initClass(d,a,{},eb,[ss.IDisposable]);ss.initInterface(cj,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(e,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(eu,ev){var ew=eu.offsetTop;var ex=ew+eu.offsetHeight;var ey=this.$0.get_scrollerY();var ez=ey+tab.DoubleUtil.roundToInt(this.$0.element.height());if(ew<ey){var eA=((ew<=ev)?0:ew);this.$0.scrollTo(this.$0.get_scrollerX(),eA,0,null)}else if(ex>ez){this.$0.scrollTo(this.$0.get_scrollerX(),ey+ex-ez,0,null)}}},null,[cj]);ss.initClass(f,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(eu,ev){var ew=eu.offsetTop;var ex=ew+eu.offsetHeight;var ey=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var ez=ey+this.$0[0].offsetHeight;if(ew<ey){var eA=((ew<=ev)?0:ew);this.$0.scrollTop(eA)}else if(ex>ez){this.$0.scrollTop(ey+ex-ez)}}},null,[cj]);ss.initClass(g,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var eu=$(this.$2).find('.iScrollHorizontalScrollbar');eu.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var ev=$(this.$2).find('.iScrollVerticalScrollbar');ev.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},eb,[ss.IDisposable]);ss.initClass(k,a,{$2:function(eu,ev){switch(eu){case 1:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}case 2:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}default:{if(eu===0&&!ss.isNullOrEmptyString(ev)){this.$6.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",ev));this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true}break}}return this},$3:function(eu){if(ss.isNullOrEmptyString(eu)){return this}this.$6.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",eu));this.$6.$7().append(this.$6.$5);this.$6.$3=true;return this},$1:function(eu){if(ss.isNullOrEmptyString(eu)){return this}this.$6.$0=$("<div class='tabMenuItemDesc'/>");this.$6.$0.text(eu);this.$6.$7().append(this.$6.$0);this.$6.$1=true;return this},$4:function(eu){if(ss.isNullOrUndefined(eu)){return this}this.$6.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$6.domRoot.append(this.$6.$8);return this},$5:function(eu){for(var ev=0;ev<eu.length;ev++){var ew=eu[ev];if(ss.isValue(ew)){this.$6.domRoot.addClass(ew)}}return this},$0:function(){var eu=this.$6;this.$6=null;return eu},dispose:function(){this.$6.dispose()}},null,[ss.IDisposable]);ss.initInterface(cw,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(l,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},eb,[ss.IDisposable,cw]);ss.initClass(m,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},eb,[ss.IDisposable,cw]);ss.initInterface(cv,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(n,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(eu,ev){return new d}},eb,[ss.IDisposable,cv]);ss.initEnum(o,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(p,a,{});ss.initClass(q,a,{});ss.initClass(ds,a,{render:null,shouldComponentUpdate:function(eu,ev){return dr.$0(this,eu,ev)}},React.Component);ds.$ctor1.prototype=ds.prototype;ss.initClass(r,a,{render:function(){return React.DOM.div({className:'tab-ArrowDropdownButton'},React.DOM.div({className:'arrow down'}))}},ds);ss.initInterface(cz,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initClass(w,a,{add_disposed:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_disposed:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},add_propertyChanged:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},remove_propertyChanged:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(eu){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new dq(eu))}},raiseEvent:function(eu,ev){if(ss.isValue(eu)){eu(this,ev||ss.EventArgs.Empty)}},raiseActionEvent$1:function(eu){return function(ev,ew){if(ss.isValue(ev)){ev(ew)}}},raiseActionEvent:function(eu){if(ss.isValue(eu)){eu()}}},null,[ss.IDisposable,cz]);ss.initInterface(bW,a,{addToDom:null,onAddedToDom:null});ss.initClass(et,a,{add_disposed:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_disposed:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},add_propertyChanged:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},remove_propertyChanged:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(eu){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=eu;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(eu){tab.DomUtil.setNativeTooltip(this.element,eu)},enableTextSelection:function(){et.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){et.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(eu){if(ss.isValue(this.$1$2)){this.$1$2(this,new dq(eu))}},createNamespacedEventName:function(eu){return eu+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(eu){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),eu)},onDisposed:function(eu){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(eu){eu.append(this.element);this.onAddedToDom()},prependToDom:function(eu){eu.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(eu){this.element.addClass(eu)}},null,[bW,ss.IDisposable]);ss.initClass(y,a,{shouldComponentUpdate:function(eu,ev){return!ss.staticEquals(this.props,eu)||!ss.staticEquals(this.state,ev)},render:function(){var eu=this.props.row;var ev=this.props.colWidths;var ew=[];ew.push('tab-table-brow');if(this.props.showGridLines){ew.push('tab-table-brow-gridline')}if(this.props.isSelected){ew.push(y.$1)}var ex=(ss.isValue(eu)?_.map(this.props.cols,ss.mkdel(this,function(eA,eB){var eC={key:eB,col:eA,row:eu,val:eu.data[eA.dataKey],cssWidth:(ss.isValue(ev)?(ev.widths[eA.name]+'px'):'auto'),reportWidth:this.props.handleReportCellWidth,isSelected:this.props.isSelected,onClick:this.props.onClick,onRightClick:this.props.onRightClick};return((eA.preferredCellType===1)?dm.createBodyCell(eC):df.createBodyCell(eC))})):null);var ey={className:ew.join(' '),style:{height:y.innerHeight,whiteSpace:'nowrap'}};var ez={};return bw.div(ez,{ref:'bodyRow'},[React.DOM.div(ey,ex)])}},React.Component);ss.initClass(z,a,{add_press:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_press:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_click:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_click:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_shiftClick:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_shiftClick:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},add_ctrlClick:function(eu){this.$2$4=ss.delegateCombine(this.$2$4,eu)},remove_ctrlClick:function(eu){this.$2$4=ss.delegateRemove(this.$2$4,eu)},add_hover:function(eu){this.$2$5=ss.delegateCombine(this.$2$5,eu)},remove_hover:function(eu){this.$2$5=ss.delegateRemove(this.$2$5,eu)},add_mouseEnter:function(eu){this.$2$6=ss.delegateCombine(this.$2$6,eu)},remove_mouseEnter:function(eu){this.$2$6=ss.delegateRemove(this.$2$6,eu)},add_mouseLeave:function(eu){this.$2$7=ss.delegateCombine(this.$2$7,eu)},remove_mouseLeave:function(eu){this.$2$7=ss.delegateRemove(this.$2$7,eu)},$9:function(eu){this.$2$8=ss.delegateCombine(this.$2$8,eu)},$a:function(eu){this.$2$8=ss.delegateRemove(this.$2$8,eu)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(eu){this.element.prop('disabled',eu);this.element.toggleClass(this.$5,eu);if(eu){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(eu){this.$7=eu},get_focusClass:function(){return this.$6},set_focusClass:function(eu){this.$6=eu},get_disabledClass:function(){return this.$5},set_disabledClass:function(eu){this.$5=eu},get_context:function(){return this.$4},set_context:function(eu){this.$4=eu},get_tableauClickHandler:function(){return this.$8},tabIndex:function(eu){this.element.attr('tabindex',eu.toString());return this},onClick:function(eu){var ev=ss.mkdel(this,function(){eu(this)});this.add_click(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(ev)}))},onDoubleClick:function(eu){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var ev=ss.mkdel(this,function(){eu(this)});this.$9(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ev)}))},onShiftClick:function(eu){var ev=ss.mkdel(this,function(){eu(this)});this.add_shiftClick(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(ev)}))},onMouseEnter:function(eu){var ev=ss.mkdel(this,function(){eu(this)});this.add_mouseEnter(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(ev)}))},onMouseMove:function(eu){var ev=ss.mkdel(this,function(){eu(this)});this.add_hover(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(ev)}))},onMouseLeave:function(eu){var ev=ss.mkdel(this,function(){eu(this)});this.add_mouseLeave(ev);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(ev)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bC.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var eu={};eu.hoverDelay=0;by.setHandler(eu,'mouseleave',ss.mkdel(this,this.handleMouseLeave));by.setHandler(eu,'hover',ss.mkdel(this,this.handleHover));this.$8=dT.targetAndConfig(this.element.get(0),eu).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(eu){if(ss.isValue(eu)){eu()}},$3:function(eu){if(eu.which===13){bC.stopEvent(eu);this.handleClick(null)}if(eu.which===32){bC.stopEvent(eu);this.handleClick(null)}},handleFocusOut:function(eu){this.element.removeClass(this.$6)},handleFocusIn:function(eu){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(eu){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(eu){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(eu)&&eu.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bC.isCtrlKey(eu)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(eu){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},et,[bW,ss.IDisposable]);ss.initClass(B,a,{},ss.makeGenericType(A,[Object]));ss.initEnum(C,a,{medium:1,large:2});ss.initEnum(D,a,{numberCell:0,plainTextCell:1});ss.initClass(E,a,{render:function(){var eu=this.props;var ev=[];ev.push('tb-checkbox');if(eu.isSelected){ev.push('tb-checked')}return React.DOM.span({className:'tb-checkbox-cell'},React.DOM.span({className:ev.join(' ')}))}},ss.makeGenericType(x,[Object]));ss.initClass(F,a,{updateWidgetState:function(eu){this.get_widget().set_label(eu.label);this.get_widget().set_disabled(eu.disabled);this.get_widget().set_selected(eu.isSelected)},handleWidgetPropertyChanged:function(eu,ev){if(ev.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(dx,[cC,Object,Object]));ss.initClass(ed,a,{add_enterKeyPressed:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_enterKeyPressed:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_escapeKeyPressed:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_escapeKeyPressed:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},get_text:function(){return this.$6},set_text:function(eu){if(ss.referenceEquals(this.$6,eu)){return}this.get_inputElement().val(eu).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(eu){var ev=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,ev)){this.$6=ev;this.raisePropertyChanged('text')}},$3:function(eu){if(this.$4){return}switch(eu.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){this.$2$1();eu.stopPropagation()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();eu.stopPropagation()}break}}}},et,[bW,ss.IDisposable]);ss.initClass(G,a,{add_clearButtonClicked:function(eu){this.$3$1=ss.delegateCombine(this.$3$1,eu)},remove_clearButtonClicked:function(eu){this.$3$1=ss.delegateRemove(this.$3$1,eu)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(eu,ev){this.$7()},$8:function(eu){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},ed,[bW,ss.IDisposable]);ss.initClass(H,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},eb,[ss.IDisposable,cw]);ss.initClass(I,a,{});ss.initClass(J,a,{$j:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},$k:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},$h:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},$i:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},$l:function(eu){this.$1$3=ss.delegateCombine(this.$1$3,eu)},$m:function(eu){this.$1$3=ss.delegateRemove(this.$1$3,eu)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(eu){this.$j(eu);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(eu)})));return this},onClick:function(eu){this.$h(eu);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(eu)})));return this},onRightClick:function(eu){this.$l(eu);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(eu)})));return this},setTarget:function(eu){this.$g=eu;eu.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eu.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tab.BrowserSupport.isTouch){eu.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eu.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{eu.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eu.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(eu){return eu+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(eu){this.$e=eu.pageX;this.$f=eu.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(eu)}},$1:function(eu){var ev=(ss.isValue(eu)?eu['originalEvent']:null);if(ss.isValue(ev)&&ss.isValue(ev.touches)&&ss.isValue(ev.touches[0])){return ev.touches[0]}return null},$7:function(eu){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eu.target)){eu.preventDefault()}else{return}}var ev=this.$1(eu);var ew=0;var ex=0;if(ss.isValue(ev)){ew=ss.coalesce(ev.pageX,0);ex=ss.coalesce(ev.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=ew;this.$f=ex;if(ss.isValue(this.$1$1)){this.$1$1(eu)}},$5:function(eu){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eu.target)){eu.preventDefault()}else{return}}this.$2(eu)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(eu,ev){var ew=ev;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eu)){ev.preventDefault()}else{return}}var ex=ew.touches[0].pageX;var ey=ew.touches[0].pageY;if(Math.abs(ex-this.$e)>10||Math.abs(ey-this.$f)>10){this.$8()}},$4:function(eu){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(eu.target)){eu.preventDefault()}else{return}}this.$8()},$2:function(eu){eu.stopPropagation();this.$8();if(eu.type==='contextmenu'){eu.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(eu)}}else{if(ss.isValue(this.$1$2)){this.$1$2(eu)}if(eu.type==='touchend'){I.preventGhostClick(this.$e,this.$f)}}}},null,[ss.IDisposable]);ss.initClass(K,a,{render:function(){var eu=$.extend(new Object,this.props);eu.onSelectionChanged=ss.mkdel(this,function(ey){this.onSelect(ey,this.props.onSelectionChanged)});var ev=React.createElement(dF,eu);var ew=new Object;ew.styleClass=this.props.styleClass;ew.isSelecting=this.state.isSelecting;ew.getDesiredHeight=dF.getDesiredHeight;ew.getMinimumWidth=dF.getMinimumWidth;ew.onSelectorToggled=ss.mkdel(this,this.$1);ew.onFocusLost=ss.mkdel(this,this.$0);ew.tabIndex=-1;ew.renderButton=ss.mkdel(this,function(){return React.createElement(ec,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var ex=React.createElement(dO,ew,ev);return ex},onSelect:function(eu,ev){var ew=new R;ew.isSelecting=false;this.setState(ew);if(!ss.staticEquals(ev,null)){ev(eu)}},$1:function(){if(!this.props.enabled){var eu=new R;eu.isSelecting=false;this.setState(eu)}else{var ev=new R;ev.isSelecting=!this.state.isSelecting;this.setState(ev)}},$0:function(){var eu=new R;eu.isSelecting=false;this.setState(eu)}},React.Component);ss.initClass(cW,a,{});ss.initClass(L,a,{},cW);ss.initClass(M,a,{get_iconClass:function(){return this.$2},get_name:function(){return this.$3},get_data:function(){return this.$0},get_description:function(){return this.$1},asMenuItem:function(){return cP.newItemWithIconAndDescription(this,this.get_name(),this.get_iconClass(),this.get_description())}});ss.initClass(N,a,{},cW);ss.initEnum(O,a,{standard:0,dropdown:1,unification:2});ss.initClass(P,a,{},Object);ss.initEnum(Q,a,{standard:0,autoFit:1});ss.initClass(R,a,{});ss.initClass(S,a,{},eb,[ss.IDisposable]);ss.initEnum(T,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(U,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(U.pressedClass)},$9:function(eu){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(U.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(eu){var ev=0;switch(eu.which){case 40:{ev=1;break}case 38:{ev=-1;break}default:{return}}eu.preventDefault();eu.stopPropagation();var ew=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(ew<0){return}ew+=ev;if(ew>=0&&ew<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[ew])}},$b:function(eu){if(ss.isInstanceOfType(eu,ba)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(eu)){var ev=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(ev);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(eu.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(eu.get_iconClass())){this.$c.domRoot.addClass(U.noIconClass)}this.$c.name.text(eu.get_name())},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(U.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){et.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var eu=dg.newView(cU).call(null,[this.$d.get_menu()]);var ev=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(ev);eu.addToDom(ev);this.$c.domRoot.css({width:eu.element.width()+'px'});eu.dispose();ev.remove()}}},ss.makeGenericType(v,[V]),[bW,ss.IDisposable,ss.makeGenericType(cy,[V])]);ss.initInterface(cf,a,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(V,a,{add_itemsChanged:function(eu){this.$3$1=ss.delegateCombine(this.$3$1,eu)},remove_itemsChanged:function(eu){this.$3$1=ss.delegateRemove(this.$3$1,eu)},add_selectedItemChanged:function(eu){this.$3$2=ss.delegateCombine(this.$3$2,eu)},remove_selectedItemChanged:function(eu){this.$3$2=ss.delegateRemove(this.$3$2,eu)},add_menuHidden:function(eu){this.$3$3=ss.delegateCombine(this.$3$3,eu)},remove_menuHidden:function(eu){this.$3$3=ss.delegateRemove(this.$3$3,eu)},add_enabledChanged:function(eu){this.$3$4=ss.delegateCombine(this.$3$4,eu)},remove_enabledChanged:function(eu){this.$3$4=ss.delegateRemove(this.$3$4,eu)},add_isSelectionInvalidChanged:function(eu){this.$3$5=ss.delegateCombine(this.$3$5,eu)},remove_isSelectionInvalidChanged:function(eu){this.$3$5=ss.delegateRemove(this.$3$5,eu)},get_hasTooltip:function(){return this.$i},set_hasTooltip:function(eu){this.$i=eu},get_theme:function(){return this.$s},set_theme:function(eu){this.$s=eu},get_menu:function(){if(ss.isNullOrUndefined(this.$f)){this.$5()}return this.$f},get_menuTheme:function(){return this.$m},set_menuTheme:function(eu){this.$m=eu},get_sizing:function(){return this.$q},set_sizing:function(eu){this.$q=eu},get_menuStyleClass:function(){return this.$l},set_menuStyleClass:function(eu){this.$l=eu},get_items:function(){return this.$k},get_selectedItem:function(){return this.$n},set_selectedItem:function(eu){if(ss.referenceEquals(this.$n,eu)&&!this.get_allowSetToSameValue()){return}this.$n=eu;this.$b();this.raiseActionEvent$1(M).call(this,this.$3$2,this.$n)},get_summary:function(){return this.$r},set_summary:function(eu){this.$r=eu},get_showSelectedItem:function(){return this.$p},set_showSelectedItem:function(eu){this.$p=eu},get_showDropdownIcon:function(){return this.$o},set_showDropdownIcon:function(eu){this.$o=eu},get_enabled:function(){return this.$g},set_enabled:function(eu){if(this.$g===eu){return}this.$g=eu;this.$b();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$j},set_isSelectionInvalid:function(eu){if(this.$j===eu){return}this.$j=eu;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$e},set_additionalMenuClass:function(eu){this.$e=eu},get_allowSetToSameValue:function(){return this.$3$6},set_allowSetToSameValue:function(eu){this.$3$6=eu},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$c:function(){var eu=this.get_items();for(var ev=0;ev<eu.length;ev++){var ew=eu[ev];if(!tab.MiscUtil.isNullOrEmpty$1(ew.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$7},set_dropdownStyleClass:function(eu){this.$3$7=eu},$d:function(){var eu='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){eu+=' disabled'}if(this.$c()){eu+=' '+this.$h}return eu},dispose:function(){if(ss.isValue(this.$f)){this.$f.dispose()}w.prototype.dispose.call(this);this.$f=null},setItems:function(eu){ss.clear(this.$k);var ev=ss.getEnumerator(eu);try{while(ev.moveNext()){var ew=ev.current();this.$k.push(ew)}}finally{ev.dispose()}this.$8();this.$b()},setItemsWithInitialSelection:function(eu,ev){ss.clear(this.$k);var ew=ss.getEnumerator(eu);try{while(ew.moveNext()){var ex=ew.current();this.$k.push(ex)}}finally{ew.dispose()}this.$n=ev;this.$8();this.$b()},addItem:function(eu){this.$k.push(eu);this.$8();this.$b()},clearItems:function(){ss.clear(this.$k);this.$8();this.set_selectedItem(null);this.$b()},$a:function(){return this.$k.length>0&&(this.$g||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$a()||!ss.isValue(this.$f)){return}this.$2();this.$f.set_menu(new cO(this.menuItems));this.$f.set_selectedItem(this.selectedMenuItem)},$5:function(){if(!this.$a()){return}this.$2();this.$f=cV.createForMenu(new cO(this.menuItems),ss.mkdel(this,this.$6),this.$3(),null,true);this.$f.set_selectedItem(this.selectedMenuItem);this.$f.set_focusedItem(this.selectedMenuItem);this.$f.add_hidden(ss.mkdel(this,this.$9))},comboClicked:function(eu){if(!this.$a()){return}this.$5();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_hidden(ss.mkdel(this,this.$9))})));var ev=dL.create(eu,false);ev.minWidth=tab.DoubleUtil.roundToInt(eu.outerWidth(false));ev.additionalMenuClass='tabComboBoxMenu';if(ss.isValue(this.$e)){ev.additionalMenuClass+=' '+this.$e}this.$f.show(ev)},$b:function(){if(this.generateProps){this.incrementProps()}},$2:function(){var eu=[];var ev=null;if(ss.isValue(this.$k)){for(var ew=0;ew<this.$k.length;ew++){var ex=this.$k[ew];if(this.$p||!ss.referenceEquals(ex,this.$n)){var ey=ex.asMenuItem();if(ss.referenceEquals(ex,this.$n)){ev=ey}eu.push(ey)}}}this.menuItems=eu;this.selectedMenuItem=ev},$3:function(){switch(this.$m){case 0:{return new N}case 1:{return new L(this.get_menuStyleClass())}case 2:{return new eq}default:{return new N}}},$9:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$8:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$6:function(eu){var ev=eu.data;this.set_selectedItem(ev)},$7:function(eu){this.set_selectedItem(eu.mapSelected(M).call(eu,ss.mkdel(this,function(ev){return this.get_items()[ev]}))[0])},$4:function(eu){return K.createCustomIconElements(eu.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var eu=new P;eu.items=_.map(this.get_items(),ss.mkdel(this,function(ev){var ew=new dG;ew.label=ev.get_name();ew.getCustomContentBefore=ss.mkdel(this,function(){return this.$4(ev)});ew.tooltip=(!this.get_props().hasTooltip?'':null);return ew}));eu.selection=dM.buildSingleSelectGroupSelection$1(M).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(ev){return ss.equals(ev,this.get_selectedItem())}));eu.selectedText=this.get_selectedText();eu.selectedIconClass=this.get_selectedIconClass();eu.onSelectionChanged=ss.mkdel(this,this.$7);eu.hasTooltip=this.get_hasTooltip();eu.hasAnyIcons=this.$c();eu.buttonStyleClass=this.$d();eu.styleClass=this.get_dropdownStyleClass();eu.enabled=this.get_enabled();return eu}},ss.makeGenericType(u,[P]),[ss.IDisposable,cz,ss.makeGenericType(cm,[P]),cf]);ss.initClass(W,a,{add_inputTextChanged:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_inputTextChanged:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_listItemClicked:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_listItemClicked:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_listItemMouseEnter:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_listItemMouseEnter:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},add_listItemMouseMove:function(eu){this.$2$4=ss.delegateCombine(this.$2$4,eu)},remove_listItemMouseMove:function(eu){this.$2$4=ss.delegateRemove(this.$2$4,eu)},add_textInputElementClicked:function(eu){this.$2$5=ss.delegateCombine(this.$2$5,eu)},remove_textInputElementClicked:function(eu){this.$2$5=ss.delegateRemove(this.$2$5,eu)},add_textInputClearButtonClicked:function(eu){this.$2$6=ss.delegateCombine(this.$2$6,eu)},remove_textInputClearButtonClicked:function(eu){this.$2$6=ss.delegateRemove(this.$2$6,eu)},add_textInputSearchButtonClicked:function(eu){this.$2$7=ss.delegateCombine(this.$2$7,eu)},remove_textInputSearchButtonClicked:function(eu){this.$2$7=ss.delegateRemove(this.$2$7,eu)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(eu){this.$2$8=eu},setPlaceholderText:function(eu){this.get_textInputView().get_inputElement().attr('placeholder',eu)},showList:function(eu,ev,ew){this.removeList();if(eu.length>0){this.set_listViewModel(new dp(eu,ev,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ey){this.$2$3(ey)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ey){this.$2$4(ey)}))}var ex=new dn(this.get_listViewModel());ex.addClass('tabCompositeSearchWidgetList');ex.addToDom(ew||this.get_domRoot())}},showListInsideUberPopup:function(eu,ev,ew,ex,ey){if(eu.length<=0){this.removeList();return}this.set_listViewModel(new dp(eu,ev,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(eC){this.$2$3(eC)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(eC){this.$2$4(eC)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=en.createForContent$1(this.get_listViewModel(),ew,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var ez=(ss.isValue(ex)?['tabCompositeSearchWidgetList',ex]:['tabCompositeSearchWidgetList']);var eA=this.$8;var eB=new ej;eB.additionalClassNames=ez;eB.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];eB.horizontalAttach=1;eB.limitPopupHeight=true;eB.maxPopupHeight=ey;eB.popupMode=1;eB.theme=1;eB.focusOnShown=false;eA.options=eB;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(eu,ev){var ew=eu.children('.tab-list').eq(0);var ex=ew.prop('scrollHeight');if(ex<1){ev.show();ex=ew.prop('scrollHeight');ev.hide()}var ey=this.$8.get_relativeElement().outerWidth();ew.css('min-width',ey+'px').css('max-width',Math.max(ey,400)+'px');var ez=this.$8.options;if(ss.isValue(ez.maxPopupHeight)&&ex>ss.unbox(ez.maxPopupHeight)){ew.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(eu){this.$7=true;this.get_textInputView().set_text(eu);this.$7=false},$3:function(eu,ev){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(eu){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},et,[bW,ss.IDisposable]);ss.initClass(X,a,{});ss.initInterface(bX,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(Y,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},eb,[ss.IDisposable,bX]);ss.initClass(Z,a,{render:function(){var eu='tab-custom-button';var ev={role:'button'};if(!this.props.disabled){ev.onKeyDown=ss.mkdel(this,this.$1);ev.tabIndex=0}else{eu+=' disabled'}ev.className=eu;return bw.div(this.$2,ev,[this.props.buttonContent()])},$1:function(eu){switch(eu.which){case 13:case 32:{this.$0();break}default:{return}}eu.stopPropagation();eu.preventDefault()},$0:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClick,null)){this.props.handleClick()}}},ds);ss.initClass(ba,a,{get_domRoot:function(){return this.$4},asMenuItem:function(){return be.newCustomMenuItem(this.get_domRoot())}},M);ss.initClass(bb,a,{setCursor:function(eu){eu.css('cursor',this.$0)}});ss.initClass(cs,a,{},eb,[ss.IDisposable]);ss.initClass(bc,a,{},cs,[ss.IDisposable]);ss.initClass(dz,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(v,[dA]),[bW,ss.IDisposable,ss.makeGenericType(cy,[dA])]);ss.initClass(ct,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(J.targetAndClick(this.get_verticalScrollbar(),function(eu){eu.stopPropagation()}));this.disposables.add$1(J.targetAndClick(this.get_horizontalScrollbar(),function(eu){eu.stopPropagation()}));this.get_dom().domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),function(eu){eu.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){et.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var eu=ss.mkdel(this,function(ew){this.sendEventToScroller(ew)});var ev=ss.mkdel(this,function(ew){var ex=ew.toElement;if(ss.isNullOrUndefined(ex)||ex.nodeName==='HTML'){if('createEvent'in document){var ey=document.createEvent('MouseEvent');ey.initEvent('mouseup',false,false);this.sendEventToScroller(ey)}}});document.addEventListener('mousemove',eu,true);document.addEventListener('mouseup',eu,true);document.addEventListener('mouseout',ev,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',eu,true);document.removeEventListener('mouseup',eu,true);document.removeEventListener('mouseout',ev,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(eu){this.scroller.handleEvent(eu);for(var ev=0;ev<this.scroller.indicators.length;ev++){var ew=this.scroller.indicators[ev];if(!ss.referenceEquals(eu.type,'mousemove'.toString())||ew.moved){ew.handleEvent(eu)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(eu,ev,ew,ex){this.scroller.scrollTo(-eu,-ev,ew,ex)},scrollToElement:function(eu,ev,ew,ex){this.scroller.scrollToElement(eu,ev,ew,ex)}},dz,[bW,ss.IDisposable,ss.makeGenericType(cy,[dA])]);ss.initClass(bd,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var eu=ss.mkdel(this,function(ev){this.sendEventToScroller(ev)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(tab.BrowserSupport.get_mouseWheelEvent(),eu,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(tab.BrowserSupport.get_mouseWheelEvent(),eu,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(bd.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(bd.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},ct,[bW,ss.IDisposable,ss.makeGenericType(cy,[dA])]);ss.initClass(cP,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(be,a,{get_domRoot:function(){return this.$0},set_domRoot:function(eu){this.$0=eu}},cP);ss.initClass(bf,a,{},cs,[ss.IDisposable]);ss.initClass(bg,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},ct,[bW,ss.IDisposable,ss.makeGenericType(cy,[dA])]);ss.initInterface(ce,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(bh,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(eu){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(eu)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(eu,this):this)},dragExit:function(eu){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(eu)}},acceptDrop:function(eu){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(eu)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(eu):$.Deferred().resolve(false))},getDropTarget:function(eu){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(eu,this):this)},getDropCursor:function(eu){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(eu):bb.noOp)}},null,[ce]);ss.initClass(bi,a,{add_closing:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_closing:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_closed:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_closed:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_resizeMove:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_resizeMove:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},add_resizeEnd:function(eu){this.$2$4=ss.delegateCombine(this.$2$4,eu)},remove_resizeEnd:function(eu){this.$2$4=ss.delegateRemove(this.$2$4,eu)},get_body:function(){return this.$e},set_body:function(eu){if(ss.referenceEquals(this.$e,eu)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=eu;this.element.find('.tab-dialogBodyContainer').html('').append(eu);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(eu){if(this.get_maximized()){return}if(ss.isNullOrUndefined(eu)){this.positionInWindow()}else{this.$m=eu.x;this.$n=eu.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(eu){if(eu!==this.$h){this.$h=eu;this.$g.toggleClass('active',eu);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(eu){if(this.get_maximized()){return}if(eu){if(ss.isNullOrUndefined(this.$o)){this.$o=new dy(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(eu){this.element.css('z-index',eu.toString())},get_maximized:function(){return this.$j},set_maximized:function(eu){this.$j=eu;this.$g.toggleClass('maximized',eu)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(eu){this.$2$5=eu},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(eu){this.$2$6=eu},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(eu){this.get_titleElement().text(eu);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(eu){this.$r=eu},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(eu){if(eu){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(eu){if(eu&&!this.$t){this.$2()}else if(!eu){this.$9()}this.$t=eu},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(eu){this.$v=eu},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(eu){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=eu(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(eu){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(eu,null)){eu()}return}var ev=new ss.CancelEventArgs;this.onClosing(ev);if(ev.cancel){return}tab.DomUtil.blur();this.$d=eu;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(eu){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,eu)}},onClosed:function(eu){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,eu)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(eu,ev){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(eu)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],eu.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],eu.target)){this.moveToTop();this.$k=true}},$5:function(eu,ev){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),eu.target)||ss.isNullOrUndefined(eu)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){di.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){di.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bi.$9,this)){bi.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();et.prototype.dispose.call(this);if(ss.referenceEquals(bi.$9,this)){bi.$9=null}},setInitialFocus:function(){if(this.$i){var eu=this.element.find('.tab-dialogBodyContainer :tabbable');if(eu.length>0){eu.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dN.getViewport(ss.mkdel(this,function(eu){if(ss.isNullOrUndefined(eu)||ss.isNullOrUndefined(eu.get_dimensions())){return}var ev=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var ew=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(ev>eu.get_dimensions().w){var ex=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(eu.get_dimensions().w-(ev-ex));ev=eu.get_dimensions().w}if(ew>eu.get_dimensions().h){var ey=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(eu.get_dimensions().h-(ew-ey));ew=eu.get_dimensions().h}}var ez=null;if(this.$m+ev>eu.get_dimensions().w){ez=Math.max(0,eu.get_dimensions().w-ev)}var eA=null;if(this.$n+ew>eu.get_dimensions().h){eA=Math.max(0,eu.get_dimensions().h-ew)}if(ss.isValue(ez)||ss.isValue(eA)){var eB=ez;if(ss.isNullOrUndefined(eB)){eB=this.$m}ez=eB;var eC=eA;if(ss.isNullOrUndefined(eC)){eC=this.$n}eA=eC;this.set_position({x:ss.unbox(ez),y:ss.unbox(eA)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(eu,ev){if(this.get_maximized()){return}dN.getViewport(ss.mkdel(this,function(ew){var ex=0;var ey=0;var ez=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+eu;var eA=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+ev;var eB=tab.DoubleUtil.roundToInt($(window).width());var eC=tab.DoubleUtil.roundToInt($(window).height());var eD=0;var eE=0;if(ss.isValue(ew.get_dimensions())){eB=ew.get_dimensions().w;eC=ew.get_dimensions().h;var eF=new tab.WindowHelper(window.self);eD=ew.get_dimensions().l-eF.get_pageXOffset();eE=ew.get_dimensions().t-eF.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var eG=Math.min(ss.unbox(this.get_startingPositionX())+ez,eB);ex=Math.max(0,eG-ez)}else{ex=Math.max(0,Math.round((eB-ez)/2)+eD)}if(ss.isValue(this.get_startingPositionY())){var eH=Math.min(ss.unbox(this.get_startingPositionY())+eA,eC);ey=Math.max(0,eH-eA)}else{ey=Math.max(0,Math.round((eC-eA)/2)+eE)}this.set_position({x:ex,y:ey})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bi.$9)){bi.$9=this}else if(!ss.referenceEquals(bi.$9,this)){bi.$9.set_isActive(false);bi.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(eu){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(eu){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(eu){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(eu){if(eu.which===9){this.$6(eu);return}},$6:function(eu){var ev=this.element.find(':tabbable');var ew=ev.filter(':first');var ex=ev.filter(':last');if(ss.referenceEquals(eu.target,ew[0])&&eu.shiftKey){ex.focusDelayed(1);bC.stopEvent(eu)}else if(ss.referenceEquals(eu.target,ex[0])&&!eu.shiftKey){ew.focusDelayed(1);bC.stopEvent(eu)}}},et,[bW,ss.IDisposable]);ss.initClass(bI,a,{$1:function(){return'tab-'+this.type},update:function(eu){if(ss.isValue(eu)){$.extend(this.$2,eu);$(this.$2.domElem).data(this.$1(),this)}},start:function(eu){},move:function(eu){},end:function(eu){},cancel:function(){},$0:function(eu,ev,ew){if(by.isHandling(this.$2,eu)){var ex=ev;$.extend(ex,ew);ex.gestureName=this.type;ex.$0=eu;var ey=dU.$0(this.$2,eu);ey(ex)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bj,a,{start:function(eu){var ev=eu.touches[0];if(eu.touches.length!==this.numTouches){this.reset();return}var ew=this.$c(eu);if(!this.$e(bK.fireFirstTouch,eu)){return}this.$0('firstTouch',eu,ew);this.$i=ev.pageX;this.$j=ev.pageY;this.$g=true;this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(!ss.isValue(this.$f)){this.$h=(new Date).getTime();this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){this.$6(eu,ew)}),500);this.pressTimer=window.setTimeout(ss.mkdel(this,function(){this.$7(eu,ew)}),750)}},move:function(eu){if(this.$d(eu)){this.reset()}if(eu.type==='touchmove'){this.$0('touchMove',eu,this.$c(eu))}},end:function(eu){var ev=this.$c(eu);if(this.isActivePress){this.$8(eu,ev)}this.$3();if(this.$g){if(ss.isValue(this.$f)&&ss.unbox(this.$f)){this.$4(eu,ev)}else{this.$a(eu,ev)}}if(eu.type==='contextmenu'){if(!this.$e(bK.fireRightClick,eu)){return}this.$9(eu,ev)}if(eu.touches.length===0){if(!this.$e(bK.fireLastTouch,eu)){return}this.$0('lastTouch',eu,ev)}},cancel:function(){this.reset()},reset:function(){this.$3();this.$g=false;this.$f=null;this.isPotentialPress=false;this.isActivePress=false;this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer)},$5:function(eu,ev,ew,ex){this.$0(eu,ev,ew);if(ss.isValue(ex)&&ex['reset']===true){this.reset()}},$4:function(eu,ev){this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer);this.$5('doubleTap',eu,ev,ss.mkdict(['reset',true]))},$7:function(eu,ev){this.isPotentialPress=false;if(!this.$e(bK.firePress,eu)){return}this.$5('press',eu,ev,ss.mkdict(['reset',true]));this.isActivePress=true},$6:function(eu,ev){this.isPotentialPress=true;this.$5('potentialPress',eu,ev)},$8:function(eu,ev){this.$5('pressEnd',eu,ev);this.isActivePress=false},$3:function(){this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer);this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(this.isPotentialPress){this.$5('cancelPotentialPress',{},null)}},$a:function(eu,ev){this.$f=true;if(!this.$e(bK.fireTap,eu)){return}if(by.isHandling(this.$2,'doubleTap')){this.doubleTapTimer=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',eu,ev)}),390-this.$b())}else{this.reset()}this.$0('tap',eu,ev)},$9:function(eu,ev){this.$0('rightClick',eu,ev)},$e:function(eu,ev){var ew=false;var ex=ss.mkdel(this,function(ey){this.reset();if(ey){bC.stopEvent(ev)}ew=true});eu(ev,ex);return!ew},$b:function(){var eu=(new Date).getTime()-this.$h;return eu},$d:function(eu){var ev=eu.changedTouches[0];return Math.abs(ev.pageX-this.$i)>this.slop||Math.abs(ev.pageY-this.$j)>this.slop},$c:function(eu){var ev={};ev.pageX=eu.changedTouches[0].pageX;ev.pageY=eu.changedTouches[0].pageY;ev.clientX=eu.changedTouches[0].clientX;ev.clientY=eu.changedTouches[0].clientY;ev.startX=eu.changedTouches[0].pageX;ev.startY=eu.changedTouches[0].pageY;return ev}},bI,[ss.IDisposable]);ss.initClass(bk,a,{asMenuItem:function(){return cP.newDivider()}},M);ss.initClass(bl,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bJ;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}bi.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bi.prototype.bindToEvents.call(this);this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bC.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bi.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bi.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bi.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(eu){this.positionInWindow()},onDocumentKeyDown:function(eu){if(eu.which===27){this.close(null);eu.preventDefault();return}}},bi,[bW,ss.IDisposable]);ss.initEnum(bm,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initInterface(ck,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bn,a,{start:function(eu){var ev=eu.touches[0];if(ss.isValue(eu.target)&&eu.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){eu.preventDefault()}if(eu.touches.length!==this.numTouches){if(this.$9){this.$0('dragEnd',eu,this.$a)}this.$6();this.$8=true;return}if(ss.isValue(this.$b)&&!tab.BrowserSupport.isTouch){this.end(eu)}this.$8=false;this.$b=this.$3(ev);this.$a=this.$b;this.isPotentialPress=false;if(by.isHandling(this.$2,'potentialPress')){this.$7()}},move:function(eu){if(this.$8){return}if(this.isPotentialPress&&eu.touches.length===this.numTouches){eu.preventDefault()}this.$a=this.$4(eu);if(this.$9){this.$0('dragMove',eu,this.$a)}else if(this.$5(eu)){this.$9=true;this.$0('dragStart',eu,this.$a);this.$0('dragMove',eu,this.$a);if(ss.isValue(this.$2.dragEnd)){cY.setCapture(document.body,this,false)}}},end:function(eu){var ev;if(!this.$9){var ew=eu.touches.length===this.numTouches&&ss.isValue(eu.touches[0].identifier)&&this.$5(eu);if(!ew){this.$6();return}this.$b=this.$3(eu.touches[0]);this.$a=this.$b;ev=this.$4(eu);this.$8=false;this.$9=true;this.$0('dragStart',eu,ev);return}cY.releaseCapture();ev=this.$4(eu);this.$6();if(by.isHandling(this.$2,'dragEnd')){var ex=de.create(eu.originalEvent,null,null);$.extend(ex,this.$a);var ey=function(){bo.cancelDrag(null)};bK.fireDragEnd(ex,ey)}this.$0('dragEnd',eu,ev)},cancel:function(){this.$8=true},$3:function(eu){return{pageX:eu.pageX,pageY:eu.pageY}},$4:function(eu){var ev=eu.changedTouches[0];if(ss.isNullOrUndefined(this.$b)){this.$b=this.$3(ev)}if(ss.isNullOrUndefined(this.$a)){this.$a=this.$b}var ew={clientX:ev.clientX,clientY:ev.clientY};ew.pageX=ev.pageX;ew.pageY=ev.pageY;ew.startX=this.$b.pageX;ew.startY=this.$b.pageY;ew.deltaX=ew.pageX-this.$b.pageX;ew.deltaY=ew.pageY-this.$b.pageY;ew.deltaXSinceLast=ew.pageX-this.$a.pageX;ew.deltaYSinceLast=ew.pageY-this.$a.pageY;ew.scale=1;return ew},$5:function(eu){var ev=eu.touches[0];if(ss.isNullOrUndefined(this.$b)){return false}return Math.abs(ev.pageX-this.$b.pageX)>this.slop||Math.abs(ev.pageY-this.$b.pageY)>this.slop},$6:function(){this.$b=null;this.$9=false;this.isPotentialPress=false;this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer)},$7:function(){this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){if(!this.$9){this.isPotentialPress=true}}),500)},handleCapturedMouseMove:function(eu){var ev=eu['offsetX'];var ew=eu['offsetY'];if(ev<0||ev>document.body.offsetWidth||ew<0||ew>document.body.offsetHeight){var ex=de.create(eu,this.$2.domElem,null);this.move(ex)}},handleCapturedMouseComplete:function(eu){var ev=document.createEvent('MouseEvents');ev.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$a.pageX,this.$a.pageY,this.$a.clientX,this.$a.clientY,eu.ctrlKey,eu.altKey,eu.shiftKey,eu.metaKey,null,null);document.body.dispatchEvent(ev)}},bI,[ss.IDisposable,ck]);ss.initClass(bo,a,{});ss.initClass(bp,a,{add_shiftStateChanged:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_shiftStateChanged:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(eu){if(this.$1!==eu){this.$1=eu;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return bb.noOp},moveTo:function(eu){},endDragAt:function(eu){},cancelDrag:function(){},payloadEquals:function(eu){if(ss.referenceEquals(this.draggedObject,eu)){return true}if($.isArray(this.draggedObject)){var ev=this.draggedObject;if(ev.length===1&&ss.referenceEquals(ev[0],eu)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bJ,a,{add_click:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_click:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(eu){this.element.css('z-index',eu.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(eu){this.element.toggleClass('clear-glass',!eu);this.element.toggleClass('opaque-glass',eu)},set_preventWebPageScroll:function(eu){if(eu){this.element.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ev){ev.preventDefault()})}else{this.element.off(tab.BrowserSupport.get_mouseWheelEvent(),function(ev){ev.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(eu){this.element.css('background-color',eu)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}et.prototype.dispose.call(this)},handleClick:function(eu){if(ss.isValue(this.$2$1)){this.$2$1()}}},et,[bW,ss.IDisposable]);ss.initClass(bq,a,{dispose:function(){bo.unregisterDragGlass(this);bJ.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bJ,[bW,ss.IDisposable]);ss.initClass(br,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(eu){eu.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,bW,ss.makeGenericType(cy,[cz])]);ss.initClass(bs,a,{componentWillReceiveProps:function(eu){if(eu.resetSelector){this.setState({isSelecting:false})}},render:function(){var eu=new Object;eu.styleClass=this.props.styleClass;eu.isSelecting=this.state.isSelecting;eu.getDesiredHeight=this.props.getDesiredHeight;eu.getMinimumWidth=this.props.getMinimumWidth;eu.children=this.props.children;eu.renderButton=this.props.renderButton;eu.tabIndex=this.props.tabIndex;eu.onSelectorToggled=ss.mkdel(this,this.$1);eu.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dO,eu)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(bt,a,{handleWidgetPropertyChanged:function(eu,ev){},updateWidgetState:function(eu){this.get_widget().dispose();this.set_widget(bt.$0(eu));var ev=$(ReactDOM.findDOMNode(this));if(ss.isValue(ev)){ev.append(this.get_widget().element)}}},ss.makeGenericType(dx,[bu,Object,Object]));ss.initClass(bu,a,{add_hoverStateChanged:function(eu){this.$3$1=ss.delegateCombine(this.$3$1,eu)},remove_hoverStateChanged:function(eu){this.$3$1=ss.delegateRemove(this.$3$1,eu)},add_editing:function(eu){this.$3$2=ss.delegateCombine(this.$3$2,eu)},remove_editing:function(eu){this.$3$2=ss.delegateRemove(this.$3$2,eu)},add_committed:function(eu){this.$3$3=ss.delegateCombine(this.$3$3,eu)},remove_committed:function(eu){this.$3$3=ss.delegateRemove(this.$3$3,eu)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(eu){this.$3$4=eu},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(eu){if(ss.isValue(this.$3$1)){this.$3$1(eu)}},updateTextElement:function(eu){this.$9.$1().text(eu);var ev=this.$9.$1().get(0);ev.title=(this.showTooltip?eu:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){this.get_inputElement().hide();this.get_textElement().show();this.set_isEditing(false);this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}},$7:function(){var eu=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(eu);var ev=this.element.children('div');var ew=tab.DoubleUtil.roundToInt(ev.height());this.get_textElement().css('height',ew+'px');this.get_textElement().css('line-height',ew+'px');this.get_inputElement().css('height',ew+'px');this.get_inputElement().css('line-height',ew+'px')},onAddedToDom:function(){this.$7();et.prototype.onAddedToDom.call(this)}},ed,[bW,ss.IDisposable]);ss.initClass(bv,a,{shouldComponentUpdate:function(eu,ev){return!ss.staticEquals(this.props,eu)||!ss.staticEquals(this.state,ev)},render:function(){return React.DOM.div({className:'tab-table-body tab-table-empty-body'},this.props.emptyChild)}},React.Component);ss.initClass(bw,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var eu=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,eu)||bw.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(eu,this.props.spec);this.$1=eu;this.$3=this.props.spec}}}},React.Component);ss.initClass(bx,a,{});ss.initClass(by,a,{});ss.initEnum(bz,a,{start:0,move:1,end:2,out:3,scroll:4,cancel:5,unSupported:6});ss.initClass(bA,a,{suppressHover:function(){this.$3.suppressHover()},unsuppressHover:function(){this.$3.unsuppressHover()},cancelHover:function(){this.$3.cancel()},handleEvent:function(eu,ev){if(this.$5&&bA.$0()!=='left'){this.$5=false}if(eu.get_isScrollEvent()){this.$5=false}else if(eu.get_isOutEvent()){if(by.isUsingHover(ev)){this.$3.out(eu)}}else if(eu.get_isStartEvent()){this.handleStartEvent(eu,ev)}else if(eu.get_isMoveEvent()){this.handleMoveEvent(eu,ev)}else{this.handleEndCancelEvent(eu,ev)}},handleStartEvent:function(eu,ev){this.$2=false;this.$4=cZ.getMouseButtonEnum(eu.originalEvent);if(eu.get_isMouseEvent()){if(!eu.get_isLeftMouseEvent()){return}this.$5=true;bA.$1(this.$4)}this.handleStart(eu,by.isUsingHover(ev))},handleMoveEvent:function(eu,ev){if(by.isUsingHover(ev)){this.$3.move(eu)}if(eu.get_isMouseEvent()){if(this.$4!=='left'||!this.$5){return}}this.$0.move(eu);this.$1.move(eu);if(ss.isValue(this.$6)){this.$6.move(eu)}},handleEndCancelEvent:function(eu,ev){bA.$1('none');if(by.isUsingHover(ev)){this.$3.end(eu)}if(ss.isValue(this.$6)){this.$6.end(eu)}this.$1.end(eu);if(eu.get_isMouseEvent()){this.$5=false;if(eu.get_isRightClickEvent()||this.$4==='right'){this.$2=true}if(tab.BrowserSupport.get_isMac()&&this.$2&&eu.type==='mouseup'||this.$2&&!eu.get_isRightClickEvent()){return}}this.$0.end(eu)},cancelAllGestures:function(){if(ss.isValue(this.$1)){this.$1.cancel()}if(ss.isValue(this.$0)){this.$0.cancel()}if(ss.isValue(this.$6)){this.$6.cancel()}if(ss.isValue(this.$3)){this.$3.cancel()}},updateAllGestures:function(eu){if(ss.isValue(this.$1)){this.$1.update(eu)}if(ss.isValue(this.$0)){this.$0.update(eu)}if(ss.isValue(this.$6)){this.$6.update(eu)}if(ss.isValue(this.$3)){this.$3.update(eu)}},setupPressDrag:function(eu){var ev=by.usingPressDrag(eu);if(!ev){return}var ew=ss.mkdel(this,function(ez){if(by.isHandling(eu,'press')){var eA=dU.$0(eu,'press');eA(ez)}var eB={};by.setHandler(eB,'dragStart',dU.$0(eu,'pressDragStart'));by.setHandler(eB,'dragMove',dU.$0(eu,'pressDragMove'));by.setHandler(eB,'dragEnd',dU.$0(eu,'pressDragEnd'));by.setHandler(eB,'pinchStart',dU.$0(eu,'doublePressDragStart'));by.setHandler(eB,'pinchMove',dU.$0(eu,'doublePressDragMove'));by.setHandler(eB,'pinchEnd',dU.$0(eu,'doublePressDragEnd'));this.$1.update(eB);if(ss.isValue(this.$6)){this.$6.update(eB)}});var ex=ss.mkdel(this,function(ez){if(by.isHandling(eu,'lastTouch')){var eA=dU.$0(eu,'lastTouch');eA(ez)}this.$1.update(eu);if(ss.isValue(this.$6)){this.$6.update(eu)}});var ey={};by.setHandler(ey,'press',ew);by.setHandler(ey,'lastTouch',ex);this.$0.update(ey)},handleStart:function(eu,ev){if(ev){this.$3.start(eu)}this.$0.start(eu);this.$1.start(eu);if(ss.isValue(this.$6)){this.$6.start(eu)}},dispose:function(){if(ss.isValue(this.$0)){this.$0.dispose()}if(ss.isValue(this.$1)){this.$1.dispose()}if(ss.isValue(this.$3)){this.$3.dispose()}if(ss.isValue(this.$6)){this.$6.dispose()}}},null,[ss.IDisposable]);ss.initEnum(bB,a,{mouse:1,touch:2});ss.initClass(bC,a,{});ss.initClass(bM,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(eu){if(this.groupSize>0){this.allSelected=eu;if(eu===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(eu){this.$1$1=eu},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(eu){return function(ev){return this.mapSelected$1(eu).call(this,ev,true)}},mapSelected$1:function(eu){return function(ev,ew){var ex;if(this.get_theAllItemIsSelected()&&ew){ex=[];var ey=this.groupSize;for(var ez=0;ez<ey;++ez){ex.push(ez)}}else{ex=_.map(this.get_selectedIndexes(),function(eA,eB){return eB}).sort()}return _.map(ex,function(eA){return ev(eA)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(dc,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(eu){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ev=0;ev<this.groupSize;++ev){if(ev!==eu){this.get_selectedIndexes()[ev]=true}}}else if(this.get_selectedIndexes()[eu]){delete this.get_selectedIndexes()[eu]}else{this.get_selectedIndexes()[eu]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var eu=new dc(this.groupSize);eu.allSelected=this.allSelected;eu.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eu},isSelected:function(eu){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eu)}},bM);ss.initClass(bD,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(eu){return function(ev){return this.mapSelected$1(eu).call(this,ev,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(eu){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[eu]=true}else if(this.get_selectedIndexes()[eu]){delete this.get_selectedIndexes()[eu];this.validateAllSelectedState()}else{this.get_selectedIndexes()[eu]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var eu=0;eu<this.groupSize;++eu){this.get_selectedIndexes()[eu]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var eu=new bD(this.groupSize);eu.allSelected=this.allSelected;eu.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eu},isSelected:function(eu){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eu)}},dc);ss.initClass(dM,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(eu){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[eu]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[eu]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var eu=new dM(this.groupSize);eu.allSelected=this.allSelected;eu.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eu},isSelected:function(eu){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),eu)},selectNext:function(eu){var ev=0;var ew=ev;if(this.get_selectedCount()===1){ev=this.mapSelected(ss.Int32).call(this,function(ex){return ex-0})[0];ew=ev+eu}if(ew>=this.groupSize){if(ev===this.groupSize-1){ew=0}else{ew=this.groupSize-1}}this.$0(ew)},selectPrevious:function(eu){var ev=this.groupSize-1;var ew=ev;if(this.get_selectedCount()===1){ev=this.mapSelected(ss.Int32).call(this,function(ex){return ex-0})[0];ew=ev-eu}if(ew<0){if(ev===0){ew=this.groupSize-1}else{ew=0}}this.$0(ew)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(eu){eu=Math.max(0,eu);eu=Math.min(this.groupSize-1,eu);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[eu]=true}}},bM);ss.initClass(bE,a,{mapSelected:function(eu){return function(ev){return this.mapSelected$1(eu).call(this,ev,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var eu=new bE(this.groupSize);eu.allSelected=this.allSelected;eu.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return eu}},dM);ss.initClass(bF,a,{render:function(){return React.DOM.span({title:this.props.fixedValue},this.props.fixedValue)}},ss.makeGenericType(x,[Object]));ss.initClass(bG,a,{});ss.initClass(bH,a,{render:function(){var eu=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');if(this.props.isDisabled){eu=eu+' disabled'}return React.DOM.div({className:'tab-GenericDropdownButton '+eu},React.DOM.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),React.DOM.div({className:'tab-DownArrowButton'},React.DOM.div({className:'arrow down'})))}},ds);ss.initClass(bK,a,{});ss.initClass(bL,a,{render:function(){var eu=new dD;eu.customStyle={top:this.props.marginTop};eu.extraCssClass=this.props.rootCssClass;eu.scrollX=true;eu.scrollY=true;eu.onScroll=ss.mkdel(this,function(ev){this.props.onScroll(-ev.x,-ev.y)});eu.onScrollStop=ss.mkdel(this,function(ev,ew){this.props.onScroll(-ev.x,-ev.y)});eu.startingY=this.state.scrollTop;return dC.createScroller(eu,[this.props.children])},componentDidMount:function(){this.props.onRefUpdated(this)},componentWillUnmount:function(){},getScrollbarWidth:function(){return 9},setScrollPosition:function(eu,ev){this.setState({scrollTop:ev})}},React.Component,[Object]);ss.initClass(bN,a,{componentWillMount:function(){this.setState(this.$1)},render:function(){var eu=this.props.col;var ev=eu.sortable;var ew=eu.resizable;var ex=[];var ey='';ex.push('tab-table-hcell');if(ev){ex.push('tab-table-hcell-sortable')}if(this.props.sorted){var ez=(this.props.sortAscending?'tab-table-hcell-sort-asc':'tab-table-hcell-sort-desc');ex.push(ez);ey=ez+'-icon'}if(ew){ex.push('tab-table-hcell-resizable')}var eA={className:ex.join(' ')};if(ss.isValue(eu.tooltip)){eA.title=eu.tooltip}var eB=React.DOM.span({className:'tab-table-hcell-text'},eu.text);var eC={className:'tab-table-hdivider tb-disable-selection'};var eD={tap:ss.mkdel(this,function(eE){if(ev&&!ss.staticEquals(this.props.onHeaderClicked,null)){this.props.onHeaderClicked(eu.dataKey,eu.defaultSortDirection)}})};return React.DOM.span({className:'tab-table-hcol',style:{width:this.props.cssWidth}},React.DOM.div({className:ey}),bw.div(eD,{},[React.DOM.div(eA,eB)]),(!eu.resizable?null:React.DOM.div(eC)))},componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var eu=this.$0();this.props.reportWidth(this.props.col.name,eu)},$0:function(){var eu=ReactDOM.findDOMNode(this);var ev=eu.getBoundingClientRect();return Math.ceil(ev.right-ev.left)}},ds);ss.initClass(bO,a,{componentWillMount:function(){this.$0={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$0)}},handleReportHeaderWidth:function(eu,ev){this.$0[eu]=Math.max(ev,(ss.keyExists(this.$0,eu)?this.$0[eu]:0))},render:function(){var eu=ss.arrayClone(this.props.cols);var ev=this.props.colWidths;var ew=this.props.onColumnResize;var ex=this.props.onHeaderClicked;var ey=_.map(eu,ss.mkdel(this,function(ez){return bN.createHeaderColumn({key:ez.name,col:ez,sorted:ss.referenceEquals(this.props.sortKey,ez.dataKey),sortAscending:this.props.sortAscending,reportWidth:(ss.isNullOrUndefined(ez.preferredWidth)?this.$1:null),cssWidth:(ss.isNullOrUndefined(ev)?'auto':(ev.widths[ez.name]+'px')),onColumnResize:ew,onHeaderClicked:ex})}));return React.DOM.div({className:'tab-table-hrow'},React.DOM.span({className:'tab-table-hcols'},ey))}},ds);ss.initClass(bP,a,{render:function(){var eu=React.DOM.input({type:'range',value:this.state.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$2),onChange:ss.mkdel(this,this.$2),onMouseUp:ss.mkdel(this,this.$3),onClick:ss.mkdel(this,this.$1),ref:ss.mkdel(this,this.$a),key:'sliderInput'});var ev={type:'text',value:(this.state.emptyTextBox?'':this.state.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$5),onChange:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6),onBlur:ss.mkdel(this,this.$4),ref:ss.mkdel(this,this.$9),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){ev.tabIndex=ss.unbox(this.props.tabIndex)}var ew=React.DOM.input(ev);var ex=[];ex.push(ew);if(this.props.showPercentageSign){ex.push(React.DOM.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}return React.DOM.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},React.DOM.div({className:'unification-slider-control tabHorizontalSliderContainer'},eu),ex)},$7:function(eu){if(_.isNaN(eu)||eu<this.props.minValue){return this.props.minValue}else if(eu>this.props.maxValue){return this.props.maxValue}return eu},$8:function(eu){if(this.props.disabled){return}this.setState({value:this.$7(eu),emptyTextBox:false,locallyModified:true})},$0:function(eu){if(this.props.disabled){return}if(!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(this.$7(eu))}},$2:function(eu){this.$8(parseInt(this.$c.value))},$3:function(eu){this.$8(parseInt(this.$c.value))},$5:function(eu){var ev=this.$b.value;if(ss.isNullOrEmptyString(ev)){this.setState({value:0,emptyTextBox:true,locallyModified:true})}else{this.$8(parseInt(ev))}},$1:function(eu){this.$0(parseInt(this.$c.value))},$6:function(eu){if(eu.which===13){this.$0(parseInt(this.$b.value))}},$4:function(eu){var ev=parseInt(this.$b.value);if(this.state.locallyModified||ev!==this.state.value){this.$0(ev)}},$a:function(eu){this.$c=null;if(ss.isValue(eu)){this.$c=eu}},$9:function(eu){this.$b=null;if(ss.isValue(eu)){this.$b=eu}}},React.Component);ss.initClass(bQ,a,{render:function(){var eu=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-horizontal'},bw.div({tap:ss.mkdel(this,function(ev){this.$0(0)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-left'})]),bw.div({tap:ss.mkdel(this,function(ev){this.$0(1)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-right'})]));eu=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},eu);eu=React.DOM.div({className:this.props.styleClass},eu);if(ss.isValue(this.props.extraCssClass)){eu=React.DOM.div({className:this.props.extraCssClass},eu)}return eu},$0:function(eu){if(this.props.disabled){return}if(!ss.staticEquals(this.props.onSpinnerClicked,null)){this.props.onSpinnerClicked(eu)}}},React.Component);ss.initEnum(bR,a,{left:0,right:1});ss.initClass(bS,a,{});ss.initClass(bT,a,{start:function(eu){this.cancel();this.$9=false},move:function(eu){var ev=eu.touches[0];if(!this.$9){return}if(!this.$5(eu)){return}var ew=this.$4(eu);if(ss.isValue(this.$7)){this.cancel()}this.$0('moving',eu,ew);this.$a=ev.pageX;this.$b=ev.pageY;this.$7=window.setTimeout(ss.mkdel(this,function(){if(!this.$8){this.$0('hover',eu,ew)}this.$3()}),this.$6)},end:function(eu){if(eu.touches.length===0){this.$9=true}},out:function(eu){var ev=eu.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,ev)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,ev)){this.cancel();this.$0('mouseleave',eu,this.$4(eu))}},suppressHover:function(){if(!this.$8){}this.$8=true},unsuppressHover:function(){if(this.$8){}this.$8=false;this.$9=true},cancel:function(){this.$3();this.$a=0;this.$b=0;this.$9=true},$3:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)},$5:function(eu){var ev=eu.touches[0];var ew=Math.abs(ev.pageX-this.$a);var ex=Math.abs(ev.pageY-this.$b);return ew+ex>this.slop},$4:function(eu){var ev={};ev.pageX=eu.changedTouches[0].pageX;ev.pageY=eu.changedTouches[0].pageY;ev.clientX=eu.changedTouches[0].clientX;ev.clientY=eu.changedTouches[0].clientY;return ev}},bI,[ss.IDisposable]);ss.initClass(bU,a,{});ss.initClass(bV,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var eu=this.$7.element;var ev=this.$4;eu.off(this.$3(),ev)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(eu){if(ss.isValue(this.$5)){this.$5(eu)}},$1:function(eu){if(ss.isValue(this.$6)){this.$6(eu)}},$2:function(eu,ev){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bY,a,{get_buttonElement:function(){return this.element},setEnabled:function(eu){if(eu){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(eu){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(eu);return this}},z,[bW,ss.IDisposable]);ss.initClass(bZ,a,{get_className:function(){var eu=['tab-IconBtn'];eu.push(this.props.customClassName);if(this.props.disabled){eu.push('disabled')}return eu.join(' ')},$0:function(){var eu=new ca;eu.isActive=(ss.isValue(this.state)?this.state.isActive:false);return eu},render:function(){return bw.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(eu){if(tsConfig.is_mobile){var ev=new ca;ev.isActive=true;this.setState(ev)}}),lastTouch:ss.mkdel(this,function(eu){if(tsConfig.is_mobile){var ev=new ca;ev.isActive=false;this.setState(ev)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(eu){if(!tsConfig.is_mobile){var ev=new ca;ev.isActive=true;this.setState(ev)}}),onMouseLeave:ss.mkdel(this,function(eu){if(!tsConfig.is_mobile){var ev=new ca;ev.isActive=false;this.setState(ev)}})},[React.DOM.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(eu){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(eu)}}},React.Component);ss.initClass(ca,a,{});ss.initInterface(cb,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(cc,a,{dragStarted:null,dragEnded:null});ss.initInterface(cd,a,{startDrag:null});ss.initInterface(cg,a,{createListItemContent:null});ss.initInterface(ch,a,{createListItemDragAvatar:null});ss.initInterface(ci,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initEnum(cl,a,{integer:0,string:1});ss.initInterface(cn,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(co,a,{render:function(){var eu=['tab-iscroll-component'];if(this.state.hovered){eu.push('hover')}if(this.state.scrolling){eu.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){eu.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){eu.push('showIfScrollable')}var ev=ss.arrayFromEnumerable(eu).join(' ');return React.DOM.div({ref:'iscroll-wrapper',className:ev,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},React.DOM.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var eu=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new g(eu,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(eu){if(!ss.referenceEquals(this.props.startingY,eu.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(eu){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(eu){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(eu){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var eu=new Object;eu.x=this.iScroll.maxScrollX;eu.y=this.iScroll.maxScrollY;var ev=eu;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),ev)}}},React.Component);ss.initInterface(cp,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(cr,a,{});ss.initInterface(cu,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(cx,a,{updateUberPopupViewModel:null},[cb]);ss.initClass(cA,a,{});ss.initClass(cB,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(eu){this.get_labelElement().text(eu);if(ss.isNullOrEmptyString(eu)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(eu){if(ss.isValue(eu)){this.get_labelElement().html(eu);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},z,[bW,ss.IDisposable]);ss.initClass(ee,a,{add_selectableDisposed:function(eu){this.$3$1=ss.delegateCombine(this.$3$1,eu)},remove_selectableDisposed:function(eu){this.$3$1=ss.delegateRemove(this.$3$1,eu)},add_selectedChanging:function(eu){this.$3$2=ss.delegateCombine(this.$3$2,eu)},remove_selectedChanging:function(eu){this.$3$2=ss.delegateRemove(this.$3$2,eu)},add_selectedChanged:function(eu){this.$3$3=ss.delegateCombine(this.$3$3,eu)},remove_selectedChanged:function(eu){this.$3$3=ss.delegateRemove(this.$3$3,eu)},get_selectedClass:function(){return this.$c},set_selectedClass:function(eu){if(ss.referenceEquals(this.$c,eu)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(eu,true)}this.$c=eu},get_selectionId:function(){return this.$d},set_selectionId:function(eu){this.$d=eu},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(eu){if(this.get_selected()===eu){return}this.element.toggleClass(this.$c,eu);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(eu){this.$3$4=eu},handleClick:function(eu){if(this.get_disabled()){return}var ev=!this.get_selected();if(this.get_preventMouseDeselect()&&!ev){return}if(!ss.staticEquals(this.$3$2,null)){var ew=new dI(ev,ss.isValue(eu)&&eu.shiftKey,bC.isCtrlKey(eu));this.$3$2(this,ew);if(ew.cancel){return}}this.set_selected(ev);z.prototype.handleClick.call(this,eu)},$b:function(eu,ev){if(!ss.staticEquals(eu,null)){eu(this,ev)}},onDisposed:function(eu){this.$b(this.$3$1,null);et.prototype.onDisposed.call(this,eu)}},z,[bW,ss.IDisposable,cu]);ss.initClass(cC,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(eu){this.get_labelElement().text(eu);if(ss.isNullOrEmptyString(eu)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return ee.prototype.get_selected.call(this)},set_selected:function(eu){if(this.get_selected()===eu){return}var ev=this.get_inputElement();if(ss.isValue(ev)){ev.prop('checked',(eu?'checked':''))}ee.prototype.set_selected.call(this,eu)},get_disabled:function(){return z.prototype.get_disabled.call(this)},set_disabled:function(eu){var ev=this.get_inputElement();if(ss.isValue(ev)){ev.prop('disabled',eu)}z.prototype.set_disabled.call(this,eu)}},ee,[bW,ss.IDisposable,cu]);ss.initClass(cD,a,{handleBlur:function(eu){if(this.props.blurBehavior===0){this.$2()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(eu){if(!ss.referenceEquals(this.props.initialValue,eu.initialValue)){this.setState({displayedText:eu.initialValue})}},$2:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$1(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(eu){if(this.props.inputFilter===0){var ev={};if(ss.isNullOrEmptyString(eu)||ss.Int32.tryParse(eu,ev)){this.setState({displayedText:eu})}}else{this.setState({displayedText:eu})}},$1:function(eu){if(eu.keyCode===27){eu.preventDefault();eu.stopPropagation();this.$2()}},handleEnterPress:function(){if(!ss.staticEquals(this.props.onCommit,null)){this.props.onCommit(this.state.displayedText)}if(this.props.blurBehavior===0){this.$2()}},render:function(){var eu=this.$3;var ev=new Object;ev.iconClassName='confirmArrowIcon';ev.customClassName='confirmButton';var ew=bw.div(eu,{className:'confirmButtonDiv'},[React.createElement(bZ,ev)]);var ex=React.createElement(SharedWidgets.TextFieldInputWidget,{text:this.state.displayedText,maxLength:9,handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),name:'rowCount-input',style:{display:'inline-block',lineHeight:'24px',paddingBottom:'0px',paddingTop:'0px',marginBottom:'0px',marginLeft:'3px',borderStyle:'none',width:'50px'}});return React.DOM.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$1),onBlur:ss.mkdel(this,this.handleBlur)},ex,ew)}},React.Component);ss.initClass(cF,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(eu){this.$1$1=eu},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(eu){this.$1$2=eu},startDrag:function(eu){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[cd]);ss.initClass(dH,a,{add_selectionChanged:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_selectionChanged:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},get_selectedClass:function(){return this.$8},set_selectedClass:function(eu){this.$8=eu},get_selectionType:function(){return this.$a},set_selectionType:function(eu){this.$a=eu},get_items:function(){return this.$7},get_selectedItems:function(){var eu=[];var ev=ss.getEnumerator(Object.keys(this.$9));try{while(ev.moveNext()){var ew=ev.current();eu.push(this.$9[ew])}}finally{ev.dispose()}return eu},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var eu=Object.keys(this.$9)[0];return this.$9[eu]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(eu){eu.set_selectedClass(this.$8);this.$7.push(eu);if(eu.get_selected()){this.$6(eu,false,false)}this.$0(eu)},containsItem:function(eu){return ss.contains(this.get_items(),eu)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(eu,ev){var ew=eu;this.$5(ew);if(this.isItemSelected$1(ew)){delete this.$9[ew.get_selectionId()]}ss.remove(this.$7,ew)},$0:function(eu){eu.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));eu.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));eu.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(eu){eu.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));eu.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));eu.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(eu){return ss.isValue(eu)&&ss.keyExists(this.$9,eu.get_selectionId())},isItemSelected:function(eu){return ss.keyExists(this.$9,eu)},selectItem:function(eu){this.$6(eu,false,true)},selectSingleItem:function(eu){this.$6(eu,true,true)},$6:function(eu,ev,ew){var ex=false;if(ev||this.get_selectionType()===0){ex=this.$1(eu)}ex=this.$2(eu)||ex;if(ew&&ex){this.$4()}},selectItems:function(eu,ev){switch(this.get_selectionType()){case 0:{var ew=((ss.isValue(eu)&&eu.length>0)?eu[0]:null);this.selectItem(ew);break}case 1:case 2:{var ex=false;if(ev){ex=this.$1(null)}if(ss.isValue(eu)){for(var ey=0,ez=eu.length;ey<ez;ey++){ex=this.$2(eu[ey])||ex}}if(ex){this.$4()}break}}},$2:function(eu){if(ss.isNullOrUndefined(eu)){return false}if(ss.isNullOrUndefined(eu.get_selectionId())){return false}if(this.isItemSelected$1(eu)){return false}if(!this.containsItem(eu)){return false}this.$9[eu.get_selectionId()]=eu;eu.set_selected(true);return true},clearSelection:function(eu){if(this.$1(eu)){this.$4()}},$1:function(eu){var ev=ss.getKeyCount(this.$9);var ew=ss.getEnumerator(Object.keys(this.$9));try{while(ew.moveNext()){var ex=ew.current();if(ss.isValue(eu)&&ss.referenceEquals(ex,eu.get_selectionId())){continue}this.$3(this.$9[ex])}}finally{ew.dispose()}return ev>0&&ss.getKeyCount(this.$9)!==ev},unselectItem:function(eu){if(!this.isItemSelected$1(eu)){return}this.$3(eu);this.$4()},$3:function(eu){delete this.$9[eu.get_selectionId()];eu.set_selected(false)},handleSelectionChanging:function(eu,ev){var ew=eu;if(ev.get_selecting()){this.selectItem(ew)}else if(this.get_selectionType()!==0){this.unselectItem(ew)}else if(ss.referenceEquals(this.get_selectedItem(),ew)){ev.cancel=true}},handleSelectionChanged:function(eu,ev){var ew=eu;var ex=this.isItemSelected$1(ew);if(ew.get_selected()&&!ex){this.$2(ew)}else if(!ew.get_selected()&&ex){this.$3(ew)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cG,a,{$e:function(eu){this.$d(ss.indexOf(this.get_items(),eu))},$d:function(eu){if(eu<0||eu>=this.get_items().length){return}this.$f=eu;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(eu){dH.prototype.addItem.call(this,eu);if(eu.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(eu)}},onItemDisposed:function(eu,ev){this.$b();dH.prototype.onItemDisposed.call(this,eu,ev)},dispose:function(){this.$b();dH.prototype.dispose.call(this)},selectItem:function(eu){this.selectItemAtIndex(ss.indexOf(this.get_items(),eu))},selectSingleItem:function(eu){var ev=ss.indexOf(this.get_items(),eu);if(ev<0){return}dH.prototype.selectSingleItem.call(this,eu);this.$d(ev)},selectItemAtIndex:function(eu){dH.prototype.selectItem.call(this,this.get_items()[eu]);this.$d(eu)},selectItems:function(eu,ev){this.$c(eu,ev);this.$g=null},$c:function(eu,ev){dH.prototype.selectItems.call(this,eu,ev)},clearSelection:function(eu){dH.prototype.clearSelection.call(this,eu);this.$b()},selectItemForKey:function(eu,ev){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var ew=eu===38;var ex=eu===40;if(ew||ex){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var ey=ss.unbox(this.$f)+(ew?-1:1);if(ey<0||ey>=this.get_items().length){return null}if(this.get_selectionType()===1&&ev){var ez=this.$g;if(ss.isValue(this.$g)){var eA=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var eB=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(ey>=eA&&ey<=eB){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{ez=this.$f}this.selectItem(this.get_items()[ey]);this.$g=ez}else{this.selectSingleItem(this.get_items()[ey]);this.$g=null}this.$f=ey;return this.get_items()[ey]}return null},handleSelectionChanging:function(eu,ev){var ew=eu;var ex=ss.indexOf(this.get_items(),ew);if(ex<0){return}if(this.get_selectionType()===0){dH.prototype.handleSelectionChanging.call(this,eu,ev);return}var ey=this.$f;var ez=this.$g;this.$d(ex);if(this.get_selectionType()===2||ev.get_ctrlKey()){if(ev.get_selecting()){this.selectItem(ew)}else{this.unselectItem(ew)}return}if(ev.get_shiftKey()&&(ss.isValue(ey)||ss.isValue(ez))){this.$g=ss.coalesce(ez,ey);var eA=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var eB=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var eC=[];for(var eD=eA;eD<=eB;eD++){eC.push(this.get_items()[eD])}this.$c(eC,true);ev.cancel=true;return}this.selectSingleItem(ew);if(ss.referenceEquals(this.get_selectedItem(),ew)){ev.cancel=true}},handleSelectionChanged:function(eu,ev){dH.prototype.handleSelectionChanged.call(this,eu,ev);this.$e(eu)}},dH,[ss.IDisposable]);ss.initClass(cH,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?ee.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(eu){ee.prototype.set_selected.call(this,eu);this.get_viewModel().set_selected(eu)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(eu){this.$f.toggleClass('invalid',eu);this.get_viewModel().set_isInvalid(eu)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(eu){this.$f.toggleClass('bold',eu);this.get_viewModel().set_isBold(eu)},get_disabled:function(){return z.prototype.get_disabled.call(this)},set_disabled:function(eu){this.$f.toggleClass(this.get_disabledClass(),eu);z.prototype.set_disabled.call(this,eu)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(eu,ev){switch(ev.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},ee,[bW,ss.IDisposable,cu]);ss.initClass(cI,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(eu){if(this.$5===eu){return}this.$5=eu;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(eu){if(this.$4===eu){return}this.$4=eu;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(eu){if(this.$3===eu){return}this.$3=eu;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(eu){if(this.$1===eu){return}this.$1=eu;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(eu){if(this.$6===eu){return}this.$6=eu;this.notifyPropertyChanged('spotlighted')}},w,[ss.IDisposable,cz]);ss.initClass(cJ,a,{create:function(){this.$0();var eu=[];for(var ev=0,ew=this.itemDatas.length;ev<ew;ev++){var ex=this.itemIds[ev];var ey=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,ev):false);var ez=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,ev):false);var eA=this.itemDatas[ev];var eB=new cI(ex,eA,ey,ez,false);eB.set_draggable(ew>1);var eC=eB;eu.push(eC)}return eu},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cK,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(eu){this.$3$1=eu},add_listItemsUpdated:function(eu){this.$3$2=ss.delegateCombine(this.$3$2,eu)},remove_listItemsUpdated:function(eu){this.$3$2=ss.delegateRemove(this.$3$2,eu)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(eu){this.$m=eu||new f(this.element)},useScrollableView:function(eu){this.set_scrollHandler(new e(eu))},$5:function(){for(var eu=0;eu<this.get_viewModel().get_collection().length;eu++){var ev={$:this.get_viewModel().get_collection()[eu]};if(ss.isValue(ev.$)){var ew=this.$k.createListItemContent(ev.$);var ex=new cH(ew,ev.$);ex.init();ex.onDoubleClick(ss.mkdel(this,this.$8));ex.set_disabled(!this.get_viewModel().get_enabled());ex.set_isInvalid(ev.$.get_isInvalid());ex.set_isBold(ev.$.get_isBold());ex.onMouseEnter(ss.mkdel({itemViewModel:ev,$this:this},function(ey){this.$this.$a(this.itemViewModel.$)}));ex.onMouseMove(ss.mkdel({itemViewModel:ev,$this:this},function(ey){this.$this.$b(this.itemViewModel.$)}));this.$i(ex);this.$l.push(ex);this.get_viewModel().addItemToGroup(ex);ex.addToDom(this.get_dom().get_listItemContainer());ev.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(eu){if(!ss.isValue(eu)){return}this.$h(this.$l[ss.unbox(eu)])},$d:function(eu){if(ss.isValue(eu)){this.$h(this.$l[ss.unbox(eu)])}},$8:function(eu){this.get_viewModel().selectionSubmitted()},$a:function(eu){this.get_viewModel().handleListItemMouseEnter(eu)},$b:function(eu){this.get_viewModel().handleListItemMouseMove(eu)},$9:function(eu){var ev=this.get_viewModel().get_listItemGroup().selectItemForKey(eu.which,eu.shiftKey);if(ss.isValue(ev)){bC.stopEvent(eu);this.$h(ev)}},onViewModelPropertyChanged:function(eu,ev){if(ev.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(ev.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(ew){ew.set_disabled(!this.get_viewModel().get_enabled());this.$i(ew)}))}ss.makeGenericType(v,[cM]).prototype.onViewModelPropertyChanged.call(this,eu,ev)},$f:function(eu,ev){if(ev.get_propertyName()==='draggable'){var ew=this.$7(eu);this.$i(ew)}},$i:function(eu){if(eu.get_viewModel().get_draggable()&&!eu.get_disabled()){bo.attachDragSource(eu.element,new cF(this,eu))}else{bo.removeDragSource(eu.element)}},tabIndex:function(eu){this.get_dom().get_listItemContainer().attr('tabindex',eu.toString());return this},showItemAtIndex:function(eu){this.$h(this.get_itemViews()[eu])},$h:function(eu){if(ss.isNullOrUndefined(eu)){return}var ev=eu.element[0];this.$m.scrollToElement(ev,this.$j())},$e:function(eu,ev){if(eu===ev||eu<0||eu>=this.get_itemViews().length||ev<0||ev>=this.get_itemViews().length){return}var ew=this.get_itemViews()[eu];ew.element.hide();if(ev<eu){ew.element.insertBefore(this.get_itemViews()[ev].element)}else{ew.element.insertAfter(this.get_itemViews()[ev].element)}ew.element.fadeIn();ss.removeAt(this.get_itemViews(),eu);ss.insert(this.get_itemViews(),ev,ew)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(v,[cM]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(eu){eu.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));eu.dispose()}));ss.clear(this.$l)},$g:function(eu){if(ss.isValue(eu)){eu()}},$7:function(eu){for(var ev=0,ew=this.$l.length;ev<ew;ev++){if(ss.referenceEquals(this.$l[ev].get_selectionId(),eu.get_id())){return this.$l[ev]}}return null}},ss.makeGenericType(v,[cM]),[bW,ss.IDisposable,ss.makeGenericType(cy,[cM])]);ss.initClass(cL,a,{add_dragStarting:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_dragStarting:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},add_dragEnded:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},remove_dragEnded:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},get_dragClassName:function(){return this.$b},set_dragClassName:function(eu){this.$b=eu},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(eu){this.$c=eu},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(eu){this.$1$3=eu},dispose:function(){bo.remove_dragStarted(ss.mkdel(this,this.$8));bo.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(eu,ev){if(ss.isNullOrUndefined(eu)||ss.isNullOrUndefined(eu.get_itemViews())){return null}var ew=ss.indexOf(eu.get_itemViews(),ev);if(ew<0){return null}this.$5(eu,ew);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bo.add_dragStarted(ss.mkdel(this,this.$8));bo.add_dragEnded(ss.mkdel(this,this.$7));var ex=this.$1(eu.get_itemViews()[ew]);return new da(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),ex)},$5:function(eu,ev){this.$k=eu;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=ev;this.$l=ev;var ew=eu.get_itemViews()[ev];this.$f=ew.get_viewModel();this.$e=ew.element},$6:function(eu){this.$g=this.$2(eu).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(eu){return $("<div class='tab-list-item-insertion-pointer'>").width(eu)},$1:function(eu){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(eu.get_viewModel())}return new br(eu)},$8:function(eu){bo.remove_dragStarted(ss.mkdel(this,this.$8));bo.setDragCursor(new bb(null,'move'));bo.setDragCursor(new bb(null,'-webkit-grabbing'));bo.setDragCursor(new bb(null,'-moz-grabbing'));bo.setDragCursor(new bb(null,'grabbing'))},$7:function(eu){bo.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(eu){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var ev=this.$k.get_itemViews()[this.$l].element;var ew=tab.DomUtil.getElementPosition(ev);var ex=this.$l>0&&(eu.pageY<this.$j||eu.pageY<ew.y);var ey=this.$l<this.$m-1&&(eu.pageY>this.$i||eu.pageY>ew.y+ev.outerHeight());if(!ex&&!ey){return}var ez=(ex?-1:1);this.$l+=ez;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bo.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var eu=this.$k.get_itemViews()[this.$l].element;var ev=tab.DomUtil.getElementPosition(eu);if(this.$l>this.$n){ev.y+=tab.DoubleUtil.roundToInt(eu.outerHeight())}tab.DomUtil.setElementPosition(this.$g,ev.x,ev.y-this.$h,null,false);this.$g.show()},$4:function(eu){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[ci,ss.IDisposable]);ss.initClass(cM,a,{add_propsUpdated:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_propsUpdated:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_selectionChanged:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_selectionChanged:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_submitSelection:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_submitSelection:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},add_listItemMouseEnter:function(eu){this.$2$4=ss.delegateCombine(this.$2$4,eu)},remove_listItemMouseEnter:function(eu){this.$2$4=ss.delegateRemove(this.$2$4,eu)},add_listItemMouseMove:function(eu){this.$2$5=ss.delegateCombine(this.$2$5,eu)},remove_listItemMouseMove:function(eu){this.$2$5=ss.delegateRemove(this.$2$5,eu)},add_selectionModelUpdated:function(eu){this.$2$6=ss.delegateCombine(this.$2$6,eu)},remove_selectionModelUpdated:function(eu){this.$2$6=ss.delegateRemove(this.$2$6,eu)},add_spotlightedItemChanged:function(eu){this.$2$7=ss.delegateCombine(this.$2$7,eu)},remove_spotlightedItemChanged:function(eu){this.$2$7=ss.delegateRemove(this.$2$7,eu)},add_itemMoved:function(eu){this.$2$8=ss.delegateCombine(this.$2$8,eu)},remove_itemMoved:function(eu){this.$2$8=ss.delegateRemove(this.$2$8,eu)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(eu){this.$4=eu;this.$0()},get_sort:function(){return this.$9},set_sort:function(eu){this.$9=eu;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var eu=this.$1(1);return((eu.length>0)?eu[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(eu){if(this.$3===eu){return}this.$3=eu;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);w.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(eu){this.raiseActionEvent$1(cI).call(this,this.$2$4,eu)},handleListItemMouseMove:function(eu){this.raiseActionEvent$1(cI).call(this,this.$2$5,eu)},update:function(eu){this.$7=ss.arrayClone(eu);this.$0();this.$8.items=_.map(this.get_collection(),function(ev){return{data:ev.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(eu){this.$6.addItem(eu)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(eu){var ev=[];var ew=this.$6.get_numberOfSelectedItems();if(ew===1){ev.push(this.$6.get_selectedItem().get_viewModel());return ev}var ex=Math.min(ew,eu);for(var ey=0,ez=this.get_collection().length;ey<ez&&ev.length<ex;ey++){if(this.$6.isItemSelected(this.get_collection()[ey].get_id())){ev.push(this.get_collection()[ey])}}return ev},setSelectedItems:function(eu){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var ev=null;for(var ew=0,ex=eu.length;ew<ex;ew++){var ey=eu[ew];ev=Math.min(ss.coalesce(ev,ey),ey);this.get_collection()[ey].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(ev,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(eu){for(var ev=0,ew=this.get_collection().length;ev<ew;++ev){this.get_collection()[ev].set_isInvalid(ss.contains(eu,ev))}},selectItemById:function(eu){for(var ev=0,ew=this.get_collection().length;ev<ew;ev++){var ex=this.get_collection()[ev];if(ss.referenceEquals(ex.get_id(),eu)){this.selectItemAtIndex(ev);break}}},selectItemAtIndex:function(eu){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var ev=this.get_collection()[eu];var ew=!ev.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}ev.set_selected(true);if(ew){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,eu);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(eu){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var ev=this.get_collection()[eu];if(ss.isNullOrUndefined(ev)){return}ev.set_spotlighted(true);this.$a=eu;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(eu,ev){if(eu===ev){return}var ew=this.get_collection()[eu];ss.removeAt(this.get_collection(),eu);ss.insert(this.get_collection(),ev,ew);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(eu,ev)}}},w,[ss.IDisposable,cz,ss.makeGenericType(cm,[Object])]);ss.initClass(cN,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},eb,[ss.IDisposable]);ss.initClass(cO,a,{});ss.initEnum(cQ,a,{none:0,check:1,radio:2});ss.initClass(cR,a,{},eb,[ss.IDisposable]);ss.initClass(cS,a,{},eb,[ss.IDisposable]);ss.initClass(cT,a,{},eb,[ss.IDisposable]);ss.initClass(cU,a,{$b:function(){var eu=this.dom.domRoot;for(var ev=0;ev<this.menuStack.length;ev++){var ew=this.menuStack[ev];eu=eu.add(ew.domRoot)}return eu},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$a));var eu=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var ev=0;ev<this.menuStack.length;ev++){var ew=this.menuStack[ev];ew.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(v,[cV]).prototype.dispose.call(this)});this.$5(eu)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(eu){return(ss.isValue(eu)?this.$c[eu.id]:null)},getMenuElementForMenuItem:function(eu){var ev=this.getElementForMenuItem(eu);if(ss.isNullOrUndefined(ev)){return null}var ew=this.menuStack[cU.getMenuItemLevel(ev)-1];if(ss.isNullOrUndefined(ew)){return null}else{return ew.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$c={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var eu=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(eu)},shown:function(eu){if(ss.isValue(eu.minWidth)){var ev=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',ss.unbox(eu.minWidth)-ev+'px')}var ew=989;if(eu.relativeDom.length>0){var ex=tab.DomUtil.getComputedZIndex(eu.relativeDom[0]);if(ex>=ew){ew=Math.max(1000,ex+1)}}this.removeGlass();var ey=new bJ;ey.set_zIndex(ew-1);this.glass=ey;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',ew);if(ss.isValue(eu.additionalMenuClass)){this.dom.domRoot.addClass(eu.additionalMenuClass)}dN.getViewport(ss.mkdel(this,function(eA){this.dom.domRoot.appendTo($('body'));this.positionMenu(eA,eu,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show()}));this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,function(eA){this.menuViewModel.hide()})));var ez=ss.mkdel(this,function(eA){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',ez);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',ez)}));bK.add_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},$a:function(eu,ev){var ew=this.$c[eu.id];if(ss.isValue(ew)&&ew.is(':visible')){ew.toggleClass('tabMenuSelectedItem',ev);if(ev){this.scrollToMenuItem(ew)}}},scrollToMenuItem:function(eu){eu.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(eu.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(eu,ev){var ew=ev.data('tabMenuMenuItemLevel');if(ss.isValue(ew)&&ew<this.menuStack.length){return}var ex=new cT;ex.domRoot.addClass(this.menuViewModel.get_theme().menuClass);ex.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(ex);this.buildMenu(ex,eu.subMenu);this.showSubmenu(eu,ev,ex);ex.domRoot.focus();ex.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(eu,ev){var ew=false;var ex=false;var ey=false;var ez=[];var eA=dT.targetAndClick(eu.domRoot.get(0),ss.mkdel(this,this.$9));this.menuDisposables.add$1(eA);for(var eB=0;eB<ev.menuItems.length;eB++){var eC=ev.menuItems[eB];var eD;if(eC.isDivider){eD=(new cR).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(eC.isTextInput){var eE=this.$6(eC);eD=eE.domRoot}else if(ss.isInstanceOfType(eC,be)){eD=eC.get_domRoot()}else{var eF=(new k(eC.name,eC.enabled)).$2(eC.checkState,eC.iconClass).$3(eC.iconClassTwo).$1(eC.description).$4(eC.subMenu).$5([this.menuViewModel.get_theme().itemClass,eC.itemClass]).$0();ew=ew||eF.$2;ex=ex||eF.$3;ey=ey||eF.$1;eF.domRoot.data('tabMenuMenuItem',eC);eF.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);eD=eF.domRoot}eD.addClass('tabMenuMenuItem');if(eC.isDefault){eD.addClass('tabMenuDefaultItem')}}ez.push(eD);this.$c[eC.id]=eD}eu.content.append(ez);if(!ew){eu.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(ex){eu.domRoot.addClass('tabMenuHasIconTwo')}if(!ey){eu.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$a(this.menuViewModel.get_selectedItem(),true)}},$9:function(eu){var ev=$(eu.target).closest('.tabMenuMenuItem');var ew=ev.data('tabMenuMenuItem');if(ss.isNullOrUndefined(ew)){return}else if(ss.isValue(ew.subMenu)){this.activateSubmenu(ew,ev)}else{this.menuViewModel.clickMenuItem(ew)}},onBlur:function(eu){window.setTimeout(ss.mkdel(this,function(){var ev=this.$b();if(ev.index(document.activeElement)<0&&ev.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(eu){eu.stopPropagation();switch(eu.which){case 13:{var ev=eu.data['callback'];if($.isFunction(ev)){ev($(eu.target).val())}break}case 9:{eu.preventDefault();eu.target.blur();this.menuViewModel.iterateFocus((eu.shiftKey?-1:1),null);break}}},$8:function(eu){eu.stopPropagation()},$6:function(eu){var ev=new cS;ev.textInput.keydown(ss.mkdict(['callback',eu.data]),ss.mkdel(this,this.$7)).keypress(ss.mkdel(this,this.$8)).focus(ss.mkdel(this,function(ew){this.get_viewModel().set_focusedItem(eu)})).attr('placeholder',eu.description);if(!ss.isNullOrEmptyString(eu.itemClass)){ev.domRoot.addClass(eu.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){ev.textInput.off()}));return ev},$5:function(eu){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){eu()}else{this.$b().fadeOut(50,eu)}}},ss.makeGenericType(t,[cV]),[bW,ss.IDisposable,ss.makeGenericType(cy,[cV])]);ss.initClass(cV,a,{add_shown:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_shown:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_hidden:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_hidden:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_menuChanged:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_menuChanged:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},add_menuItemClicked:function(eu){this.$2$4=ss.delegateCombine(this.$2$4,eu)},remove_menuItemClicked:function(eu){this.$2$4=ss.delegateRemove(this.$2$4,eu)},add_menuItemSelectionChanged:function(eu){this.$2$5=ss.delegateCombine(this.$2$5,eu)},remove_menuItemSelectionChanged:function(eu){this.$2$5=ss.delegateRemove(this.$2$5,eu)},add_menuItemFocusChanged:function(eu){this.$2$6=ss.delegateCombine(this.$2$6,eu)},remove_menuItemFocusChanged:function(eu){this.$2$6=ss.delegateRemove(this.$2$6,eu)},get_visible:function(){return this.$2$7},set_visible:function(eu){this.$2$7=eu},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(eu){this.$2$8=eu},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(eu){this.$2$9=eu},set_disposeOnHide:function(eu){this.remove_hidden(this.$0);if(eu){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(eu){if(_.isEqual(this.$2,eu)){return}this.$2=eu;if(ss.isValue(this.$2$3)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(eu){this.$2$10=eu},get_selectedItem:function(){return this.$3},set_selectedItem:function(eu){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(eu)){this.$3=null;return}this.$3=eu;if(ss.isValue(this.$2$5)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(eu){if(ss.referenceEquals(this.$1,eu)){return}if(ss.isValue(this.$1)){if(ss.isValue(this.$2$6)){this.$2$6(this.$1,false)}}if(ss.isNullOrUndefined(eu)||!eu.enabled){this.$1=null;return}this.$1=eu;if(ss.isValue(this.$2$6)){this.$2$6(this.$1,true)}},show:function(eu){this.set_isExpanded(eu.expanded);if(this.get_visible()){return}this.set_visible(true);if(ss.isValue(this.$2$1)){this.$2$1(eu)}},dispose:function(){this.hide();w.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(eu){if(!eu.enabled){return}this.hide();if(ss.isValue(this.$2$4)){this.$2$4(eu)}},iterateFocus:function(eu,ev){var ew=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ew)){return}var ex=ev;if(ss.isNullOrUndefined(ex)){ex=ss.indexOf(ew.menuItems,this.get_focusedItem())}var ey=ex;var ez=ey;do{ez+=eu;if(ez>=ew.menuItems.length){ez=0}else if(ez<0){ez=ew.menuItems.length-1}}while(!ew.menuItems[ez].get_selectable()&&ez!==ey);if(ez!==ey){this.set_focusedItem(ew.menuItems[ez])}},focusByNamePrefix:function(eu){eu=eu.toLowerCase();var ev=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ev)){return}var ew=ss.indexOf(ev.menuItems,this.get_focusedItem())+1;if(ew>=ev.menuItems.length){ew=0}var ex=ew;do{if(ev.menuItems[ex].enabled&&!ev.menuItems[ex].isDivider){if(ss.isValue(ev.menuItems[ex].name)&&ss.startsWithString(ev.menuItems[ex].name.toLowerCase(),eu)){this.set_focusedItem(ev.menuItems[ex]);return}}++ex;if(ex>=ev.menuItems.length){ex=0}}while(ex!==ew)},findMenuForMenuItem:function(eu){if(ss.isNullOrUndefined(eu)){return null}var ev=null;ev=function(ew){if(ss.contains(ew.menuItems,eu)){return ew}for(var ex=0;ex<ew.menuItems.length;ex++){var ey=ew.menuItems[ex];if(ss.isValue(ey.subMenu)){var ez=ev(ey.subMenu);if(ss.isValue(ez)){return ez}}}return null};return ev(this.get_menu())},findItemContainingSubMenu:function(eu){if(ss.isNullOrUndefined(eu)||ss.referenceEquals(this.get_menu(),eu)){return null}var ev=null;ev=function(ew){var ex=null;for(var ey=0;ey<ew.menuItems.length;ey++){var ez=ew.menuItems[ey];if(ss.isValue(ez.subMenu)){ex=(ss.referenceEquals(ez.subMenu,eu)?ez:ev(ez.subMenu));if(ss.isValue(ex)){break}}}return ex};return ev(this.get_menu())}},w,[ss.IDisposable,cz]);ss.initClass(cX,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bJ;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bi.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bi.prototype.bindToEvents.call(this);this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bC.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bi.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bi.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bi.defaultStationaryDialogConfigurer)},onWindowResize:function(eu){this.positionInWindow()},onDocumentKeyDown:function(eu){if(eu.which===27){this.close(null);eu.preventDefault();return}}},bi,[bW,ss.IDisposable]);cX.$ctor1.prototype=cX.prototype;ss.initClass(cY,a,{});ss.initClass(cZ,a,{});ss.initClass(da,a,{get_dragType:function(){return'dragmove'},moveTo:function(eu){if(ss.isValue(this.$4)){this.$4(eu)}},endDragAt:function(eu){if(ss.isValue(this.$3)){this.$3(eu)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bp);da.$ctor1.prototype=da.prototype;ss.initClass(db,a,{add_moveAction:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_moveAction:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},add_endAction:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},remove_endAction:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},get_offset:function(){return this.$4},set_offset:function(eu){this.$4=eu},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(eu){this.$1=eu},dispose:function(){bo.removeDragSource(this.$3)},calculateOffset:function(eu){var ev=this.$2.position();return{x:eu.pageX-tab.DoubleUtil.roundToInt(ev.left),y:eu.pageY-tab.DoubleUtil.roundToInt(ev.top)}},startDrag:function(eu){this.$4=this.calculateOffset(eu);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new da(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(eu){this.performMove(eu);if(ss.isValue(this.$1$1)){this.$1$1(eu)}},performMove:function(eu){var ev=eu.pageX-this.$4.x;var ew=eu.pageY-this.$4.y;var ex=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var ey=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);ev=Math.max(0,Math.min(ex-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),ev));ew=Math.max(0,Math.min(ey-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),ew));tab.DomUtil.setElementPosition(this.$2,ev,ew)},dragEnd:function(eu){this.performMove(eu);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(eu)}}},null,[ss.IDisposable,cd]);ss.initClass(dd,a,{},bh,[ce]);ss.initClass(de,a,{get_isMouseEvent:function(){return this.source===1},get_isTouchEvent:function(){return this.source===2},get_isStartEvent:function(){return this.inputType===0},get_isMoveEvent:function(){return this.inputType===1},get_isOutEvent:function(){return this.inputType===3},get_isEndEvent:function(){return this.inputType===2},get_isScrollEvent:function(){return this.inputType===4},get_isRightClickEvent:function(){return this.type==='contextmenu'&&this.source===1},get_isLeftMouseEvent:function(){if(this.get_isMouseEvent()){var eu=cZ.getMouseButtonEnum(this.originalEvent);if(eu==='left'){if(tab.BrowserSupport.get_isMac()&&this.ctrlKey){return false}return true}}return false},get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},get_allTouchesShareCurrentTarget:function(){var eu=this.touches[0].target;var ev=this.touches[1].target;if(!ss.isInstanceOfType(eu,Element)||!ss.isInstanceOfType(ev,Element)){return false}var ew=document.body;var ex=this.currentTarget;var ey=false;while(!ey&&ss.isValue(eu)&&ss.isValue(ev)){ey=true;if(!ss.referenceEquals(eu,ex)&&!ss.referenceEquals(eu,ew)&&ss.isInstanceOfType(eu,Element)){eu=eu.parentNode;ey=false}if(!ss.referenceEquals(ev,ex)&&!ss.referenceEquals(ev,ew)&&ss.isInstanceOfType(ev,Element)){ev=ev.parentNode;ey=false}if(ss.referenceEquals(eu,ev)){ey=true}}return ss.referenceEquals(eu,ev)},getSelectAction:function(){var eu='simple';var ev=this.get_isCtrlKey();if(this.shiftKey){eu='range'}if(ev){eu='toggle'}return eu},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}}});ss.initClass(df,a,{render:function(){var eu=this.props.val;var ev={className:df.$0,style:{width:this.props.cssWidth}};var ew={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bw.div(ew,ev,[React.DOM.div({},eu)])}},ss.makeGenericType(x,[Object]));ss.initClass(dg,a,{});ss.initEnum(dh,a,{reset:0,commit:1,none:2});ss.initClass(di,a,{});ss.initClass(dk,a,{$0:function(eu,ev){this.$1[eu]=Math.max(ev,(ss.keyExists(this.$1,eu)?this.$1[eu]:0))},componentWillMount:function(){this.$1={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$1)}},buildItem:function(eu){var ev=this.props.cols;var ew=this.props.colWidths;var ex=this.props.onClick;var ey=null;if(!ss.staticEquals(this.props.measureColumnWidths,null)){ey=ss.mkdel(this,function(ez,eA){this.$0(ez,eA)})}return y.createBodyRow({row:eu,cols:ev,colWidths:ew,onClick:ex,onRightClick:this.props.onRightClick,isSelected:ss.isValue(eu)&&ss.contains(this.props.selectedKeys,eu.key),showGridLines:this.props.showGridLines,handleReportCellWidth:ey})},getUniqueKey:function(eu){return eu.key},onScrollStop:function(eu,ev){if(eu.y===ev.y&&!ss.staticEquals(this.props.fetchNextPage,null)){this.props.fetchNextPage()}}},ss.makeGenericType(dj,[Object,ea]));ss.initClass(dl,a,{start:function(eu){if(eu.touches.length<this.numTouches){return}if(this.$6){return}this.$8=eu.touches[0];this.$9=eu.touches[1];this.$7=this.$4();this.$5=this.$7;var ev=this.$3();this.$0('pinchStart',eu,ev);this.$6=true},move:function(eu){if(!this.$6){return}if(eu.touches.length<2){this.end(eu);return}this.$8=eu.touches[0];this.$9=eu.touches[1];this.$5=this.$3();this.$0('pinchMove',eu,this.$5)},end:function(eu){if(eu.touches.length>this.numTouches){return}if(this.$6){this.$6=false;var ev=this.$3();this.$0('pinchEnd',eu,ev)}},$4:function(){var eu=this.$8;var ev=this.$9;var ew=ev.pageX-eu.pageX;var ex=ev.pageY-eu.pageY;var ey=Math.sqrt(ew*ew+ex*ex);var ez=ss.Int32.div(ew,2)+eu.pageX;var eA=ss.Int32.div(ex,2)+eu.pageY;var eB={pageX:ez,pageY:eA,distance:ey};return eB},$3:function(){var eu=this.$8;var ev=this.$9;var ew=ev.pageX-eu.pageX;var ex=ev.pageY-eu.pageY;var ey=Math.sqrt(ew*ew+ex*ex);var ez=ss.Int32.div(ew,2)+eu.pageX;var eA=ss.Int32.div(ex,2)+eu.pageY;var eB={pageX:ez,pageY:eA,scale:ey/this.$7.distance,deltaX:ez-this.$7.pageX,deltaY:eA-this.$7.pageY,startX:this.$7.pageX,startY:this.$7.pageY,deltaXSinceLast:ez-this.$5.pageX,deltaYSinceLast:eA-this.$5.pageY};return eB}},bI,[ss.IDisposable]);ss.initClass(dm,a,{render:function(){var eu=this.props.val;var ev={title:(ss.isValue(eu)?eu.toString():''),className:dm.$0,style:{width:this.props.cssWidth}};var ew={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bw.div(ew,ev,[React.DOM.div({},eu)])}},ss.makeGenericType(x,[Object]));ss.initClass(dn,a,{},cK,[bW,ss.IDisposable,ss.makeGenericType(cy,[cM])]);ss.initClass(dp,a,{get_viewType:function(){return dn},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(eu){}},cM,[ss.IDisposable,cz,ss.makeGenericType(cm,[Object]),cb,cx]);ss.initClass(dq,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(dr,a,{});ss.initClass(dt,a,{});ss.initClass(du,a,{});ss.initClass(dw,a,{});ss.initClass(dy,a,{calculateOffset:function(eu){var ev=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ew={x:0,y:0};switch(this.$5){case'bottomRight':{ew.x=ev.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-eu.pageX;ew.y=ev.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-eu.pageY;break}case'topLeft':{ew.x=eu.pageX-ev.x;ew.y=eu.pageY-ev.y;break}case'left':{ew.x=eu.pageX-ev.x;break}case'right':{ew.x=ev.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-eu.pageX;break}case'top':{ew.y=eu.pageY-ev.y;break}case'bottom':{ew.y=ev.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-eu.pageY;break}}return ew},performMove:function(eu){var ev=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ew=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var ex=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var ey=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var ez=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(eu.pageX+this.get_offset().x,ey)-ev.x);this.get_elementToChange().height(Math.min(eu.pageY+this.get_offset().y,ez)-ev.y);break}case'topLeft':{this.get_elementToChange().width(ew+(ev.x-Math.max(eu.pageX-this.get_offset().x,0)));this.get_elementToChange().height(ex+(ev.y-Math.max(eu.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ev.x+ew-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ev.y+ex-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(ew+(ev.x-Math.max(eu.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ev.x+ew-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ev.y);break}case'right':{this.get_elementToChange().width(Math.min(eu.pageX+this.get_offset().x,ey)-ev.x);break}case'top':{this.get_elementToChange().height(ex+(ev.y-Math.max(eu.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ev.x,ev.y+ex-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(eu.pageY+this.get_offset().y,ez)-ev.y);break}}}},db,[ss.IDisposable,cd]);ss.initClass(dA,a,{add_contentChanged:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_contentChanged:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_refresh:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_refresh:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},get_content:function(){return this.$3},set_content:function(eu){this.$3=eu;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(eu){this.$4.scrollX=eu;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=eu}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(eu){this.$4.scrollY=eu;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=eu}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(eu){if(eu){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(eu){this.$4={};this.set_hasCustomIndicator(eu);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},w,[ss.IDisposable,cz]);dA.$ctor1.prototype=dA.prototype;ss.initEnum(dB,a,{iScroll:0});ss.initClass(dD,a,{});ss.initClass(dE,a,{get_className:function(){var eu=[ss.makeGenericType(A,[Object]).prototype.get_className.call(this)];eu.push('selectable');if(this.props.isSelected){eu.push('selected');if(this.props.isButtonTextMarkedAsExcluded){eu.push('excluded')}}else{eu.push('unselected');eu.push('tab-DesignTint')}return eu.join(' ')}},ss.makeGenericType(A,[Object]));ss.initClass(dF,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(eu){var ev=eu;if(ss.isValue(ev)){ev=ev.clone()}return{currentlyAppliedSelection:eu,currentSelection:ev}},componentWillReceiveProps:function(eu){if(!ss.referenceEquals(eu.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(eu.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var eu=this.props.allOption&&this.$7().groupSize>0;var ev;ev=dt.generateUniqueKeys(String).call(null,_.map(this.props.items,function(ey){return ey.label}),[(eu?'__ALL__':null)]);var ew=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){ew+=' apply-cancel'}var ex='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return React.DOM.div({className:ex},React.DOM.div({className:ew,role:'listbox'},(eu?ss.mkdel(this,function(){return React.createElement(dE,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(ey){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(ey,ez){return React.createElement(dE,{border:this.props.borders,label:ey.label,tooltip:ey.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(ez),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(eA){this.$4(ez)}),key:ev[ez],testId:ey.testId,getCustomContentBefore:ey.getCustomContentBefore,getCustomContentAfter:ey.getCustomContentAfter,additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return React.DOM.div({className:'tab-ApplyCancelPanel'},React.createElement(B,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(ey){this.$0()}),disabled:!this.$6()}),React.createElement(B,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(ey){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(eu){this.$7().handleTap(eu);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(dG,a,{});ss.initClass(dI,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dJ,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dK,a,{didMount:function(eu,ev){var ew={};if(!ss.staticEquals(ev.pointerClick,null)){ew.tap=function(ex){ev.pointerClick(ex.reactEvent)}}if(!ss.staticEquals(ev.pointerDown,null)){ew.firstTouch=function(ex){ev.pointerDown(ex.reactEvent)}}if(!ss.staticEquals(ev.pointerUp,null)){ew.lastTouch=function(ex){ev.pointerUp(ex.reactEvent)}}this.$0.updateEventHandleSpec(eu,ew)},getHtmlAttributes:function(eu){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dL,a,{});ss.initClass(dN,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(eu){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(eu)}var ev=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dO,a,{componentDidMount:function(){bK.add_firstTouch(ss.mkdel(this,this.$2));bK.add_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){bK.remove_firstTouch(ss.mkdel(this,this.$2));bK.remove_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dN.getViewport(ss.mkdel(this,this.$4))}},$2:function(eu,ev){if(ss.isValue(this.$6)&&this.$6.contains(eu.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(eu){if(this.props.isSelecting){dN.getViewport(ss.mkdel(this,this.$4))}},$4:function(eu){var ev=ReactDOM.findDOMNode(this.refs['selector']);var ew=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(ev)||ss.isNullOrUndefined(ew)){return}var ex=$(ev);var ey=this.props.getDesiredHeight(ex);var ez=$(ew);var eA=tab.PointUtil.fromPosition(ez.offset());var eB=eu.getVisibleRoom(eA);var eC=ez.innerHeight();var eD=eB.roomBelow-eC-3;var eE=eB.roomAbove-3;var eF=eD>=Math.min(ey,eE);var eG=(eF?eD:eE);ey=Math.min(ey,ss.Int32.trunc(eG));var eH=(eF?'auto':(eC+'px'));var eI=(eF?(eC+'px'):'auto');ex.css('bottom',eH);ex.css('top',eI);ex.height(ey);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var eJ=this.props.getMinimumWidth(ex);if(eJ>eB.roomRight){var eK=eJ-eB.roomRight+13;ex.css('left',-1*eK+'px')}ex.css('min-width',eJ)}},$3:function(eu){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(eu)}},render:function(){var eu='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){eu+=' '+this.props.styleClass}return React.DOM.div({className:eu,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5},bw.div({tap:ss.mkdel(this,function(ev){this.props.onSelectorToggled()})},{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[React.DOM.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},React.DOM.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dP,a,{},cB,[bW,ss.IDisposable]);ss.initClass(dQ,a,{updateWidgetState:function(eu){this.get_widget().set_label(eu.label);this.get_widget().set_disabled(ss.coalesce(eu.disabled,false));this.get_widget().set_hoverTooltipText(eu.tooltipText)},handleWidgetPropertyChanged:function(eu,ev){}},ss.makeGenericType(dx,[cB,Object,Object]));ss.initClass(dR,a,{});ss.initClass(dS,a,{add_tabChanged:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},remove_tabChanged:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(eu){if(!ss.referenceEquals(this.$4,eu)){this.$4=eu;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(eu,ev,ew,ex){if(ss.keyExists(this.$3,eu)){return}var ey=this.$5.createTabLabel(eu,ev);ey.domRoot.addClass('tabTabLabelId-'+eu);var ez=new ee(ey.domRoot);var eA=ss.mkdel(this,function(eB,eC){if(eC.get_propertyName()==='selected'&&ez.get_selected()){this.$0(ew.get_rootElement(),eu)}});ez.add_propertyChanged(eA);this.$2.add$1(new tab.CallOnDispose(function(){ez.remove_propertyChanged(eA)}));this.$2.add$1(ez);this.$1.addItem(ez);this.$3[eu]=ez;this.$5.get_tabs().append(ey.domRoot);ew.addToDom(this.$5.get_contentArea());if(ex){this.selectTab(eu)}else{ez.set_disabled(true)}},selectTab:function(eu){if(!ss.keyExists(this.$3,eu)){return}this.$1.selectItem(this.$3[eu])},enableTab:function(eu,ev){if(!ss.keyExists(this.$3,eu)){return}this.$3[eu].set_disabled(!ev);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(eu,ev){this.$5.get_contentArea().children().hide();eu.show();this.set_activeTabId(ev)}},null,[ss.IDisposable]);ss.initClass(dT,a,{$9:function(eu){this.$1$1=ss.delegateCombine(this.$1$1,eu)},$a:function(eu){this.$1$1=ss.delegateRemove(this.$1$1,eu)},$5:function(eu){this.$1$2=ss.delegateCombine(this.$1$2,eu)},$6:function(eu){this.$1$2=ss.delegateRemove(this.$1$2,eu)},$7:function(eu){this.$1$3=ss.delegateCombine(this.$1$3,eu)},$8:function(eu){this.$1$3=ss.delegateRemove(this.$1$3,eu)},$b:function(eu){this.$1$4=ss.delegateCombine(this.$1$4,eu)},$c:function(eu){this.$1$4=ss.delegateRemove(this.$1$4,eu)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(eu){this.$4=eu},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(eu){this.$9(eu);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(eu)})));return this},onClick:function(eu){this.$5(eu);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(eu)})));return this},onDoubleClick:function(eu){this.$7(eu);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(eu)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(eu){this.$b(eu);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(eu)})));return this},$0:function(eu,ev){if(!by.isHandling(this.eventConfig,eu)){var ew={};by.setHandler(ew,eu,ev);this.handler.update(ew);$.extend(this.eventConfig,ew)}},raiseEvent:function(eu,ev,ew){if(ss.isValue(ev)){if(ew){eu.stopPropagation()}ev(eu)}},handlePressEvent:function(eu){this.$2=eu.pageX;this.$3=eu.pageY;this.raiseEvent(eu,this.$1$1,false)},handleClickEvent:function(eu){this.raiseEvent(eu,this.$1$2,this.$4);if(eu.type==='touchend'){I.preventGhostClick(this.$2,this.$3)}},handleDoubleClickEvent:function(eu){this.raiseEvent(eu,this.$1$3,this.$4)},handleRightClickEvent:function(eu){eu.preventDefault();this.raiseEvent(eu,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dU,a,{get_domElement:function(){return this.config.domElem},setupEventRecognizer:function(eu){this.$2=new bA(eu);this.$2.setupPressDrag(eu)},suppressHover:function(){if(by.isUsingHover(this.config)){this.$2.suppressHover()}},unsuppressHover:function(){if(by.isUsingHover(this.config)){this.$2.unsuppressHover()}},cancelHover:function(){if(by.isUsingHover(this.config)){this.$2.cancelHover()}},getHandledEvents:function(){var eu=[];var ev=this.config;var ew=ss.getEnumerator(Object.keys(ev));try{while(ew.moveNext()){var ex=ew.current();if(ss.isValue(ev[ex])&&ss.referenceEquals(ss.getInstanceType(ev[ex]),Function)){eu.push(ex)}}}finally{ew.dispose()}return eu},update:function(eu){$.extend(this.config,eu);this.$2.updateAllGestures(this.config);this.$2.setupPressDrag(this.config)},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$3)){var eu=ss.getEnumerator(de.get_allHandledEvents());try{while(eu.moveNext()){var ev=eu.current();this.$3.domElement.removeEventListener(ev.toString(),this.$3.eventHandler)}}finally{eu.dispose()}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}this.$2.dispose()},configureDomElem:function(eu){if(!ss.equalsT(eu.tagName.toLowerCase(),'input')&&(ss.isNullOrUndefined(eu.style['user-select'])||ss.staticEquals(eu.style['user-select'],''))&&(ss.isNullOrUndefined(eu.style['-webkit-user-select'])||ss.staticEquals(eu.style['-webkit-user-select'],''))){eu.style['-webkit-user-select']='none'}eu.style['-webkit-touch-callout']='none';eu.style['-webkit-tap-highlight-color']='transparent';eu.style['-ms-touch-action']='none'},$1:function(eu){if(eu.touches.length>1&&!eu.get_allTouchesShareCurrentTarget()){this.$2.cancelAllGestures();return true}return false},handler:function(eu){var ev=!tsConfig.is_mobile&&eu.get_isTouchEvent();var ew=tab.DomUtil.handleTouchEvents(eu.target);if(ev&&!ew){return}else if(ev&&ew){eu.originalEvent.preventDefault()}if(this.$1(eu)){return}this.$2.handleEvent(eu,this.config)},$0:function(eu){var ev=ss.mkdel(this,function(ey){var ez=de.create(ey,this.config.domElem,null);this.handler(ez)});this.$3={domElement:eu,eventHandler:ev};var ew=ss.getEnumerator(de.get_allHandledEvents());try{while(ew.moveNext()){var ex=ew.current();eu.addEventListener(ex.toString(),ev,false)}}finally{ew.dispose()}}},null,[ss.IDisposable]);dU.$ctor1.prototype=dU.prototype;ss.initClass(dV,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(eu){this.$2$1=eu},updateEventHandleSpec:function(eu,ev){this.config=ev||{};this.config.domElem=eu;this.configureDomElem(eu);this.setupEventRecognizer(this.config)},$4:function(){var eu={};var ev=ss.mkdel(this,function(ez){var eA=de.create(ez.nativeEvent,this.config.domElem,ez);this.handler(eA)});var ew=ss.getEnumerator(de.get_allHandledEvents());try{while(ew.moveNext()){var ex=ew.current();var ey=dV.$0(ex);if(ss.isValue(ey)){eu[ey]=ev}else{}}}finally{ew.dispose()}return eu}},dU,[ss.IDisposable]);ss.initClass(dW,a,{componentWillMount:function(){this.setState(this.$3)},render:function(){var eu=this.props.rows;if(ss.isNullOrUndefined(eu)||eu.length===0){return React.DOM.div({className:'tab-table-body'})}var ev=this.$1();var ew=this.state.indexOfFirstVisibleSection*dW.sectionHeight;var ex=React.DOM.div({style:{paddingTop:ew,height:eu.length*y.outerHeight-ew}},ev);var ey=[];ey.push('tab-table-body');if(this.props.showHeaders){ey.push('tab-table-body-below-headers')}return React.DOM.div({className:ey.join(' ')},ex)},$1:function(){return React.createElement(dk,{items:_.map(this.props.rows,function(eu){return{data:eu}}),fetchNextPage:this.props.fetchNextPage,cols:this.props.cols,colWidths:this.props.colWidths,measureColumnWidths:this.props.measureColumnWidths,onClick:this.props.onClick,onRightClick:this.props.onRightClick,selectedKeys:this.props.selectedKeys,showGridLines:this.props.showGridLines})},componentDidMount:function(){this.$0(this.props.requestedFocusedRowIndex)},componentWillReceiveProps:function(eu){if(!ss.referenceEquals(eu.requestedFocusedRowIndex,this.props.requestedFocusedRowIndex)){this.$0(eu.requestedFocusedRowIndex)}},$0:function(eu){if(ss.isValue(eu)){this.setState({focusedRowIndex:Math.min(Math.max(ss.unbox(eu),0),this.props.rows.length-1)},ss.mkdel(this,function(){this.$2();return null}))}},$2:function(){var eu=$(ReactDOM.findDOMNode(this));var ev=tab.DoubleUtil.roundToInt(eu.scrollTop());var ew=tab.DoubleUtil.roundToInt(eu.height())-dZ.scrollbarWidth;var ex=ss.unbox(this.state.focusedRowIndex)*y.outerHeight;var ey=ex+y.outerHeight;if(ex<ev){window.setTimeout(function(){eu.scrollTop(ex)},0)}else if(ey>ev+ew){window.setTimeout(function(){eu.scrollTop(ey-ew)},0)}}},React.Component);ss.initClass(dX,a,{});ss.initEnum(dY,a,{ascending:0,descending:1});ss.initClass(dZ,a,{componentWillReceiveProps:function(eu){this.$4(eu)},componentWillMount:function(){this.setState({isShowingLoadingIndicator:true})},componentDidMount:function(){var eu=ReactDOM.findDOMNode(this).getBoundingClientRect();this.$7=Math.ceil(eu.right-eu.left);this.$4(this.props)},$5:function(eu,ev){var ew={};ew[eu.name]=ev},$3:function(eu){this.$b=eu;this.$4(this.props)},$2:function(eu){this.$a=eu;this.$4(this.props)},$4:function(eu){if(ss.isValue(this.$a)&&(!eu.showHeaders||ss.isValue(this.$b))){var ev={};var ew={};var ex=0;_.each(eu.cols,ss.mkdel(this,function(eF){var eG=eF.name;var eH;if(ss.isValue(eF.preferredWidth)){eH=ss.unbox(eF.preferredWidth)}else{eH=Math.max(this.$a[eG],(ss.isValue(this.$b)?this.$b[eG]:0))}ev[eG]=eH;var eI=(ss.isNullOrUndefined(eu.maxColumnWidth)?dZ.$2:ss.unbox(eu.maxColumnWidth));ew[eG]=((eI===-1)?eH:Math.min(eH,dZ.$2));ex+=ew[eG]}));var ey=this.$7-ex;var ez=0;for(var eA=0;eA<eu.cols.length&&ey>0;eA++){var eB=eu.cols[eA];var eC=ev[eB.name]-ew[eB.name];if(eC>0){var eD=Math.min(eC,ey);ew[eB.name]+=eD;ey-=eD}if(eB.growToFit){ez+=1}}if(ey>0&&ez>0){var eE=ss.Int32.div(ey,ez);_.each(eu.cols,function(eF){if(eF.growToFit){ew[eF.name]+=eE}})}this.setState({colWidths:{widths:ew}});if(!ss.staticEquals(eu.reportWidth,null)){eu.reportWidth(ex+dZ.scrollbarWidth)}}return null},render:function(){var eu=this.props.cols;var ev=this.props.rows;var ew=this.state.colWidths;var ex=this.state.scrollLeft;var ey=null;var ez=null;if(this.props.showHeaders){ey=bO.createHeaderRow({key:'header',cols:eu,colWidths:ew||this.$1(),sortKey:this.props.sortKey,sortAscending:this.props.sortAscending,onHeaderClicked:this.props.onHeaderClicked,measureColumnWidths:this.$9,scrollLeft:ex,onColumnResize:this.$c})}if(ss.isValue(ev)&&ev.length>0){ez=dW.createTableBody({key:'body',showHeaders:this.props.showHeaders,showGridLines:this.props.showGridLines,cols:eu,colWidths:ew,measureColumnWidths:this.$8,reportScrollLeft:this.$6,rows:ev,requestedFocusedRowIndex:this.props.requestedFocusedRowIndex,selectedKeys:this.props.selectedKeys||dZ.$1,onClick:this.props.onCellClick,onRightClick:this.props.onCellRightClick,fetchNextPage:this.props.fetchNextPage})}else{ez=bv.createEmptyBody({key:'emptyBody',emptyChild:React.DOM.div({},this.props.emptyChild)})}var eA=new dD;eA.augmentedScrollY=false;eA.extraCssClass='tab-react-data-grid-hscroll';eA.mouseWheel=false;eA.scrollbars=true;eA.scrollX=true;eA.scrollY=false;var eB=eA;var eC=dC.createScroller(eB,[React.DOM.div({className:'tb-react-data-grid',tabIndex:0,style:{outline:'none',height:this.props.height}},ey,ez)]);return React.DOM.div({ref:'TableComponent'},eC)},$1:function(){if(ss.isNullOrUndefined(this.$b)){return null}var eu=0;var ev=0;_.each(this.props.cols,ss.mkdel(this,function(ez){if(ss.isValue(ez.preferredWidth)){eu+=ss.unbox(ez.preferredWidth)}else{eu+=this.$b[ez.name]}if(ez.resizable){ev++}}));var ew=this.$7-dZ.scrollbarWidth-eu;var ex={widths:{}};if(ew>0&&ev>0){var ey=ss.Int32.div(ew,ev);_.each(this.props.cols,ss.mkdel(this,function(ez){if(ez.resizable){var eA;if(ss.isValue(ez.preferredWidth)){eA=ss.unbox(ez.preferredWidth)}else{eA=this.$b[ez.name]}ex.widths[ez.name]=eA+ey}}))}else if(ev===0){ex.widths=this.$b}return ex},$0:function(eu){if(eu!==this.state.scrollLeft){this.setState({scrollLeft:eu})}}},React.Component);ss.initClass(ea,a,{});ss.initClass(ec,a,{render:function(){var eu='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var ev=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bH,{styleClass:'tab-TextDropdownButton '+ev,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return React.DOM.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),React.DOM.span({className:eu,key:'text'},this.props.selectionText)]})})}},ds);ss.initClass(ef,a,{add_toggled:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_toggled:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},get_toggleValue:function(){return this.$0},set_toggleValue:function(eu){if(eu!==this.get_toggleValue()){this.raiseToggled()}this.$0=eu},get_data:function(){return this.$2$2},set_data:function(eu){this.$2$2=eu},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},w,[ss.IDisposable,cz]);ss.initEnum(eg,a,{left:0,center:1,right:2});ss.initEnum(eh,a,{left:0,right:1});ss.initEnum(ei,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(ej,a,{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}});ej.$ctor1.prototype=ej.prototype;ss.initClass(ek,a,{get_caretHeight:function(){if(!ss.isValue(ek.$1)){ek.$1=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(ek.$1)}},eb,[ss.IDisposable]);ss.initEnum(el,a,{standard:0,minimalist:1});ss.initClass(em,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(eu){if(eu.which===27&&!(eu.metaKey||eu.shiftKey||eu.ctrlKey||eu.altKey)){this.get_viewModel().hide(false);eu.preventDefault();eu.stopPropagation()}}))},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(v,[en]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(eu,ev){if(ev.get_propertyName()==='mode'){this.updateMode()}else if(ev.get_propertyName()==='size'){this.positionPopup()}else if(ev.get_propertyName()==='content'){this.updateContent()}},shown:function(){var eu=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(eu.theme===1){this.element.addClass('tabUberPopupMinimal')}if(eu.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(eu.additionalClassNames)){eu.additionalClassNames.forEach(ss.mkdel(this,function(ev){this.element.addClass(ev)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bJ;this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bK.add_firstTouch(ss.mkdel(this,this.$8));bK.add_dismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){bK.remove_firstTouch(ss.mkdel(this,this.$8));bK.remove_dismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(eu,ev){if(this.get_template().domRoot.get(0).contains(eu.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var ew=0;ew<this.popupViewModel.options.globalTouchWhitelist.length;ew++){var ex=this.popupViewModel.options.globalTouchWhitelist[ew];if(ex.contains(eu.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var eu=this.get_viewModel().options;if(!eu.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(eu.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(eu.useCaret);this.get_dom().caretBorder.toggle(eu.useCaret)},positionPopupHorizontally:function(){var eu=this.get_viewModel().options;var ev=this.get_viewModel().get_relativeElement();var ew=$(ev.prop('ownerDocument'));var ex=this.get_width();var ey=tab.DomUtil.getPageOffset(ev).left;if(eu.horizontalAlign===1){ey+=ev.outerWidth(false)/2;ey-=ex/2}else if(eu.horizontalAlign===2){ey+=ev.outerWidth(false);ey-=ex}var ez=ey+ex-ew.width();if(ez>0){ey-=ez}if(eu.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(ey,0)+'px')}else{var eA=$('body').outerWidth(true);var eB=eA-(ey+ex);eB-=Math.max(0,eB+ex-eA);this.element.css('left','');this.element.css('right',eB+'px')}if(eu.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(ev.outerWidth(false)))}},$9:function(){var eu=this.get_viewModel().options;var ev=this.get_viewModel().get_relativeElement();var ew=$('body');var ex=tab.DomUtil.getPageOffset(ev).top;if(eu.preferUp){ex+=1;ex+=(eu.coverRelativeElement?ev.outerHeight(false):0);var ey=ew.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(ey-ex)+'px')}else{ex-=1;ex+=(eu.coverRelativeElement?0:ev.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(ex)+'px')}},positionPopupVertically:function(){var eu=this.get_viewModel().options;var ev=this.get_viewModel().get_relativeElement();var ew=tab.DomUtil.getPageOffset(ev);var ex=tab.DomUtil.roomAroundPosition(ew);var ey=ev.outerHeight(false);var ez=((eu.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(eu.isPopupHeightLimited()){this.$b(ex,ez,ey)}var eA=this.get_height();var eB=ex.roomBelow>=eA+ey+ez;var eC=ex.roomAbove>eA+ez;var eD=this.popupViewModel.options.useCaret;if(eD){eC=ex.roomAbove>eA+this.get_dom().get_caretHeight()+4+ez}var eE=ew.top+ey;var eF=ew.top-eA;var eG;if(eu.preferUp&&eC){eG=eF}else if(eB&&!eD){eG=eE}else if(eC){eG=eF}else if(ex.roomBelow>=ex.roomAbove&&!eD){eG=ew.top-(eA-ex.roomBelow+ez)}else{eG=ew.top-ex.roomAbove+ez}if(eD){eG-=this.get_dom().get_caretHeight()+4}this.element.css('top',eG+'px')},$b:function(eu,ev,ew){var ex=this.get_viewModel().options;var ey=null;if(ex.limitPopupHeight){ey=Math.max(eu.roomAbove,eu.roomBelow-ew)-ev}if(ss.isValue(ex.maxPopupHeight)){var ez=ey;if(ss.isNullOrUndefined(ez)){ez=Number.MAX_VALUE}var eA=ez;ey=Math.min(eA,ss.unbox(ex.maxPopupHeight))}if(ss.isValue(ey)){this.element.css('max-height',ey+'px')}},updateContent:function(){this.disposeContent();var eu=this.get_template().content;eu.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(eu)}}},ss.makeGenericType(v,[en]),[bW,ss.IDisposable,ss.makeGenericType(cy,[en])]);ss.initClass(en,a,{add_shown:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_shown:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},add_hidden:function(eu){this.$2$2=ss.delegateCombine(this.$2$2,eu)},remove_hidden:function(eu){this.$2$2=ss.delegateRemove(this.$2$2,eu)},add_commit:function(eu){this.$2$3=ss.delegateCombine(this.$2$3,eu)},remove_commit:function(eu){this.$2$3=ss.delegateRemove(this.$2$3,eu)},get_mode:function(){return this.options.popupMode},set_mode:function(eu){if(this.options.popupMode===eu){return}this.options.popupMode=eu;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(eu){this.$0=eu;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(eu){this.remove_hidden(ss.mkdel(this,this.dispose));if(eu){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(eu){this.$1=function(){return eu}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(eu){this.$2$4=eu},createContentView:function(){return dg.newView$1(ss.makeGenericType(cy,[cz])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(eu){if(eu&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(eu){this.disposables.add$1(eu)}},w,[ss.IDisposable,cz]);en.$ctor1.prototype=en.prototype;ss.initClass(eo,a,{});ss.initClass(ep,a,{},cW);ss.initClass(eq,a,{},cW);ss.initClass(er,a,{render:function(){var eu=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){eu=this.props.disabledText}var ev=React.DOM.input({type:'text',value:eu,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var ew=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bw.div({tap:ss.mkdel(this,function(ey){this.$7()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-up'})]),bw.div({tap:ss.mkdel(this,function(ey){this.$2()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-down'})]));var ex=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ev,ew);if(ss.isValue(this.props.label)){ex=React.DOM.div(null,React.DOM.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),ex)}ex=React.DOM.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},ex);if(ss.isValue(this.props.extraCssClass)){ex=React.DOM.div({className:this.props.extraCssClass},ex)}return ex},componentWillReceiveProps:function(eu){this.setState(er.$0(eu.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(eu){this.$1();var ev=eu.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:ev.value})},$0:function(eu){this.$1();var ev={};if(!ss.Int32.tryParse(this.state.displayValue,ev)){ev.$=this.state.value}this.$a(ev.$)},$5:function(eu){switch(eu.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(eu){switch(eu.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(eu){this.$1();if(this.props.actionDelay===0){this.$a(eu)}else{this.$9(eu);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(eu){eu=this.$4(eu);var ev=eu!==this.state.value;this.setState(er.$0(eu));if(ev&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(eu)}},$4:function(eu){if(ss.isValue(this.props.minValue)){eu=Math.max(eu,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){eu=Math.min(eu,ss.unbox(this.props.maxValue))}return eu},$9:function(eu){eu=this.$4(eu);this.setState({value:this.state.value,pendingValue:eu,displayValue:eu.toString()})}},React.Component);ss.initClass(es,a,{});ss.setMetadata(cy,{variance:[1]});(function(){bC.$0=0})();(function(){dC.$1=null;dC.$1={};dC.$1[0]=b})();(function(){d.$0="<span class='tabTabLabel' />"})();(function(){cZ.$2=null;cZ.$3=null;cZ.$1=false})();(function(){h.$3={};h.$9={};h.$6={};h.$5={};h.$7={};h.$8={};h.$4={};h.$2()})();(function(){de.$0=0})();(function(){i.$3=new Array(10)})();(function(){j.$0="\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){l.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){m.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){n.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){et.$2='widgetInstance';et.$1='tab-widget';et.$0='.tab-disableSelection';et.$3=0;et.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}et.selectableNodeClass='tab-selectable'})();(function(){cY.$8=null})();(function(){I.suppressClickBustingClass=SharedWidgets.SuppressClickBustingClass;I.$2=25;I.$3=null;I.$1$1=null})();(function(){bb.noOp=new bb('cursors/dragnop-black.cur','auto');bb.delete$1=new bb('cursors/dragdel-black.cur','auto');bb.copy=new bb('cursors/dragcopy-black.cur','auto');bb.move=new bb('cursors/dragmove-black.cur','auto')})();(function(){bK.$1$1=null;bK.$1$2=null;bK.$1$3=null;bK.$1$4=null;bK.$1$5=null;bK.$1$6=null;bK.$1$7=null})();(function(){bT.hoverTime=150;bT.fastHoverTime=120})();(function(){bI.doubleTapTime=390;bI.potentialPressTime=500;bI.pressTime=750;bI.defaultSlop=5;bI.$1='tab-'})();(function(){bJ.$1="<div class='tab-glass clear-glass'></div>";bJ.$0='clear-glass';bJ.$2='opaque-glass'})();(function(){bo.$g='tabDragSource';bo.$i='.tabDragSource';bo.$h='tabDragSource';bo.$j='tabDropTarget';bo.$l='.tabDropTarget';bo.$k='tabDropTarget';bo.$n=null;bo.$o=null;bo.$v=null;bo.$u=null;bo.$x=null;bo.$w=0;bo.$m=null;bo.$t=null;bo.$q=null;bo.$r=null;bo.$y=[];bo.$s=null;bo.$p=null;bo.$1$1=null;bo.$1$2=null;bo.$1$3=null;bo.$1$4=null;bo.$1$5=null;bo.$t={};bo.$t.dragStart=bo.dragStart;bo.$t.dragMove=bo.dragMove;bo.$t.dragEnd=bo.dragEnd;bo.$t.pressEnd=bo.dragEnd;bo.$t.firstTouch=bo.firstTouch})();(function(){bA.$2='none'})();(function(){dV.$1=null})();(function(){dm.$0='tab-table-bcell tab-table-textcell'})();(function(){df.$0='tab-table-bcell tab-table-numcell'})();(function(){y.$0='bodyRow';y.innerHeight=30;y.outerHeight=y.innerHeight;y.$1='tab-table-brow-selected'})();(function(){ee.defaultSelectedClassName='selected';ee.selectedProperty='selected';ee.toggleClassProperty='selectedClass';ee.$1=0})();(function(){cC.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";cC.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";cC.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";cC.$3="<span class='innerIcon'></span>";cC.$6='.label';cC.$1='hide';cC.$7='tab-unification-check';cC.$8='tab-img-check';cC.$9='tab-unification-radio'})();(function(){ed.textPropertyName='text'})();(function(){H.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){J.$1=10;J.$0=300;J.$2=0})();(function(){dF.$0='__ALL__'})();(function(){dN.getSpiffBrowserViewportFunc=null})();(function(){dO.$2='selector';dO.$0='relative';dO.$1=3;dO.$3=13})();(function(){cP.$0=0})();(function(){S.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){dg.$2=null})();(function(){cT.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cR.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cS.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cU.defaultMenuItem='tabMenuDefaultItem';cU.classMenuItem='tabMenuMenuItem';cU.keyMenuItem='tabMenuMenuItem';cU.menuFadeDurationMs=50;cU.$3='tabMenuMenuItemLevel';cU.$1='tabMenuHasIconTwo';cU.$0=989;cU.$2=1000})();(function(){U.iconPressedClass='tabComboBoxNoIconPressed';U.invalidClass='invalid';U.noIconClass='tabComboBoxNoIcon';U.pressedClass='pressed';U.disabledClass='disabled';U.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cH.listItemSpotlightedClassName='tab-list-item-spotlighted';cH.boldClass='bold';cH.invalidClass='invalid'})();(function(){cI.selectedProperty='selected';cI.invalidProperty='invalid';cI.draggableProperty='draggable';cI.spotlightedProperty='spotlighted';cI.boldProperty='bold'})();(function(){cM.collectionProperty='collection';cM.enabledProperty='enabled'})();(function(){cN.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){dg.registerType(dn,dn).call(null)})();(function(){ej.startingGlassZIndex=987})();(function(){em.minimalistThemeClass='tabUberPopupMinimal'})();(function(){W.listClassName='tabCompositeSearchWidgetList';W.$0=400})();(function(){cB.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cB.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cB.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";cB.$3="<span class='tab-text-button'><span class='label hide'></span></span>";cB.$4='.label'})();(function(){Y.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){bc.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){bf.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){bg.$1=1;bg.$0=9})();(function(){bd.centeredVerticallyClassName='centeredVertically';bd.scrollableClassName='scrollable';bd.$1=8})();(function(){da.$0=function(){}})();(function(){di.$c=2500;di.$d=75;di.$j=null;di.$k=null;di.$e=0;di.$f=0;di.$i=null;di.$h=null;di.$g=false;di.$1$1=null;di.init()})();(function(){bi.positionProperty='position';bi.isActiveProperty='isActive';bi.$0='active';bi.$2='.tab-dialogCloseButton';bi.$1='.tab-dialogBodyContainer';bi.$7='.tab-dialogTitleBar';bi.$8='.tab-dialogTitle';bi.$5='.tab-dialogResizer';bi.$6='.tab-dialogSpinnerContainer';bi.$4="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bi.$9=null;bi.$3=new dd;bi.defaultDraggableDialogConfigurer=null;bi.defaultStationaryDialogConfigurer=null;bi.defaultDraggableDialogConfigurer=function(eu){var ev=new db(eu.$u,eu.$g,false);ev.set_documentBodySize('useClientSize');return ev};bi.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bu.$0='editing';bu.$1='hover'})();(function(){bG.$6='tab-showFocusIndicator';bG.$8=true;bG.$7=null})();(function(){cL.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dK}})();(function(){dR.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){dg.registerType(dS,dS).call(null)})();(function(){dZ.dataGridClass='tb-react-data-grid';dZ.$0='TableComponent';dZ.$2=200;dZ.$1=[];dZ.scrollbarWidth=20;dZ.minimumColumnWidth=35})();(function(){dW.sectionRows=10;dW.sectionHeight=dW.sectionRows*y.outerHeight})();(function(){ek.contentClassName='tabUberPopupContent';ek.caretClassName='tabUberArrow';ek.caretBorderClassName='tabUberArrow2';ek.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>";ek.$1=null})();(function(){eo.designTint='tab-DesignTint';eo.text='tab-Text';eo.bold='tab-bold';eo.italic='tab-italic';eo.underline='tab-underline';eo.darkBackground='tab-darkBackground';eo.title='tab-Title';eo.button='tab-UnifiedButton';eo.icon='tab-Icon';eo.iconButton='tab-IconBtn';eo.vScrollable='tab-vScrollable';eo.selectableButtonGroup='tab-SelectableButtonGroup';eo.selectionMark='tab-SelectionMark';eo.active='active';eo.hover='hover';eo.hitTestArea='tab-HitTestArea';eo.focused='focused';eo.bordered='bordered';eo.disabled='disabled';eo.selectable='selectable';eo.selected='selected';eo.unselected='unselected';eo.excluded='excluded';eo.search='tab-Search';eo.searchField='tab-UnifiedSearchField';eo.searchClearButton='tab-SearchClearButton';eo.positioningContainer='tab-PositioningContainer';eo.searchInput='tab-SearchInput';eo.ghostText='tab-GhostText';eo.textInput='tab-TextInput';eo.glass='tab-Glass';eo.catQF='tab-NewQF-CategoricalQuickFilter';eo.titleAndCtrl='tab-TitleAndControls';eo.horizontalLayout='tab-HorizontalLayout';eo.qfTitleBarButton='tab-NewQFTitleBarBtn';eo.dropdownButtonIcon='tab-NewQFTitleBarDropdownBtnIcon';eo.searchButtonIcon='tab-NewQFTitleBarSearchBtnIcon';eo.clearButtonEnabledIcon='tab-NewQFTitleBarFilteredBtnIcon';eo.clearButtonDisabledIcon='tab-NewQFTitleBarNonFilteredBtnIcon';eo.domainButtonAllIcon='tab-NewQFTitleBarDomainAllIcon';eo.domainButtonContextIcon='tab-NewQFTitleBarDomainContextIcon';eo.domainButtonRelevantIcon='tab-NewQFTitleBarDomainRelevantIcon';eo.applyCancelPanel='tab-ApplyCancelPanel';eo.applyCancel='apply-cancel';eo.apply$1='apply';eo.cancel='cancel';eo.sliderControlClass='unification-slider-control';eo.sliderContainerClass='tabHorizontalSliderContainer';eo.sliderInputClass='tabHorizontalSlider';eo.sliderTextBoxClass='tabHorizontalSliderPercentageText';eo.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[ss.IDisposable,spiff.IViewModel,spiff.IHasEnabledState]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){};b.__typeName='tab.IAliasDialogModule';global.tab.IAliasDialogModule=b;var c=function(){};c.__typeName='tab.IAuthoringStoryboardView';global.tab.IAuthoringStoryboardView=c;var d=function(){};d.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=d;var e=function(){};e.__typeName='tab.IBinDialogModule';global.tab.IBinDialogModule=e;var f=function(){};f.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=f;var g=function(){};g.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=g;var h=function(){};h.__typeName='tab.IConnectionDialogModule';global.tab.IConnectionDialogModule=h;var i=function(){};i.__typeName='tab.IDataConnectionModule';global.tab.IDataConnectionModule=i;var j=function(D){var E=function(){};ss.registerGenericInterfaceInstance(E,j,[D],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[D])]});ss.setMetadata(E,{variance:[1]});return E};j.__typeName='tab.IDataConnectionPromptView$1';ss.initGenericInterface(j,a,1);global.tab.IDataConnectionPromptView$1=j;var k=function(){};k.__typeName='tab.IDataConnectionPromptViewModel';global.tab.IDataConnectionPromptViewModel=k;var l=function(){};l.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=l;var m=function(){};m.__typeName='tab.IEditAxisDialogModule';global.tab.IEditAxisDialogModule=m;var n=function(){};n.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=n;var o=function(){};o.__typeName='tab.IPaneContent';global.tab.IPaneContent=o;var p=function(){};p.__typeName='tab.IParameterFilterViewModel';global.tab.IParameterFilterViewModel=p;var q=function(){};q.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=q;var r=function(){};r.__typeName='tab.IQuickFilterViewModel';global.tab.IQuickFilterViewModel=r;var s=function(){};s.__typeName='tab.IRichTextAuthoringModule';global.tab.IRichTextAuthoringModule=s;var t=function(){};t.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=t;var u=function(){};u.__typeName='tab.ISharedWidgetsDataGrid';global.tab.ISharedWidgetsDataGrid=u;var v=function(){};v.__typeName='tab.ISharedWidgetsPlayground';global.tab.ISharedWidgetsPlayground=v;var w=function(){};w.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=w;var x=function(){};x.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=x;var y=function(){};y.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=y;var z=function(){};z.__typeName='tab.IStoryModule';global.tab.IStoryModule=z;var A=function(){};A.__typeName='tab.ITrendLineDialogModule';global.tab.ITrendLineDialogModule=A;var B=function(){};B.__typeName='tab.IUnificationStyleQuickFiltersModule';global.tab.IUnificationStyleQuickFiltersModule=B;var C=function(){};C.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=C;ss.initInterface(b,a,{showDialog:null});ss.initInterface(c,a,{addToDom$1:null},[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[d])]);ss.initInterface(d,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(e,a,{showDialog:null});ss.initInterface(f,a,{createCommentingModuleViewModel:null});ss.initInterface(g,a,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null},[spiff.IContent]);ss.initInterface(h,a,{showCreateConnectionDialog:null});ss.initInterface(i,a,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(k,a,{get_promptUpdated:null,set_promptUpdated:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(l,a,{showDataTab:null,hideDataTab:null});ss.initInterface(m,a,{showDialog:null});ss.initInterface(n,a,{showGroupDialog:null});ss.initInterface(o,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(p,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(q,a,{createPdfExportDialog:null});ss.initInterface(r,a,{get_filterType:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(s,a,{showRichTextEditor:null});ss.initInterface(t,a,{createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(u,a,{createGrid:null,createArrayRowStore:null,createRowBandingStylist:null});ss.initInterface(v,a,{show:null});ss.initInterface(z,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(w,a,{newAuthoringStoryboardViewModel:null},[z]);ss.initInterface(x,a,{},[ss.IDisposable,spiff.IViewModel,o]);ss.initInterface(y,a,{},[ss.IDisposable,spiff.IViewModel,o]);ss.initInterface(A,a,{showDialog:null});ss.initInterface(B,a,{newQuickFilterViewModel:null,newParameterFilterViewModel:null,getQuickFilterView:null,getParameterFilterView:null});ss.initInterface(C,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.setMetadata(j,{variance:[1]})})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,L,fX){var fY=e.zmP[L].PoP02;var fZ=e.TTN02;var ga=[];var gb=e.dhm;var gc=_.keys(gb);for(var gd=0;gd<gc.length;gd++){var ge=gc[gd];if(ss.referenceEquals(ge,fZ)){continue}var gf=gb[ge];if(!ss.isNullOrEmptyString(fX)&&!ss.referenceEquals(gf.UyO02,fX)){continue}var gg=[];for(var gh=0;gh<gf.Dfq.length;gh++){var gi=gf.Dfq[gh];if(ss.isValue(gi._HL)){continue}if(gi.VzB==='fhq'){continue}var gj=gi;if(ss.isValue(gj.MWY)){for(var gk=0;gk<gj.MWY.length;gk++){var gl=gj.MWY[gk];var gm=Q.newField(gl.dMo02,f.$2(gl.YIQ02),f.$1(gl.Ymv02));gg.push(gm)}}else{var gn=Q.newField(gi.dMo02,f.$2(gi.tgs02),f.$1(gi.fuT02));gg.push(gn)}}var go=ss.referenceEquals(gf.UyO02,fY);var gp=Q.newDataSource(gf.UyO02,Array.prototype.slice.call(gg),go);ga.push(gp)}var gq=Q.newDataSourcesForWorksheet(L,Array.prototype.slice.call(ga));return gq};var f=function(){};f.__typeName='tab.$1';f.$0=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};f.$6=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};f.$1=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};f.$2=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};f.$3=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};f.$4=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};f.$5=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};f.$7=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};var g=function(e,L,fX,fY,fZ){this.$w=0;this.$v=null;H.call(this,e,L,fX,fY,fZ,2147483647);this.$e(this.$q());this.$o().width(this.$i())};g.__typeName='tab.$10';var h=function(e,L,fX,fY,fZ,ga){this.$v=0;H.call(this,e,L,fX,fY,fZ,ga);this.$e(this.$q());this.$o().width(this.$i())};h.__typeName='tab.$11';var i=function(e,L,fX,fY,fZ,ga){this.$v=0;H.call(this,e,L,fX,fY,fZ,ga);this.$f(this.$q());this.$o().height(this.$i())};i.__typeName='tab.$12';var j=function(e,L,fX,fY,fZ,ga){this.$v=0;H.call(this,e,L,fX,fY,fZ,ga);this.$e(this.$q());this.$o().width(this.$i())};j.__typeName='tab.$13';var k=function(e,L,fX,fY,fZ,ga){this.$v=0;H.call(this,e,L,fX,fY,fZ,ga);this.$f(this.$q());this.$o().height(this.$i())};k.__typeName='tab.$14';var l=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};l.__typeName='tab.$15';var m=function(){};m.__typeName='tab.$16';m.$2=function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}m.$0(e);m.$1(e);m.$3(e)}};m.$3=function(e){if(e.style.width!=='auto'){return}var L=m.$4(e,0);if(ss.isNullOrUndefined(L)){return}e.style.width=ss.unbox(L)+'px'};m.$1=function(e){if(e.style.height!=='auto'){return}var L=m.$4(e,1);if(ss.isNullOrUndefined(L)){return}e.style.height=ss.unbox(L)+'px'};m.$0=function(e){var L=e.parentElement;var fX={h:L.offsetHeight,w:L.offsetWidth};var fY=tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize();if(fY.maxWidth===0&&fY.maxHeight===0){return}if(fX.w<fY.minWidth){fX.w=fY.minWidth}else if(fY.maxWidth!==0&&fX.w>fY.maxWidth){fX.w=fY.maxWidth}if(fX.h<fY.minHeight){fX.h=fY.minHeight}else if(fY.maxHeight!==0&&fX.h>fY.maxHeight){fX.h=fY.maxHeight}e.style.height=fX.h-(tsConfig.showTabs?31:9)+'px';e.style.width=fX.w-8+'px'};m.$4=function(e,L){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var fX=e.style.backgroundSize.split(' ');if(fX.length<=1){return null}return parseInt(fX[L],10)};var n=function(){};n.__typeName='tab.$17';n.isInstanceOfType=function(){return true};var o=function(e,L){this.$1=null;this.$0=null;this.$1=e;this.$0=L};o.__typeName='tab.$18';var p=function(e,L,fX,fY,fZ){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=L;this.$4=fX;this.$2=fY;this.$3=fZ};p.__typeName='tab.$19';var q=function(){};q.__typeName='tab.$2';q.$0=function(e,L){var fX={};fX['api.commandResult']=e;fX['api.commandData']=L;var fY=JSON.stringify(fX);return fY};var r=function(e){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=e;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};r.__typeName='tab.$20';var s=function(e){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=e.get_alpha();this.$4=e.get_lineJoin();this.$3=e.get_lineCap();this.$5=e.get_linePattern();this.$8=e.get_strokeStyle();this.$6=e.get_lineWidth();this.$a=e.get_textAngle();this.$2=e.get_font();this.$7=e.get_shapeFillStyle();this.$b=e.get_textFillStyle();this.$9=e.get_textAlign()};s.__typeName='tab.$21';var t=function(e,L,fX,fY,fZ,ga,gb){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=L;this.$2=fX;this.$6=fY;this.$3=fZ;this.$4=ga;this.$7=gb.clone()};t.__typeName='tab.$22';var u=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};u.__typeName='tab.$23';var v=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};v.__typeName='tab.$24';var w=function(e){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=e;this.$9=false;this.$a=0};w.__typeName='tab.$25';var x=function(e){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=e;this.$c=-1;this.$9=true};x.__typeName='tab.$26';var y=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var e=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(e);this.$7.css(e);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};y.__typeName='tab.$27';var z=function(){this.$3=[]};z.__typeName='tab.$28';z.$1=function(e,L,fX){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var fY=L.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(fY)||ss.isNullOrUndefined(fY.get_visualListPM().tOA)){return}var fZ=fY.get_visualListPM().tOA;var ga={};var gb=e.ri.length;for(var gc=0;gc<gb;gc++){var gd=e.ri[gc];ga[gd.r]=gd}var ge=null;if(ss.isValue(L)&&ss.isValue(L.get_scene())){ge=L.get_scene().get_imageDictionary()}var gf=ef.calculatePixelRatio();var gg=L.get_visualModel().get_backgroundColor();var gh=[{name:'uleft'.toString(),node:fX.topLeftSpacer},{name:'uright'.toString(),node:fX.topRightSpacer},{name:'lleft'.toString(),node:fX.bottomLeftSpacer},{name:'lright'.toString(),node:fX.bottomRightSpacer}];for(var gi=0;gi<gh.length;gi++){var gj=gh[gi];var gk=ga[gj.name];if(ss.isNullOrUndefined(gk)){continue}var gl=gj.node;var gm=gl.get(0).firstChild;if(ss.isNullOrUndefined(gm)){continue}z.$2(gm,gg,gf,gk,fZ,ge)}};z.$2=function(e,L,fX,fY,fZ,ga){var gb=bi.getRenderContext(e,'opaque');gb.set_shapeFillStyle(L);gb.fillRect(0,0,e.width,e.height);gb.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(fX,1)){bk.scaleCanvasDrawing(gb,fX)}var gc=new bY(e,gb,dh.defaultColors);gc.set_renderOffset({x:fY.x,y:fY.y});var gd=gc;gd.renderDrawItems(fZ,null,ga,null)};z.$0=function(e,L){var fX=e.get(0).firstChild;if(!(ss.compareStrings(fX.tagName,L,true)===0)){fX=document.createElement(L);e.children().first().replaceWith(fX)}return fX};var A=function(){this.$4=null;this.$1=0;this.$1=-1};A.__typeName='tab.$29';var B=function(){};B.__typeName='tab.$3';B.$9=function(e){var L=JSON.parse(e.toString());var fX=[];if(ss.isValue(L)){for(var fY=0;fY<L.length;fY++){var fZ=L[fY];var ga=B.$5(fZ);if(ss.isValue(ga)){fX.push(ga)}}}var gb=new Object;gb.filters=Array.prototype.slice.call(fX);return gb};B.$8=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}return e};B.$d=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}var fX=JSON.parse(e.toString());if(ss.isValue(fX)){return B.$5(fX)}return null};B.$0=function(e){var L=e;if(ss.keyExists(L,'BhX')){if(ss.isValue(L['oIc'])){return Q.newCommandError('invalidFilterFieldName',L['oIc'])}else if(ss.isValue(L['cVZ'])){return Q.newCommandError('invalidFilterFieldValue',L['cVZ'])}else if(ss.isValue(L['sRL'])){return Q.newCommandError('invalidAggregationFieldName',L['OLk'])}else{return Q.newCommandError('serverError',null)}}return null};B.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};B.$5=function(e){var L=B.$2(e.type);switch(L){case'categorical':{return B.$7(e)}case'relativedate':{return B.$c(e)}case'hierarchical':{return B.$a(e)}case'quantitative':{return B.$b(e)}default:{throw new ss.Exception('Unknown FilterType: '+L)}}};B.$6=function(e,L){var fX=e.fieldName;var fY=e.fieldCaption;var fZ=B.$2(e.type);var ga=null;var gb=null;var gc=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){ga=e.fieldDatasource;var gd=JSON.parse(e.fieldDetailsJson);var ge=gd['genFieldColumnPresModel'];gb=f.$2(ge.YIQ02);gc=f.$1(ge.Ymv02)}return L(fX,fZ,fY,ga,gb,gc)};B.$7=function(e){var L=e.exclude||false;var fX=null;if(ss.isValue(e.table)){var fY=e.table;if(ss.isValue(fY.tuples)){var fZ=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var ga=fY.tuples;var gb=[];for(var gc=0;gc<ga.length;gc++){var gd=ga[gc];if(fZ||ss.isValue(gd.s)&&gd.s){var ge=gd.t[0];var gf=gd.d;gb.push(B.$4(e,ge,gf))}}fX=Array.prototype.slice.call(gb)}}var gg=function(gh,gi,gj,gk,gl,gm){return Q.newCategoricalFilter(gh,gi,gj,gk,gl,gm,L,fX)};return B.$6(e,gg)};B.$b=function(e){var L=null;var fX=null;var fY=null;var fZ=null;var ga=false;if(ss.isValue(e.range)){var gb=e.range;if(ss.isValue(gb.min)&&ss.isValue(gb.min.v)){L=B.$3(e,gb.min,null)}if(ss.isValue(gb.max)&&ss.isValue(gb.max.v)){fX=B.$3(e,gb.max,null)}}if(ss.isValue(e.table)){var gc=e.table;if(ss.isValue(gc.min)&&ss.isValue(gc.min.v)){fY=B.$3(e,gc.min,null)}if(ss.isValue(gc.max)&&ss.isValue(gc.max.v)){fZ=B.$3(e,gc.max,null)}if(ss.isValue(gc.included)){var gd=gc.included;ga=gd==='include-all'||gd==='include-null'||gd==='include-range-or-null'}}var ge=function(gf,gg,gh,gi,gj,gk){return Q.newQuantitativeFilter(gf,gg,gh,gi,gj,gk,L,fX,fY,fZ,ga)};return B.$6(e,ge)};B.$c=function(e){var L=null;var fX=null;var fY=null;var fZ=e.table;if(ss.isValue(fZ)){if(ss.isValue(fZ.periodType)){L=f.$4(fZ.periodType)}if(ss.isValue(fZ.rangeType)){fX=f.$5(fZ.rangeType)}if(ss.isValue(fZ.rangeN)){fY=fZ.rangeN}}var ga=function(gb,gc,gd,ge,gf,gg){return Q.newRelativeDateFilter(gb,gc,gd,ge,gf,gg,L,fX,fY)};return B.$6(e,ga)};B.$4=function(e,L,fX){return B.$3(e,L,fX)};B.$3=function(e,L,fX){var fY=new Object;if(ss.isNullOrUndefined(L)){return fY}var fZ=B.$1(L.t);var ga=[L];if(ss.isValue(e.range)){ga.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){ga.push(e.table.min,e.table.max)}var gb=dY.getDateTimeFormatMode(ga,'none',e.date_format,null);fY.type=f.$0(fZ);var gc=((fZ==='date'||fZ==='datetime')?e.date_format:e.format);fY.formattedValue=tableau.format.formatDataValue(L,e.role,gc,null,gb);if(ss.isValue(fX)){fY.aliasedValue=fX}fY.value=J.serializeDataValue(L.v,fZ);return fY};B.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};B.$a=function(e){var L=0;if(ss.isValue(e.levels)){L=e.levels.length}var fX=function(fY,fZ,ga,gb,gc,gd){return Q.newHierarchicalFilter(fY,fZ,ga,gb,gc,gd,L)};return B.$6(e,fX)};var C=function(e,L){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(L)};C.__typeName='tab.$30';var D=function(){};D.__typeName='tab.$4';D.$8=function(e){var L=e;var fX=[];if(ss.isValue(L)){for(var fY=0;fY<L.length;fY++){var fZ=L[fY];var ga=D.$1(fZ);if(ss.isValue(ga)&&ga.isValidPresModel){fX.push(ga)}}}var gb=new Object;gb.parameters=Array.prototype.slice.call(fX);return gb};D.$6=function(e){var L=e;if(ss.isValue(L.GiX)&&!L.GiX){var fX=new Object;fX.isValidPresModel=false;return fX}else{var fY=e;if(ss.isValue(fY)){return D.$1(fY)}}return null};D.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};D.$1=function(e){if(!ss.isValue(e.DMC)||!ss.isValue(e.OLk)){return null}var L=e.tbM02;var fX=[];for(var fY=0;fY<e.vdO.length;fY++){var fZ=e.vdO[fY];var ga=e.wwu[fY];fX.push(D.$4(L,fZ,ga))}var gb=new Object;gb.isValidPresModel=true;gb.parameterName=e.DMC;gb.name=e.OLk;gb.currentValue=D.$4(L,e.UIt,e.ybD);gb.dataType=D.$0(L);gb.allowableValuesType=f.$3(e.ReU);gb.allowableValues=Array.prototype.slice.call(fX);gb.stepSize=D.$7(L,e.FcN);gb.minValue=D.$5(L,e.JLD,e.Qza,null);gb.maxValue=D.$5(L,e.zG$,e.Deq,null);if(L==='date'||L==='datetime'){gb.dateStepPeriod=f.$4(e.JAO)}return gb};D.$5=function(e,L,fX,fY){var fZ=new Object;fZ.type=f.$0(e);fZ.value=J.serializeDataValue(L,e);if(!tab.MiscUtil.isNullOrEmpty$1(fY)){fZ.aliasedValue=fY}if(!tab.MiscUtil.isNullOrEmpty$1(fX)){fZ.formattedValue=fX}return fZ};D.$4=function(e,L,fX){return D.$5(e,D.$3(L),fX,D.$2(L))};D.$7=function(e,L){if(ss.isValue(L)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(L)}if(e==='real'){return parseFloat(L)}}return null};D.$3=function(e){return e[0]};D.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var E=function(){};E.__typeName='tab.$5';E.$6=function(e){var L=e;var fX=E.$5(L,true);return fX};E.$7=function(e){var L=e;var fX=E.$5(L,false);return fX};E.$3=function(e,L){L['xsP']=e['api.maxRows'];L['Srq']=e['api.ignoreAliases'];L['XfQ']=e['api.ignoreSelection']};E.$4=function(e,L){E.$3(e,L);L['Dtn']=e['api.includeAllColumns']};E.$5=function(e,L){var fX=new tab.DataDictionaryModel(null);fX.update(e.vZU);var fY=e.gzG;var fZ=E.$1(fY);var ga=E.$0(fX,fY);var gb=Q.newUnderlyingDataTablePM(ga,fZ,L);return gb};E.$1=function(e){var L=[];for(var fX=0;fX<e.length;fX++){var fY=e[fX];var fZ=f.$6(fY.tbM02);var ga=Q.newUnderlyingDataColumnsPM(fZ,fY.OLk,fY.GWZ,fX);L.push(ga)}return L};E.$0=function(e,L){var fX=L[0].Sul.length;var fY=new Array(fX);for(var fZ=0;fZ<fX;fZ++){fY[fZ]=new Array(L.length)}for(var ga=0;ga<L.length;ga++){var gb=L[ga];for(var gc=0;gc<gb.Sul.length;gc++){var gd=new Object;gd.formattedValue=E.$2(e,gb.Sul[gc],'cstring');gd.value=E.$2(e,gb.qtG[gc],gb.tbM02);gd.aliasedValue=gd.formattedValue;fY[gc][ga]=gd}}return fY};E.$2=function(e,L,fX){var fY=null;var fZ;if(L>=0){fZ=fX}else{fZ='cstring';L=-L-1}var ga=e.getRawValue(fZ,L);if(ss.isValue(ga)){fY=ga.toString()}return fY};var F=function(){};F.__typeName='tab.$6';F.$0=function(e){if(tsConfig.debugMode){var L='vqllegacydojoui.debug';var fX=tab.ModuleManager.registerDependencyModule(L,L).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(fX)}else{tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(fX)}}else if(tsConfig.is_mobile){tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile.Bundle','LegacyDojoUIMobile').andLoadOnDemandIf(e)}else{tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb.Bundle','LegacyDojoUIWeb').andLoadOnDemandIf(e)}};var G=function(){};G.__typeName='tab.$7';G.$0=function(){if(tsConfig.isUnitTestRun){return}m.$2();if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){dC.setupLocateFileOverride()}G.$1()};G.$1=function(){dojo.addOnLoad(V.startup)};var H=function(e,L,fX,fY,fZ,ga){this.$u=null;this.$2$1=null;this.$2$2=null;this.$2$3=0;this.$2$4=0;this.$2$5=0;this.$2$6=0;spiff.BaseViewModel.call(this);this.$t(e);this.$p(L);this.$r(fX);this.$j(fY);this.$n(fZ);this.$l(ga)};H.__typeName='tab.$8';H.$0=function(e){return Math.abs(e)>1};var I=function(e,L,fX,fY,fZ){this.$w=0;this.$v=null;H.call(this,e,L,fX,fY,fZ,2147483647);this.$f(this.$q());this.$o().height(this.$i())};I.__typeName='tab.$9';var J=function(){};J.__typeName='tab._ApiSerializer';J.serializeClientInfo=function(e,L){var fX=e.get_applicationPresModel().res.mmK;var fY=e.get_toolbarCommands().$1();var fZ=!ss.isNullOrEmptyString(fX.nhM.VrA)||e.get_toolbarCommands().$2();var ga=tsConfig.current_sheet_name;var gb=tsConfig.workbookName;var gc=J.serializeDashboardZones(fX.HCq);var gd=J.serializePublishedSheets(e.get_applicationPresModel().res.jky);var ge=J.serializeStory(L);var gf=Q.newClientInfo(fY,fZ,gb,ga,ss.coalesce(tsConfig.clientNumber,''),gd,gc,ge);return gf};J.serializeSheetInfo=function(e,L){var fX;if(e.Jqz){fX='story'}else if(e.WeS){fX='dashboard'}else{fX='worksheet'}var fY=Q.newSheetInfo(e.Gge,fX,e.EVq,e.pAn,e.PiK,e.McJ,L);return fY};J.serializePublishedSheets=function(e){var L={};for(var fX=0;fX<e.length;fX++){var fY=e[fX];L[fY.Gge]=fY}var fZ=[];var ga=J.$0(tsConfig.repository_urls);for(var gb=0;gb<tsConfig.visible_sheets.length;gb++){var gc=L[tsConfig.visible_sheets[gb]];var gd=J.serializeSheetInfo(gc,ga[gb]);fZ.push(gd)}return fZ};J.serializeDashboardZones=function(e){var L=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return L}var fX=_.keys(e);fX.sort(function(gj,gk){return parseInt(gj,10)-parseInt(gk,10)});for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];var ga=e[fZ];if(ss.isNullOrUndefined(ga)){continue}var gb=f.$7(ga.pj$.jAM);if(!ss.isValue(gb)){continue}var gc=(ss.isValue(ga.AVP)?ga.AVP:null);var gd=ga.pj$.thj;var ge=ga.pj$.RAC;var gf=ga.pj$.rec;var gg=ga.pj$.EUR;var gh=ga.pj$.BCp;var gi=Q.newDashboardZone(gc,gh,ss.unbox(gb),gg,gf,gd,ge);L.push(gi)}return L};J.serializeStory=function(e){var L=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(L)){return null}var fX=L.get_currentPointIndex();var fY=J.serializeStoryPoints(L.get_captions(),e);var fZ=Q.newStory(fX,fY);return fZ};J.serializeStoryPoints=function(e,L){var fX=[];var fY=ss.getEnumerator(e);try{while(fY.moveNext()){var fZ=fY.current();var ga=J.serializeStoryPoint(fZ,L);fX.push(ga)}}finally{fY.dispose()}return fX};J.serializeStoryPoint=function(e,L){var fX=null;if(e.get_isCurrentPoint()&&L.get_hasContainedSheet()){var fY=L.get_containedSheetName();var fZ=L.get_containedSheetType();var ga=J.serializeDashboardZones(L.get_containedDashboardZones());fX=Q.newContainedSheetInfo(fY,fZ,ss.unbox(L.get_containedSheetZoneId()),ga)}var gb=Q.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),fX);return gb};J.serializeDataValue=function(e,L){if(L==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(L){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fX=null;if(_.isDate(e)){fX=e}else if(_.isNumber(e)){if(isNaN(e)){fX=null}else{fX=new Date(tableau.types.JsDateFromOleDate(e))}}else{fX=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fX)||isNaN(fX)){return null}return fX.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fY=parseInt(e.toString(),10);return(isNaN(fY)?null:fY)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fZ=parseFloat(e.toString());return(isNaN(fZ)?null:fZ)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};J.serializeCustomView=function(e,L){return Q.newCustomView(e.id,e.name,e.urlId,L,e.startViewId,e.isPublic,J.serializeUser(e.owner))};J.serializeUser=function(e){return Q.newUser(e.id,e.friendlyName,e.username)};J.convertToCustomizedView=function(e){var L=new Object;L.id=e.id;L.isPublic=e.isPublic;L.name=e.name;L.owner=J.convertToUser(e.owner);L.startViewId=e.startViewId;L.urlId=e.urlId;return L};J.convertToUser=function(e){var L={friendlyName:e.friendlyName,id:e.id,username:e.username};return L};J.$0=function(e){var L=e.length;var fX=tab.VizUriModel.createForViewingSheets(e,false);var fY=new Array(L);for(var fZ=0;fZ<L;fZ++){var ga=fX[fZ];fY[fZ]=ga.get_absoluteUri()}return fY};global.tab._ApiSerializer=J;var K=function(){this.action=null;ss.EventArgs.call(this)};K.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=K;var M=function(e,L){React.Component.call(this,e,L)};M.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=M;var N=function(){};N.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=N;var O=function(){};O.__typeName='tab.AddSubscribersComponentProps';O.createInstance=function(){return O.$ctor()};O.$ctor=function(){var e={};e.addSubscribersViewModel=null;e.userSearchSelectorProps=null;return e};O.isInstanceOfType=function(){return true};global.tab.AddSubscribersComponentProps=O;var P=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.set_userSearchSelectorViewModel(new fw(e));var L=O.$ctor();L.addSubscribersViewModel=this;L.userSearchSelectorProps=this.get_userSearchSelectorViewModel().get_props();this.set_props(L);this.get_userSearchSelectorViewModel().add_propsUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(this.get_userSearchSelectorViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchSelectorViewModel().remove_propsUpdated(ss.mkdel(this,this.$2))})))};P.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=P;var Q=function(){};Q.__typeName='tab.ApiCrossDomainPresModelsFactory';Q.newClientInfo=function(e,L,fX,fY,fZ,ga,gb,gc){var gd=new Object;gd.isAutoUpdate=e;gd.isDownloadAllowed=L;gd.workbookName=fX;gd.instanceId=fZ;gd.currentSheetName=fY;gd.publishedSheets=ga;gd.dashboardZones=gb;gd.story=gc;return gd};Q.newAutoUpdateState=function(e){var L=new Object;L.isAutoUpdate=e;return L};Q.newCommandError=function(e,L){var fX=new Object;fX.errorCode=e;fX.additionalInformation=L;return fX};Q.newSheetInfo=function(e,L,fX,fY,fZ,ga,gb){var gc=new Object;gc.maxHeight=ga;gc.maxWidth=fZ;gc.minHeight=fY;gc.minWidth=fX;var gd=new Object;gd.name=e;gd.sizeConstraints=gc;gd.repositoryUrl=gb;gd.sheetType=L;return gd};Q.newContainedSheetInfo=function(e,L,fX,fY){var fZ=new Object;fZ.name=e;fZ.sheetType=L;fZ.zoneId=fX;fZ.dashboardZones=fY;return fZ};Q.newDashboardZone=function(e,L,fX,fY,fZ,ga,gb){var gc=new Object;gc.name=e;gc.zoneId=L;gc.zoneType=fX;gc.height=fY;gc.width=fZ;gc.x=ga;gc.y=gb;return gc};Q.newStory=function(e,L){var fX=new Object;fX.activeStoryPointIndex=e;fX.storyPoints=L;return fX};Q.newStoryPoint=function(e,L,fX,fY,fZ){var ga=new Object;ga.caption=e;ga.index=L;ga.storyPointId=fX;ga.isUpdated=fY;ga.containedSheetInfo=fZ;return ga};Q.$0=function(e,L,fX,fY,fZ,ga){var gb=new Object;gb.fieldName=e;gb.filterType=L;gb.caption=fX;gb.dataSourceName=fY;gb.fieldRole=fZ;gb.fieldAggregation=ga;return gb};Q.newCategoricalFilter=function(e,L,fX,fY,fZ,ga,gb,gc){var gd=Q.$0(e,L,fX,fY,fZ,ga);gd.isExclude=gb;gd.appliedValues=gc;return gd};Q.newQuantitativeFilter=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge,gf){var gg=Q.$0(e,L,fX,fY,fZ,ga);gg.domainMinValue=gb;gg.domainMaxValue=gc;gg.minValue=gd;gg.maxValue=ge;gg.includeNullValues=gf;return gg};Q.newHierarchicalFilter=function(e,L,fX,fY,fZ,ga,gb){var gc=Q.$0(e,L,fX,fY,fZ,ga);gc.levels=gb;return gc};Q.newRelativeDateFilter=function(e,L,fX,fY,fZ,ga,gb,gc,gd){var ge=Q.$0(e,L,fX,fY,fZ,ga);ge.periodType=gb;ge.rangeType=gc;ge.rangeN=gd;return ge};Q.newDataSourcesForWorksheet=function(e,L){var fX=new Object;fX.worksheetName=e;fX.dataSources=L;return fX};Q.newDataSource=function(e,L,fX){var fY=new Object;fY.name=e;fY.fields=L;fY.isPrimary=fX;return fY};Q.newField=function(e,L,fX){var fY=new Object;fY.name=e;fY.role=L;fY.aggregation=fX;return fY};Q.newCustomViewsInfo=function(e,L,fX,fY){var fZ=new Object;fZ.customViewLoaded=e;fZ.defaultCustomViewId=L;fZ.currentView=fX;fZ.customViews=fY;return fZ};Q.newCustomView=function(e,L,fX,fY,fZ,ga,gb){var gc=new Object;gc.id=e;gc.name=L;gc.urlId=fX;gc.url=fY;gc.startViewId=fZ;gc.isPublic=ga;gc.owner=gb;return gc};Q.newUser=function(e,L,fX){var fY=new Object;fY.id=e;fY.friendlyName=L;fY.username=fX;return fY};Q.newUnderlyingDataTablePM=function(e,L,fX){var fY=new Object;fY.dataTable=e;fY.headers=L;fY.isSummary=fX;return fY};Q.newUnderlyingDataColumnsPM=function(e,L,fX,fY){var fZ=new Object;fZ.dataType=e;fZ.fieldName=L;fZ.isReferenced=fX;fZ.index=fY;return fZ};Q.newToolbarStatePM=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge,gf){var gg=new Object;gg.canUndo=e;gg.canRedo=L;gg.canRevert=fX;gg.isPaused=fY;gg.canRefreshData=fZ;gg.canShowCustomViews=ga;gg.canShowPerformance=gb;gg.canShowDataAlert=gc;gg.canShowSubscribe=gd;gg.canShowShare=ge;gg.canShowDownload=gf;return gg};global.tab.ApiCrossDomainPresModelsFactory=Q;var R=function(e,L,fX){this.$13=new tab.DisposableHolder;this.$10=null;this.$18={};this.$11=null;this.$15=null;this.$16=null;this.$12=false;this.$14=false;this.$17=null;this.$10=fX;this.updateClients(e,L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};R.__typeName='tab.ApiEventHandler';R.$2=function(e,L){var fX=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(fX)){var fY=_.find(fX.get_filters(),function(fZ){return ss.referenceEquals(fZ.get_globalFieldName(),L)});if(ss.isValue(fY)){return fY.get_filterPresModel().fieldCaption}}return null};R.$0=function(e){var L=new ss.StringBuilder;for(var fX=0;fX<e.length;fX++){var fY=e[fX];if(!(L.length===0)){L.append('.')}L.append('['+fY+']')}return L.toString()};R.$1=function(){var e={};var L=tab.ModelUtils.findContentDashboard();var fX=L.get_zoneModels();for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];if(fZ.get_zoneType()==='filter'&&ss.referenceEquals(fZ.get_worksheetName(),tsConfig.current_sheet_name)){var ga=JSON.parse(fZ.pm.dCB);e[ga.param]=true}}var gb={};var gc=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(gc)){var gd=gc.get_filters();for(var ge=0;ge<gd.length;ge++){var gf=gd[ge];var gg=R.$0(gf.get_filterPresModel().name);if(ss.keyExists(e,gg)){var gh=gf.get_filterPresModel().fieldCaption;if(gf.get_filterPresModel().type!=='H'){gb[gh]=gf.get_filterPresModel().type}else{gh='';var gi=gf.get_filterPresModel().table[0].table;if(ss.isValue(gi)&&ss.isValue(gi.schema)&&ss.isValue(gi.schema[0])&&ss.isValue(gi.schema[0].name)){var gj=gi.schema[0].name;for(var gk=1;gk<gj.length;gk++){gh+='['+gj[gk]+']';gb[gh]=gf.get_filterPresModel().type;gh+='.'}}}}}}return gb};R.$3=function(e){return null};R.$4=function(e){var L=e;if(ss.isValue(L['eck'])){return Q.newCommandError('invalidSelectionFieldName',L['eck'])}else if(ss.isValue(L['cVZ'])){return Q.newCommandError('invalidSelectionValue',L['cVZ'])}else if(ss.isValue(L['ifc'])){return Q.newCommandError('invalidSelectionDate',L['ifc'])}return null};global.tab.ApiEventHandler=R;var S=function(e,L){this.$7=null;this.$a=null;this.$8=new tab.DisposableHolder;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(L,'responder');this.$7=e;this.$a=L;var fX=ss.mkdel(this,function(){var fY=e.get_flipboardNavigatorViewModel();if(ss.isValue(fY)){fY.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fY.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(fY)});if(!fX()){_.defer(ss.mkdel(this,function(){if(this.$9){return}fX()}))}};S.__typeName='tab.ApiStorytellingHandler';S.$0=function(e,L){var fX=($.isArray(L)?L:[L]);var fY=_.any(fX,function(fZ){return fZ===e.get_name()});if(!fY){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=S;var T=function(e,L){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=L;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};T.__typeName='tab.ApiToolbarStateManager';T.$1=function(e,L){var fX=e[L];return ss.isValue(fX)&&fX.get_enabled()};T.$2=function(e,L,fX){var fY=e[L];if(ss.isNullOrUndefined(fY)){return false}var fZ=new tab.CommandsPresModelWrapper.$ctor1(fY.get_commands());var ga=fZ.get_commandItems();for(var gb=0;gb<ga.length;gb++){var gc=ga[gb];var gd=new tab.CommandItemWrapper(gc);if(ss.equals(gd.get_name(),fX)){return gd.get_enabled()}}return false};T.$0=function(e,L){var fX=ss.getEnumerator(L);try{while(fX.moveNext()){var fY=fX.current();var fZ=new tab.CommandItemWrapper(fY);e[fZ.get_iconRes()]=fZ}}finally{fX.dispose()}};global.tab.ApiToolbarStateManager=T;var U=function(){spiff.BaseViewModel.call(this)};U.__typeName='tab.AppBannerViewModel';global.tab.AppBannerViewModel=U;var V=function(){this.$m=null;this.$q=null;this.$o=null;this.$p=null;this.$l=null;this.$r=null;this.$n=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;V.add_starting(ss.mkdel(this,function(){this.$h();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$k));tab.ApplicationModel.get_instance().get_workbook().add_uiModeChanged(ss.mkdel(this,this.$8));var e=new tab.LayoutSession(null,null,V.get_commonDialogProvider());var L=tab.CommandController.create(e,V.get_commonDialogProvider());L.setBrowserViewportFunc(bh.getViewport);L.add_newLayoutId(ss.mkdel(this,this.$6));L.add_tabChangeCompleted(ss.mkdel(this,this.$7));V.add_onTabSelect(ss.mkdel(this,this.$3));L.add_destroyView(ss.mkdel(this,this.$2));L.add_intermediateUpdate(ss.mkdel(this,this.$i));this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$6));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$7));V.remove_onTabSelect(ss.mkdel(this,this.$3))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var fX=V.$0(false,e);this.$m=fX;this.$q=fX;this.$m.startup();this.$b(this.$m,this.$q);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$p=new dB;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(fY){bh.getViewport(function(fZ){var ga=new spiff.SpiffBrowserViewport(fZ.get_dimensions(),function(gb){return fZ.getVisibleRoom(gb,0)});fY(ga)})}}))};V.__typeName='tab.Application';V.add_starting=function(e){V.$1$1=ss.delegateCombine(V.$1$1,e)};V.remove_starting=function(e){V.$1$1=ss.delegateRemove(V.$1$1,e)};V.add_started=function(e){V.$1$2=ss.delegateCombine(V.$1$2,e)};V.remove_started=function(e){V.$1$2=ss.delegateRemove(V.$1$2,e)};V.add_onTabSelect=function(e){V.$1$3=ss.delegateCombine(V.$1$3,e)};V.remove_onTabSelect=function(e){V.$1$3=ss.delegateRemove(V.$1$3,e)};V.get_instance=function(){if(ss.isNullOrUndefined(V.$4)){V.$4=new V}return V.$4};V.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};V.get_commonDialogProvider=function(){if(ss.isNullOrUndefined(V.$3)){V.$3=new bp}return V.$3};V.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);if(ss.isValue(V.$5)&&V.$5){throw new ss.Exception('Application.Startup() can only be called once')}var fX=V.get_instance();if(!ss.staticEquals(V.$1$1,null)){V.$1$1(fX,ss.EventArgs.Empty)}if(!ss.staticEquals(V.$1$2,null)){V.$1$2(fX,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(V.$1());V.$5=true};V.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}}};return e};V.$0=function(e,L){var fX=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new fX(e,L)};V.handleAllFontsFound=function(){en.get_instance().downloadFonts();en.get_instance().allFontsFound()};V.$2=function(){br.get_instance().reset(1);br.get_instance().addCompletedHandler(1,ct.logUIStabilized);en.get_instance().initialize(true);var e=(ef.isHighDpi()?en.bentonSansFontNames:en.bentonSansLowDpiFontNames);en.get_instance().registerServerLoadedFonts(e);if(tab.FeatureFlags.isEnabled('TableauFontWeb')){en.get_instance().registerServerLoadedFonts(en.tableauFontNames)}en.get_instance().notifyDownloadableFont(e)};V.fireOnTabSelect=function(e){if(!ss.staticEquals(V.$1$3,null)){V.$1$3(e)}};global.tab.Application=V;var W=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,W.$0());this.domNode=this.domRoot;this.toolbarContainer=$('.tab-toolbar-container')};W.__typeName='tab.ApplicationTemplate';W.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='tabViewer' class='wcBody'></div>"):$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"))};global.tab.ApplicationTemplate=W;var X=function(e){this.$g=null;this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[Z]).call(this,e,new W);tab.FullscreenUtil.add_fullscreenStateChanged(X.$0);this.disposables.add(function(){tab.FullscreenUtil.remove_fullscreenStateChanged(X.$0)})};X.__typeName='tab.ApplicationView';X.$0=function(){if(tab.FullscreenUtil.get_inFullscreenMode()){var e=document.body;if(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight){$('html, body').css('overflow','scroll')}}else{$('html, body').css('overflow','')}var L=V.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutCalculator.get_shouldShowTabs()&&ss.isValue(L)){L.resizeShim()}};global.tab.ApplicationView=X;var Y=function(e,L){this.session=null;this._connections=[];this.skipInit=false;this.$G=null;this.$C=false;this.$F=null;this.$I=null;this.$B=null;this.$A=null;this.$D=false;this.$E=false;this.$H=0;this.$J=null;spiff.Widget.call(this,$(null));this.session=L;this.skipInit=e;var fX=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(fX)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(fX.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$I=new fA(this);this.enableTextSelection()};Y.__typeName='tab.ApplicationViewModel';Y.selectCenteringContainer=function(){return $('#centeringContainer')};Y.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var L=tabBootstrap.VizLayoutCalculator.get_tabsHeight();var fX={l:0,t:L,w:e.w,h:e.h};if(!fc.get_toolbarIsBottom()&&!tsConfig.is_authoring){fX.t+=tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight()}return fX};Y.calculateDashboardViewportBounds=function(){var e=tabBootstrap.VizLayoutCalculator.getDashboardViewportSize();var L={l:0,t:0,w:e.w,h:e.h};if(!fc.get_toolbarIsBottom()&&!tsConfig.is_authoring){L.t+=tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight()}return L};global.tab.ApplicationViewModel=Y;var Z=function(e){this.$6=null;this.$8=null;this.$5=null;this.$7=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$6=e;this.$6.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$6.get_workbook())){this.handleNewWorkbook(this.$6.get_workbook())}this.$6.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$5=new U;if(!tsConfig.is_authoring&&!this.$6.get_isOffline()){this.$7=new fc(this.$6.get_toolbar());this.$7.set_shouldShowCommenting(this.get_shouldShowCommenting());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,this.$3))}};Z.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=Z;var ba=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};ba.__typeName='tab.AreYouSureButtons';ba.create=function(e,L){var fX=new ba(new bb);if(ss.isValue(e)){fX.$a(e);fX.disposables.add$1(new tab.CallOnDispose(function(){fX.$b(e)}))}if(ss.isValue(L)){fX.$c(L);fX.disposables.add$1(new tab.CallOnDispose(function(){fX.$d(L)}))}return fX};global.tab.AreYouSureButtons=ba;var bb=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};bb.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=bb;var bc=function(e,L){this.$0=null;bd.call(this,e,L);this.$0=e.RedirectUrl};bc.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=bc;var bd=function(e,L){be.call(this,e,L)};bd.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=bd;var be=function(e,L){this.onProceed=null;this.dataSourceConnectionAttemptErrorResponse=null;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=L};be.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=be;var bf=function(e,L){var fX=function(fY,fZ,ga){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(eU,[e]),Object]).call(this,fY(fZ.viewModel),fZ,ga);this.$1=fY};ss.registerGenericClassInstance(fX,bf,[e,L],{handleWidgetPropertyChanged:function(fY,fZ){},updateWidgetState:function(fY){if(!ss.referenceEquals(this.props.viewModel,fY.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(fY.viewModel));var fZ=$(ReactDOM.findDOMNode(this));if(ss.isValue(fZ)){fZ.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(eU,[e]),Object])},function(){return[]});return fX};bf.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(bf,a,2);global.tab.BaseToolbarButtonComponent$2=bf;var bg=function(){this.$1$1=null;this.$1$2=null};bg.__typeName='tab.BasicFontLoader';global.tab.BasicFontLoader=bg;var bh=function(e){this.$0=null;this.$0=e};bh.__typeName='tab.BrowserViewport';bh.$8=function(){return tab.Logger.lazyGetLogger(bh)};bh.$7=function(){var e=new tab.WindowHelper(window.self);return{l:e.get_pageXOffset(),t:e.get_pageYOffset(),w:e.get_clientWidth(),h:e.get_clientHeight()}};bh.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(tab.FullscreenUtil.get_inFullscreenMode()){e(new bh(bh.$7()))}else if(bh.$a){bh.$b=e;bh.$6()}else{e(new bh(bh.$7()))}};bh.$0=function(e){if(tabBootstrap.Utility.get_embedMode()==='embedded'){if(ss.isValue(bh.$c)){e.y+=bh.$c.y;e.x+=bh.$c.x}}else{try{var L=window.self;while(ss.isValue(L.frameElement)){var fX=$(L.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(fX.top);e.x+=tab.DoubleUtil.roundToInt(fX.left);L=L.parent}}catch(fY){var e=ss.Exception.wrap(fY)}}};bh.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var fX=L;var fY=fX.split(',');if(!ss.isValue(fY)){return}if(ss.referenceEquals(fY[0],'layoutInfoResp'.toString())){var fZ={l:parseInt(fY[1],10),t:parseInt(fY[2],10),w:parseInt(fY[3],10),h:parseInt(fY[4],10)};bh.$2(fZ)}else if(ss.referenceEquals(fY[0],'tableau.enableVisibleRectCommunication'.toString())){bh.$a=true}else if(ss.referenceEquals(fY[0],'vizOffsetResp'.toString())){bh.$c={x:parseInt(fY[1],10),y:parseInt(fY[2],10)};bh.$a=true}};bh.$2=function(e){var L=new bh(e);if(ss.isValue(bh.$b)){bh.$b(L);bh.$b=null}};bh.$6=function(){if(tab.BrowserSupport.get_postMessage()){window.parent.postMessage('layoutInfoReq'.toString(),'*')}else{bh.$2(bh.$7())}};bh.$5=function(){if(bh.$9){if('removeEventListener'in window.self){window.removeEventListener('message',bh.$3,true)}else{window.self.detachEvent('onmessage',bh.$3)}bh.$9=false}};bh.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',bh.$4,true)}else{window.self.attachEvent('onunload',bh.$4)}};bh.$4=function(e){bh.$5()};global.tab.BrowserViewport=bh;var bi=function(e,L){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=L;this.$6=false;this.$7={x:0,y:0}};bi.__typeName='tab.CanvasRenderer';bi.get_multipolyLineSizeOffset=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};bi.bBoxMultipolygon=function(e,L,fX,fY,fZ,ga){var gb;if(ss.isNullOrUndefined(ga)){var gc=fZ/2;var gd=Math.floor(fZ+1);var ge={x:L-gc,y:fX-gc};gb={minX:ge.x,minY:ge.y,maxX:ge.x+gd,maxY:ge.y+gd}}else{gb={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(ga.TDA){case'multiPolygon':{bi.boundsMultipolygon(ga.Zmn,gb);break}case'multiPoint':{bi.boundsMultipoint(ga.gvB,gb,fZ);break}case'multiLineString':{bi.boundsMultilineString(ga.fOR,gb,fY);break}default:{break}}}if(e){return tab.RectXYUtil.rectXYFromBBoxRectF(gb)}var gf=tab.Transform.domainToPixel(L,fX,fY);return gf.transformBounds(gb)};bi.modifyLineEndpoints=function(e,L,fX){if(Math.round(fX)%2===1){var fY=L.x-e.x;var fZ=L.y-e.y;if(fY!==0||fZ!==0){var ga=fY*fY+fZ*fZ;ga=Math.sqrt(ga);var gb=Math.abs(0.5*(fY/ga));var gc=Math.abs(0.5*(fZ/ga));e.x+=gc;e.y+=gb;L.x+=gc;L.y+=gb}}};bi.getShapeColorForLayer=function(e,L,fX,fY){switch(fX){case'highlightedUnder':case'normalUnder':{return e.c.get('halo_color').gv(L)[fY]}case'selectedOn':case'highlightedOn':case'normalOn':{return e.getMarkColors(L)[fY]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return e.c.get('selected_halo_color').gv(L)[fY]}}return bi.$8};bi.getRenderContext=function(e,L){var fX;if(L==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var fY=ss.mkdict(['alpha',false]);fX=e.getContext('2d',fY)}else{fX=e.getContext('2d')}return new eK(fX)};bi.addMultipolygonPath=function(e,L){var fX=L.KCe;var fY=fX.length;for(var fZ=0;fZ<fY;fZ++){var ga=fX[fZ].jWM;var gb=ga.length;for(var gc=0;gc<gb;gc++){var gd=ga[gc].xCr;var ge=gd.length;if(ge<2){continue}e.moveTo(gd[0],gd[1]);for(var gf=2;gf<ge;gf=gf+2){e.lineTo(gd[gf],gd[gf+1])}}}};bi.addMultipointPath=function(e,L,fX){var fY=L.xCr;var fZ=fY.length;for(var ga=0;ga<fZ;ga=ga+2){var gb=fY[ga];var gc=fY[ga+1];e.moveTo(gb+fX,gc);e.arc(gb,gc,fX,0,bi.twoPI,true)}};bi.addMultilinePath=function(e,L){var fX=L.jWM;var fY=fX.length;for(var fZ=0;fZ<fY;fZ++){var ga=fX[fZ].xCr;var gb=ga.length;if(gb===0||gb%2===1){continue}e.moveTo(ga[0],ga[1]);for(var gc=2;gc<ga.length;gc=gc+2){e.lineTo(ga[gc],ga[gc+1])}}};bi.boundsMultipolygon=function(e,L){var fX=L.minX;var fY=L.minY;var fZ=L.maxX;var ga=L.maxY;var gb=e.KCe;var gc=gb.length;for(var gd=0;gd<gc;gd++){var ge=gb[gd].jWM;var gf=ge.length;for(var gg=0;gg<gf;gg++){var gh=ge[gg].xCr;var gi=gh.length;for(var gj=0;gj<gi;gj=gj+2){var gk=gh[gj];var gl=gh[gj+1];fX=Math.min(fX,gk);fY=Math.min(fY,gl);fZ=Math.max(fZ,gk);ga=Math.max(ga,gl)}}}L.minX=fX;L.minY=fY;L.maxX=fZ;L.maxY=ga};bi.boundsMultipoint=function(e,L,fX){var fY=L.minX;var fZ=L.minY;var ga=L.maxX;var gb=L.maxY;var gc=e.xCr;var gd=gc.length;for(var ge=0;ge<gd;ge=ge+2){var gf=gc[ge];var gg=gc[ge+1];fY=Math.min(fY,gf);fZ=Math.min(fZ,gg);ga=Math.max(ga,gf);gb=Math.max(gb,gg)}var gh=fX/2;L.minX=fY-gh;L.minY=fZ-gh;L.maxX=ga+gh;L.maxY=gb+gh};bi.boundsMultilineString=function(e,L,fX){var fY=fX/2;var fZ=L.minX;var ga=L.minY;var gb=L.maxX;var gc=L.maxY;var gd=e.jWM;var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf].xCr;var gh=gg.length;if(gh<4||gh%2===1){continue}var gi={x:gg[0],y:gg[1]};var gj={x:gg[2],y:gg[3]};var gk=bi.getBasisVectorsBetweenTwoPoints(gi,gj,fY);var gl=gk.item1;var gm=gk.item2;var gn={x:gi.x-gl.x+gm.x,y:gi.y-gl.y+gm.y};var go={x:gi.x-gl.x-gm.x,y:gi.y-gl.y-gm.y};fZ=Math.min(fZ,((gn.x<go.x)?gn.x:go.x));gb=Math.max(gb,((gn.x<go.x)?go.x:gn.x));ga=Math.min(ga,((gn.y<go.y)?gn.y:go.y));gc=Math.max(gc,((gn.y<go.y)?go.y:gn.y));for(var gp=2;gp<gh;gp=gp+2){gj.x=gg[gp];gj.y=gg[gp+1];gk=bi.getBasisVectorsBetweenTwoPoints(gi,gj,fY);gl=gk.item1;gm=gk.item2;gn={x:gj.x+gl.x-gm.x,y:gj.y+gl.y-gm.y};go={x:gj.x+gl.x+gm.x,y:gj.y+gl.y+gm.y};fZ=Math.min(fZ,((gn.x<go.x)?gn.x:go.x));gb=Math.max(gb,((gn.x<go.x)?go.x:gn.x));ga=Math.min(ga,((gn.y<go.y)?gn.y:go.y));gc=Math.max(gc,((gn.y<go.y)?go.y:gn.y));gi.x=gj.x;gi.y=gj.y}}L.minX=fZ;L.minY=ga;L.maxX=gb;L.maxY=gc};bi.getBasisVectorsBetweenTwoPoints=function(e,L,fX){var fY=L.x-e.x;var fZ=L.y-e.y;var ga=Math.sqrt(fY*fY+fZ*fZ);var gb={x:fX*(fY/ga),y:fX*(fZ/ga)};var gc={x:-gb.y,y:gb.x};return{item1:gb,item2:gc}};bi.fillPath=function(e,L,fX){var fY=Math.floor(L.length/2);if(fY<2){return}e.beginPath();e.moveTo(L[0],L[1]);for(var fZ=2;fZ<fY*2;fZ+=2){e.lineTo(L[fZ],L[fZ+1])}if(fX){e.closePath()}e.fill()};bi.strokePath=function(e,L,fX,fY){var fZ=Math.floor(L.length/2);if(fZ<2){return}e.beginPath();var ga=e.get_lineWidth();for(var gb=0;gb<fZ*2-2;gb+=2){var gc={x:L[gb],y:L[gb+1]};var gd={x:L[gb+2],y:L[gb+3]};if(fZ<=2&&fY){bi.modifyLineEndpoints(gc,gd,ga)}if(gb===0){e.moveTo(gc.x,gc.y)}bi.$1(e,gc,gd)}if(fX){e.closePath();var ge=fZ*2;var gf={x:L[ge-2],y:L[ge-1]};var gg={x:L[0],y:L[1]};if(fZ<=2&&fY){bi.modifyLineEndpoints(gf,gg,ga)}bi.$1(e,gf,gg)}e.stroke()};bi.toCanvasAngle=function(e){return e*bi.twoPI-bi.halfPI};bi.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};bi.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};bi.lineEdgeContains=function(e,L,fX,fY,fZ,ga,gb,gc){var gd=bi.$5(fX,fY,fZ,ga,gb,gc);return cA.isPointInPoly(gd,{x:e,y:L})};bi.boundLineEdgeInPlace=function(e,L,fX,fY,fZ,ga,gb){var gc=bi.$5(L,fX,fY,fZ,ga,gb);var gd=gc[0];var ge=gd;var gf=gc[1];var gg=gf;var gh=gc.length;for(var gi=0;gi<gh;gi=gi+2){gd=Math.min(gd,gc[gi]);ge=Math.max(ge,gc[gi]);gf=Math.min(gf,gc[gi+1]);gg=Math.max(gg,gc[gi+1])}tab.RectXYUtil.unionInPlace(e,{x:gd<<0,y:gf<<0,w:(ge-gd<<0)+1,h:(gg-gf<<0)+1})};bi.boundWedge=function(e,L,fX,fY,fZ){if(fY>fZ){var ga=fY;fY=fZ;fZ=ga}if(fZ-fY>=1){var gb=Math.ceil(2*fX);return{x:Math.floor(e-fX),y:Math.floor(L-fX),w:gb,h:gb}}var gc=bi.toCanvasAngle(fY);var gd=bi.toCanvasAngle(fZ);var ge=[];ge.push({x:e,y:L});ge.push({x:e+fX*Math.cos(gc),y:L+fX*Math.sin(gc)});ge.push({x:e+fX*Math.cos(gd),y:L+fX*Math.sin(gd)});var gf=ge;gc=cA.normalizeAngle(gc);gd=cA.normalizeAngle(gd);if(cA.isInBetweenAngles(0,gc,gd)){gf.push({x:e+fX,y:L})}if(cA.isInBetweenAngles(bi.halfPI,gc,gd)){gf.push({x:e,y:L+fX})}if(cA.isInBetweenAngles(bi.onePI,gc,gd)){gf.push({x:e-fX,y:L})}if(cA.isInBetweenAngles(bi.oneAndHalfPI,gc,gd)){gf.push({x:e,y:L-fX})}var gg=Number.POSITIVE_INFINITY;var gh=Number.POSITIVE_INFINITY;var gi=Number.NEGATIVE_INFINITY;var gj=Number.NEGATIVE_INFINITY;for(var gk=0;gk<gf.length;gk++){var gl=gf[gk];gg=Math.min(gg,gl.x);gh=Math.min(gh,gl.y);gi=Math.max(gi,gl.x);gj=Math.max(gj,gl.y)}return tab.RectXYUtil.rectXYFromMinAndMax(gg,gh,gi,gj)};bi.roundStartAndExtent=function(e,L,fX){var fY=Math.round(e+L);e=Math.round(e);L=Math.max(Math.abs(fY-e),fX);return{item1:e,item2:L}};bi.isPointInExpandedRectHelperF=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge){if(fX<0){e+=fX;fX=Math.abs(fX)}if(fY<0){L+=fY;fY=Math.abs(fY)}var gf=bi.roundStartAndExtent(e-fZ,fX+fZ+fZ,gb+fZ+fZ);var gg=bi.roundStartAndExtent(L-ga,fY+ga+ga,gc+ga+ga);var gh={x:ss.Int32.trunc(gg.item1),y:ss.Int32.trunc(gf.item1),w:ss.Int32.trunc(gg.item2),h:ss.Int32.trunc(gf.item2)};if(tab.RectXYUtil.inRectPointF(gh,{x:gd,y:ge})){return true}return false};bi.renderCustomShape=function(e,L,fX,fY,fZ){var ga=L.c.get('shape_id').gv(fX);if(ss.isValue(ga)){var gb=tab.ApplicationModel.get_instance().get_shapeManager();var gc=gb.getImageElement(ga);if(!ss.isValue(gc)){bi.renderCircle(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),L.c.get('size').gv(fX),bi.getShapeColorForLayer(L,fX,fY,fZ),2);return}if(!gc.complete){return}var gd=L.hasConstantColor;var ge=L.c.get('size').gv(fX);var gf=L.c.get('left').gv(fX);var gg=L.c.get('top').gv(fX);var gh;var gi;if(gc.naturalWidth>gc.naturalHeight){var gj=gc.naturalWidth/gc.naturalHeight;gh=ge;gi=ge/gj;gg+=Math.round((ge-gi)/2)}else{var gk=gc.naturalHeight/gc.naturalWidth;gh=ge/gk;gi=ge;gf+=Math.round((ge-gh)/2)}gh=Math.round(gh);gi=Math.round(gi);var gl=bi.$2(L,fX,fY,fZ);fY=((fY==='normalOn'&&fZ==='colorOverrideOpaque')?'selectedOn':fY);var gm=tab.ShapeManager.getCacheKey$1(ga,fY,fZ,gl.toString(),gh,gi);var gn=gb.getCachedCanvas(gm);if(ss.isNullOrUndefined(gn)){var go=null;switch(fY){case'normalUnder':case'highlightedUnder':case'selectedUnder':{go=function(){return es.generateSelectedUnderCustomShape(gc,gl,tab.ShapeManager.selectionBorderSize,gh,gi)};break}case'normalOn':{if(gd){if(fZ==='colorOverrideFog'){go=function(){return es.applyFoggingToImage(gc,L.foggedBackgroundColor,L.fogBlendFactor,gh,gi)}}}else{go=function(){return es.colorTransformImage(gc,gl,gh,gi)}}break}case'highlightedOn':{if(!gd){go=function(){return es.colorTransformImage(gc,gl,gh,gi)}}break}case'selectedOn':{if(!gd){go=function(){gl=tab.ColorModel.fromColorModelPlusAlpha(gl,255);return es.colorTransformImage(gc,gl,gh,gi)}}break}case'hoverOverlay':{go=function(){return es.generateOverlayForShape(gc,gl,tab.ShapeManager.selectionBorderSize,gh,gi)};break}case'pressedOverlay':{go=function(){return es.generateOverlayForShape(gc,gl,tab.ShapeManager.selectionBorderSize*2,gh,gi)};break}}if(!ss.isValue(go)){go=function(){return es.generateCanvasAndPrescaleAsNeeded(gc,gh,gi)}}gn=gb.generateCachedCanvas(gm,go)}if(ss.isValue(gn)){switch(fY){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{e.drawImage3(gn,gf-tab.ShapeManager.selectionBorderSize,gg-tab.ShapeManager.selectionBorderSize,gn.width,gn.height);break}case'pressedOverlay':{e.drawImage3(gn,gf-tab.ShapeManager.selectionBorderSize*2,gg-tab.ShapeManager.selectionBorderSize*2,gn.width,gn.height);break}case'normalOn':{e.set_alpha(gl.get_a());e.drawImage3(gn,gf,gg,gh,gi);break}default:{e.drawImage3(gn,gf,gg,gh,gi);break}}}else{}}};bi.$2=function(e,L,fX,fY){var fZ=bi.getShapeColorForLayer(e,L,fX,fY);return tab.ColorModel.fromColorCode(fZ)};bi.renderBarOutline=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge){e.set_lineWidth(gb);e.set_strokeStyle(ga);var gf=((Math.round(gb)%2===0)?0:0.5);var gg=bi.roundStartAndExtent(fX,fZ,gd);var gh=bi.roundStartAndExtent(L,fY,gc);if(ge){var gi=Math.min(gh.item2,gg.item2);gh={item1:gh.item1,item2:gi};gg={item1:gg.item1,item2:gi}}e.strokeRect(gh.item1+gf,gg.item1+gf,gh.item2,gg.item2)};bi.renderFilledBar=function(e,L,fX,fY,fZ,ga,gb,gc,gd){e.set_shapeFillStyle(ga);{var ge=bi.roundStartAndExtent(fX,fZ,gc);fX=ge.item1;fZ=ge.item2;var gf=bi.roundStartAndExtent(L,fY,gb);L=gf.item1;fY=gf.item2}if(gd){fY=fZ=Math.min(fY,fZ)}e.fillRect(L,fX,fY,fZ)};bi.renderRectangle=function(e,L,fX,fY,fZ,ga,gb){var gc=fY/2;var gd=fZ/2;e.set_lineJoin('miter');e.set_lineWidth(gb);e.set_strokeStyle(ga);e.strokeRect(L-gc,fX-gd,fY,fZ)};bi.renderCircle=function(e,L,fX,fY,fZ,ga){e.beginPath();e.arc(L,fX,fY/2,0,bi.twoPI,true);e.closePath();e.set_lineWidth(ga);e.set_strokeStyle(fZ);e.stroke()};bi.renderFilledCircle=function(e,L,fX,fY,fZ){e.beginPath();e.arc(L,fX,fY/2,0,bi.twoPI,true);e.closePath();e.set_shapeFillStyle(fZ);e.fill()};bi.renderWedge=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge){var gf=bi.toCanvasAngle(fZ);var gg=bi.toCanvasAngle(ga);if(Math.abs(gg-gf)<bi.angleEpsilon){return}if(ss.isNullOrUndefined(gd)){gd=false}var gh=Math.abs(ga-fZ)>=1;e.beginPath();if(!gh){e.moveTo(L,fX)}gf=bi.$6(gf);gg=bi.$6(gg);e.arc(L,fX,fY,gf,gg,gd);e.closePath();e.set_lineJoin((ge?'miter':'round'));e.set_lineWidth(gc);e.set_strokeStyle(gb);e.stroke()};bi.createPlaceholderPath=function(e,L,fX,fY){e.beginPath();e.arc(L,fX,fY/2,0,bi.twoPI,true);e.closePath()};bi.createMultipolygonPath=function(e,L){e.beginPath();bi.addMultipolygonPath(e,L.Zmn);e.closePath()};bi.createMultipointPath=function(e,L,fX){e.beginPath();bi.addMultipointPath(e,fX.gvB,L/2);e.closePath()};bi.createMultiLinePath=function(e,L){e.beginPath();bi.addMultilinePath(e,L.fOR)};bi.$5=function(e,L,fX,fY,fZ,ga){var gb=Math.atan2(fZ-L,fY-e);var gc=Math.cos(gb);var gd=Math.sin(gb);fX/=2;ga/=2;var ge=fX*gd;var gf=ga*gd;var gg=fX*gc;var gh=ga*gc;var gi=new Array(8);gi[0]=e+ge;gi[1]=L-gg;gi[2]=fY+gf;gi[3]=fZ-gh;gi[4]=fY-gf;gi[5]=fZ+gh;gi[6]=e-ge;gi[7]=L+gg;return gi};bi.$1=function(e,L,fX){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(fX.x,fX.y)}else{switch(e.get_linePattern()){case'dashed':{bi.$0(e,L,fX,eK.defaultLineDashDashed[0],eK.defaultLineDashDashed[1]);break}case'dotted':{bi.$0(e,L,fX,eK.defaultLineDashDotted[0],eK.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(fX.x,fX.y);break}}}};bi.$0=function(e,L,fX,fY,fZ){var ga=e.get_lineWidth();fY=ga*fY;fZ=ga*fZ;e.moveTo(L.x,L.y);var gb=false;var gc=fY;var gd=L.x;var ge=L.y;var gf=fX.x-L.x;var gg=fX.y-L.y;var gh=gf*gf+gg*gg;gh=Math.sqrt(gh);var gi=gf/gh;var gj=gg/gh;while(gh>0){var gk=((gh>gc)?gc:gh);var gl=gd+gk*gi;var gm=ge+gk*gj;if(gb){e.moveTo(gl,gm)}else{e.lineTo(gl,gm)}gh-=gk;gc-=gk;if(gc===0){gb=!gb;gc=(gb?fZ:fY)}gd=gl;ge=gm}};bi.$4=function(e,L){var fX=tab.DomUtil.parseWidthFromStyle(e.style);fX=(isNaN(fX)?L:fX);return fX};bi.$3=function(e,L){var fX=tab.DomUtil.parseHeightFromStyle(e.style);fX=(isNaN(fX)?L:fX);return fX};bi.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=bi;var bj=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot};bj.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=bj;var bk=function(){};bk.__typeName='tab.CanvasUtil';bk.sizeCanvasWithHighDPISupport=function(e,L,fX){var fY=ef.calculatePixelRatio();bk.setCanvasSizeAndDensify(e,fY,fX);if(!tab.DoubleUtil.isApproximatelyEqual(fY,1)){bk.scaleCanvasDrawing(L,fY)}};bk.setCanvasSizeAndDensify=function(e,L,fX){if(ss.isValue(e)){var fY={w:ss.Int32.trunc(fX.w*L),h:ss.Int32.trunc(fX.h*L)};bk.densifyCanvasUsingSize(e,fY,fX)}};bk.densifyCanvasUsingSize=function(e,L,fX){if(ss.isValue(e)&&ss.isValue(L)&&ss.isValue(fX)){e.width=L.w;e.height=L.h;e.style.width=bk.$0(fX.w);e.style.height=bk.$0(fX.h)}};bk.scaleCanvasDrawing=function(e,L){if(ss.isValue(e)){e.pixelRatio=L;e.scale(L,L)}};bk.isOverCanvasSizeLimit=function(e,L,fX){var fY=Math.floor(fX*e*fX*L+0.5);return fY>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};bk.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,bk.$0(e.height))};bk.$0=function(e){return e+'px'};global.tab.CanvasUtil=bk;var bl=function(e){var L=function(fX,fY){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,fX,new bj);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=fY;this.context=bi.getRenderContext(this.canvasElt,fY);this.$h=ef.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(L,bl,[e],{add_sizeChange:function(fX){this.$3$1=ss.delegateCombine(this.$3$1,fX)},remove_sizeChange:function(fX){this.$3$1=ss.delegateRemove(this.$3$1,fX)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(fX){if(!ss.isValue(this.canvasElt)){return}if(bk.isOverCanvasSizeLimit(fX.w,fX.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==fX.w||this.get_effectiveViewSize().h!==fX.h){this.$e={w:fX.w,h:fX.h};bk.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(fX){if(!tab.PointUtil.equals(this.scrollOffset,fX)){var fY=tab.PointFUtil.timesScalar(fX,this.$h);var fZ=tab.PointFUtil.round(fY);var ga=tab.PointUtil.subtract(fZ,this.$g);var gb=tab.PointUtil.subtract(fX,this.scrollOffset);this.$g=fZ;this.scrollOffset=fX;if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var gc={x:-gb.x,y:-gb.y};var gd=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),gc);this.set_dirtyRect(gd)}if(gb.x!==0&&gb.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var ge=ga.x;var gf=ga.y;var gg=this.get_actualViewSize().w-Math.abs(ge);var gh=((ge>0)?ge:0);var gi=((ge>0)?0:-ge);var gj=this.get_actualViewSize().h-Math.abs(gf);var gk=((gf>0)?gf:0);var gl=((gf>0)?0:-gf);if(gg<=0||gj<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,gh,gk,gg,gj,gi,gl,gg,gj);var gm={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(gb.x>0){gm.x=gm.w-gb.x}else if(gb.x<0){gm.w=-gb.x}if(gb.y>0){gm.y=gm.h-gb.y}else if(gb.y<0){gm.h=-gb.y}if(gb.x===0){gm.h=Math.abs(gb.y)}if(gb.y===0){gm.w=Math.abs(gb.x)}gm=tab.RectXYUtil.dialate(gm,3);this.invalidateRect(gm,true)}}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(fX){if(ss.isValue(this.context)){this.context.dirtyRect=fX}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[e]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(fX){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(fX)},invalidateRect:function(fX,fY){var fZ;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){fZ=tab.RectXYUtil.clone(fX)}else{fZ=tab.RectXYUtil.union(this.get_dirtyRect(),fX)}if(fZ.x<0){fZ.x=0}if(fZ.x+fZ.w>this.get_effectiveViewSize().w){fZ.w=this.get_effectiveViewSize().w-fZ.x}if(fZ.y<0){fZ.y=0}if(fZ.y+fZ.h>this.get_effectiveViewSize().h){fZ.h=this.get_effectiveViewSize().h-fZ.y}this.set_dirtyRect(fZ);this.triggerRedraw(fY)},setXPos:function(fX){this.set_scrollPos({x:fX,y:this.get_scrollPos().y})},setYPos:function(fX){this.set_scrollPos({x:this.get_scrollPos().x,y:fX})},redraw:null,redrawFinished:null,triggerRedraw:function(fX){var fY=ss.isValue(this.$i);fX=fX||false;if(fX){this.$a();this.redraw();this.$9();if(fY){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!fY){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();var fX=!this.$f&&this.$j.isBusy();if(fX){this.$j.addref(false);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=br.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable]});return L};bl.__typeName='tab.CanvasView$1';ss.initGenericClass(bl,a,1);global.tab.CanvasView$1=bl;var bm=function(e,L){this.$i=null;this.$j=null;this.$k=null;eq.call(this,e,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=L};bm.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=bm;var bn=function(){this.$0=null;this.$1=null;er.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};bn.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=bn;var bo=function(){this.command=null;ss.EventArgs.call(this)};bo.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=bo;var bp=function(){};bp.__typeName='tab.CommonDialogProviderImpl';bp.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=bp;var bq=function(){};bq.__typeName='tab.CommonDialogProviderTelemetry';bq.$1=function(e,L,fX){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',['Title',e,'Content',L,'Links',(_.isArray(fX)?JSON.stringify(fX):'')])}};bq.$0=function(e,L){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var fX=ss.coalesce(L.ErrorType,'');var fY=ss.coalesce(L.ErrorMessage,'');var fZ=ss.coalesce(L.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',['Context',e,'ErrorType',fX,'Message',fY,'RedirectUrl',fZ])}};global.tab.CommonDialogProviderTelemetry=bq;var br=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};br.__typeName='tab.CompletionMonitor';br.get_instance=function(){if(ss.isNullOrUndefined(br.$0)){br.$0=new br}return br.$0};global.tab.CompletionMonitor=br;var bs=function(){};bs.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=bs;var bt=function(e,L){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=L};bt.__typeName='tab.CompletionToken';global.tab.CompletionToken=bt;var bu=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bx,bv,Object]).call(this,spiff.ObjectRegistry.newView(bx).call(null,[e.viewModel]),e,L)};bu.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bu;var bv=function(){this.viewModel=null};bv.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bv;var bw=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bw.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bw;var bx=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[by]).call(this,e,new bw);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bx.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bx;var by=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=by.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};by.__typeName='tab.CustomViewsViewModel';by.$0=function(e,L){return ss.compareStrings(e.name,L.name,true)};global.tab.CustomViewsViewModel=by;var bz=function(e,L){this.dashboardNode=null;spiff.Template.call(this,$(e));if(L){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bz.__typeName='tab.DashboardTemplate';bz.newDashboardTemplate=function(e){var L=(e?"<div class='tab-gutter'><div class='tab-dashboard' role='main'/></div>":"<div class='tab-dashboard' role='main'/>");return new bz(L,e)};global.tab.DashboardTemplate=bz;var bA=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bB]).call(this,e,bz.newDashboardTemplate(e.get_hasGutter()));this.$e=e;this.$e.add_formatsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_formatsChanged(ss.mkdel(this,this.$9))})));this.$e.add_newZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_newZone(ss.mkdel(this,this.$a))})));this.$e.add_vizRebuildStart(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_vizRebuildStart(ss.mkdel(this,this.$c))})));this.$e.add_sizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_sizeChanged(ss.mkdel(this,this.$b))})))};bA.__typeName='tab.DashboardView';bA.findDashboard=function(){return $('.tab-dashboard')};bA.uniquefyClonedFilterRadioElements=function(e){var L=e.find('input:radio');for(var fX=0;fX<L.length;++fX){var fY=L[fX];var fZ=ss.coalesce(fY.getAttribute('name'),'');fZ+='_%%%CLONE%%%';fY.setAttribute('name',fZ)}};global.tab.DashboardView=bA;var bB=function(e){this.$m={};this.$l=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$k));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bB.__typeName='tab.DashboardViewModel';bB.new$1=function(e){return new bB(e)};global.tab.DashboardViewModel=bB;var bC=function(e,L){React.Component.call(this,e,L)};bC.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bC;var bD=function(){bM.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure};bD.__typeName='tab.DataAlertCreatePersister';bD.new$1=function(){return new bD};global.tab.DataAlertCreatePersister=bD;var bE=function(e){this.$0=null;bN.call(this);this.$0=e};bE.__typeName='tab.DataAlertCreatePreparer';bE.new$1=function(e){return new bE(e)};global.tab.DataAlertCreatePreparer=bE;var bF=function(e,L){this.$C=null;this.$B=null;this.$A=null;this.$H=null;this.$G=false;this.$F=false;this.$D='';this.$z=null;this.$E=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);if(tsConfig.is_guest){return}this.$B=e;this.$A=L;this.$o();this.$m();this.refresh()};bF.__typeName='tab.DataAlertCreateViewModel';bF.new$1=function(e,L){return new bF(e,L)};global.tab.DataAlertCreateViewModel=bF;var bG=function(e,L){this.$h=null;this.$k=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.dialogViewModelDisposed=null;this.$3$1=null;this.dialogPosition=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$j=L;if(ss.isValue(e)){this.$i=e;this.updateFromDialogPresModel(e)}};bG.__typeName='tab.DataAlertDialogViewModel';bG.get_dataAlertModelExistsAndVisibleInApplicationModel=function(){return ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel())&&ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)&&tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm.KPJ};bG.new$1=function(e,L){return new bG(e,L)};bG.handleDataAlertClick=function(e){if(!ss.isNullOrEmptyString(e)){dG.showNotification(e);return}tab.DataAlertCommands.newDataAlert(function(){dG.showNotification(tab.Strings.DataAlertInitFailure)})};global.tab.DataAlertDialogViewModel=bG;var bH=function(e){this.$0='';bM.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure};bH.__typeName='tab.DataAlertEditPersister';bH.new$1=function(e){return new bH(e)};bH.getDifferenceInUserLists=function(e,L){var fX=_.difference(L.map(function(gb){return gb.id}),e.map(function(gb){return gb.id}));var fY=[];for(var fZ=0;fZ<fX.length;fZ++){var ga={$:fX[fZ]};ss.arrayAddRange(fY,L.filter(ss.mkdel({id:ga},function(gb){return gb.id===this.id.$})))}return fY};bH.getOldUsersToRemove=function(e,L){return bH.getDifferenceInUserLists(L,e)};global.tab.DataAlertEditPersister=bH;var bI=function(e,L){this.$6=null;this.$4=false;this.$5=false;bN.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$6=L};bI.__typeName='tab.DataAlertEditPreparer';bI.new$1=function(e,L){return new bI(e,L)};global.tab.DataAlertEditPreparer=bI;var bJ=function(){};bJ.__typeName='tab.DataAlertEditUrlHelper';bJ.isDataAlertEdit=function(){var e=bJ.editDataAlertId();if(ss.isNullOrEmptyString(e)){return false}return true};bJ.editDataAlertId=function(){if(!tab.FeatureFlags.isEnabled('AlertEditing')){return''}var e=tabBootstrap.Utility.get_urlLocationSearchParams()[':editDataAlert'];return(ss.isNullOrEmptyString(e)?'':e)};global.tab.DataAlertEditUrlHelper=bJ;var bK=function(e){spiff.PureRenderComponent.call(this,e)};bK.__typeName='tab.DataAlertErrorComponent';global.tab.DataAlertErrorComponent=bK;var bL=function(e,L){this.$b=null;this.$a=null;this.$9=null;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$b=e;this.$a=L;this.$7()};bL.__typeName='tab.DataAlertErrorViewModel';global.tab.DataAlertErrorViewModel=bL;var bM=function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null};bM.__typeName='tab.DataAlertPersisterBase';global.tab.DataAlertPersisterBase=bM;var bN=function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null};bN.__typeName='tab.DataAlertPreparerBase';global.tab.DataAlertPreparerBase=bN;var bO=function(e,L){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bQ]).call(this,e,L);this.dataHighlighterViewModel=e;this.$m=L.domRoot;this.dataHighlighterContentElement=L.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=L.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=L.get_zoneTitleRegionRootElement();this.$l=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.$g()})))};bO.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bO;var bP=function(){};bP.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bP;var bQ=function(e,L,fX){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=0;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=L;this.$8=fX;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=this.$5.get_fullDomainItemSet().hjl;if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.KDk}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bQ.__typeName='tab.DataHighlighterViewModel';global.tab.DataHighlighterViewModel=bQ;var bR=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};bR.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=bR;var bS=function(e,L){this.$0=null;be.call(this,e,L);this.$0=new cl(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bS.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bS;var bT=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var L=new Date;this.$p=bT.$4(bT.$2(e.monthToShow)||L);this.$B=bT.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var fX=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());fX.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(fY){spiff.EventUtil.stopEvent(fY)});this.$l()};bT.__typeName='tab.DatePicker';bT.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bT.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bT.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bT.$1=function(e,L,fX,fY){if(e+L>fY){e=fY-L;if(e<fX){e+=Math.ceil((fX-e)/2)}}return e};bT.$0=function(e,L){return(e+L+14)%7};bT.$5=function(e,L){return e.getFullYear()===L.getFullYear()&&e.getMonth()===L.getMonth()&&e.getDate()===L.getDate()};global.tab.DatePicker=bT;var bU=function(e,L,fX,fY,fZ,ga,gb,gc,gd){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(L)?null:new Date(L.getTime()));this.minDate=(ss.isNullOrUndefined(fX)?null:new Date(fX.getTime()));this.maxDate=(ss.isNullOrUndefined(fY)?null:new Date(fY.getTime()));this.firstDayOfWeek=ss.coalesce(fZ,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(ga)?['S','M','T','W','T','F','S']:ss.arrayClone(ga));this.todayFormatTemplate=(ss.isNullOrUndefined(gb)?'Today: {0}':gb);this.monthYearFormatter=(ss.isNullOrUndefined(gc)?function(ge){return ss.localeFormatDate(bT.$2(ge),'MMMM yyyy')}:gc);this.fullDateFormatter=(ss.isNullOrUndefined(gd)?function(ge){return ss.localeFormatDate(bT.$2(ge),'MMMM d, yyyy')}:gd)};bU.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bU;var bV=function(){React.Component.call(this)};bV.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=bV;var bW=function(){this.$8=false;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};bW.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=bW;var bX=function(){};bX.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=bX;var bY=function(e,L,fX){this.$c=null;bi.call(this,e,L);this.$c=fX||dh.defaultColors};bY.__typeName='tab.DisplayList2DRenderer';bY.setTextProperties=function(e,L,fX){e.set_textFillStyle(L.YhU);var fY=new ss.StringBuilder;if(L.BxQ==='font-style-italic'){fY.append('italic ')}if(L.cjf==='font-weight-bold'){fY.append('bold ')}if(ss.isValue(L.zwp)&&L.zwp==='text-decoration-underline'){e.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(fX)||fX<=0){fX=L.Qvi}var fZ=bY.$1(L.sGS);fY.append(fX+'pt '+fZ);e.set_font(fY.toString());e.set_textBaseline(cv.$0(L.Uec))};bY.$1=function(e){var L=bY.$a.cl[e];if(ss.isValue(L)){return L}var fX=ss.trimString(e,[39,34]);var fY=fX.split(' ');var fZ=[];for(var ga=fY.length;ga>0;--ga){fZ.push(cv.addQuotationMarks(fY.join(' '),true));fY.pop()}cv.addDefaultFontForTableau(fZ);var gb=fZ.join(', ');bY.$a.add(e,gb);return gb};bY.$0=function(e,L){var fX=L;e.set_textFillStyle(tab.ColorModel.convertColorForCanvas(fX.YhU));if(ss.isValue(fX.FYO)){var fY=fX.FYO*Math.PI/180;e.set_textAngle(fY)}else{e.set_textAngle(0)}var fZ=new ss.StringBuilder;if(fX.QRh){fZ.append('italic ')}if(fX.xjH){fZ.append('bold ')}if(fX.eXK){}var ga=eK.defaultTextAlign;if(e.get_isTextAngleHorizontal()){var gb=fX.nsE||'h-align-left';if(gb==='h-align-right'){ga='end'}}else{var gc=fX.$Q||'v-align-top';if(e.get_textAngle()<0&&gc==='v-align-top'||e.get_textAngle()>0&&gc==='v-align-bottom'){ga='end'}}e.set_textAlign(ga);e.set_shouldUnderlineText(fX.hhs||false);var gd=fX.sGS||'Arial';gd=bY.$1(gd);var ge=fX.pmz||8;fZ.append(ge+'pt '+gd);e.set_font(fZ.toString())};bY.$2=function(e,L,fX){var fY=L;if(fY.WzG.length!==4){return}var fZ=fY.WzG[2]-fY.WzG[0];var ga=fY.WzG[3]-fY.WzG[1];var gb=fY.WzG[0]+fZ/2;var gc=fY.WzG[1]+ga/2;var gd=((fZ<ga)?fZ:ga)/2;var ge=((fZ<ga)?1:(fZ/ga));var gf=((ga<fZ)?1:(ga/fZ));e.save();e.beginPath();e.translate(gb,gc);e.scale(ge,gf);e.arc(0,0,gd,0,bi.twoPI,false);e.closePath();if(fX){e.fill()}else{e.stroke()}e.restore()};bY.$3=function(e,L,fX){var fY=L.xCr;if(!fX&&Math.round(e.get_lineWidth())%2===1){fY=ss.arrayClone(fY);for(var fZ=0,ga=fY.length;fZ<ga;++fZ){fY[fZ]+=0.5}}var gb=L.Dpc;var gc=Math.floor(fY.length/2);if(gc<2){return}e.beginPath();var gd=0;for(var ge=0;ge<gb.length;ge++){var gf=gb[ge];switch(gf){case'moveto':{{e.moveTo(fY[gd],fY[gd+1]);gd+=2}break}case'lineto':{{e.lineTo(fY[gd],fY[gd+1]);gd+=2}break}case'curveto':{{e.bezierCurveTo(fY[gd],fY[gd+1],fY[gd+2],fY[gd+3],fY[gd+4],fY[gd+5]);gd+=6}break}default:{{}break}}}if(fX){e.fill()}else{e.stroke()}};bY.$5=function(e){switch(e.VzB){case'Osj':case'nuS':case'uXb':case'$OC':case'MqA':case'jp$':case'nfx':case'mpa':case'eTm':{return true}}return false};bY.$6=function(e,L){if(!L){return e}var fX=bY.$4(e);if(fX.length===0){return e}var fY=ss.arrayClone(e);var fZ=function(ge,gf){var gg=fY[ge];fY[ge]=fY[gf];fY[gf]=gg};for(var ga=0;ga<fX.length;ga++){var gb=fX[ga];for(var gc=0;gc<ss.Int32.div(gb.length,2);++gc){var gd=gb.length-1-gc;fZ(gb[gc].item1,gb[gd].item1);fZ(gb[gc].item2,gb[gd].item2)}}return fY};bY.$4=function(e){var L=[];var fX=-99999999;var fY=false;var fZ=-1;var ga=[];for(var gb=0;gb<e.length;gb++){var gc=e[gb];if(gc.VzB==='MqA'){var gd=gc;fY=ss.isValue(gd.nsE)&&gd.nsE==='h-align-right';fZ=gb}else if(fY&&gc.VzB==='ADd'){var ge=gc;var gf=ge.WzG[1];if(gf!==fX){if(ga.length>=2){L.push(ga)}ga=[]}ga.push({item1:fZ,item2:gb});fX=gf}}if(ga.length>=2){L.push(ga)}return L};global.tab.DisplayList2DRenderer=bY;var bZ=function(){};bZ.__typeName='tab.DisplayList2DUtils';bZ.rectXYFromDrawRect=function(e){return{x:e[0],y:e[1],w:e[2]-e[0],h:e[3]-e[1]}};global.tab.DisplayList2DUtils=bZ;var ca=function(){this.woffLocation=null;tab.FontProperties.call(this)};ca.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=ca;var cb=function(){};cb.__typeName='tab.DownloadableFontPropertiesExtensions';cb.toDownloadableFontProperties=function(e,L){var fX=new ca;fX.set_fontFamily(e.get_fontFamily());fX.set_style(e.get_style());fX.set_weight(e.get_weight());fX.woffLocation=L;return fX};global.tab.DownloadableFontPropertiesExtensions=cb;var cc=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ch,ce,Object]).call(this,spiff.ObjectRegistry.newView(ch).call(null,[e.viewModel]),e,L)};cc.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=cc;var cd=function(e,L,fX,fY){this.$3=null;this.$2=null;this.$4=null;this.$5=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(L,'message');tab.Param.verifyString(fX,'url');tab.Param.verifyString(fY,'urlTarget');this.$3=e;this.$2=L;this.$4=fX;this.$5=fY};cd.__typeName='tab.DownloadFileDialog';cd.$0=function(e){var L=React.createElement(SharedWidgets.ButtonWidget,{handleClick:e,buttonType:7,testId:'CancelBtn',label:tab.Strings.DialogButtonCancel});var fX=React.createElement(SharedWidgets.InlineBlock,{children:L});return fX};global.tab.DownloadFileDialog=cd;var ce=function(){this.viewModel=null};ce.__typeName='tab.DownloadProps';global.tab.DownloadProps=ce;var cf=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};cf.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=cf;var cg=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};cg.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=cg;var ch=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[ci]).call(this,e,new cg);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};ch.__typeName='tab.DownloadView';global.tab.DownloadView=ch;var ci=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e};ci.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=ci;var cj=function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};cj.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=cj;var ck=function(e,L){this.$P=null;cj.call(this,e);this.$P=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};ck.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=ck;var cl=function(e,L,fX){this.$P=null;this.urlToLoadDialogContent=null;cj.call(this,e);this.$P=fX;this.urlToLoadDialogContent=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};cl.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=cl;var cm=function(){};cm.__typeName='tab.EmailValidator';cm.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>cm.maxEmailLength){return false}var L=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return L.test(e)};global.tab.EmailValidator=cm;var cn=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};cn.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=cn;var co=function(e){ss.makeGenericType(spiff.BaseView$1,[cp]).call(this,e,new cn)};co.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=co;var cp=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};cp.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=cp;var cq=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};cq.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=cq;var cr=function(){this.$0=null;this.$0={}};cr.__typeName='tab.ExportHelper';global.tab.ExportHelper=cr;var cs=function(e,L,fX,fY,fZ){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(e);this.api=L;this.toolbarType=fX;this.canZoomHome=false;this.geoSearchEnabled=fZ;this.element.css({top:fY+'px'})};cs.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=cs;var ct=function(){};ct.__typeName='tab.FontMetricsLogger';ct.logUIStabilized=function(){ct.$0('UI Stabilized')};ct.logFontsLoaded=function(){ct.$0('AllFontsDownloaded')};ct.$0=function(e){var L={};L['t']=tabBootstrap.MetricsController.getTiming();L['d']=e;var fX=new tabBootstrap.MetricsEvent('gen',128,L);tabBootstrap.MetricsController.logEvent(fX)};global.tab.FontMetricsLogger=ct;var cu=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?cu.$0:cu.$2)};cu.__typeName='tab.FontNormalizer';cu.instance=function(){if(ss.isNullOrUndefined(cu.$4)){cu.$4=new cu;cu.$1()}return cu.$4};cu.$0=function(e){var L=e.split(' ');var fX;var fY=false;for(var fZ=0;fZ<L.length;++fZ){fX=cu.$3[L[fZ]];if(!(typeof(fX)==='undefined')){fY=true;L[fZ]=fX}}if(fY){return L.join(' ')}return e};cu.$2=function(e){return e};cu.$1=function(){if(ss.isValue(cu.$3)){return}if(tab.BrowserSupport.get_isIE()){cu.$3={};cu.$3['']='DLCMingMedium';cu.$3['']='DLCMingBold';cu.$3['']='Ming Light';cu.$3['']='PMingLiU';cu.$3['-ExtB']='MingLiU-ExtB';cu.$3['-ExtB']='PMingLiU-ExtB';cu.$3['MS']='MS Song';cu.$3['']='NSimSun';cu.$3['']='SimSun';cu.$3['']='SimSun';cu.$3['-18030']='SimSun-18030';cu.$3['-18030']='NSimSun-18030';cu.$3['']='SimSun (Founder Extended)';cu.$3['ExtA']='SimSun-ExtA';cu.$3['ExtB']='SimSun-ExtB';cu.$3['']='STSong';cu.$3['']='STZhongsong';cu.$3['']='MS';cu.$3['']='Mincho';cu.$3['']='PMincho';cu.$3['']='Heisei Minch';cu.$3['']='Rybund Minch';cu.$3['']='Kozuka Minch';cu.$3['']='Batang';cu.$3['']='BatangChe';cu.$3['']='Gungsuh';cu.$3['']='GungsuhChe';cu.$3['']='STHeiti Light';cu.$3['']='Microsoft JhengHei';cu.$3['']='Microsoft YaHei';cu.$3['MS']='MS Hei';cu.$3['']='MHei';cu.$3['']='SimHei';cu.$3['']='Meiryo';cu.$3['']='Gothic';cu.$3['']='PGothic';cu.$3['']='Dotum';cu.$3['']='DotumChe';cu.$3['']='Gulim';cu.$3['']='GulimChe';cu.$3['']='Malgun';cu.$3['']='Gothic';cu.$3['']='New Gulim';cu.$3['']='KaiU';cu.$3['']='SimKai';cu.$3['_GB2312']='SimKai';cu.$3['']='STKaiti';cu.$3['']='SimLi';cu.$3['']='SimLi';cu.$3['']='SimFang';cu.$3['']='SimFang';cu.$3['']='SimYou';cu.$3['']='HuaWen Xingkai';cu.$3['']='HuaWen CaiYun';cu.$3['']='FangZheng ShuTi';cu.$3['']='FangZheng QiTi';cu.$3['']='HanYi XueJun';cu.$3['']='HuaKang ShaoNu';cu.$3['']='HuaKang WuaWua'}};global.tab.FontNormalizer=cu;var cv=function(){};cv.__typeName='tab.FormattingConverters';cv.getCSSBorderStyle=function(e){var L='solid';switch(e){case'bs-dashed':{L='dashed';break}case'bs-dotted':{L='dotted';break}case'bs-double':{L='double';break}case'bs-groove':{L='groove';break}case'bs-hidden':{L='hidden';break}case'bs-inset':{L='inset';break}case'bs-outset':{L='outset';break}case'bs-ridge':{L='ridge';break}case'bs-solid':{L='solid';break}case'bs-none':{L='none';break}default:{break}}return L};cv.makeStyledBoxCssDict=function(e,L){var fX={};if(ss.isValue(e)){fX=cv.makeBorderStyleDict(e);if(e.iKN){var fY=tab.ColorModel.fromColorCode(e.eBu);fX['background-color']=(L?fY.toString():fY.toRgb())}}return fX};cv.makeFormatStyleDict=function(e,L){if(ss.isNullOrUndefined(e)){return{}}var fX={'font-size':e.Qvi+'pt',color:e.YhU};if(ss.isValue(e.sGS)&&ss.keyExists(cv.$3,e.sGS)){fX['font-family']=cv.$3[e.sGS]}else if(ss.isValue(e.sGS)){var fY=e.sGS.split(',');cv.addDefaultFontForTableau(fY);for(var fZ=0;fZ<fY.length;fZ++){fY[fZ]=cv.addQuotationMarks(fY[fZ].trim(),false)}fX['font-family']=fY.join(',');cv.$3[e.sGS]=fX['font-family']}if(ss.isValue(L)){fX.color=L}if(e.BxQ==='font-style-italic'){fX['font-style']='italic'}if(e.cjf==='font-weight-bold'){fX['font-weight']='bold'}var ga='none';switch(e.zwp){case'text-decoration-overline':{ga='overline';break}case'text-decoration-strikethrough':{ga='line-through';break}case'text-decoration-underline':{ga='underline';break}}if(ga!=='none'){fX['text-decoration']=ga}if(ss.isValue(e.inn)){switch(e.inn){case'text-wrap-off':{fX['white-space']='nowrap';break}case'text-wrap-truncate':{fX['overflow-x']='hidden';break}}}return fX};cv.addQuotationMarks=function(e,L){if(tab.MiscUtil.isNullOrEmpty$1(e)){return(L?"''":'""')}var fX=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(fX)===39||e.charCodeAt(0)===34&&e.charCodeAt(fX)===34){return e}if(e.indexOf(' ')!==-1){var fY=(L?"'":'"');e=fY+e+fY}return e};cv.makeBorderStyleDict=function(e){var L={};if(ss.isValue(e.s$V)){L['border-width']=e.s$V+'px'}if(ss.isValue(e.mjt1)){L['border-color']=e.mjt1}if(ss.isValue(e.s$V)){L['border-style']=cv.getCSSBorderStyle(e.ysh1)}return L};cv.$0=function(e){var L='bottom';switch(e){case'v-align-bottom':{L='bottom';break}case'v-align-top':{L='top';break}case'v-align-center':{L='middle';break}default:{break}}return L};cv.cleanUpFontFamilyStyles=function(e){var L=e.find('span');for(var fX=0;fX<L.length;++fX){var fY=L.eq(fX);var fZ=fY.css('font-family');if(!ss.isNullOrEmptyString(fZ)){var ga={};var gb=[];gb.push(fZ);if(ss.startsWithString(fZ,"'")||ss.startsWithString(fZ,'"')){fZ=fZ.substr(1,fZ.length-2)}fZ=cv.$2(fY,gb,ga,fZ,cv.$5,'font-style','fontStyle');fZ=cv.$2(fY,gb,ga,fZ,cv.$6,'font-weight','fontWeight');cv.$2(fY,gb,ga,fZ,cv.$4,'font-stretch','fontStretch');cv.addDefaultFontForTableau(gb);if(gb.length>1){ga['font-family']=gb.join(',');fY.css(ga)}}}};cv.addDefaultFontForTableau=function(e){var L='tableau';var fX=false;var fY=e.length;for(var fZ=0;fZ<fY;fZ++){var ga=e[fZ].trim();for(var gb=0;gb<2;gb++){if(ss.startsWithString(ga,"'")||ss.startsWithString(ga,'"')){ga=ga.substr(1)}}if(ss.compareStrings(ga.substr(0,L.length),L,true)===0){fX=true;break}}if(fX){e.push('Arial');e.push('sans-serif')}};cv.$2=function(e,L,fX,fY,fZ,ga,gb){var gc=fY.toLowerCase();for(var gd=0;gd<fZ.length;gd++){var ge=fZ[gd];if(ss.endsWithString(gc,ge.item1)){fY=fY.substr(0,gc.lastIndexOf(ge.item1)).trim();L.push("'"+fY+"'");if(!cv.$1(e,gb)){fX[ga]=ge.item2}}}return fY};cv.$1=function(e,L){return!ss.isNullOrEmptyString(e.prop('style')[L])};global.tab.FormattingConverters=cv;var cw=function(e,L){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var fX=$('.tb-data-source-button-retry',this.element);fX.text(tab.Strings.DataSourceGenericErrorButtonLabel);fX.on('click',function(fY){if(ss.isValue(L)){L()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};cw.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=cw;var cx=function(e,L){this.$1=tab.Strings.DataSourceGenericTitle;this.$0=null;be.call(this,e,L);var fX=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var fY=new cw(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fX);this.$0=new ck(this.$1,fY.element)};cx.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=cx;var cy=function(e,L){bd.call(this,e,L)};cy.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cy;var cz=function(e){dF.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};cz.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=cz;var cA=function(){};cA.__typeName='tab.GeometryUtil';cA.domainToPixelGeometry=function(e,L,fX,fY){switch(e.TDA){case'multiPolygon':{cA.domainToPixelMultipolygon(e.Zmn,L,fX,fY);break}case'multiPoint':{var fZ=e.gvB;cA.domainToPixelCoordinateArray(fZ.xCr,L,fX,fY);break}case'multiLineString':{var ga=e.fOR;cA.domainToPixelMultiline(ga,L,fX,fY);break}default:{break}}};cA.domainToPixelMultipolygon=function(e,L,fX,fY){var fZ=e.KCe;var ga=fZ.length;for(var gb=0;gb<ga;gb++){var gc=fZ[gb].jWM;var gd=gc.length;for(var ge=0;ge<gd;ge++){var gf=gc[ge].xCr;cA.domainToPixelCoordinateArray(gf,L,fX,fY)}}};cA.domainToPixelMultiline=function(e,L,fX,fY){var fZ=e.jWM.length;for(var ga=0;ga<fZ;ga++){var gb=e.jWM[ga].xCr;cA.domainToPixelCoordinateArray(gb,L,fX,fY)}};cA.domainToPixelCoordinateArray=function(e,L,fX,fY){var fZ=3;var ga=fX.w/L.w;var gb=fX.h/L.h;var gc=e.length;if(gc<2){return}var gd=null;var ge=null;var gf=0;for(var gg=0;gg<gc;gg+=2){var gh=ef.domainToPixel(e[gg],L.x,fX.x,ga);var gi=ef.domainToPixel(e[gg+1],L.y,fX.y,gb);if(fY){var gj=gh*3<<0;var gk=gi*3<<0;if(gj===gd&&gk===ge){continue}gd=gj;ge=gk}e[gf]=gh;e[gf+1]=gi;gf+=2}e.length=gf};cA.isGeometryPresModelFeatureEmpty=function(e){switch(e.TDA){case'multiPoint':{return e.gvB.xCr.length===0}case'multiPolygon':{return e.Zmn.KCe.length===0}case'multiLineString':{return e.fOR.jWM.length===0}default:{return false}}};cA.isPointInPoly=function(e,L,fX){if(ss.isValue(fX)&&fX!==0){return cA.polygonIntersectsDoubleRect(e,{x:L.x-fX,y:L.y-fX,w:fX*2,h:fX*2})}var fY=0;var fZ=e.length;for(var ga=0;ga<fZ;ga+=2){var gb=e[ga];var gc=e[ga+1];var gd=(ga+2)%fZ;var ge=e[gd];var gf=e[gd+1];if(gc<=L.y){if(gf>L.y){if(cA.$5(gb,gc,ge,gf,L.x,L.y)>0){++fY}}}else if(gf<=L.y){if(cA.$5(gb,gc,ge,gf,L.x,L.y)<0){--fY}}}return fY!==0};cA.isPointInPolygon=function(e,L){var fX=false;var fY=0;for(var fZ=0;fZ<e.jWM.length;fZ++){var ga=e.jWM[fZ];var gb=cA.isPointInPoly(ga.xCr,L);if(fY===0){if(gb){fX=true}else{break}}else if(gb){fX=false;break}fY++}return fX};cA.isPointInMultipolygon=function(e,L){var fX=false;for(var fY=0;fY<e.KCe.length;fY++){var fZ=e.KCe[fY];fX=cA.isPointInPolygon(fZ,L);if(fX){break}}return fX};cA.isPointInMultipoint=function(e,L,fX){var fY=e.xCr;var fZ={center:L,radius:fX};for(var ga=0;ga<fY.length;ga=ga+2){var gb=fY[ga];var gc=fY[ga+1];var gd={x:gb,y:gc};if(cA.isPointInCircle(gd,fZ)){return true}}return false};cA.multipolygonIntersectsDoubleRect=function(e,L){for(var fX=0;fX<e.KCe.length;fX++){var fY=e.KCe[fX];for(var fZ=0;fZ<fY.jWM.length;fZ++){var ga=fY.jWM[fZ];if(cA.polygonIntersectsDoubleRect(ga.xCr,L)){return true}}}return false};cA.multipointIntersectsDoubleRect=function(e,L,fX){return cA.multipointIntersectsPolygon(e,cA.$1(L),fX)};cA.multipolygonIntersectsPolygon=function(e,L,fX){for(var fY=0;fY<e.KCe.length;fY++){var fZ=e.KCe[fY];for(var ga=0;ga<fZ.jWM.length;ga++){var gb=fZ.jWM[ga];if(cA.$6(gb.xCr,L,fX)){return true}}}return false};cA.multipointIntersectsPolygon=function(e,L,fX){var fY=e.xCr;var fZ={center:{x:0,y:0},radius:fX};for(var ga=0;ga<fY.length;ga=ga+2){var gb=fY[ga];var gc=fY[ga+1];var gd={x:gb,y:gc};fZ.center=gd;if(cA.polygonIntersectsCircle(L,fZ)){return true}}return false};cA.polygonIntersectsRect=function(e,L){return cA.$6(e,cA.$2(L))};cA.polygonIntersectsDoubleRect=function(e,L){return cA.$6(e,cA.$1(L))};cA.$6=function(e,L,fX){if(e.length===0||L.length===0){return false}if(cA.isPointInPoly(L,{x:e[0],y:e[1]})){return true}if(cA.isPointInPoly(e,{x:L[0],y:L[1]})){return true}if(e.length>L.length||ss.isValue(fX)){var fY=e;e=L;L=fY}var fZ=fX;var ga=ss.isValue(fZ);for(var gb=0,gc=e.length;gb<gc;gb+=2){var gd=(gb+2)%gc;if(ga&&!cA.$8(fZ,e[gb],e[gb+1],e[gd],e[gd+1])){continue}if(cA.$7(L,e[gb],e[gb+1],e[gd],e[gd+1])){return true}}return false};cA.$8=function(e,L,fX,fY,fZ){if(L>fY){var ga=L;L=fY;fY=ga}if(fY<e.x||L>e.x+e.w){return false}if(fX>fZ){var gb=fX;fX=fZ;fZ=gb}return!(fZ<e.y||fX>e.y+e.h)};cA.$7=function(e,L,fX,fY,fZ){var ga=fY-L;var gb=fZ-fX;var gc=e.length;for(var gd=0;gd<gc;gd+=2){var ge=(gd+2)%gc;var gf=e[gd];var gg=e[gd+1];var gh=e[ge];var gi=e[ge+1];var gj=ga*(gg-fZ)-gb*(gf-fY);var gk=ga*(gi-fZ)-gb*(gh-fY);if(gj<0&&gk<0||gj>0&&gk>0){continue}var gl=gh-gf;var gm=gi-gg;var gn=gl*(fX-gi)-gm*(L-gh);var go=gl*(fZ-gi)-gm*(fY-gh);if(gj!==0&&gk!==0){if(gn<0&&go>0||gn>0&&go<0){return true}else if(gn!==0&&go!==0){continue}}var gp=[gn,go,gj,gk];var gq=[L,fX,fY,fZ,gf,gg,gh,gi];if(cA.$4(gp,gq)){return true}}return false};cA.$4=function(e,L){var fX=[4,4,0,0];var fY=[6,6,2,2];for(var fZ=0,ga=0,gb=4;fZ<gb;fZ++,ga+=2){if(e[fZ]===0){var gc=L[ga];var gd=L[ga+1];var ge=L[fX[fZ]];var gf=L[fX[fZ]+1];var gg=L[fY[fZ]];var gh=L[fY[fZ]+1];if(gc>=Math.min(ge,gg)&&gc<=Math.max(ge,gg)&&gd>=Math.min(gf,gh)&&gd<=Math.max(gf,gh)){return true}}}return false};cA.multipolygonIntersectsCircle=function(e,L){for(var fX=0;fX<e.KCe.length;fX++){var fY=e.KCe[fX];for(var fZ=0;fZ<fY.jWM.length;fZ++){var ga=fY.jWM[fZ];if(cA.polygonIntersectsCircle(ga.xCr,L)){return true}}}return false};cA.multipointIntersectsCircle=function(e,L,fX){var fY=e.xCr;var fZ={center:{x:0,y:0},radius:fX};for(var ga=0;ga<fY.length;ga=ga+2){var gb=fY[ga];var gc=fY[ga+1];var gd={x:gb,y:gc};fZ.center=gd;if(cA.circleIntersectsCircle(L,fZ)){return true}}return false};cA.circleIntersectsCircle=function(e,L){var fX=Math.pow(e.center.x-L.center.x,2)+Math.pow(e.center.y-L.center.y,2);return Math.pow(e.radius+L.radius,2)>=fX};cA.polygonIntersectsCircle=function(e,L){if(e.length===0||L.radius===0){return false}if(cA.isPointInPoly(e,L.center)){return true}if(cA.isPointInCircle({x:e[0],y:e[1]},L)){return true}var fX=L.radius*L.radius;for(var fY=0,fZ=e.length;fY<fZ;fY+=2){var ga=e[fY];var gb=e[fY+1];var gc=(fY+2)%fZ;var gd=e[gc];var ge=e[gc+1];var gf=ge-gb;var gg=gd-ga;var gh=gg*gg+gf*gf;var gi=((L.center.x-ga)*gg+(L.center.y-gb)*gf)/gh;gi=Math.min(1,Math.max(0,gi));var gj=ga+gi*gg;var gk=gb+gi*gf;gg=gj-L.center.x;gf=gk-L.center.y;gh=gg*gg+gf*gf;if(fX>gh){return true}}return false};cA.circleIntersectsRect=function(e,L){if(e.radius<=0){return false}var fX=cA.$0(L);for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];if(cA.isPointInCircle(fZ,e)){return true}}if(tab.RectXYUtil.inRectPointF(L,e.center)){return true}var ga=L.w/2;var gb=L.h/2;var gc={x:L.x+ga,y:L.y+gb};if(e.center.y<L.y||e.center.y>=L.y+L.h){return e.center.x>L.x&&e.center.x<L.x+L.w&&Math.abs(gc.y-e.center.y)<gb+e.radius}if(e.center.x<L.x||e.center.x>=L.x+L.w){return e.center.y>L.y&&e.center.y<L.y+L.h&&Math.abs(gc.x-e.center.x)<ga+e.radius}return false};cA.normalizeAngle=function(e){var L=e%cA.twoPI;if(L<0){L+=cA.twoPI}return L};cA.isInBetweenAngles=function(e,L,fX){var fY=false;if(L>fX){var fZ=L;L=fX;fX=fZ;fY=true}if(L<=e&&fX>=e){return!fY}return fY};cA.isPointInCircle=function(e,L){var fX=Math.pow(e.x-L.center.x,2)+Math.pow(e.y-L.center.y,2);var fY=L.radius*L.radius;var fZ=fX<fY;return fZ};cA.isPointInWedge=function(e,L,fX,fY){if(!cA.isPointInCircle(e,L)){return false}var fZ=e.x-L.center.x;var ga=e.y-L.center.y;var gb=Math.atan2(ga,fZ);gb=cA.normalizeAngle(gb);return cA.isInBetweenAngles(gb,fX,fY)};cA.rectIntersectsWedge=function(e,L,fX,fY){var fZ=cA.$0(e);for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];if(cA.isPointInWedge(gb,L,fX,fY)){return true}}if(tab.RectXYUtil.inRectPointF(e,L.center)){return true}var gc=cA.$3(L,fX,fY);return cA.polygonIntersectsRect(gc,e)};cA.polygonIntersectsWedge=function(e,L,fX,fY){if(e.length===0){return false}if(cA.isPointInWedge({x:e[0],y:e[1]},L,fX,fY)){return true}if(cA.isPointInPoly(e,L.center)){return true}var fZ=cA.$3(L,fX,fY);return cA.$6(fZ,e)};cA.circleIntersectsWedge=function(e,L,fX,fY){if(e.radius<=0){return false}if(cA.isPointInWedge(e.center,L,fX,fY)){return true}if(cA.isPointInCircle(L.center,e)){return true}var fZ=cA.$3(L,fX,fY);return cA.polygonIntersectsCircle(fZ,e)};cA.$3=function(e,L,fX){while(L>fX){fX+=cA.twoPI}var fY=L;var fZ=new Array(4);fZ[0]=e.center.x;fZ[1]=e.center.y;fZ[2]=e.center.x+Math.cos(fY)*e.radius;fZ[3]=e.center.y+Math.sin(fY)*e.radius;while(fY<fX){var ga=Math.min(fY+cA.$9,fX);fZ.push(e.center.x+Math.cos(ga)*e.radius);fZ.push(e.center.y+Math.sin(ga)*e.radius);fY=ga}return fZ};cA.areRectanglesIntersecting=function(e,L){return tab.RectXYUtil.intersectsWith(e,L)};cA.getSquaredDistanceToCenter=function(e,L){var fX=e.x+e.w/2;var fY=e.y+e.h/2;var fZ=fX-L.x;var ga=fY-L.y;return fZ*fZ+ga*ga};cA.getSquaredDistanceToNearestSide=function(e,L){var fX=e.y;var fY=e.y+e.h;var fZ=e.x;var ga=e.x+e.w;var gb,gc;if(L.x<fZ){gb=fZ-L.x}else if(L.x>ga){gb=L.x-ga}else{gb=0}if(L.y<fX){gc=fX-L.y}else if(L.y>fY){gc=L.y-fY}else{gc=0}return gb*gb+gc*gc};cA.getSquaredDistanceToCircumference=function(e,L){var fX=Math.sqrt(cA.getSquaredDistanceToCenter(e,L))-Math.min(e.w,e.h)/2;fX=Math.max(fX,0);return fX*fX};cA.getSquaredDistanceToLineSegment=function(e,L,fX){var fY,fZ;if(fX.x<L.x){var ga=L;L=fX;fX=ga}var gb=fX.x-L.x;var gc=fX.y-L.y;var gd=gb*gb+gc*gc;if(gd===0){fY=e.x-L.x;fZ=e.y-L.y;return fY*fY+fZ*fZ}var ge=((e.x-L.x)*gb+(e.y-L.y)*gc)/gd;var gf;var gg;if(ge<0){gf=L.x;gg=L.y}else if(ge>1){gf=fX.x;gg=fX.y}else{gf=L.x+ge*gb;gg=L.y+ge*gc}fY=e.x-gf;fZ=e.y-gg;return fY*fY+fZ*fZ};cA.degreeToRad=function(e){return e*(Math.PI/180)};cA.radToDegree=function(e){return e*(180/Math.PI)};cA.haversineDistance=function(e,L,fX){var fY=cA.degreeToRad(L.item1-e.item1);var fZ=cA.degreeToRad(e.item2);var ga=cA.degreeToRad(L.item2);var gb=ga-fZ;var gc=Math.pow(Math.sin(gb/2),2)+Math.cos(fZ)*Math.cos(ga)*Math.pow(Math.sin(fY/2),2);var gd=2*Math.atan2(Math.sqrt(gc),Math.sqrt(1-gc));return gd*fX};cA.$5=function(e,L,fX,fY,fZ,ga){return(fX-e)*(ga-L)-(fZ-e)*(fY-L)};cA.$0=function(e){var L=new Array(4);L[0]={x:e.x,y:e.y};L[1]={x:e.x+e.w,y:e.y};L[2]={x:e.x+e.w,y:e.y+e.h};L[3]={x:e.x,y:e.y+e.h};return L};cA.$2=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};cA.$1=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};global.tab.GeometryUtil=cA;var cB=function(e){this.$c=null;this.$b=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$c=e;this.$b=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$a))})));this.get_button().addToDom(this.element)};cB.__typeName='tab.GotoMyLocationButton';global.tab.GotoMyLocationButton=cB;var cC=function(){};cC.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=cC;var cD=function(){};cD.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=cD;var cE=function(){};cE.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=cE;var cF=function(e,L,fX,fY,fZ){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=e;if(ss.isNullOrUndefined(fY)||tab.RectXYUtil.isEmpty(fY)){this.$2=null}else{this.$2=fY}if(ss.isNullOrUndefined(fX)){this.$4=-1}else{this.$4=fX}if(ss.isNullOrUndefined(fZ)){this.$9=0}else{this.$9=fZ}this.$3=L;this.$1=[]};cF.__typeName='tab.HitTargetNode';cF.findPaneNode=function(e){if(ss.isNullOrUndefined(e)){return null}while(e.$3!==0){if(e.get_nodeType()===1){return e}e=e.get_parent()}return null};cF.createRootNode=function(){return new cF({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=cF;var cG=function(){};cG.__typeName='tab.HitTargetType';global.tab.HitTargetType=cG;var cH=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var e=$('.tab-tvView .tabCanvas');this.$4=e.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};cH.__typeName='tab.HitTestDebugger';cH.get_instance=function(){if(ss.isNullOrUndefined(cH.$1)){cH.$1=new cH}return cH.$1};global.tab.HitTestDebugger=cH;var cI=function(e){this.$5=null;this.$5=e};cI.__typeName='tab.HitTester';cI.$0=function(e,L,fX,fY,fZ){switch(fZ){case'area':{return dz.$2(e,L.x-fY,L.y,fX)}case'line':{return dz.$o(e,L.x-fY,L.y,fX)}case'multipolygon':{return dz.$v(e,L.x-fY,L.y,fX)}case'pie':{return dz.$z(e,L.x-fY,L.y,fX)}case'shape':{return dz.$1A(e,L.x-fY,L.y,fX)}case'bar':case'square':{return dz.$a(e,L.x-fY,L.y,fX)}case'text':{return dz.$1I(e,L.x-fY,L.y,fX)}default:{var ga={x:L.x-Math.round(fY),y:L.y,w:L.w,h:L.h};return tab.RectXYUtil.intersectsWith(ga,e.getMarkBounds(fX))}}};cI.$1=function(e,L,fX,fY,fZ){switch(fZ){case'line':{return dz.$r(e,L.x-fY,L.y,fX)}case'shape':{return dz.$1D(e,L.x-fY,L.y,fX)}case'bar':case'square':{return dz.$d(e,L.x-fY,L.y,fX)}case'text':{return dz.$1L(e,L.x-fY,L.y,fX)}case'area':{return dz.$5(e,L.x-fY,L.y,fX)}default:{return false}}};cI.rectangleAreaHit=function(e,L,fX,fY,fZ,ga){var gb=(fZ.get_isNull()?fX:tab.RectXYUtil.offsetRectF(fX,{x:-fZ.get_translateX(),y:-fZ.get_translateY()}));switch(ga){case'area':{return dz.$7(e,gb,fY)}case'line':{return dz.$t(e,gb,fY)}case'multipolygon':{var gc=fZ.transformRect(fX);return dz.$x(e,gc,fY)}case'pie':{return dz.$B(e,gb,fY)}case'shape':{return dz.$1F(e,gb,fY)}case'text':{return dz.$1N(e,gb,fY)}case'bar':case'square':{return dz.$f(e,gb,fY)}default:{return tab.RectXYUtil.intersectsWith(fX,L)}}};cI.circleAreaHit=function(e,L,fX,fY,fZ,ga,gb){var gc=(fZ.get_isNull()?fX:tab.CircleUtil.offsetCircle(fX,{x:-fZ.get_translateX(),y:-fZ.get_translateY()}));var gd=(fZ.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-fZ.get_translateX(),y:-fZ.get_translateY()}));switch(ga){case'area':{return dz.$1(e,gc,fY,gd,gb)}case'line':{return dz.$n(e,gc,fY,gd,gb)}case'multipolygon':{var ge=fZ.transformCircle(fX);return dz.$u(e,ge,fY,gb)}case'pie':{return dz.$y(e,gc,fY,gb)}case'shape':{return dz.$1z(e,gc,fY,gb)}case'text':{return dz.$1H(e,gc,fY,gd,gb)}case'bar':case'square':{return dz.$9(e,gc,fY,gd,gb)}default:{return cA.circleIntersectsRect(fX,L)}}};cI.polyAreaHit=function(e,L,fX,fY,fZ,ga){var gb=(fZ.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-fZ.get_translateX(),y:-fZ.get_translateY()}));switch(ga){case'area':{return dz.$6(e,fX,fY,gb)}case'line':{return dz.$s(e,fX,fY,gb)}case'multipolygon':{return dz.$w(e,fX,fY,gb)}case'pie':{return dz.$A(e,fX,fY)}case'shape':{return dz.$1E(e,fX,fY)}case'text':{return dz.$1M(e,fX,fY,gb)}case'bar':case'square':{return dz.$e(e,fX,fY,gb)}default:{return cA.polygonIntersectsRect(fX,gb)}}};cI.getTransformInfo=function(e,L){var fX=e.paneRect;if(e.markType==='multipolygon'&&!e.hasPixelGeometry){var fY=L.get_objectId();var fZ=e.c.get('x').gv(fY);var ga=e.c.get('y').gv(fY);var gb=e.c.get('size').gv(fY);return tab.Transform.pixelToDomain(fX.x+fZ,fX.y+ga,gb)}var gc=L.get_worldOffset();return tab.Transform.offset(fX.x+gc,fX.y)};global.tab.HitTester=cI;var cJ=function(e){cJ.$ctor1.call(this,e.get_index(),(ss.keyExists(cJ.$1,e.get_visualPart())?cJ.$1[e.get_visualPart()]:1),(ss.keyExists(cJ.$0,e.get_hitType())?cJ.$0[e.get_hitType()]:0))};cJ.__typeName='tab.HitTestResult';cJ.$ctor1=function(e,L,fX){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=e;this.$0=L;this.$1=fX;this.$3=fX!==0};cJ.tieBreak=function(e,L){if(e.get_hitType()>L.get_hitType()||e.get_hitType()===L.get_hitType()&&(e.get_hitObjectType()>L.get_hitObjectType()||e.get_hitObjectType()===L.get_hitObjectType()&&e.get_id()>L.get_id())){return e}return L};cJ.getIdsFromHitTestResults=function(e,L){var fX=new Set;for(var fY=0;fY<e.length;fY++){var fZ=e[fY];fX.add(fZ.get_id())}var ga=tab.SetUtilities.getValues(ss.Int32).call(null,fX);if(L){ga.sort(function(gb,gc){return gb-gc})}return ga};cJ.hasExactHit=function(e){for(var L=0;L<e.length;L++){var fX=e[L];if(fX.get_hitType()===3){return true}}return false};cJ.tieBreakHits=function(e,L){var fX=new cJ.$ctor1(0,0,0);var fY=new cJ.$ctor1(0,0,0);for(var fZ=0;fZ<e.length;fZ++){var ga=e[fZ];if(ga.get_hitType()===3){return ga}if(ga.get_hitType()!==0&&fX.get_hitType()===0){fX=ga}}for(var gb=0;gb<L.length;gb++){var gc=L[gb];if(gc.get_hitType()===3){return gc}if(gc.get_hitType()!==0&&fY.get_hitType()===0){fY=gc}}if(fX.get_hitType()!==0){return fX}if(fY.get_hitType()!==0){return fY}return new cJ.$ctor1(0,0,0)};global.tab.HitTestResult=cJ;var cK=function(){};cK.__typeName='tab.HitTestStructureBuilder';cK.buildBinnedHitTestStructure=function(e,L){var fX=cF.createRootNode();var fY=0;var fZ=e.scene.HUq;for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];var gc=cK.$2(gb);for(var gd=0;gd<gc.length;gd++){var ge=gc[gd];var gf=e.$a(ge);var gg=gf.get_mapExtentOrPaneRect();var gh=new cF(gg,1);var gi=el.getPaneMarksKey(ge);gh.set_paneKey(gi);gh.set_paneIndex(ge.hJq);gh.set_paneOrderIndex(fY++);fX.addNode(gh);var gj=Math.ceil(gg.w/L);for(var gk=0;gk<L;++gk){var gl=gk*gj+gg.x;var gm=gg.y;var gn=gj;var go=gg.h;var gp=new cF({x:gl,y:gm,w:gn,h:go},2);gh.addNode(gp)}var gq=cK.buildMarkBounds(gf,0,gf.markCount-1,gf.getAllMarkBounds());for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];var gt=gh.get_children();for(var gu=0;gu<gt.length;gu++){var gv=gt[gu];if(tab.RectXYUtil.intersectsWith(gs.get_boundingBox(),gv.get_boundingBox())){gv.addNode(gs)}}}}}return fX};cK.buildLinearHitTestStructure=function(e){var L=cF.createRootNode();var fX=0;var fY=e.scene.HUq;for(var fZ=0;fZ<fY.length;fZ++){var ga=fY[fZ];var gb=cK.$2(ga);for(var gc=0;gc<gb.length;gc++){var gd=gb[gc];var ge=e.$a(gd);if(!ss.isValue(ge)){continue}var gf=cK.$0(gd,ge,fX);L.addNode(gf);fX++}}return L};cK.buildTrendLineHitTestStructure=function(e,L,fX){var fY=e.xCr;var fZ=e.Dpc;var ga=Math.floor(fY.length/2);if(ga<2){return new cF({x:0,y:0,w:0,h:0},0)}var gb=[];var gc=0;for(var gd=0;gd<fZ.length;gd++){var ge=fZ[gd];switch(ge){case'moveto':{{gc+=2}break}case'lineto':{{if(ss.isValue(fY[gc+3])){var gf=[fY[gc],fY[gc+1],fY[gc+2],fY[gc+3]];var gg=ss.Int32.trunc(Math.min(gf[0],gf[2]));var gh=ss.Int32.trunc(Math.min(gf[1],gf[3]));var gi=ss.Int32.trunc(Math.max(gf[0],gf[2]))-gg;var gj=ss.Int32.trunc(Math.max(gf[1],gf[3]))-gh;var gk={x:gg,y:gh,w:gi,h:gj};gk=tab.RectXYUtil.dialate(gk,ss.Int32.trunc(L));var gl=new cF(gk,5,fX);gb.push(gl)}gc+=2}break}case'curveto':{{gc+=6}break}default:{{}break}}}var gm=cK.$1(gb,4);return gm};cK.buildMarkBounds=function(e,L,fX,fY){var fZ=fX-L+1;var ga=[];var gb=0;for(var gc=L;gc<=fX;++gc){var gd=fY[gc].item1;var ge=fY[gc].item2;var gf=e.getMarkInstanceOffsets(gc);var gg=gf.length;for(var gh=0;gh<gg;gh++){var gi=gd;var gj=ge;var gk=gf[gh];if(gk!==0){var gl=ss.Int32.trunc(gk);gi=tab.RectXYUtil.offsetRectXY(gd,gl,0);gj=(ss.isValue(ge)?tab.RectXYUtil.offsetRectXY(ge,gl,0):null)}ga[gb]=new cF(gi,3,gc,gj,gk);++gb}}return ga};cK.print=function(e,L){var fX='';var fY=L;while(fY>0){fX+=' ';--fY}console.log(fX+e.get_objectId());if(e.get_nodeType()!==3){e.get_children().forEach(function(fZ){cK.print(fZ,L+1)})}};cK.$2=function(e){var L=[];for(var fX=0;fX<e.MdI.length;fX++){var fY=e.MdI[fX];if(fY.oqX==='marks'){L.push(fY.SgS)}}return L};cK.$1=function(e,L){var fX=e;while(fX.length>1){var fY=[];for(var fZ=0;fZ<fX.length;fZ+=L){var ga=L;var gb=fX.length-fZ;if(gb<L){ga=gb}var gc=[];var gd=null;for(var ge=0;ge<ga;++ge){var gf=fX[fZ+ge];gc.push(gf);if(ge===0){gd={x:gf.get_boundingBox().x,y:gf.get_boundingBox().y,w:gf.get_boundingBox().w,h:gf.get_boundingBox().h}}else{gd=tab.RectXYUtil.union(gd,gc[ge].get_boundingBox())}}var gg=new cF(gd,4);gg.addNodes(gc);fY.push(gg)}fX=fY}if(fX.length!==1){}var gh=cF.createRootNode();gh.addNodes(fX);return gh};cK.$0=function(e,L,fX){var fY=L.get_mapExtentOrPaneRect();var fZ=new cF(fY,1);var ga=el.getPaneMarksKey(e);fZ.set_paneKey(ga);fZ.set_paneIndex(e.hJq);fZ.set_paneOrderIndex(fX);var gb=(L.hasUserPanes?L.userPaneCount:1);var gc=L.paneRect.x;var gd=L.paneRect.y;var ge=L.getAllMarkBounds();for(var gf=0;gf<gb;++gf){var gg=tab.RectXYUtil.offsetRectXY(L.getUserPaneRectByIndex(gf),gc,gd);var gh=new cF(gg,6);var gi=L.$9(gf);var gj=cK.buildMarkBounds(L,gi.firstMark,gi.lastMark,ge);gh.addNodes(gj);fZ.addNode(gh)}return fZ};global.tab.HitTestStructureBuilder=cK;var cL=function(){dn.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};cL.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=cL;var cM=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};cM.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=cM;var cN=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};cN.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=cN;var cO=function(){};cO.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cO;var cP=function(){};cP.__typeName='tab.IAppBannerView';global.tab.IAppBannerView=cP;var cQ=function(){};cQ.__typeName='tab.IClient';global.tab.IClient=cQ;var cR=function(){};cR.__typeName='tab.IDataAlertPreparer';global.tab.IDataAlertPreparer=cR;var cS=function(){};cS.__typeName='tab.IDialogContent';global.tab.IDialogContent=cS;var cT=function(){};cT.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cT;var cU=function(){};cU.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=cU;var cV=function(){};cV.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cV;var cW=function(){};cW.__typeName='tab.IFontLoader';global.tab.IFontLoader=cW;var cX=function(e,L){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var fX={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.get_container().css('-webkit-overflow-scrolling','touch');fX.height=L.get_contentHeight()+'px';fX.width=L.get_contentWidth()+'px'}fX.overflow='auto'}this.get_container().css(fX);this.get_frame().css({border:'0px none'})};cX.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=cX;var cY=function(){};cY.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=cY;var cZ=function(e,L,fX,fY,fZ){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=e;this.$1=L;this.$3=fX;this.$0=fY;this.$4=fZ};cZ.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=cZ;var da=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};da.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=da;var db=function(){};db.__typeName='tab.ImageUtil';db.scaleImage=function(e,L,fX,fY,fZ){var ga=document.createElement('canvas');ga.width=L;ga.height=fX;if(L>0&&fX>0){var gb=document.createElement('canvas');gb.width=fY;gb.height=fZ;var gc=gb.getContext('2d');gc.drawImage(e,0,0);var gd=gc.getImageData(0,0,fY,fZ);var ge=ga.getContext('2d');var gf=ge.createImageData(L,fX);db.bilinearDownSampleAlgorithm(gd,gf);ge.putImageData(gf,0,0)}return ga};db.bilinearDownSampleAlgorithm=function(e,L){var fX=e.width;var fY=e.height;var fZ=fX/L.width;var ga=fY/L.height;var gb=fZ;var gc=ga;var gd=e.data;var ge=L.data;var gf=new Array(ge.length);for(var gg=0;gg<gf.length;gg++){gf[gg]=0}var gh=1/(fZ*ga);var gi=0;var gj=0;var gk=false;var gl,gm;gl=gm=0;var gn=gh;var go=0;var gp=0;var gq=0;var gr=4*L.width;for(var gs=0;gs<fY;gs++){gb=fZ;for(var gt=0;gt<fX;gt++){var gu=gd[gi];var gv=gd[gi+1];var gw=gd[gi+2];var gx=gd[gi+3];gn=gh;if(gk){gn=gl;gp=gm;if(gb<1){gp*=gb}var gy=gj+gr;gf[gy]+=gu*gp;gf[gy+1]+=gv*gp;gf[gy+2]+=gw*gp;gf[gy+3]+=gx*gp}if(gb<1){go=gn*(1-gb);gn*=gb;if(gk){gq=gm*(1-gb);var gz=gj+gr;gf[gz+4]+=gu*gq;gf[gz+5]+=gv*gq;gf[gz+6]+=gw*gq;gf[gz+7]+=gx*gq}gf[gj+4]+=gu*go;gf[gj+5]+=gv*go;gf[gj+6]+=gw*go;gf[gj+7]+=gx*go}gf[gj++]+=gu*gn;gf[gj++]+=gv*gn;gf[gj++]+=gw*gn;gf[gj++]+=gx*gn;gi+=4;gb-=1;if(gb<db.$0){gb+=fZ}else{gj-=4}}gc-=1;if(gc<db.$0){gc+=ga}else{gj-=gr}if(gc<1){gk=true;gl=gc/(fZ*ga);gm=(1-gc)/(fZ*ga)}else{gk=false}}for(var gA=0;gA<gf.length;gA++){ge[gA]=gf[gA]+0.5}};global.tab.ImageUtil=db;var dc=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};dc.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=dc;var dd=function(e,L){this.$k=null;this.$j=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[de]).call(this,e,new dc);this.$k=L;this.$h().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.remove_resizeZone(ss.mkdel(this,this.$d));this.$k=null})))};dd.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=dd;var de=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};de.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=de;var df=function(){};df.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=df;var dg=function(){};dg.__typeName='tab.IMovable';global.tab.IMovable=dg;var dh=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=dh.defaultHighlightBgColor;this.selectionBgColor=dh.defaultSelectionBgColor;this.highlightTextColor=dh.defaultHighlightTextColor;this.selectionTextColor=dh.defaultSelectionTextColor};dh.__typeName='tab.InteractionColorModel';dh.extractInteractionColors=function(e){var L=ss.isValue(e)&&!ss.isNullOrEmptyString(e.SjL);var fX=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Fel);var fY=ss.isValue(e)&&!ss.isNullOrEmptyString(e.kLF);var fZ=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Wqz);if(!L&&!fY&&!fZ&&!fX){return dh.defaultColors}var ga=new dh;ga.highlightBgColor=(L?tab.ColorModel.fromColorCode(e.SjL):ga.highlightBgColor);ga.selectionBgColor=(fY?tab.ColorModel.fromColorCode(e.kLF):ga.selectionBgColor);ga.highlightTextColor=(fX?tab.ColorModel.fromColorCode(e.Fel):ga.highlightTextColor);ga.selectionTextColor=(fZ?tab.ColorModel.fromColorCode(e.Wqz):ga.selectionTextColor);return ga};global.tab.InteractionColorModel=dh;var di=function(){};di.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=di;var dj=function(){};dj.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=dj;var dk=function(){};dk.__typeName='tab.ISlider';global.tab.ISlider=dk;var dl=function(){};dl.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=dl;var dm=function(e,L,fX){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(L){this.$c=new cL}else{this.$c=new fy}this.$b=100;this.$9=L;this.$c.$1();this.$c.nextButton.width(fX).height(fX).css('line-height',fX+'px');this.$c.prevButton.width(fX).height(fX).css('line-height',fX+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};dm.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=dm;var dn=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};dn.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=dn;var dp=function(){};dp.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=dp;var dq=function(){this.$h=null;this.$l=null;this.$j=null;this.$k=null;this.$n=null;this.$o=0;this.$m=false;this.$i=null};dq.__typeName='tab.LeafletMapControl';dq.$0=function(e){var L=256;var fX=document.createElement('canvas');fX.width=L;fX.height=L;var fY=bi.getRenderContext(fX,'transparent');fY.set_shapeFillStyle(e);fY.fillRect(0,0,256,256);var fZ=fX.toDataURL('png',null);return fZ};dq.$1=function(e){return new L.LatLng(e.item1,e.item2)};global.tab.LeafletMapControl=dq;var dr=function(e){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=e;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};dr.__typeName='tab.LineAttribute';global.tab.LineAttribute=dr;var ds=function(e){this.$1=null;this.$1=[];this.$0(e)};ds.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=ds;var dt=function(e,L){fI.call(this,e,L)};dt.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=dt;var du=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(du.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};du.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=du;var dv=function(e,L){React.Component.call(this,e,L)};dv.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=dv;var dw=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};dw.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=dw;var dx=function(e,L){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$h=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$k=null;this.$i=false;this.$j=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[dy]).call(this,e,L.get_template());this.mapsSearchViewModel=e;this.mapsSearchViewTemplate=L;this.mapsSearchView=L.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$h=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$h.get_domRoot());this.$h.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.$e()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));if(this.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new cB(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};dx.__typeName='tab.MapsSearchView';dx.newMapsSearchViewTemplate=function(){return new v};global.tab.MapsSearchView=dx;var dy=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$2=e};dy.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=dy;var dz=function(e,L){bi.call(this,e,L)};dz.__typeName='tab.MarksRenderer';dz.$j=function(e,L){var fX=(e.hasPixelGeometry?1:e.c.get('size').gv(L));return bi.bBoxMultipolygon(e.hasPixelGeometry,e.c.get('x').gv(L),e.c.get('y').gv(L),fX,7,e.getMarkGeometry(e.c.get('geometry').gv(L)))};dz.$v=function(e,L,fX,fY){var fZ;var ga=e.getMarkGeometry(e.c.get('geometry').gv(fY));if(ss.isNullOrUndefined(ga)){fZ={x:L,y:fX};var gb={x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)};return cA.isPointInCircle(fZ,{center:gb,radius:3.5})}if(!e.hasPixelGeometry){var gc=e.c.get('size').gv(fY);if(gc!==0){var gd=e.c.get('x').gv(fY);var ge=e.c.get('y').gv(fY);L=(L-gd)/gc;fX=(fX-ge)/gc}}fZ={x:L,y:fX};switch(ga.TDA){case'multiPolygon':{return cA.isPointInMultipolygon(ga.Zmn,fZ)}case'multiPoint':{return cA.isPointInMultipoint(ga.gvB,fZ,3.5)}default:{return false}}};dz.$x=function(e,L,fX){var fY=e.getMarkGeometry(e.c.get('geometry').gv(fX));if(ss.isNullOrUndefined(fY)){return true}switch(fY.TDA){case'multiPolygon':{return cA.multipolygonIntersectsDoubleRect(fY.Zmn,L)}case'multiPoint':{return cA.multipointIntersectsDoubleRect(fY.gvB,L,3.5)}default:{return false}}};dz.$w=function(e,L,fX,fY){var fZ=e.getMarkGeometry(e.c.get('geometry').gv(fX));if(ss.isNullOrUndefined(fZ)){return cA.polygonIntersectsRect(L,dz.$j(e,fX))}switch(fZ.TDA){case'multiPolygon':{return cA.multipolygonIntersectsPolygon(fZ.Zmn,L,fY)}case'multiPoint':{return cA.multipointIntersectsPolygon(fZ.gvB,L,3.5)}default:{return false}}};dz.$u=function(e,L,fX,fY){{}var fZ=e.getMarkGeometry(e.c.get('geometry').gv(fX));if(ss.isNullOrUndefined(fZ)){return cA.circleIntersectsRect(L,dz.$j(e,fX))}switch(fZ.TDA){case'multiPolygon':{return cA.multipolygonIntersectsCircle(fZ.Zmn,L)}case'multiPoint':{return cA.multipointIntersectsCircle(fZ.gvB,L,3.5)}default:{return false}}};dz.$0=function(e,L){var fX=e.c.get('l_neighbor').gv(L);var fY=e.c.get('r_neighbor').gv(L);var fZ=e.lineInterpolation;var ga=e.lineMarkerPosition;var gb={x:0,y:0,w:0,h:0};if(fX!==-1){var gc=tab.RectXYUtil.rectXYFromCorners$1(e.c.get('x1').gv(L),e.c.get('y1').gv(L),(e.c.get('x_next').gv(fX)+e.c.get('x_prev').gv(L))/2,(e.c.get('y_next').gv(fX)+e.c.get('y_prev').gv(L))/2);tab.RectXYUtil.unionInPlace(gb,gc);var gd=tab.RectXYUtil.rectXYFromCorners$1((e.c.get('x1').gv(fX)+e.c.get('x1').gv(L))/2,(e.c.get('y1').gv(fX)+e.c.get('y1').gv(L))/2,e.c.get('x_prev').gv(L),e.c.get('y_prev').gv(L));tab.RectXYUtil.unionInPlace(gb,gd);tab.RectXYUtil.outsetRectInPlace(gb,10,10)}if(fY!==-1){var ge=tab.RectXYUtil.rectXYFromCorners$1(e.c.get('x1').gv(L),e.c.get('y1').gv(L),(e.c.get('x_prev').gv(fY)+e.c.get('x_next').gv(L))/2,(e.c.get('y_prev').gv(fY)+e.c.get('y_next').gv(L))/2);tab.RectXYUtil.unionInPlace(gb,ge);var gf=tab.RectXYUtil.rectXYFromCorners$1((e.c.get('x1').gv(fY)+e.c.get('x1').gv(L))/2,(e.c.get('y1').gv(fY)+e.c.get('y1').gv(L))/2,e.c.get('x_next').gv(L),e.c.get('y_next').gv(L));tab.RectXYUtil.unionInPlace(gb,gf);tab.RectXYUtil.outsetRectInPlace(gb,10,10)}if(fX===-1&&fY===-1){var gg=tab.RectXYUtil.rectXYFromCorners$1(e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x').gv(L),e.c.get('y').gv(L));{var gh=20-gg.w;var gi=20-gg.h;if(gh>0||gi>0){gg=tab.RectXYUtil.outsetRect(gg,Math.max(0,Math.ceil(gh/2)),Math.max(0,Math.ceil(gi/2)))}}tab.RectXYUtil.unionInPlace(gb,gg)}return gb};dz.$2=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.lineInterpolation;var gc=e.lineMarkerPosition;if(fZ!==-1){var gd=new Array(8);gd[0]=e.c.get('x1').gv(fY);gd[1]=e.c.get('y1').gv(fY);gd[2]=(e.c.get('x1').gv(fZ)+e.c.get('x1').gv(fY))/2;gd[3]=(e.c.get('y1').gv(fZ)+e.c.get('y1').gv(fY))/2;gd[4]=(e.c.get('x_next').gv(fZ)+e.c.get('x_prev').gv(fY))/2;gd[5]=(e.c.get('y_next').gv(fZ)+e.c.get('y_prev').gv(fY))/2;gd[6]=e.c.get('x_prev').gv(fY);gd[7]=e.c.get('y_prev').gv(fY);if(cA.isPointInPoly(gd,{x:L,y:fX},0)){return true}}if(ga!==-1){var ge=new Array(8);ge[0]=e.c.get('x1').gv(fY);ge[1]=e.c.get('y1').gv(fY);ge[2]=(e.c.get('x1').gv(ga)+e.c.get('x1').gv(fY))/2;ge[3]=(e.c.get('y1').gv(ga)+e.c.get('y1').gv(fY))/2;ge[4]=(e.c.get('x_prev').gv(ga)+e.c.get('x_next').gv(fY))/2;ge[5]=(e.c.get('y_prev').gv(ga)+e.c.get('y_next').gv(fY))/2;ge[6]=e.c.get('x_next').gv(fY);ge[7]=e.c.get('y_next').gv(fY);if(cA.isPointInPoly(ge,{x:L,y:fX},0)){return true}}if(fZ===-1&&ga===-1){return true}return false};dz.$5=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.lineInterpolation;var gc=e.lineMarkerPosition;if(fZ!==-1){var gd=new Array(8);gd[0]=e.c.get('x1').gv(fY);gd[1]=e.c.get('y1').gv(fY);gd[2]=(e.c.get('x1').gv(fZ)+e.c.get('x1').gv(fY))/2;gd[3]=(e.c.get('y1').gv(fZ)+e.c.get('y1').gv(fY))/2;gd[4]=(e.c.get('x_next').gv(fZ)+e.c.get('x_prev').gv(fY))/2;gd[5]=(e.c.get('y_next').gv(fZ)+e.c.get('y_prev').gv(fY))/2;gd[6]=e.c.get('x_prev').gv(fY);gd[7]=e.c.get('y_prev').gv(fY);if(cA.isPointInPoly(gd,{x:L,y:fX},10)){return true}}if(ga!==-1){var ge=new Array(8);ge[0]=e.c.get('x1').gv(fY);ge[1]=e.c.get('y1').gv(fY);ge[2]=(e.c.get('x1').gv(ga)+e.c.get('x1').gv(fY))/2;ge[3]=(e.c.get('y1').gv(ga)+e.c.get('y1').gv(fY))/2;ge[4]=(e.c.get('x_prev').gv(ga)+e.c.get('x_next').gv(fY))/2;ge[5]=(e.c.get('y_prev').gv(ga)+e.c.get('y_next').gv(fY))/2;ge[6]=e.c.get('x_next').gv(fY);ge[7]=e.c.get('y_next').gv(fY);if(cA.isPointInPoly(ge,{x:L,y:fX},10)){return true}}if(fZ===-1&&ga===-1){return true}return false};dz.$4=function(e,L){return{w:0,h:0}};dz.$3=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.c.get('x1').gv(fY);var gc=e.c.get('y1').gv(fY);var gd=e.c.get('x_prev').gv(fY);var ge=e.c.get('y_prev').gv(fY);var gf=e.c.get('x_next').gv(fY);var gg=e.c.get('y_next').gv(fY);var gh;{var gi=L-gb;var gj=fX-gc;var gk=gi*gi+gj*gj;gh=gk}if(fZ!==-1){var gl=(e.c.get('x1').gv(fZ)+gb)/2;var gm=(e.c.get('y1').gv(fZ)+gc)/2;var gn=(e.c.get('x_next').gv(fZ)+gb)/2;var go=(e.c.get('y_next').gv(fZ)+gc)/2;var gp={x:(gb+gd)/2,y:(gc+ge)/2};var gq={x:(gl+gn)/2,y:(gm+go)/2};var gr=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gp,gq);gh=Math.min(gh,gr)}else{var gs={x:gb,y:gc};var gt={x:gf,y:gg};var gu=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gs,gt);gh=Math.min(gh,gu)}if(ga!==-1){var gv=(e.c.get('x1').gv(ga)+gb)/2;var gw=(e.c.get('y1').gv(ga)+gc)/2;var gx=(e.c.get('x_prev').gv(ga)+gb)/2;var gy=(e.c.get('y_prev').gv(ga)+gc)/2;var gz={x:(gb+gf)/2,y:(gc+gg)/2};var gA={x:(gv+gx)/2,y:(gw+gy)/2};var gB=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gz,gA);gh=Math.min(gh,gB)}else if(fZ!==-1){var gC={x:gb,y:gc};var gD={x:gd,y:ge};var gE=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gC,gD);gh=Math.min(gh,gE)}return gh};dz.$7=function(e,L,fX){{if(cA.circleIntersectsRect({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:5/2},L)){return true}}{if(cA.circleIntersectsRect({center:{x:e.c.get('x1').gv(fX),y:e.c.get('y1').gv(fX)},radius:5/2},L)){return true}}return false};dz.$1=function(e,L,fX,fY,fZ){{}{if(cA.circleIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:5/2})){return true}}{if(cA.circleIntersectsCircle(L,{center:{x:e.c.get('x1').gv(fX),y:e.c.get('y1').gv(fX)},radius:5/2})){return true}}return false};dz.$6=function(e,L,fX,fY){{if(cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:5/2})){return true}}{if(cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x1').gv(fX),y:e.c.get('y1').gv(fX)},radius:5/2})){return true}}return false};dz.$i=function(e,L){var fX={x:0,y:0,w:0,h:0};{var fY=e.getMarkLabelProperty('x',L);var fZ=e.getMarkLabelProperty('y',L);var ga=e.getMarkLabelProperty('width',L);var gb=-e.getMarkLabelProperty('height',L);fY+=0;fZ+=0;if(gb<0){fZ+=gb;gb=Math.abs(gb)}tab.RectXYUtil.set$1(fX,Math.floor(fY),Math.floor(fZ),Math.floor(ga),Math.floor(gb))}return fX};dz.$z=function(e,L,fX,fY){var fZ=e.c.get('size').gv(fY)/2;var ga=e.c.get('theta').gv(fY);var gb=e.c.get('theta1').gv(fY);if(ga>gb){var gc=ga;ga=gb;gb=gc}var gd={x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)};var ge={center:gd,radius:fZ};if(gb-ga>=1){return cA.isPointInCircle({x:L,y:fX},ge)}ga=bi.toCanvasAngle(ga);gb=bi.toCanvasAngle(gb);ga=cA.normalizeAngle(ga);gb=cA.normalizeAngle(gb);return cA.isPointInWedge({x:L,y:fX},ge,ga,gb)};dz.$B=function(e,L,fX){var fY=e.c.get('size').gv(fX)/2;var fZ=e.c.get('theta').gv(fX);var ga=e.c.get('theta1').gv(fX);if(fZ>ga){var gb=fZ;fZ=ga;ga=gb}var gc={x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)};var gd={center:gc,radius:fY};if(ga-fZ>=1){return cA.circleIntersectsRect(gd,L)}fZ=bi.toCanvasAngle(fZ);ga=bi.toCanvasAngle(ga);fZ=cA.normalizeAngle(fZ);ga=cA.normalizeAngle(ga);return cA.rectIntersectsWedge(L,{center:gc,radius:fY},fZ,ga)};dz.$A=function(e,L,fX){var fY=e.c.get('size').gv(fX)/2;var fZ=e.c.get('theta').gv(fX);var ga=e.c.get('theta1').gv(fX);if(fZ>ga){var gb=fZ;fZ=ga;ga=gb}var gc={x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)};var gd={center:gc,radius:fY};if(ga-fZ>=1){return cA.polygonIntersectsCircle(L,gd)}fZ=bi.toCanvasAngle(fZ);ga=bi.toCanvasAngle(ga);fZ=cA.normalizeAngle(fZ);ga=cA.normalizeAngle(ga);return cA.polygonIntersectsWedge(L,{center:gc,radius:fY},fZ,ga)};dz.$y=function(e,L,fX,fY){if(fY){{return cA.isPointInCircle({x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},L)}}var fZ=e.c.get('size').gv(fX)/2;var ga=e.c.get('theta').gv(fX);var gb=e.c.get('theta1').gv(fX);if(ga>gb){var gc=ga;ga=gb;gb=gc}var gd={x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)};var ge={center:gd,radius:fZ};if(gb-ga>=1){return cA.circleIntersectsCircle(ge,L)}ga=bi.toCanvasAngle(ga);gb=bi.toCanvasAngle(gb);ga=cA.normalizeAngle(ga);gb=cA.normalizeAngle(gb);return cA.circleIntersectsWedge(L,{center:gd,radius:fZ},ga,gb)};dz.$k=function(e,L){var fX={x:0,y:0,w:0,h:0};var fY=e.c.get('size').gv(L)/2;{tab.RectXYUtil.unionInPlace(fX,bi.boundWedge(e.c.get('x').gv(L),e.c.get('y').gv(L),fY,e.c.get('theta').gv(L),e.c.get('theta1').gv(L)))}if(e.c.get('draw_border').gv(L)){tab.RectXYUtil.unionInPlace(fX,bi.boundWedge(e.c.get('x').gv(L),e.c.get('y').gv(L),fY,e.c.get('theta').gv(L),e.c.get('theta1').gv(L)))}return fX};dz.$1G=function(e,L){var fX={x:0,y:0,w:0,h:0};if(!(e.clipCase!==0&&e.useCellClipForSelection)){var fY=e.c.get('x').gv(L);var fZ=e.c.get('y').gv(L);var ga=e.c.get('width').gv(L);var gb=-e.c.get('height').gv(L);fY+=-e.c.get('width').gv(L)/2;fZ+=e.c.get('height').gv(L)/2;if(gb<0){fZ+=gb;gb=Math.abs(gb)}tab.RectXYUtil.set$1(fX,Math.floor(fY),Math.floor(fZ),Math.floor(ga),Math.floor(gb))}if(e.clipCase!==0&&e.useCellClipForSelection){var gc=e.c.get('x').gv(L);var gd=e.c.get('y').gv(L);var ge=e.c.get('clip_width').gv(L);var gf=-e.c.get('clip_height').gv(L);gc+=-e.c.get('clip_width').gv(L)/2;gd+=e.c.get('clip_height').gv(L)/2;if(gf<0){gd+=gf;gf=Math.abs(gf)}tab.RectXYUtil.set$1(fX,Math.floor(gc),Math.floor(gd),Math.floor(ge),Math.floor(gf))}return fX};dz.$1I=function(e,L,fX,fY){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bi.isPointInExpandedRectHelperF(e.c.get('y').gv(fY)+e.c.get('height').gv(fY)/2,e.c.get('x').gv(fY)+-e.c.get('width').gv(fY)/2,-e.c.get('height').gv(fY),e.c.get('width').gv(fY),0,0,e.minBarHeight,e.minBarWidth,L,fX)}if(e.clipCase!==0&&e.useCellClipForSelection){return bi.isPointInExpandedRectHelperF(e.c.get('y').gv(fY)+e.c.get('clip_height').gv(fY)/2,e.c.get('x').gv(fY)+-e.c.get('clip_width').gv(fY)/2,-e.c.get('clip_height').gv(fY),e.c.get('clip_width').gv(fY),0,0,e.minBarHeight,e.minBarWidth,L,fX)}return false};dz.$1L=function(e,L,fX,fY){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bi.isPointInExpandedRectHelperF(e.c.get('y').gv(fY)+(e.c.get('height').gv(fY)/2+10),e.c.get('x').gv(fY)+(-e.c.get('width').gv(fY)/2-10),-e.c.get('height').gv(fY)-20,e.c.get('width').gv(fY)+20,0,0,e.minBarHeight,e.minBarWidth,L,fX)}if(e.clipCase!==0&&e.useCellClipForSelection){return bi.isPointInExpandedRectHelperF(e.c.get('y').gv(fY)+e.c.get('clip_height').gv(fY)/2,e.c.get('x').gv(fY)+-e.c.get('clip_width').gv(fY)/2,-e.c.get('clip_height').gv(fY),e.c.get('clip_width').gv(fY),0,0,e.minBarHeight,e.minBarWidth,L,fX)}return false};dz.$1K=function(e,L){var fX=null;if(!(e.clipCase!==0&&e.useCellClipForSelection)){fX={w:10,h:10}}if(e.clipCase!==0&&e.useCellClipForSelection){fX={w:e.c.get('clip_width').gv(L)/2,h:e.c.get('clip_height').gv(L)/2}}return fX};dz.$1J=function(e,L,fX,fY){var fZ=e.getMarkBounds(fY);return cA.getSquaredDistanceToNearestSide(fZ,{x:L,y:fX})};dz.$1N=function(e,L,fX){return true};dz.$1H=function(e,L,fX,fY,fZ){if(fZ){{return cA.isPointInCircle({x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},L)}}return cA.circleIntersectsRect(L,fY)};dz.$1M=function(e,L,fX,fY){return cA.polygonIntersectsRect(L,fY)};dz.$8=function(e,L){var fX={x:0,y:0,w:0,h:0};var fY=ss.Int32.trunc(e.c.get('size').gv(L)+0.5)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var fZ=e.c.get('y').gv(L);var ga=e.c.get('y1').gv(L);var gb=e.c.get('x').gv(L);var gc=e.c.get('x1').gv(L);dz.$g(e,fX,fZ,gb,ga,gc)}if(!e.scaleMarksInX&&e.scaleMarksInY){var gd=e.c.get('y').gv(L);var ge=e.c.get('y1').gv(L);var gf=e.c.get('x').gv(L)-fY;var gg=e.c.get('x').gv(L)+fY;dz.$g(e,fX,gd,gf,ge,gg)}if(e.scaleMarksInX&&!e.scaleMarksInY){var gh=e.c.get('y').gv(L)-fY;var gi=e.c.get('y').gv(L)+fY;var gj=e.c.get('x').gv(L);var gk=e.c.get('x1').gv(L);dz.$g(e,fX,gh,gj,gi,gk)}if(!e.scaleMarksInX&&!e.scaleMarksInY){var gl=e.c.get('y').gv(L)-fY;var gm=e.c.get('y').gv(L)+fY;var gn=e.c.get('x').gv(L)-fY;var go=e.c.get('x').gv(L)+fY;dz.$g(e,fX,gl,gn,gm,go)}return fX};dz.$a=function(e,L,fX,fY){var fZ=e.c.get('size').gv(fY)/2;var ga=e.c.get('size').gv(fY)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var gb=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gc=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gd=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var ge=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gf={x:gd,y:gb,w:ge-gd,h:gc-gb};tab.RectXYUtil.outsetRectInPlace(gf,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gf,L,fX)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY){var gg=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gh=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gi=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gj=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gk={x:gi,y:gg,w:gj-gi,h:gh-gg};tab.RectXYUtil.outsetRectInPlace(gk,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gk,L,fX)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY){var gl=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gm=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gn=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var go=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gp={x:gn,y:gl,w:go-gn,h:gm-gl};tab.RectXYUtil.outsetRectInPlace(gp,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gp,L,fX)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY){var gq=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gr=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gs=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gt=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gu={x:gs,y:gq,w:gt-gs,h:gr-gq};tab.RectXYUtil.outsetRectInPlace(gu,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gu,L,fX)){return true}}return false};dz.$d=function(e,L,fX,fY){var fZ=e.c.get('clip_width').gv(fY)/2;var ga=e.c.get('clip_height').gv(fY)/2;var gb=e.c.get('size').gv(fY)/2;var gc=e.c.get('size').gv(fY)/2;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gd=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var ge=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gf=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gg=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gh={x:gf,y:gd,w:gg-gf,h:ge-gd};tab.RectXYUtil.outsetRectInPlace(gh,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gh,L,fX)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gi=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gj=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gk=Math.floor(Math.min(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gl=Math.ceil(Math.max(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gm={x:gk,y:gi,w:gl-gk,h:gj-gi};tab.RectXYUtil.outsetRectInPlace(gm,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gm,L,fX)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gn=Math.floor(Math.min(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var go=Math.ceil(Math.max(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var gp=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gq=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gr={x:gp,y:gn,w:gq-gp,h:go-gn};tab.RectXYUtil.outsetRectInPlace(gr,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gr,L,fX)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var gs=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gt=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var gu=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gv=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gw={x:gu,y:gs,w:gv-gu,h:gt-gs};tab.RectXYUtil.outsetRectInPlace(gw,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gw,L,fX)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var gx=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gy=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gz=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gA=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gB={x:gz,y:gx,w:gA-gz,h:gy-gx};tab.RectXYUtil.outsetRectInPlace(gB,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gB,L,fX)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gC=Math.floor(Math.min(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var gD=Math.ceil(Math.max(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var gE=Math.floor(Math.min(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gF=Math.ceil(Math.max(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gG={x:gE,y:gC,w:gF-gE,h:gD-gC};tab.RectXYUtil.outsetRectInPlace(gG,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gG,L,fX)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var gH=Math.floor(Math.min(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var gI=Math.ceil(Math.max(e.c.get('y').gv(fY)-gc,e.c.get('y').gv(fY)+gc));var gJ=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gK=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gL={x:gJ,y:gH,w:gK-gJ,h:gI-gH};tab.RectXYUtil.outsetRectInPlace(gL,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gL,L,fX)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var gM=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gN=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gO=Math.floor(Math.min(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gP=Math.ceil(Math.max(e.c.get('x').gv(fY)-gb,e.c.get('x').gv(fY)+gb));var gQ={x:gO,y:gM,w:gP-gO,h:gN-gM};tab.RectXYUtil.outsetRectInPlace(gQ,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gQ,L,fX)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var gR=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gS=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gT=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gU=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var gV={x:gT,y:gR,w:gU-gT,h:gS-gR};tab.RectXYUtil.outsetRectInPlace(gV,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gV,L,fX)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var gW=Math.floor(Math.min(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gX=Math.ceil(Math.max(e.c.get('y').gv(fY)-ga,e.c.get('y').gv(fY)+ga));var gY=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var gZ=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var ha={x:gY,y:gW,w:gZ-gY,h:gX-gW};tab.RectXYUtil.outsetRectInPlace(ha,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(ha,L,fX)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hb=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var hc=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var hd=Math.floor(Math.min(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var he=Math.ceil(Math.max(e.c.get('x').gv(fY)-fZ,e.c.get('x').gv(fY)+fZ));var hf={x:hd,y:hb,w:he-hd,h:hc-hb};tab.RectXYUtil.outsetRectInPlace(hf,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hf,L,fX)){return true}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hg=Math.floor(Math.min(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var hh=Math.ceil(Math.max(e.c.get('y').gv(fY),e.c.get('y1').gv(fY)));var hi=Math.floor(Math.min(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var hj=Math.ceil(Math.max(e.c.get('x').gv(fY),e.c.get('x1').gv(fY)));var hk={x:hi,y:hg,w:hj-hi,h:hh-hg};tab.RectXYUtil.outsetRectInPlace(hk,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hk,L,fX)){return true}}return false};dz.$c=function(e,L){var fX=null;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){fX={w:10,h:10}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){fX={w:5,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){fX={w:10,h:5}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){fX={w:10,h:e.c.get('clip_height').gv(L)/2}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){fX={w:5,h:5}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){fX={w:5,h:e.c.get('clip_height').gv(L)}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:10}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:e.c.get('clip_height').gv(L)/2}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:e.c.get('clip_height').gv(L)/2}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:e.c.get('clip_height').gv(L)/2}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){fX={w:e.c.get('clip_width').gv(L)/2,h:e.c.get('clip_height').gv(L)/2}}return fX};dz.$b=function(e,L,fX,fY){var fZ=e.getMarkBounds(fY);return cA.getSquaredDistanceToNearestSide(fZ,{x:L,y:fX})};dz.$f=function(e,L,fX){return true};dz.$9=function(e,L,fX,fY,fZ){if(fZ&&(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY)){{return cA.isPointInCircle({x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},L)}}return cA.circleIntersectsRect(L,fY)};dz.$e=function(e,L,fX,fY){return cA.polygonIntersectsRect(L,fY)};dz.$m=function(e,L){var fX=e.c.get('l_neighbor').gv(L);var fY=e.c.get('r_neighbor').gv(L);var fZ=e.lineInterpolation;var ga=e.lineMarkerPosition;var gb={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(L),(e.c.get('size').gv(L)+20)/2)}if(fX!==-1&&fZ==='lim-linear'){bi.boundLineEdgeInPlace(gb,(e.c.get('x').gv(fX)+e.c.get('x').gv(L))/2,(e.c.get('y').gv(fX)+e.c.get('y').gv(L))/2,(e.c.get('size').gv(fX)+e.c.get('size').gv(L))/2+20,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fY!==-1&&fZ==='lim-linear'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20,(e.c.get('x').gv(L)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(L)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(L)+e.c.get('size').gv(fY))/2+20)}if(fY!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-left'){tab.RectXYUtil.encompassCircleInPlace(gb,e.c.get('x').gv(fY),e.c.get('y').gv(L),(e.c.get('size').gv(L)+20)/2)}if(fX!==-1&&fZ==='lim-step'&&ga==='lmp-left'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(fX),e.c.get('size').gv(fX)+20,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fY!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-left'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20,e.c.get('x').gv(fY),e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fX!==-1&&fZ==='lim-step'&&ga==='lmp-center'){bi.boundLineEdgeInPlace(gb,(e.c.get('x').gv(fX)+e.c.get('x').gv(L))/2,(e.c.get('y').gv(fX)+e.c.get('y').gv(L))/2,(e.c.get('size').gv(fX)+e.c.get('size').gv(L))/2+20,(e.c.get('x').gv(fX)+e.c.get('x').gv(L))/2,e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fY!==-1&&fZ==='lim-step'&&ga==='lmp-center'){bi.boundLineEdgeInPlace(gb,(e.c.get('x').gv(fY)+e.c.get('x').gv(L))/2,e.c.get('y').gv(L),e.c.get('size').gv(L)+20,(e.c.get('x').gv(fY)+e.c.get('x').gv(L))/2,(e.c.get('y').gv(L)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(L)+e.c.get('size').gv(fY))/2+20)}if(fX!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-center'){bi.boundLineEdgeInPlace(gb,(e.c.get('x').gv(fX)+e.c.get('x').gv(L))/2,e.c.get('y').gv(L),e.c.get('size').gv(L)+20,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fY!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-center'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20,(e.c.get('x').gv(fY)+e.c.get('x').gv(L))/2,e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}if(fX!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-right'){tab.RectXYUtil.encompassCircleInPlace(gb,e.c.get('x').gv(fX),e.c.get('y').gv(L),(e.c.get('size').gv(L)+20)/2)}if(fY!==-1&&fZ==='lim-step'&&ga==='lmp-right'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20,e.c.get('x').gv(L),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)}if(fX!==-1&&(fZ==='lim-step'||fZ==='lim-jump')&&ga==='lmp-right'){bi.boundLineEdgeInPlace(gb,e.c.get('x').gv(fX),e.c.get('y').gv(L),e.c.get('size').gv(L)+20,e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L)+20)}return gb};dz.$o=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.lineInterpolation;var gc=e.lineMarkerPosition;{if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)/2})){return true}}if(fZ!==-1&&gb==='lim-linear'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fZ)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(fZ)+e.c.get('size').gv(fY))/2,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(ga!==-1&&gb==='lim-linear'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY),(e.c.get('x').gv(fY)+e.c.get('x').gv(ga))/2,(e.c.get('y').gv(fY)+e.c.get('y').gv(ga))/2,(e.c.get('size').gv(fY)+e.c.get('size').gv(ga))/2)){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-left'){if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(ga),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)/2})){return true}}if(fZ!==-1&&gb==='lim-step'&&gc==='lmp-left'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fZ),e.c.get('size').gv(fZ),e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-left'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY),e.c.get('x').gv(ga),e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(fZ!==-1&&gb==='lim-step'&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fZ)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(fZ)+e.c.get('size').gv(fY))/2,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(ga!==-1&&gb==='lim-step'&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY),(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fY)+e.c.get('y').gv(ga))/2,(e.c.get('size').gv(fY)+e.c.get('size').gv(ga))/2)){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY),e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY),(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-right'){if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fZ),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)/2})){return true}}if(ga!==-1&&gb==='lim-step'&&gc==='lmp-right'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY),e.c.get('x').gv(fY),e.c.get('y').gv(ga),e.c.get('size').gv(ga))){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-right'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fZ),e.c.get('y').gv(fY),e.c.get('size').gv(fY),e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY))){return true}}return false};dz.$r=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.lineInterpolation;var gc=e.lineMarkerPosition;{if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)},radius:(e.c.get('size').gv(fY)+20)/2})){return true}}if(fZ!==-1&&gb==='lim-linear'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fZ)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(fZ)+e.c.get('size').gv(fY))/2+20,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(ga!==-1&&gb==='lim-linear'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,(e.c.get('x').gv(fY)+e.c.get('x').gv(ga))/2,(e.c.get('y').gv(fY)+e.c.get('y').gv(ga))/2,(e.c.get('size').gv(fY)+e.c.get('size').gv(ga))/2+20)){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-left'){if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(ga),y:e.c.get('y').gv(fY)},radius:(e.c.get('size').gv(fY)+20)/2})){return true}}if(fZ!==-1&&gb==='lim-step'&&gc==='lmp-left'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fZ),e.c.get('size').gv(fZ)+20,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-left'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,e.c.get('x').gv(ga),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(fZ!==-1&&gb==='lim-step'&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fZ)+e.c.get('y').gv(fY))/2,(e.c.get('size').gv(fZ)+e.c.get('size').gv(fY))/2+20,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(ga!==-1&&gb==='lim-step'&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,(e.c.get('y').gv(fY)+e.c.get('y').gv(ga))/2,(e.c.get('size').gv(fY)+e.c.get('size').gv(ga))/2+20)){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,(e.c.get('x').gv(fZ)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(ga!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-center'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,(e.c.get('x').gv(ga)+e.c.get('x').gv(fY))/2,e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-right'){if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fZ),y:e.c.get('y').gv(fY)},radius:(e.c.get('size').gv(fY)+20)/2})){return true}}if(ga!==-1&&gb==='lim-step'&&gc==='lmp-right'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,e.c.get('x').gv(fY),e.c.get('y').gv(ga),e.c.get('size').gv(ga)+20)){return true}}if(fZ!==-1&&(gb==='lim-step'||gb==='lim-jump')&&gc==='lmp-right'){if(bi.lineEdgeContains(L,fX,e.c.get('x').gv(fZ),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20,e.c.get('x').gv(fY),e.c.get('y').gv(fY),e.c.get('size').gv(fY)+20)){return true}}return false};dz.$q=function(e,L){return{w:0,h:0}};dz.$p=function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(fY);var ga=e.c.get('r_neighbor').gv(fY);var gb=e.c.get('x1').gv(fY);var gc=e.c.get('y1').gv(fY);var gd;{var ge=L-gb;var gf=fX-gc;var gg=ge*ge+gf*gf;gd=gg}if(fZ!==-1){var gh={x:(e.c.get('x').gv(fZ)+gb)/2,y:(e.c.get('y').gv(fZ)+gc)/2};var gi={x:gb,y:gc};var gj=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gh,gi);gd=Math.min(gd,gj)}if(ga!==-1){var gk={x:gb,y:gc};var gl={x:(e.c.get('x').gv(ga)+gb)/2,y:(e.c.get('y').gv(ga)+gc)/2};var gm=cA.getSquaredDistanceToLineSegment({x:L,y:fX},gk,gl);gd=Math.min(gd,gm)}return gd};dz.$t=function(e,L,fX){{if(cA.circleIntersectsRect({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2},L)){return true}}return false};dz.$n=function(e,L,fX,fY,fZ){if(fZ){{return cA.isPointInCircle({x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},L)}}{if(cA.circleIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2})){return true}}return false};dz.$s=function(e,L,fX,fY){{if(cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2})){return true}}return false};dz.$1y=function(e,L){var fX=e.c.get('shape_id').gv(L);switch(fX){case'shapeIDCircle':{var fY={x:0,y:0,w:0,h:0};{var fZ=Math.round(e.c.get('x').gv(L));var ga=Math.round(e.c.get('y').gv(L));var gb=Math.ceil(e.c.get('size').gv(L)*0.958333333333333/2);var gc=2*gb;tab.RectXYUtil.unionInPlace$1(fY,fZ-gb,ga-gb,gc,gc)}return fY}case'shapeIDFilledCircle':{var gd={x:0,y:0,w:0,h:0};{var ge=Math.round(e.c.get('x').gv(L));var gf=Math.round(e.c.get('y').gv(L));var gg=Math.ceil(e.c.get('size').gv(L)*0.979166666666667/2);var gh=2*gg;tab.RectXYUtil.unionInPlace$1(gd,ge-gg,gf-gg,gh,gh)}return gd}case'shapeIDUnscaledFilledCircle':{var gi={x:0,y:0,w:0,h:0};{var gj=Math.round(e.c.get('x').gv(L));var gk=Math.round(e.c.get('y').gv(L));var gl=Math.ceil(e.c.get('size').gv(L)/2);var gm=2*gl;tab.RectXYUtil.unionInPlace$1(gi,gj-gl,gk-gl,gm,gm)}return gi}case'shapeIDSquare':{var gn={x:0,y:0,w:0,h:0};{var go=Math.round(e.c.get('x').gv(L));var gp=Math.round(e.c.get('y').gv(L));var gq=Math.ceil(e.c.get('size').gv(L)*0.895833333333333/2);var gr=2*gq;tab.RectXYUtil.unionInPlace$1(gn,go-gq,gp-gq,gr,gr)}return gn}case'shapeIDFilledSquare':{var gs={x:0,y:0,w:0,h:0};{var gt=Math.round(e.c.get('x').gv(L));var gu=Math.round(e.c.get('y').gv(L));var gv=Math.ceil(e.c.get('size').gv(L)*0.9375/2);var gw=2*gv;tab.RectXYUtil.unionInPlace$1(gs,gt-gv,gu-gv,gw,gw)}return gs}case'shapeIDAsterisk':{var gx={x:0,y:0,w:0,h:0};{var gy=Math.round(e.c.get('x').gv(L));var gz=Math.round(e.c.get('y').gv(L));var gA=Math.ceil(e.c.get('size').gv(L)*0.958333333333333/2);var gB=2*gA;tab.RectXYUtil.unionInPlace$1(gx,gy-gA,gz-gA,gB,gB)}return gx}case'shapeIDPlus':{var gC={x:0,y:0,w:0,h:0};{var gD=Math.round(e.c.get('x').gv(L));var gE=Math.round(e.c.get('y').gv(L));var gF=Math.ceil(e.c.get('size').gv(L)*0.916666666666667/2);var gG=2*gF;tab.RectXYUtil.unionInPlace$1(gC,gD-gF,gE-gF,gG,gG)}return gC}case'shapeIDFilledPlus':{var gH={x:0,y:0,w:0,h:0};{var gI=Math.round(e.c.get('x').gv(L));var gJ=Math.round(e.c.get('y').gv(L));var gK=Math.ceil(e.c.get('size').gv(L)*0.9375/2);var gL=2*gK;tab.RectXYUtil.unionInPlace$1(gH,gI-gK,gJ-gK,gL,gL)}return gH}case'shapeIDTimes':{var gM={x:0,y:0,w:0,h:0};{var gN=Math.round(e.c.get('x').gv(L));var gO=Math.round(e.c.get('y').gv(L));var gP=Math.ceil(e.c.get('size').gv(L)*0.875/2);var gQ=2*gP;tab.RectXYUtil.unionInPlace$1(gM,gN-gP,gO-gP,gQ,gQ)}return gM}case'shapeIDFilledTimes':{var gR={x:0,y:0,w:0,h:0};{var gS=Math.round(e.c.get('x').gv(L));var gT=Math.round(e.c.get('y').gv(L));var gU=Math.ceil(e.c.get('size').gv(L)*0.9375/2);var gV=2*gU;tab.RectXYUtil.unionInPlace$1(gR,gS-gU,gT-gU,gV,gV)}return gR}case'shapeIDDiamond':{var gW={x:0,y:0,w:0,h:0};{var gX=Math.round(e.c.get('x').gv(L));var gY=Math.round(e.c.get('y').gv(L));var gZ=Math.ceil(e.c.get('size').gv(L)*1.04166666666667/2);var ha=2*gZ;tab.RectXYUtil.unionInPlace$1(gW,gX-gZ,gY-gZ,ha,ha)}return gW}case'shapeIDFilledDiamond':{var hb={x:0,y:0,w:0,h:0};{var hc=Math.round(e.c.get('x').gv(L));var hd=Math.round(e.c.get('y').gv(L));var he=Math.ceil(e.c.get('size').gv(L)*1.04166666666667/2);var hf=2*he;tab.RectXYUtil.unionInPlace$1(hb,hc-he,hd-he,hf,hf)}return hb}case'shapeIDTriangle':{var hg={x:0,y:0,w:0,h:0};{var hh=Math.round(e.c.get('x').gv(L));var hi=Math.round(e.c.get('y').gv(L));var hj=Math.ceil(e.c.get('size').gv(L)*0.895833333333333/2);var hk=2*hj;tab.RectXYUtil.unionInPlace$1(hg,hh-hj,hi-hj,hk,hk)}return hg}case'shapeIDFilledTriangle':{var hl={x:0,y:0,w:0,h:0};{var hm=Math.round(e.c.get('x').gv(L));var hn=Math.round(e.c.get('y').gv(L));var ho=Math.ceil(e.c.get('size').gv(L)*0.916666666666667/2);var hp=2*ho;tab.RectXYUtil.unionInPlace$1(hl,hm-ho,hn-ho,hp,hp)}return hl}case'shapeIDDownTriangle':{var hq={x:0,y:0,w:0,h:0};{var hr=Math.round(e.c.get('x').gv(L));var hs=Math.round(e.c.get('y').gv(L));var ht=Math.ceil(e.c.get('size').gv(L)*0.895833333333333/2);var hu=2*ht;tab.RectXYUtil.unionInPlace$1(hq,hr-ht,hs-ht,hu,hu)}return hq}case'shapeIDFilledDownTriangle':{var hv={x:0,y:0,w:0,h:0};{var hw=Math.round(e.c.get('x').gv(L));var hx=Math.round(e.c.get('y').gv(L));var hy=Math.ceil(e.c.get('size').gv(L)*0.916666666666667/2);var hz=2*hy;tab.RectXYUtil.unionInPlace$1(hv,hw-hy,hx-hy,hz,hz)}return hv}case'shapeIDLeftTriangle':{var hA={x:0,y:0,w:0,h:0};{var hB=Math.round(e.c.get('x').gv(L));var hC=Math.round(e.c.get('y').gv(L));var hD=Math.ceil(e.c.get('size').gv(L)*0.895833333333333/2);var hE=2*hD;tab.RectXYUtil.unionInPlace$1(hA,hB-hD,hC-hD,hE,hE)}return hA}case'shapeIDFilledLeftTriangle':{var hF={x:0,y:0,w:0,h:0};{var hG=Math.round(e.c.get('x').gv(L));var hH=Math.round(e.c.get('y').gv(L));var hI=Math.ceil(e.c.get('size').gv(L)*0.916666666666667/2);var hJ=2*hI;tab.RectXYUtil.unionInPlace$1(hF,hG-hI,hH-hI,hJ,hJ)}return hF}case'shapeIDRightTriangle':{var hK={x:0,y:0,w:0,h:0};{var hL=Math.round(e.c.get('x').gv(L));var hM=Math.round(e.c.get('y').gv(L));var hN=Math.ceil(e.c.get('size').gv(L)*0.895833333333333/2);var hO=2*hN;tab.RectXYUtil.unionInPlace$1(hK,hL-hN,hM-hN,hO,hO)}return hK}case'shapeIDFilledRightTriangle':{var hP={x:0,y:0,w:0,h:0};{var hQ=Math.round(e.c.get('x').gv(L));var hR=Math.round(e.c.get('y').gv(L));var hS=Math.ceil(e.c.get('size').gv(L)*0.916666666666667/2);var hT=2*hS;tab.RectXYUtil.unionInPlace$1(hP,hQ-hS,hR-hS,hT,hT)}return hP}case'shapeIDFilledStar':{var hU={x:0,y:0,w:0,h:0};{var hV=Math.round(e.c.get('x').gv(L));var hW=Math.round(e.c.get('y').gv(L));var hX=Math.ceil(e.c.get('size').gv(L)*1.09166666666667/2);var hY=2*hX;tab.RectXYUtil.unionInPlace$1(hU,hV-hX,hW-hX,hY,hY)}return hU}default:{if(fX>null){var hZ=Math.round(e.c.get('x').gv(L));var ia=Math.round(e.c.get('y').gv(L));var ib=Math.ceil(e.c.get('size').gv(L));var ic=Math.ceil(ib/2);var id={x:hZ-ic,y:ia-ic,w:ib,h:ib};return id}break}}return{x:0,y:0,w:0,h:0}};dz.$1A=function(e,L,fX,fY){var fZ=e.c.get('shape_id').gv(fY);switch(fZ){case'shapeIDCircle':{{if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(cA.isPointInCircle({x:L,y:fX},{center:{x:e.c.get('x').gv(fY),y:e.c.get('y').gv(fY)},radius:e.c.get('size').gv(fY)/2})){return true}}return false}case'shapeIDSquare':{{var ga=e.c.get('size').gv(fY)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-ga,e.c.get('y').gv(fY)-ga,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,L,fX)){return true}}return false}case'shapeIDFilledSquare':{{var gb=e.c.get('size').gv(fY)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gb,e.c.get('y').gv(fY)-gb,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,L,fX)){return true}}return false}case'shapeIDAsterisk':{{var gc=e.c.get('size').gv(fY)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gc,e.c.get('y').gv(fY)-gc,e.c.get('size').gv(fY)*0.958333333333333,e.c.get('size').gv(fY)*0.958333333333333,L,fX)){return true}}return false}case'shapeIDPlus':{{var gd=e.c.get('size').gv(fY)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gd,e.c.get('y').gv(fY)-gd,e.c.get('size').gv(fY)*0.916666666666667,e.c.get('size').gv(fY)*0.916666666666667,L,fX)){return true}}return false}case'shapeIDFilledPlus':{{var ge=e.c.get('size').gv(fY)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-ge,e.c.get('y').gv(fY)-ge,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,L,fX)){return true}}return false}case'shapeIDTimes':{{var gf=e.c.get('size').gv(fY)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gf,e.c.get('y').gv(fY)-gf,e.c.get('size').gv(fY)*0.875,e.c.get('size').gv(fY)*0.875,L,fX)){return true}}return false}case'shapeIDFilledTimes':{{var gg=e.c.get('size').gv(fY)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gg,e.c.get('y').gv(fY)-gg,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,L,fX)){return true}}return false}case'shapeIDDiamond':{{var gh=e.c.get('size').gv(fY)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gh,e.c.get('y').gv(fY)-gh,e.c.get('size').gv(fY)*1.04166666666667,e.c.get('size').gv(fY)*1.04166666666667,L,fX)){return true}}return false}case'shapeIDFilledDiamond':{{var gi=e.c.get('size').gv(fY)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gi,e.c.get('y').gv(fY)-gi,e.c.get('size').gv(fY)*1.04166666666667,e.c.get('size').gv(fY)*1.04166666666667,L,fX)){return true}}return false}case'shapeIDTriangle':{{var gj=e.c.get('size').gv(fY)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gj,e.c.get('y').gv(fY)-gj,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,L,fX)){return true}}return false}case'shapeIDFilledTriangle':{{var gk=e.c.get('size').gv(fY)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gk,e.c.get('y').gv(fY)-gk,e.c.get('size').gv(fY)*0.916666666666667,e.c.get('size').gv(fY)*0.916666666666667,L,fX)){return true}}return false}case'shapeIDDownTriangle':{{var gl=e.c.get('size').gv(fY)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gl,e.c.get('y').gv(fY)-gl,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,L,fX)){return true}}return false}case'shapeIDFilledDownTriangle':{{var gm=e.c.get('size').gv(fY)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gm,e.c.get('y').gv(fY)-gm,e.c.get('size').gv(fY)*0.916666666666667,e.c.get('size').gv(fY)*0.916666666666667,L,fX)){return true}}return false}case'shapeIDLeftTriangle':{{var gn=e.c.get('size').gv(fY)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gn,e.c.get('y').gv(fY)-gn,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,L,fX)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var go=e.c.get('size').gv(fY)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-go,e.c.get('y').gv(fY)-go,e.c.get('size').gv(fY)*0.916666666666667,e.c.get('size').gv(fY)*0.916666666666667,L,fX)){return true}}return false}case'shapeIDRightTriangle':{{var gp=e.c.get('size').gv(fY)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gp,e.c.get('y').gv(fY)-gp,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,L,fX)){return true}}return false}case'shapeIDFilledRightTriangle':{{var gq=e.c.get('size').gv(fY)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gq,e.c.get('y').gv(fY)-gq,e.c.get('size').gv(fY)*0.916666666666667,e.c.get('size').gv(fY)*0.916666666666667,L,fX)){return true}}return false}case'shapeIDFilledStar':{{var gr=e.c.get('size').gv(fY)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gr,e.c.get('y').gv(fY)-gr,e.c.get('size').gv(fY)*1.09166666666667,e.c.get('size').gv(fY)*1.09166666666667,L,fX)){return true}}return false}default:{if(fZ>null){var gs=e.c.get('size').gv(fY);var gt=gs/2;return tab.DoubleRectXYUtil.inRect$1(e.c.get('x').gv(fY)-gt,e.c.get('y').gv(fY)-gt,gs,gs,L,fX)}break}}return true};dz.$1D=function(e,L,fX,fY){var fZ=e.c.get('shape_id').gv(fY);switch(fZ){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};dz.$1C=function(e,L){var fX=null;{fX={w:10,h:10}}return fX};dz.$1B=function(e,L,fX,fY){var fZ=e.c.get('shape_id').gv(fY);switch(fZ){case'shapeIDCircle':{var ga=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(ga,{x:L,y:fX})}case'shapeIDFilledCircle':{var gb=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gb,{x:L,y:fX})}case'shapeIDUnscaledFilledCircle':{var gc=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gc,{x:L,y:fX})}case'shapeIDSquare':{var gd=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gd,{x:L,y:fX})}case'shapeIDFilledSquare':{var ge=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(ge,{x:L,y:fX})}case'shapeIDAsterisk':{var gf=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gf,{x:L,y:fX})}case'shapeIDPlus':{var gg=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gg,{x:L,y:fX})}case'shapeIDFilledPlus':{var gh=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gh,{x:L,y:fX})}case'shapeIDTimes':{var gi=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gi,{x:L,y:fX})}case'shapeIDFilledTimes':{var gj=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gj,{x:L,y:fX})}case'shapeIDDiamond':{var gk=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gk,{x:L,y:fX})}case'shapeIDFilledDiamond':{var gl=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gl,{x:L,y:fX})}case'shapeIDTriangle':{var gm=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gm,{x:L,y:fX})}case'shapeIDFilledTriangle':{var gn=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gn,{x:L,y:fX})}case'shapeIDDownTriangle':{var go=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(go,{x:L,y:fX})}case'shapeIDFilledDownTriangle':{var gp=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gp,{x:L,y:fX})}case'shapeIDLeftTriangle':{var gq=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gq,{x:L,y:fX})}case'shapeIDFilledLeftTriangle':{var gr=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gr,{x:L,y:fX})}case'shapeIDRightTriangle':{var gs=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gs,{x:L,y:fX})}case'shapeIDFilledRightTriangle':{var gt=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gt,{x:L,y:fX})}case'shapeIDFilledStar':{var gu=e.getMarkBounds(fY);return cA.getSquaredDistanceToCircumference(gu,{x:L,y:fX})}default:{break}}return cA.getSquaredDistanceToCenter(e.getMarkBounds(fY),{x:L,y:fX})};dz.$1F=function(e,L,fX){var fY=e.c.get('shape_id').gv(fX);switch(fY){case'shapeIDCircle':{return cA.circleIntersectsRect({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return cA.circleIntersectsRect({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return cA.circleIntersectsRect({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2},L)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};dz.$1z=function(e,L,fX,fY){if(fY){{return cA.isPointInCircle({x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},L)}}var fZ=e.c.get('shape_id').gv(fX);switch(fZ){case'shapeIDCircle':{return cA.circleIntersectsCircle({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return cA.circleIntersectsCircle({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return cA.circleIntersectsCircle({center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2},L)}case'shapeIDSquare':{var ga={x:0,y:0,w:0,h:0};{var gb=Math.round(e.c.get('x').gv(fX));var gc=Math.round(e.c.get('y').gv(fX));var gd=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var ge=2*gd;tab.RectXYUtil.unionInPlace$1(ga,gb-gd,gc-gd,ge,ge)}return cA.circleIntersectsRect(L,ga)}case'shapeIDFilledSquare':{var gf={x:0,y:0,w:0,h:0};{var gg=Math.round(e.c.get('x').gv(fX));var gh=Math.round(e.c.get('y').gv(fX));var gi=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gj=2*gi;tab.RectXYUtil.unionInPlace$1(gf,gg-gi,gh-gi,gj,gj)}return cA.circleIntersectsRect(L,gf)}case'shapeIDAsterisk':{var gk={x:0,y:0,w:0,h:0};{var gl=Math.round(e.c.get('x').gv(fX));var gm=Math.round(e.c.get('y').gv(fX));var gn=Math.ceil(e.c.get('size').gv(fX)*0.958333333333333/2);var go=2*gn;tab.RectXYUtil.unionInPlace$1(gk,gl-gn,gm-gn,go,go)}return cA.circleIntersectsRect(L,gk)}case'shapeIDPlus':{var gp={x:0,y:0,w:0,h:0};{var gq=Math.round(e.c.get('x').gv(fX));var gr=Math.round(e.c.get('y').gv(fX));var gs=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var gt=2*gs;tab.RectXYUtil.unionInPlace$1(gp,gq-gs,gr-gs,gt,gt)}return cA.circleIntersectsRect(L,gp)}case'shapeIDFilledPlus':{var gu={x:0,y:0,w:0,h:0};{var gv=Math.round(e.c.get('x').gv(fX));var gw=Math.round(e.c.get('y').gv(fX));var gx=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gy=2*gx;tab.RectXYUtil.unionInPlace$1(gu,gv-gx,gw-gx,gy,gy)}return cA.circleIntersectsRect(L,gu)}case'shapeIDTimes':{var gz={x:0,y:0,w:0,h:0};{var gA=Math.round(e.c.get('x').gv(fX));var gB=Math.round(e.c.get('y').gv(fX));var gC=Math.ceil(e.c.get('size').gv(fX)*0.875/2);var gD=2*gC;tab.RectXYUtil.unionInPlace$1(gz,gA-gC,gB-gC,gD,gD)}return cA.circleIntersectsRect(L,gz)}case'shapeIDFilledTimes':{var gE={x:0,y:0,w:0,h:0};{var gF=Math.round(e.c.get('x').gv(fX));var gG=Math.round(e.c.get('y').gv(fX));var gH=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gI=2*gH;tab.RectXYUtil.unionInPlace$1(gE,gF-gH,gG-gH,gI,gI)}return cA.circleIntersectsRect(L,gE)}case'shapeIDDiamond':{var gJ={x:0,y:0,w:0,h:0};{var gK=Math.round(e.c.get('x').gv(fX));var gL=Math.round(e.c.get('y').gv(fX));var gM=Math.ceil(e.c.get('size').gv(fX)*1.04166666666667/2);var gN=2*gM;tab.RectXYUtil.unionInPlace$1(gJ,gK-gM,gL-gM,gN,gN)}return cA.circleIntersectsRect(L,gJ)}case'shapeIDFilledDiamond':{var gO={x:0,y:0,w:0,h:0};{var gP=Math.round(e.c.get('x').gv(fX));var gQ=Math.round(e.c.get('y').gv(fX));var gR=Math.ceil(e.c.get('size').gv(fX)*1.04166666666667/2);var gS=2*gR;tab.RectXYUtil.unionInPlace$1(gO,gP-gR,gQ-gR,gS,gS)}return cA.circleIntersectsRect(L,gO)}case'shapeIDTriangle':{var gT={x:0,y:0,w:0,h:0};{var gU=Math.round(e.c.get('x').gv(fX));var gV=Math.round(e.c.get('y').gv(fX));var gW=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var gX=2*gW;tab.RectXYUtil.unionInPlace$1(gT,gU-gW,gV-gW,gX,gX)}return cA.circleIntersectsRect(L,gT)}case'shapeIDFilledTriangle':{var gY={x:0,y:0,w:0,h:0};{var gZ=Math.round(e.c.get('x').gv(fX));var ha=Math.round(e.c.get('y').gv(fX));var hb=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hc=2*hb;tab.RectXYUtil.unionInPlace$1(gY,gZ-hb,ha-hb,hc,hc)}return cA.circleIntersectsRect(L,gY)}case'shapeIDDownTriangle':{var hd={x:0,y:0,w:0,h:0};{var he=Math.round(e.c.get('x').gv(fX));var hf=Math.round(e.c.get('y').gv(fX));var hg=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hh=2*hg;tab.RectXYUtil.unionInPlace$1(hd,he-hg,hf-hg,hh,hh)}return cA.circleIntersectsRect(L,hd)}case'shapeIDFilledDownTriangle':{var hi={x:0,y:0,w:0,h:0};{var hj=Math.round(e.c.get('x').gv(fX));var hk=Math.round(e.c.get('y').gv(fX));var hl=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hm=2*hl;tab.RectXYUtil.unionInPlace$1(hi,hj-hl,hk-hl,hm,hm)}return cA.circleIntersectsRect(L,hi)}case'shapeIDLeftTriangle':{var hn={x:0,y:0,w:0,h:0};{var ho=Math.round(e.c.get('x').gv(fX));var hp=Math.round(e.c.get('y').gv(fX));var hq=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hr=2*hq;tab.RectXYUtil.unionInPlace$1(hn,ho-hq,hp-hq,hr,hr)}return cA.circleIntersectsRect(L,hn)}case'shapeIDFilledLeftTriangle':{var hs={x:0,y:0,w:0,h:0};{var ht=Math.round(e.c.get('x').gv(fX));var hu=Math.round(e.c.get('y').gv(fX));var hv=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hw=2*hv;tab.RectXYUtil.unionInPlace$1(hs,ht-hv,hu-hv,hw,hw)}return cA.circleIntersectsRect(L,hs)}case'shapeIDRightTriangle':{var hx={x:0,y:0,w:0,h:0};{var hy=Math.round(e.c.get('x').gv(fX));var hz=Math.round(e.c.get('y').gv(fX));var hA=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hB=2*hA;tab.RectXYUtil.unionInPlace$1(hx,hy-hA,hz-hA,hB,hB)}return cA.circleIntersectsRect(L,hx)}case'shapeIDFilledRightTriangle':{var hC={x:0,y:0,w:0,h:0};{var hD=Math.round(e.c.get('x').gv(fX));var hE=Math.round(e.c.get('y').gv(fX));var hF=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hG=2*hF;tab.RectXYUtil.unionInPlace$1(hC,hD-hF,hE-hF,hG,hG)}return cA.circleIntersectsRect(L,hC)}case'shapeIDFilledStar':{var hH={x:0,y:0,w:0,h:0};{var hI=Math.round(e.c.get('x').gv(fX));var hJ=Math.round(e.c.get('y').gv(fX));var hK=Math.ceil(e.c.get('size').gv(fX)*1.09166666666667/2);var hL=2*hK;tab.RectXYUtil.unionInPlace$1(hH,hI-hK,hJ-hK,hL,hL)}return cA.circleIntersectsRect(L,hH)}default:{var hM=Math.round(e.c.get('x').gv(fX));var hN=Math.round(e.c.get('y').gv(fX));var hO=Math.ceil(e.c.get('size').gv(fX));var hP=Math.ceil(hO/2);var hQ={x:hM-hP,y:hN-hP,w:hO,h:hO};return cA.circleIntersectsRect(L,hQ)}}};dz.$1E=function(e,L,fX){var fY=e.c.get('shape_id').gv(fX);switch(fY){case'shapeIDCircle':{return cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.958333333333333/2})}case'shapeIDFilledCircle':{return cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return cA.polygonIntersectsCircle(L,{center:{x:e.c.get('x').gv(fX),y:e.c.get('y').gv(fX)},radius:e.c.get('size').gv(fX)/2})}case'shapeIDSquare':{var fZ={x:0,y:0,w:0,h:0};{var ga=Math.round(e.c.get('x').gv(fX));var gb=Math.round(e.c.get('y').gv(fX));var gc=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var gd=2*gc;tab.RectXYUtil.unionInPlace$1(fZ,ga-gc,gb-gc,gd,gd)}return cA.polygonIntersectsRect(L,fZ)}case'shapeIDFilledSquare':{var ge={x:0,y:0,w:0,h:0};{var gf=Math.round(e.c.get('x').gv(fX));var gg=Math.round(e.c.get('y').gv(fX));var gh=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gi=2*gh;tab.RectXYUtil.unionInPlace$1(ge,gf-gh,gg-gh,gi,gi)}return cA.polygonIntersectsRect(L,ge)}case'shapeIDAsterisk':{var gj={x:0,y:0,w:0,h:0};{var gk=Math.round(e.c.get('x').gv(fX));var gl=Math.round(e.c.get('y').gv(fX));var gm=Math.ceil(e.c.get('size').gv(fX)*0.958333333333333/2);var gn=2*gm;tab.RectXYUtil.unionInPlace$1(gj,gk-gm,gl-gm,gn,gn)}return cA.polygonIntersectsRect(L,gj)}case'shapeIDPlus':{var go={x:0,y:0,w:0,h:0};{var gp=Math.round(e.c.get('x').gv(fX));var gq=Math.round(e.c.get('y').gv(fX));var gr=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var gs=2*gr;tab.RectXYUtil.unionInPlace$1(go,gp-gr,gq-gr,gs,gs)}return cA.polygonIntersectsRect(L,go)}case'shapeIDFilledPlus':{var gt={x:0,y:0,w:0,h:0};{var gu=Math.round(e.c.get('x').gv(fX));var gv=Math.round(e.c.get('y').gv(fX));var gw=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gx=2*gw;tab.RectXYUtil.unionInPlace$1(gt,gu-gw,gv-gw,gx,gx)}return cA.polygonIntersectsRect(L,gt)}case'shapeIDTimes':{var gy={x:0,y:0,w:0,h:0};{var gz=Math.round(e.c.get('x').gv(fX));var gA=Math.round(e.c.get('y').gv(fX));var gB=Math.ceil(e.c.get('size').gv(fX)*0.875/2);var gC=2*gB;tab.RectXYUtil.unionInPlace$1(gy,gz-gB,gA-gB,gC,gC)}return cA.polygonIntersectsRect(L,gy)}case'shapeIDFilledTimes':{var gD={x:0,y:0,w:0,h:0};{var gE=Math.round(e.c.get('x').gv(fX));var gF=Math.round(e.c.get('y').gv(fX));var gG=Math.ceil(e.c.get('size').gv(fX)*0.9375/2);var gH=2*gG;tab.RectXYUtil.unionInPlace$1(gD,gE-gG,gF-gG,gH,gH)}return cA.polygonIntersectsRect(L,gD)}case'shapeIDDiamond':{var gI={x:0,y:0,w:0,h:0};{var gJ=Math.round(e.c.get('x').gv(fX));var gK=Math.round(e.c.get('y').gv(fX));var gL=Math.ceil(e.c.get('size').gv(fX)*1.04166666666667/2);var gM=2*gL;tab.RectXYUtil.unionInPlace$1(gI,gJ-gL,gK-gL,gM,gM)}return cA.polygonIntersectsRect(L,gI)}case'shapeIDFilledDiamond':{var gN={x:0,y:0,w:0,h:0};{var gO=Math.round(e.c.get('x').gv(fX));var gP=Math.round(e.c.get('y').gv(fX));var gQ=Math.ceil(e.c.get('size').gv(fX)*1.04166666666667/2);var gR=2*gQ;tab.RectXYUtil.unionInPlace$1(gN,gO-gQ,gP-gQ,gR,gR)}return cA.polygonIntersectsRect(L,gN)}case'shapeIDTriangle':{var gS={x:0,y:0,w:0,h:0};{var gT=Math.round(e.c.get('x').gv(fX));var gU=Math.round(e.c.get('y').gv(fX));var gV=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var gW=2*gV;tab.RectXYUtil.unionInPlace$1(gS,gT-gV,gU-gV,gW,gW)}return cA.polygonIntersectsRect(L,gS)}case'shapeIDFilledTriangle':{var gX={x:0,y:0,w:0,h:0};{var gY=Math.round(e.c.get('x').gv(fX));var gZ=Math.round(e.c.get('y').gv(fX));var ha=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hb=2*ha;tab.RectXYUtil.unionInPlace$1(gX,gY-ha,gZ-ha,hb,hb)}return cA.polygonIntersectsRect(L,gX)}case'shapeIDDownTriangle':{var hc={x:0,y:0,w:0,h:0};{var hd=Math.round(e.c.get('x').gv(fX));var he=Math.round(e.c.get('y').gv(fX));var hf=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hg=2*hf;tab.RectXYUtil.unionInPlace$1(hc,hd-hf,he-hf,hg,hg)}return cA.polygonIntersectsRect(L,hc)}case'shapeIDFilledDownTriangle':{var hh={x:0,y:0,w:0,h:0};{var hi=Math.round(e.c.get('x').gv(fX));var hj=Math.round(e.c.get('y').gv(fX));var hk=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hl=2*hk;tab.RectXYUtil.unionInPlace$1(hh,hi-hk,hj-hk,hl,hl)}return cA.polygonIntersectsRect(L,hh)}case'shapeIDLeftTriangle':{var hm={x:0,y:0,w:0,h:0};{var hn=Math.round(e.c.get('x').gv(fX));var ho=Math.round(e.c.get('y').gv(fX));var hp=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hq=2*hp;tab.RectXYUtil.unionInPlace$1(hm,hn-hp,ho-hp,hq,hq)}return cA.polygonIntersectsRect(L,hm)}case'shapeIDFilledLeftTriangle':{var hr={x:0,y:0,w:0,h:0};{var hs=Math.round(e.c.get('x').gv(fX));var ht=Math.round(e.c.get('y').gv(fX));var hu=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hv=2*hu;tab.RectXYUtil.unionInPlace$1(hr,hs-hu,ht-hu,hv,hv)}return cA.polygonIntersectsRect(L,hr)}case'shapeIDRightTriangle':{var hw={x:0,y:0,w:0,h:0};{var hx=Math.round(e.c.get('x').gv(fX));var hy=Math.round(e.c.get('y').gv(fX));var hz=Math.ceil(e.c.get('size').gv(fX)*0.895833333333333/2);var hA=2*hz;tab.RectXYUtil.unionInPlace$1(hw,hx-hz,hy-hz,hA,hA)}return cA.polygonIntersectsRect(L,hw)}case'shapeIDFilledRightTriangle':{var hB={x:0,y:0,w:0,h:0};{var hC=Math.round(e.c.get('x').gv(fX));var hD=Math.round(e.c.get('y').gv(fX));var hE=Math.ceil(e.c.get('size').gv(fX)*0.916666666666667/2);var hF=2*hE;tab.RectXYUtil.unionInPlace$1(hB,hC-hE,hD-hE,hF,hF)}return cA.polygonIntersectsRect(L,hB)}case'shapeIDFilledStar':{var hG={x:0,y:0,w:0,h:0};{var hH=Math.round(e.c.get('x').gv(fX));var hI=Math.round(e.c.get('y').gv(fX));var hJ=Math.ceil(e.c.get('size').gv(fX)*1.09166666666667/2);var hK=2*hJ;tab.RectXYUtil.unionInPlace$1(hG,hH-hJ,hI-hJ,hK,hK)}return cA.polygonIntersectsRect(L,hG)}default:{var hL=Math.round(e.c.get('x').gv(fX));var hM=Math.round(e.c.get('y').gv(fX));var hN=Math.ceil(e.c.get('size').gv(fX));var hO=Math.ceil(hN/2);var hP={x:hL-hO,y:hM-hO,w:hN,h:hN};return cA.polygonIntersectsRect(L,hP)}}};dz.$I=function(e,L,fX){var fY='empty';var fZ=L.getMarkGeometry(L.c.get('geometry').gv(fX));if(ss.isValue(fZ)){fY=fZ.TDA}switch(fY){case'multiPolygon':{{var ga=L.getMarkInstanceOffsets(fX);var gb=ga.length;for(var gc=0;gc<gb;gc++){var gd=ga[gc];dz.$1w(e,gd);{var ge=bi.get_multipolyLineSizeOffset();if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}bi.createMultipolygonPath(e,fZ);if(!L.hasPixelGeometry){e.restore()}e.set_lineWidth(1.75-ge);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gd!==0){e.restore()}}}break}case'multiLineString':{{var gf=L.getMarkInstanceOffsets(fX);var gg=gf.length;for(var gh=0;gh<gg;gh++){var gi=gf[gh];dz.$1w(e,gi);if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}if(!L.hasPixelGeometry){e.restore()}if(gi!==0){e.restore()}}}break}case'multiPoint':{{var gj=L.getMarkInstanceOffsets(fX);var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(e,gm);{var gn=bi.get_multipolyLineSizeOffset();if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}bi.createMultipointPath(e,7,fZ);if(!L.hasPixelGeometry){e.restore()}e.set_lineWidth(1.75-gn);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gm!==0){e.restore()}}}break}case'empty':{{var go=L.getMarkInstanceOffsets(fX);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];dz.$1w(e,gr);{var gs=bi.get_multipolyLineSizeOffset();bi.createPlaceholderPath(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),7);e.set_lineWidth(1.75-gs);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gr!==0){e.restore()}}}break}default:{break}}};dz.$J=function(e,L,fX){var fY='empty';var fZ=L.getMarkGeometry(L.c.get('geometry').gv(fX));if(ss.isValue(fZ)){fY=fZ.TDA}switch(fY){case'multiPolygon':{{var ga=L.getMarkInstanceOffsets(fX);var gb=ga.length;for(var gc=0;gc<gb;gc++){var gd=ga[gc];dz.$1w(e,gd);{var ge=bi.get_multipolyLineSizeOffset();if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}bi.createMultipolygonPath(e,fZ);if(!L.hasPixelGeometry){e.restore()}e.set_lineWidth(2.5-ge);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gd!==0){e.restore()}}}break}case'multiLineString':{{var gf=L.getMarkInstanceOffsets(fX);var gg=gf.length;for(var gh=0;gh<gg;gh++){var gi=gf[gh];dz.$1w(e,gi);if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}if(!L.hasPixelGeometry){e.restore()}if(gi!==0){e.restore()}}}break}case'multiPoint':{{var gj=L.getMarkInstanceOffsets(fX);var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(e,gm);{var gn=bi.get_multipolyLineSizeOffset();if(!L.hasPixelGeometry){e.save();e.translate(L.c.get('x').gv(fX),L.c.get('y').gv(fX));e.scale(L.c.get('size').gv(fX),L.c.get('size').gv(fX))}bi.createMultipointPath(e,7,fZ);if(!L.hasPixelGeometry){e.restore()}e.set_lineWidth(2.5-gn);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gm!==0){e.restore()}}}break}case'empty':{{var go=L.getMarkInstanceOffsets(fX);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];dz.$1w(e,gr);{var gs=bi.get_multipolyLineSizeOffset();bi.createPlaceholderPath(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),7);e.set_lineWidth(2.5-gs);e.set_strokeStyle(L.c.get('selected_halo_color').gv(fX)['colorOverrideNone']);e.stroke()}if(gr!==0){e.restore()}}}break}default:{break}}};dz.$C=function(e,L,fX){var fY=false;if(fX-1>0&&!L.isMarkEndPrimitive(fX-1)){fY=fY||L.isMarkHighlighted(fX-1)}if(fX+1<L.markCount&&!L.isMarkEndPrimitive(fX)){fY=fY||L.isMarkHighlighted(fX+1)}var fZ;var ga=L.c.get('x').gv(fX);var gb=L.c.get('y').gv(fX);if(L.isMarkSelected(fX)){fZ=L.c.get('selected_halo_color').gv(fX)['colorOverrideOpaque'];{var gc=L.c.get('draw_border').gv(fX);var gd=7+(gc?2:0);bi.renderCircle(e,0+ga,0+gb,gd,fZ,4)}fZ=L.getMarkColors(fX)['colorOverrideOpaque'];{var ge=L.getMarkInstanceOffsets(fX);var gf=ge.length;for(var gg=0;gg<gf;gg++){var gh=ge[gg];dz.$1w(e,gh);bi.renderFilledCircle(e,0+ga,0+gb,7,fZ);if(gh!==0){e.restore()}}}ga=L.c.get('x1').gv(fX);gb=L.c.get('y1').gv(fX);fZ=L.c.get('selected_halo_color').gv(fX)['colorOverrideOpaque'];{var gi=L.c.get('draw_border').gv(fX);var gj=7+(gi?2:0);bi.renderCircle(e,0+ga,0+gb,gj,fZ,4)}fZ=L.getMarkColors(fX)['colorOverrideOpaque'];{var gk=L.getMarkInstanceOffsets(fX);var gl=gk.length;for(var gm=0;gm<gl;gm++){var gn=gk[gm];dz.$1w(e,gn);bi.renderFilledCircle(e,0+ga,0+gb,7,fZ);if(gn!==0){e.restore()}}}}else if(L.isMarkHighlighted(fX)&&!fY){fZ=L.c.get('selected_multi_prim_halo_color').gv(fX)['colorOverrideNone'];{var go=L.getMarkInstanceOffsets(fX);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];dz.$1w(e,gr);{var gs=L.c.get('draw_border').gv(fX);var gt=7+(gs?2:0);bi.renderCircle(e,0+ga,0+gb,gt,fZ,4)}if(gr!==0){e.restore()}}}fZ=L.getMarkColors(fX)['colorOverrideNone'];{var gu=L.getMarkInstanceOffsets(fX);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dz.$1w(e,gx);bi.renderFilledCircle(e,0+ga,0+gb,7,fZ);if(gx!==0){e.restore()}}}ga=L.c.get('x1').gv(fX);gb=L.c.get('y1').gv(fX);fZ=L.c.get('selected_multi_prim_halo_color').gv(fX)['colorOverrideNone'];{var gy=L.getMarkInstanceOffsets(fX);var gz=gy.length;for(var gA=0;gA<gz;gA++){var gB=gy[gA];dz.$1w(e,gB);{var gC=L.c.get('draw_border').gv(fX);var gD=7+(gC?2:0);bi.renderCircle(e,0+ga,0+gb,gD,fZ,4)}if(gB!==0){e.restore()}}}fZ=L.getMarkColors(fX)['colorOverrideNone'];{var gE=L.getMarkInstanceOffsets(fX);var gF=gE.length;for(var gG=0;gG<gF;gG++){var gH=gE[gG];dz.$1w(e,gH);bi.renderFilledCircle(e,0+ga,0+gb,7,fZ);if(gH!==0){e.restore()}}}}else{fZ=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var gI=L.getMarkInstanceOffsets(fX);var gJ=gI.length;for(var gK=0;gK<gJ;gK++){var gL=gI[gK];dz.$1w(e,gL);bi.renderFilledCircle(e,0+ga,0+gb,5,fZ);if(gL!==0){e.restore()}}}ga=L.c.get('x1').gv(fX);gb=L.c.get('y1').gv(fX);fZ=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var gM=L.getMarkInstanceOffsets(fX);var gN=gM.length;for(var gO=0;gO<gN;gO++){var gP=gM[gO];dz.$1w(e,gP);bi.renderFilledCircle(e,0+ga,0+gb,5,fZ);if(gP!==0){e.restore()}}}}};dz.$D=function(e,L,fX){var fY=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var fZ=L.c.get('x').gv(fX);var ga=L.c.get('y').gv(fX);{var gb=L.getMarkInstanceOffsets(fX);var gc=gb.length;for(var gd=0;gd<gc;gd++){var ge=gb[gd];dz.$1w(e,ge);bi.renderFilledCircle(e,0+fZ,0+ga,7,fY);if(ge!==0){e.restore()}}}fZ=L.c.get('x1').gv(fX);ga=L.c.get('y1').gv(fX);{var gf=L.getMarkInstanceOffsets(fX);var gg=gf.length;for(var gh=0;gh<gg;gh++){var gi=gf[gh];dz.$1w(e,gi);bi.renderFilledCircle(e,0+fZ,0+ga,7,fY);if(gi!==0){e.restore()}}}};dz.$K=function(e,L,fX){var fY=L.getMarkInstanceOffsets(fX);var fZ=fY.length;for(var ga=0;ga<fZ;ga++){var gb=fY[ga];dz.$1w(e,gb);var gc=L.c.get('size').gv(fX)/2;var gd=L.c.get('draw_border').gv(fX);var ge=(!!gd?1:0);var gf=L.c.get('selected_halo_color').gv(fX)['colorOverrideNone'];var gg=L.c.get('theta').gv(fX);var gh=L.c.get('theta1').gv(fX);var gi=gg>gh;if(Math.abs(gg-gh)>=1){bi.renderCircle(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),(gc+ge)*2,gf,1)}else{bi.renderWedge(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),gc,gg,gh,gf,1+ge,gi)}if(gb!==0){e.restore()}}};dz.$L=function(e,L,fX){var fY=L.getMarkInstanceOffsets(fX);var fZ=fY.length;for(var ga=0;ga<fZ;ga++){var gb=fY[ga];dz.$1w(e,gb);var gc=L.c.get('size').gv(fX)/2;var gd=L.c.get('draw_border').gv(fX);var ge=(!!gd?1:0);var gf=L.c.get('selected_halo_color').gv(fX)['colorOverrideNone'];var gg=L.c.get('theta').gv(fX);var gh=L.c.get('theta1').gv(fX);var gi=gg>gh;if(Math.abs(gg-gh)>=1){bi.renderCircle(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),(gc+ge)*2,gf,2)}else{bi.renderWedge(e,L.c.get('x').gv(fX),L.c.get('y').gv(fX),gc,gg,gh,gf,2+ge,gi)}if(gb!==0){e.restore()}}};dz.$1u=function(e,L,fX){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var fY=L.getMarkInstanceOffsets(fX);var fZ=fY.length;for(var ga=0;ga<fZ;ga++){var gb=fY[ga];dz.$1w(e,gb);var gc=-L.c.get('width').gv(fX)/2;var gd=L.c.get('height').gv(fX)/2-1;var ge=L.c.get('x').gv(fX)+gc;var gf=L.c.get('y').gv(fX)+gd;var gg=L.c.get('x').gv(fX)+L.c.get('width').gv(fX)+gc;var gh=L.c.get('y').gv(fX)+gd;var gi=1;var gj=gg-ge;var gk=[ge,gf+gi-1,ge+gj,gf+gi-1];e.set_lineCap('square');e.set_lineWidth(gi);e.set_strokeStyle(L.getMarkColors(fX)['colorOverrideOpaque']);bi.strokePath(e,gk,false,true);if(gb!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var gl=L.getMarkInstanceOffsets(fX);var gm=gl.length;for(var gn=0;gn<gm;gn++){var go=gl[gn];dz.$1w(e,go);{var gp=2;var gq=L.c.get('x').gv(fX)-L.c.get('clip_width').gv(fX)/2+gp;var gr=L.c.get('x').gv(fX)+L.c.get('clip_width').gv(fX)/2-gp;var gs=L.c.get('y').gv(fX)-L.c.get('clip_height').gv(fX)/2+gp;var gt=L.c.get('y').gv(fX)+L.c.get('clip_height').gv(fX)/2-gp;dz.$h(e,L,fX,gq,gr,gs,gt,L.getMarkColors(fX),!!false,Math.floor(1))}if(go!==0){e.restore()}}}}};dz.$1v=function(e,L,fX){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var fY=L.getMarkInstanceOffsets(fX);var fZ=fY.length;for(var ga=0;ga<fZ;ga++){var gb=fY[ga];dz.$1w(e,gb);var gc=-L.c.get('width').gv(fX)/2;var gd=L.c.get('height').gv(fX)/2-1;var ge=L.c.get('x').gv(fX)+gc;var gf=L.c.get('y').gv(fX)+gd;var gg=L.c.get('x').gv(fX)+L.c.get('width').gv(fX)+gc;var gh=L.c.get('y').gv(fX)+gd;var gi=2;var gj=gg-ge;var gk=[ge,gf+gi-1,ge+gj,gf+gi-1];e.set_lineCap('square');e.set_lineWidth(gi);e.set_strokeStyle(L.getMarkColors(fX)['colorOverrideOpaque']);bi.strokePath(e,gk,false,true);if(gb!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var gl=L.getMarkInstanceOffsets(fX);var gm=gl.length;for(var gn=0;gn<gm;gn++){var go=gl[gn];dz.$1w(e,go);{var gp=2;var gq=L.c.get('x').gv(fX)-L.c.get('clip_width').gv(fX)/2+gp;var gr=L.c.get('x').gv(fX)+L.c.get('clip_width').gv(fX)/2-gp;var gs=L.c.get('y').gv(fX)-L.c.get('clip_height').gv(fX)/2+gp;var gt=L.c.get('y').gv(fX)+L.c.get('clip_height').gv(fX)/2-gp;dz.$h(e,L,fX,gq,gr,gs,gt,L.getMarkColors(fX),!!false,Math.floor(2))}if(go!==0){e.restore()}}}}};dz.$E=function(e,L,fX){var fY=ss.Int32.trunc(L.c.get('size').gv(fX)+0.5)/2;var fZ=1;if(L.scaleMarksInX&&L.scaleMarksInY){{var ga=L.getMarkInstanceOffsets(fX);var gb=ga.length;for(var gc=0;gc<gb;gc++){var gd=ga[gc];dz.$1w(e,gd);{var ge=0;var gf=L.c.get('x').gv(fX)+ge;var gg=L.c.get('x1').gv(fX)-ge;var gh=L.c.get('y').gv(fX)+ge;var gi=L.c.get('y1').gv(fX)-ge;dz.$h(e,L,fX,gf,gg,gh,gi,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gd!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var gj=L.getMarkInstanceOffsets(fX);var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(e,gm);{var gn=0;var go=L.c.get('x').gv(fX)-fY+gn;var gp=L.c.get('x').gv(fX)+fY-gn;var gq=L.c.get('y').gv(fX)+gn;var gr=L.c.get('y1').gv(fX)-gn;dz.$h(e,L,fX,go,gp,gq,gr,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gm!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var gs=L.getMarkInstanceOffsets(fX);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dz.$1w(e,gv);{var gw=0;var gx=L.c.get('x').gv(fX)+gw;var gy=L.c.get('x1').gv(fX)-gw;var gz=L.c.get('y').gv(fX)-fY+gw;var gA=L.c.get('y').gv(fX)+fY-gw;dz.$h(e,L,fX,gx,gy,gz,gA,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gv!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var gB=L.getMarkInstanceOffsets(fX);var gC=gB.length;for(var gD=0;gD<gC;gD++){var gE=gB[gD];dz.$1w(e,gE);{var gF=0;var gG=L.c.get('x').gv(fX)-fY+gF;var gH=L.c.get('x').gv(fX)+fY-gF;var gI=L.c.get('y').gv(fX)-fY+gF;var gJ=L.c.get('y').gv(fX)+fY-gF;dz.$h(e,L,fX,gG,gH,gI,gJ,L.c.get('selected_halo_color').gv(fX),!!true,Math.floor(fZ))}if(gE!==0){e.restore()}}}}};dz.$F=function(e,L,fX){var fY=ss.Int32.trunc(L.c.get('size').gv(fX)+0.5)/2;var fZ=2;if(L.scaleMarksInX&&L.scaleMarksInY){{var ga=L.getMarkInstanceOffsets(fX);var gb=ga.length;for(var gc=0;gc<gb;gc++){var gd=ga[gc];dz.$1w(e,gd);{var ge=0;var gf=L.c.get('x').gv(fX)+ge;var gg=L.c.get('x1').gv(fX)-ge;var gh=L.c.get('y').gv(fX)+ge;var gi=L.c.get('y1').gv(fX)-ge;dz.$h(e,L,fX,gf,gg,gh,gi,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gd!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var gj=L.getMarkInstanceOffsets(fX);var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(e,gm);{var gn=0;var go=L.c.get('x').gv(fX)-fY+gn;var gp=L.c.get('x').gv(fX)+fY-gn;var gq=L.c.get('y').gv(fX)+gn;var gr=L.c.get('y1').gv(fX)-gn;dz.$h(e,L,fX,go,gp,gq,gr,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gm!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var gs=L.getMarkInstanceOffsets(fX);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dz.$1w(e,gv);{var gw=0;var gx=L.c.get('x').gv(fX)+gw;var gy=L.c.get('x1').gv(fX)-gw;var gz=L.c.get('y').gv(fX)-fY+gw;var gA=L.c.get('y').gv(fX)+fY-gw;dz.$h(e,L,fX,gx,gy,gz,gA,L.c.get('selected_halo_color').gv(fX),!!false,Math.floor(fZ))}if(gv!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var gB=L.getMarkInstanceOffsets(fX);var gC=gB.length;for(var gD=0;gD<gC;gD++){var gE=gB[gD];dz.$1w(e,gE);{var gF=0;var gG=L.c.get('x').gv(fX)-fY+gF;var gH=L.c.get('x').gv(fX)+fY-gF;var gI=L.c.get('y').gv(fX)-fY+gF;var gJ=L.c.get('y').gv(fX)+fY-gF;dz.$h(e,L,fX,gG,gH,gI,gJ,L.c.get('selected_halo_color').gv(fX),!!true,Math.floor(fZ))}if(gE!==0){e.restore()}}}}};dz.$G=function(e,L,fX){var fY=false;if(fX-1>0&&!L.isMarkEndPrimitive(fX-1)){fY=fY||L.isMarkHighlighted(fX-1)}if(fX+1<L.markCount&&!L.isMarkEndPrimitive(fX)){fY=fY||L.isMarkHighlighted(fX+1)}var fZ;var ga=L.c.get('x').gv(fX);var gb=L.c.get('y').gv(fX);if(L.isMarkSelected(fX)){fZ=L.c.get('selected_halo_color').gv(fX)['colorOverrideOpaque'];{var gc=L.c.get('draw_border').gv(fX);var gd=L.c.get('size').gv(fX)+4+4+(gc?2:0);bi.renderCircle(e,0+ga,0+gb,gd,fZ,4)}fZ=L.getMarkColors(fX)['colorOverrideOpaque'];{var ge=L.getMarkInstanceOffsets(fX);var gf=ge.length;for(var gg=0;gg<gf;gg++){var gh=ge[gg];dz.$1w(e,gh);bi.renderFilledCircle(e,0+ga,0+gb,L.c.get('size').gv(fX)+4+4,fZ);if(gh!==0){e.restore()}}}}else if(L.isMarkHighlighted(fX)&&!fY){fZ=L.c.get('selected_multi_prim_halo_color').gv(fX)['colorOverrideNone'];{var gi=L.getMarkInstanceOffsets(fX);var gj=gi.length;for(var gk=0;gk<gj;gk++){var gl=gi[gk];dz.$1w(e,gl);{var gm=L.c.get('draw_border').gv(fX);var gn=L.c.get('size').gv(fX)+4+4+(gm?2:0);bi.renderCircle(e,0+ga,0+gb,gn,fZ,4)}if(gl!==0){e.restore()}}}fZ=L.getMarkColors(fX)['colorOverrideNone'];{var go=L.getMarkInstanceOffsets(fX);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];dz.$1w(e,gr);bi.renderFilledCircle(e,0+ga,0+gb,L.c.get('size').gv(fX)+4+4,fZ);if(gr!==0){e.restore()}}}}else{fZ=L.getMarkColors(fX)['colorOverrideNone'];{var gs=L.getMarkInstanceOffsets(fX);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dz.$1w(e,gv);bi.renderFilledCircle(e,0+ga,0+gb,L.c.get('size').gv(fX)+4,fZ);if(gv!==0){e.restore()}}}}};dz.$H=function(e,L,fX){var fY=L.getMarkColors(fX)['colorOverrideNone'];var fZ=L.c.get('x').gv(fX);var ga=L.c.get('y').gv(fX);{var gb=L.getMarkInstanceOffsets(fX);var gc=gb.length;for(var gd=0;gd<gc;gd++){var ge=gb[gd];dz.$1w(e,ge);bi.renderFilledCircle(e,0+fZ,0+ga,L.c.get('size').gv(fX)+8,fY);if(ge!==0){e.restore()}}}};dz.$1x=function(e,L){var fX=false;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{fX=true;break}default:{break}}break}default:{fX=true;break}}return fX};dz.$l=function(e,L,fX){var fY=0;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+6);break}case'pressedOverlay':{fY=Math.ceil(fX+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'border':{fY=Math.ceil(fX+2);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'border':{fY=Math.ceil(fX+2);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'border':{fY=Math.ceil(fX+2);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+6);break}case'pressedOverlay':{fY=Math.ceil(fX+8);break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+3);break}case'pressedOverlay':{fY=Math.ceil(fX+5);break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+6);break}case'pressedOverlay':{fY=Math.ceil(fX+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+5);break}case'pressedOverlay':{fY=Math.ceil(fX+7);break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+6);break}case'pressedOverlay':{fY=Math.ceil(fX+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+4);break}case'pressedOverlay':{fY=Math.ceil(fX+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':{fY=Math.ceil(fX+4);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+4);break}case'hoverOverlay':{fY=Math.ceil(fX+2);break}case'pressedOverlay':{fY=Math.ceil(fX+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':{fY=Math.ceil(fX+6);break}case'normalOn':{fY=Math.ceil(fX+2);break}case'selectedUnder':{fY=Math.ceil(fX+6);break}case'hoverOverlay':{fY=Math.ceil(fX+10);break}case'pressedOverlay':{fY=Math.ceil(fX+14);break}default:{break}}break}default:{break}}return fY};dz.$M=function(e,L,fX){var fY=L.c.get('shape_id').gv(fX);var fZ=L.c.get('x').gv(fX);var ga=L.c.get('y').gv(fX);if(L.shouldStampThisShapeMark(fX)){fZ=fZ+0.5<<0;ga=ga+0.5<<0}switch(fY){case'shapeIDCircle':{dz.$P(e,L,fZ,ga,fX);break}case'shapeIDFilledCircle':{dz.$V(e,L,fZ,ga,fX);break}case'shapeIDUnscaledFilledCircle':{dz.$1r(e,L,fZ,ga,fX);break}case'shapeIDSquare':{dz.$1l(e,L,fZ,ga,fX);break}case'shapeIDFilledSquare':{dz.$17(e,L,fZ,ga,fX);break}case'shapeIDAsterisk':{dz.$N(e,L,fZ,ga,fX);break}case'shapeIDPlus':{dz.$1h(e,L,fZ,ga,fX);break}case'shapeIDFilledPlus':{dz.$13(e,L,fZ,ga,fX);break}case'shapeIDTimes':{dz.$1n(e,L,fZ,ga,fX);break}case'shapeIDFilledTimes':{dz.$1b(e,L,fZ,ga,fX);break}case'shapeIDDiamond':{dz.$R(e,L,fZ,ga,fX);break}case'shapeIDFilledDiamond':{dz.$X(e,L,fZ,ga,fX);break}case'shapeIDTriangle':{dz.$1p(e,L,fZ,ga,fX);break}case'shapeIDFilledTriangle':{dz.$1d(e,L,fZ,ga,fX);break}case'shapeIDDownTriangle':{dz.$T(e,L,fZ,ga,fX);break}case'shapeIDFilledDownTriangle':{dz.$Z(e,L,fZ,ga,fX);break}case'shapeIDLeftTriangle':{dz.$1f(e,L,fZ,ga,fX);break}case'shapeIDFilledLeftTriangle':{dz.$11(e,L,fZ,ga,fX);break}case'shapeIDRightTriangle':{dz.$1j(e,L,fZ,ga,fX);break}case'shapeIDFilledRightTriangle':{dz.$15(e,L,fZ,ga,fX);break}case'shapeIDFilledStar':{dz.$19(e,L,fZ,ga,fX);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(fY))){var gb=L.getMarkInstanceOffsets(fX);var gc=gb.length;for(var gd=0;gd<gc;gd++){var ge=gb[gd];if(ge!==0){e.save();e.translate(ge,0)}bi.renderCustomShape(e,L,fX,'hoverOverlay','colorOverrideNone');if(ge!==0){e.restore()}}}else{dz.$P(e,L,fZ,ga,fX)}break}}};dz.$1t=function(e,L,fX){var fY=L.getMarkIndexFromTupleId(fX);var fZ=L.c.get('shape_id').gv(fY);var ga=L.c.get('x').gv(fY);var gb=L.c.get('y').gv(fY);if(L.shouldStampThisShapeMark(fY)){ga=ga+0.5<<0;gb=gb+0.5<<0}switch(fZ){case'shapeIDCircle':{dz.$Q(e,L,ga,gb,fY);break}case'shapeIDFilledCircle':{dz.$W(e,L,ga,gb,fY);break}case'shapeIDUnscaledFilledCircle':{dz.$1s(e,L,ga,gb,fY);break}case'shapeIDSquare':{dz.$1m(e,L,ga,gb,fY);break}case'shapeIDFilledSquare':{dz.$18(e,L,ga,gb,fY);break}case'shapeIDAsterisk':{dz.$O(e,L,ga,gb,fY);break}case'shapeIDPlus':{dz.$1i(e,L,ga,gb,fY);break}case'shapeIDFilledPlus':{dz.$14(e,L,ga,gb,fY);break}case'shapeIDTimes':{dz.$1o(e,L,ga,gb,fY);break}case'shapeIDFilledTimes':{dz.$1c(e,L,ga,gb,fY);break}case'shapeIDDiamond':{dz.$S(e,L,ga,gb,fY);break}case'shapeIDFilledDiamond':{dz.$Y(e,L,ga,gb,fY);break}case'shapeIDTriangle':{dz.$1q(e,L,ga,gb,fY);break}case'shapeIDFilledTriangle':{dz.$1e(e,L,ga,gb,fY);break}case'shapeIDDownTriangle':{dz.$U(e,L,ga,gb,fY);break}case'shapeIDFilledDownTriangle':{dz.$10(e,L,ga,gb,fY);break}case'shapeIDLeftTriangle':{dz.$1g(e,L,ga,gb,fY);break}case'shapeIDFilledLeftTriangle':{dz.$12(e,L,ga,gb,fY);break}case'shapeIDRightTriangle':{dz.$1k(e,L,ga,gb,fY);break}case'shapeIDFilledRightTriangle':{dz.$16(e,L,ga,gb,fY);break}case'shapeIDFilledStar':{dz.$1a(e,L,ga,gb,fY);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(fZ))){var gc=L.getMarkInstanceOffsets(fY);var gd=gc.length;for(var ge=0;ge<gd;ge++){var gf=gc[ge];if(gf!==0){e.save();e.translate(gf,0)}bi.renderCustomShape(e,L,fY,'pressedOverlay','colorOverrideNone');if(gf!==0){e.restore()}}}else{dz.$Q(e,L,ga,gb,fY)}break}}};dz.$P=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)*0.958333333333333+2+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,1)}if(gg!==0){e.restore()}}}};dz.$Q=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)*0.958333333333333+3+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,2)}if(gg!==0){e.restore()}}}};dz.$V=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)*0.979166666666667+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,1)}if(gg!==0){e.restore()}}}};dz.$W=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)*0.979166666666667+1+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,2)}if(gg!==0){e.restore()}}}};dz.$1r=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,1)}if(gg!==0){e.restore()}}}};dz.$1s=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=L.c.get('draw_border').gv(fZ);var gi=L.c.get('size').gv(fZ)+1+(gh?2:0);bi.renderCircle(e,0+gb,0+gc,gi,ga,2)}if(gg!==0){e.restore()}}}};dz.$1l=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);bi.renderRectangle(e,gb+0,gc+0,L.c.get('size').gv(fZ)*0.895833333333333+3,L.c.get('size').gv(fZ)*0.895833333333333+3,ga,1);if(gg!==0){e.restore()}}}};dz.$1m=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);bi.renderRectangle(e,gb+0,gc+0,L.c.get('size').gv(fZ)*0.895833333333333+4,L.c.get('size').gv(fZ)*0.895833333333333+4,ga,2);if(gg!==0){e.restore()}}}};dz.$17=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);bi.renderRectangle(e,gb+0,gc+0,L.c.get('size').gv(fZ)*0.9375+1,L.c.get('size').gv(fZ)*0.9375+1,ga,1);if(gg!==0){e.restore()}}}};dz.$18=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);bi.renderRectangle(e,gb+0,gc+0,L.c.get('size').gv(fZ)*0.9375+2,L.c.get('size').gv(fZ)*0.9375+2,ga,2);if(gg!==0){e.restore()}}}};dz.$N=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(36);var gi=(L.c.get('size').gv(fZ)*0.958333333333333+2)/2;var gj=0.899999976158142*gi;var gk=(L.c.get('size').gv(fZ)*0.958333333333333+6)/4;var gl=2.5;var gm=1.5;gh[0]=-gl+gb;gh[1]=0+gc;gh[2]=-gj+gb;gh[3]=gk-gl+gc;gh[4]=gm-gj+gb;gh[5]=gk+gc;gh[6]=-gm+gb;gh[7]=gl+gc;gh[8]=-gm+gb;gh[9]=gi+gc;gh[10]=gm+gb;gh[11]=gi+gc;gh[12]=gm+gb;gh[13]=gl+gc;gh[14]=gj-gm+gb;gh[15]=gk+gc;gh[16]=gj+gb;gh[17]=gk-gl+gc;gh[18]=gl+gb;gh[19]=0+gc;gh[20]=gj+gb;gh[21]=gl-gk+gc;gh[22]=gj-gm+gb;gh[23]=-gk+gc;gh[24]=gm+gb;gh[25]=-gl+gc;gh[26]=gm+gb;gh[27]=-gi+gc;gh[28]=-gm+gb;gh[29]=-gi+gc;gh[30]=-gm+gb;gh[31]=-gl+gc;gh[32]=gm-gj+gb;gh[33]=-gk+gc;gh[34]=-gj+gb;gh[35]=gl-gk+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$O=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(36);var gi=(L.c.get('size').gv(fZ)*0.958333333333333+4)/2;var gj=0.899999976158142*gi;var gk=(L.c.get('size').gv(fZ)*0.958333333333333+8)/4;var gl=3;var gm=2;gh[0]=-gl+gb;gh[1]=0+gc;gh[2]=-gj+gb;gh[3]=gk-gl+gc;gh[4]=gm-gj+gb;gh[5]=gk+gc;gh[6]=-gm+gb;gh[7]=gl+gc;gh[8]=-gm+gb;gh[9]=gi+gc;gh[10]=gm+gb;gh[11]=gi+gc;gh[12]=gm+gb;gh[13]=gl+gc;gh[14]=gj-gm+gb;gh[15]=gk+gc;gh[16]=gj+gb;gh[17]=gk-gl+gc;gh[18]=gl+gb;gh[19]=0+gc;gh[20]=gj+gb;gh[21]=gl-gk+gc;gh[22]=gj-gm+gb;gh[23]=-gk+gc;gh[24]=gm+gb;gh[25]=-gl+gc;gh[26]=gm+gb;gh[27]=-gi+gc;gh[28]=-gm+gb;gh[29]=-gi+gc;gh[30]=-gm+gb;gh[31]=-gl+gc;gh[32]=gm-gj+gb;gh[33]=-gk+gc;gh[34]=-gj+gb;gh[35]=gl-gk+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1h=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+2)/2;var gj=1.5;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gj+gb;gh[3]=-gj+gc;gh[4]=-gi+gb;gh[5]=-gj+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gj+gc;gh[10]=-gj+gb;gh[11]=gi+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gj+gb;gh[15]=gj+gc;gh[16]=gi+gb;gh[17]=gj+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gj+gc;gh[22]=gj+gb;gh[23]=-gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1i=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+3)/2;var gj=2;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gj+gb;gh[3]=-gj+gc;gh[4]=-gi+gb;gh[5]=-gj+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gj+gc;gh[10]=-gj+gb;gh[11]=gi+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gj+gb;gh[15]=gj+gc;gh[16]=gi+gb;gh[17]=gj+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gj+gc;gh[22]=gj+gb;gh[23]=-gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$13=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=L.c.get('size').gv(fZ)*0.9375/2;var gj=gi/3;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gj+gb;gh[3]=-gj+gc;gh[4]=-gi+gb;gh[5]=-gj+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gj+gc;gh[10]=-gj+gb;gh[11]=gi+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gj+gb;gh[15]=gj+gc;gh[16]=gi+gb;gh[17]=gj+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gj+gc;gh[22]=gj+gb;gh[23]=-gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$14=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=(L.c.get('size').gv(fZ)*0.9375+1)/2;var gj=(L.c.get('size').gv(fZ)*0.9375+3)/6;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gj+gb;gh[3]=-gj+gc;gh[4]=-gi+gb;gh[5]=-gj+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gj+gc;gh[10]=-gj+gb;gh[11]=gi+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gj+gb;gh[15]=gj+gc;gh[16]=gi+gb;gh[17]=gj+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gj+gc;gh[22]=gj+gb;gh[23]=-gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1n=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=(L.c.get('size').gv(fZ)*0.875+4)/2;var gj=2;gh[0]=-gi+gj+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=-gi+gj+gc;gh[4]=-gj+gb;gh[5]=0+gc;gh[6]=-gi+gb;gh[7]=gi-gj+gc;gh[8]=-gi+gj+gb;gh[9]=gi+gc;gh[10]=0+gb;gh[11]=gj+gc;gh[12]=gi-gj+gb;gh[13]=gi+gc;gh[14]=gi+gb;gh[15]=gi-gj+gc;gh[16]=gj+gb;gh[17]=0+gc;gh[18]=gi+gb;gh[19]=-gi+gj+gc;gh[20]=gi-gj+gb;gh[21]=-gi+gc;gh[22]=0+gb;gh[23]=-gj+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1o=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=(L.c.get('size').gv(fZ)*0.875+4)/2;var gj=3;gh[0]=-gi+gj+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=-gi+gj+gc;gh[4]=-gj+gb;gh[5]=0+gc;gh[6]=-gi+gb;gh[7]=gi-gj+gc;gh[8]=-gi+gj+gb;gh[9]=gi+gc;gh[10]=0+gb;gh[11]=gj+gc;gh[12]=gi-gj+gb;gh[13]=gi+gc;gh[14]=gi+gb;gh[15]=gi-gj+gc;gh[16]=gj+gb;gh[17]=0+gc;gh[18]=gi+gb;gh[19]=-gi+gj+gc;gh[20]=gi-gj+gb;gh[21]=-gi+gc;gh[22]=0+gb;gh[23]=-gj+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1b=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=L.c.get('size').gv(fZ)*0.9375/2;var gj=L.c.get('size').gv(fZ)*0.9375/4;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=-gj+gc;gh[4]=-gj+gb;gh[5]=0+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gi+gc;gh[10]=0+gb;gh[11]=gj+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gi+gb;gh[15]=gj+gc;gh[16]=gj+gb;gh[17]=0+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gi+gc;gh[22]=0+gb;gh[23]=-gj+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1c=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(24);var gi=L.c.get('size').gv(fZ)*0.9375/2;var gj=L.c.get('size').gv(fZ)*0.9375/4;gh[0]=-gj+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=-gj+gc;gh[4]=-gj+gb;gh[5]=0+gc;gh[6]=-gi+gb;gh[7]=gj+gc;gh[8]=-gj+gb;gh[9]=gi+gc;gh[10]=0+gb;gh[11]=gj+gc;gh[12]=gj+gb;gh[13]=gi+gc;gh[14]=gi+gb;gh[15]=gj+gc;gh[16]=gj+gb;gh[17]=0+gc;gh[18]=gi+gb;gh[19]=-gj+gc;gh[20]=gj+gb;gh[21]=-gi+gc;gh[22]=0+gb;gh[23]=-gj+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$R=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(8);var gi=(L.c.get('size').gv(fZ)*1.04166666666667+3)/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=0+gc;gh[4]=0+gb;gh[5]=gi+gc;gh[6]=gi+gb;gh[7]=0+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$S=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(8);var gi=(L.c.get('size').gv(fZ)*1.04166666666667+4)/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=0+gc;gh[4]=0+gb;gh[5]=gi+gc;gh[6]=gi+gb;gh[7]=0+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$X=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(8);var gi=L.c.get('size').gv(fZ)*1.04166666666667/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=0+gc;gh[4]=0+gb;gh[5]=gi+gc;gh[6]=gi+gb;gh[7]=0+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$Y=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(8);var gi=(L.c.get('size').gv(fZ)*1.04166666666667+2)/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=0+gc;gh[4]=0+gb;gh[5]=gi+gc;gh[6]=gi+gb;gh[7]=0+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1p=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+3)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+6)/2;gh[0]=0+gb;gh[1]=-gj+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1q=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+4)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+8)/2;gh[0]=0+gb;gh[1]=-gj+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1d=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=L.c.get('size').gv(fZ)*0.916666666666667/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1e=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+1)/2;gh[0]=0+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$T=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+2.5)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+6)/2;gh[0]=0+gb;gh[1]=gj+gc;gh[2]=-gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=-gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$U=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+4)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+8)/2;gh[0]=0+gb;gh[1]=gj+gc;gh[2]=-gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=-gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$Z=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=L.c.get('size').gv(fZ)*0.916666666666667/2;gh[0]=0+gb;gh[1]=gi+gc;gh[2]=-gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=-gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$10=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+1)/2;gh[0]=0+gb;gh[1]=gi+gc;gh[2]=-gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=-gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1f=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+3)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+6)/2;gh[0]=-gj+gb;gh[1]=0+gc;gh[2]=gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1g=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+4)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+8)/2;gh[0]=-gj+gb;gh[1]=0+gc;gh[2]=gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$11=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=L.c.get('size').gv(fZ)*0.916666666666667/2;gh[0]=-gi+gb;gh[1]=0+gc;gh[2]=gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$12=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+1)/2;gh[0]=-gi+gb;gh[1]=0+gc;gh[2]=gi+gb;gh[3]=-gi+gc;gh[4]=gi+gb;gh[5]=gi+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1j=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+3)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+6)/2;gh[0]=-gi+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gj+gb;gh[5]=0+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1k=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.895833333333333+4)/2;var gj=(L.c.get('size').gv(fZ)*0.895833333333333+8)/2;gh[0]=-gi+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gj+gb;gh[5]=0+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$15=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=L.c.get('size').gv(fZ)*0.916666666666667/2;gh[0]=-gi+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=0+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$16=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(6);var gi=(L.c.get('size').gv(fZ)*0.916666666666667+1)/2;gh[0]=-gi+gb;gh[1]=-gi+gc;gh[2]=-gi+gb;gh[3]=gi+gc;gh[4]=gi+gb;gh[5]=0+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$19=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(20);var gi=L.c.get('size').gv(fZ)*1.09166666666667+2;var gj=gi*0.3877;var gk=gi/2;gh[0]=0+gb;gh[1]=-gk+gi*0.0246+gc;gh[2]=-gk+gi*0.3817+gb;gh[3]=-gk+gj+gc;gh[4]=-gk+gb;gh[5]=-gk+gj+gc;gh[6]=-gk+gi*0.3088+gb;gh[7]=-gk+gi*0.612+gc;gh[8]=-gk+gi*0.1909+gb;gh[9]=-gk+gi*0.9751+gc;gh[10]=0+gb;gh[11]=-gk+gi*0.7507+gc;gh[12]=-gk+gi*0.8085+gb;gh[13]=-gk+gi*0.9751+gc;gh[14]=-gk+gi*0.6905+gb;gh[15]=-gk+gi*0.612+gc;gh[16]=gk+gb;gh[17]=-gk+gj+gc;gh[18]=-gk+gi*0.6176+gb;gh[19]=-gk+gj+gc;e.set_lineWidth(1);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1a=function(e,L,fX,fY,fZ){var ga=L.c.get('selected_halo_color').gv(fZ)['colorOverrideNone'];var gb=fX;var gc=fY;{var gd=L.getMarkInstanceOffsets(fZ);var ge=gd.length;for(var gf=0;gf<ge;gf++){var gg=gd[gf];dz.$1w(e,gg);{var gh=new Array(20);var gi=L.c.get('size').gv(fZ)*1.09166666666667+4;var gj=gi*0.3877;var gk=gi/2;gh[0]=0+gb;gh[1]=-gk+gi*0.0246+gc;gh[2]=-gk+gi*0.3817+gb;gh[3]=-gk+gj+gc;gh[4]=-gk+gb;gh[5]=-gk+gj+gc;gh[6]=-gk+gi*0.3088+gb;gh[7]=-gk+gi*0.612+gc;gh[8]=-gk+gi*0.1909+gb;gh[9]=-gk+gi*0.9751+gc;gh[10]=0+gb;gh[11]=-gk+gi*0.7507+gc;gh[12]=-gk+gi*0.8085+gb;gh[13]=-gk+gi*0.9751+gc;gh[14]=-gk+gi*0.6905+gb;gh[15]=-gk+gi*0.612+gc;gh[16]=gk+gb;gh[17]=-gk+gj+gc;gh[18]=-gk+gi*0.6176+gb;gh[19]=-gk+gj+gc;e.set_lineWidth(2);e.set_strokeStyle(ga);e.set_lineJoin('miter');bi.strokePath(e,gh,true,true)}if(gg!==0){e.restore()}}}};dz.$1w=function(e,L){if(!tab.DoubleUtil.isApproximatelyEqual(L,0)){e.save();e.translate(L,0)}};dz.$g=function(e,L,fX,fY,fZ,ga){var gb=Math.min(fX,fZ);var gc=Math.max(fX,fZ);var gd=Math.min(fY,ga);var ge=Math.max(fY,ga);var gf=bi.roundStartAndExtent(gb,gc-gb,e.minBarHeight);var gg=bi.roundStartAndExtent(gd,ge-gd,e.minBarWidth);tab.RectXYUtil.unionInPlace$1(L,gg.item1,gf.item1,Math.floor(gg.item2),Math.floor(gf.item2))};dz.$h=function(e,L,fX,fY,fZ,ga,gb,gc,gd,ge){var gf=L.c.get('draw_border').gv(fX);var gg=(gf?1:0);var gh=((L.markType==='text')?0:1);var gi=Math.min(fY,fZ);var gj=Math.min(ga,gb);var gk=Math.abs(fZ-fY);var gl=Math.abs(gb-ga);var gm=bi.roundStartAndExtent(gj,gl,L.minBarHeight);var gn=bi.roundStartAndExtent(gi,gk,L.minBarWidth);gi=gn.item1-gh;gj=gm.item1-gh;gk=gn.item2+ge+gg+gh-1;gl=gm.item2+ge+gg+gh-1;if(gd){gk=gl=Math.min(gk,gl)}if(!L.isWrappedDomain){var go=L.getUserPaneRectByMark(fX);if(!tab.RectXYUtil.intersectsWith$1(go,Math.floor(gi),Math.floor(gj),Math.floor(gk),Math.floor(gl))){return}if(go.x>=gi){var gp=go.x+ge-1;gk-=gp-gi;gi=gp}if(go.x+go.w<=gi+gk){gk=go.x+go.w-gi-1}if(go.y>=gj){var gq=go.y+ge-1;gl-=gq-gj;gj=gq}if(go.y+go.h<=gj+gl){gl=go.y+go.h-gj-1}}e.set_lineJoin('miter');bi.renderBarOutline(e,gi,gj,gk,gl,gc['colorOverrideNone'],ge,L.minBarWidth,L.minBarHeight,false)};global.tab.MarksRenderer=dz;var dA=function(){};dA.__typeName='tab.Metrics';dA.get_scrollW=function(){return dA.$1()};dA.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return dA.get_scrollW()*2};dA.get_scrollH=function(){return dA.$1()};dA.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return dA.get_scrollH()*2};dA.$1=function(){return tab.MiscUtil.lazyInitStaticField(dA,'_scrollBarSize',function(){return dA.$0()})};dA.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var L=e.style;L.width='100px';L.height='100px';L.overflow='scroll';L.position='absolute';L.top='0px';L.filter='alpha(opacity=0)';L.opacity='0';L.left='0px';var fX=document.createElement('div');fX.style.width='400px';fX.style.height='400px';e.appendChild(fX);document.body.appendChild(e);var fY=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(fX);e=fX=null;fY=((fY>0)?fY:9);return fY};global.tab.Metrics=dA;var dB=function(){this.$5=false;this.$5=true;$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$3));$(window).on('focus.ModifierKeyState',ss.mkdel(this,function(){this.$1()}));$(window).on('blur.ModifierKeyState',ss.mkdel(this,function(){this.$0()}))};dB.__typeName='tab.ModifierKeyState';dB.add_modifierKeysChanged=function(e){dB.$1$1=ss.delegateCombine(dB.$1$1,e)};dB.remove_modifierKeysChanged=function(e){dB.$1$1=ss.delegateRemove(dB.$1$1,e)};dB.fireModifierKeysChanged=function(e){if(!ss.staticEquals(dB.$1$1,null)){dB.$1$1(e)}};global.tab.ModifierKeyState=dB;var dC=function(){};dC.__typeName='tab.ModuleLocateFileOverride';dC.setupLocateFileOverride=function(){var e=function(fY){if(fY==='runtimeweb.js.mem'){return tsConfig.external_static_asset_prefix+'/javascripts/runtimeweb.js.mem'}return fY};var L=null;var fX=window.self;if('Module'in fX){L=fX['Module']}else{L=new Object}L['locateFile']=e};global.tab.ModuleLocateFileOverride=dC;var dD=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};dD.__typeName='tab.NativeFontLoader';dD.$0=function(){return document['fonts']};global.tab.NativeFontLoader=dD;var dE=function(){};dE.__typeName='tab.NodeType';global.tab.NodeType=dE;var dF=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[dG]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var L=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(fX){if(fX.which===13||fX.which===32){fX.preventDefault();fX.stopPropagation();this.$9(fX)}}));this.closeDom=spiff.ClickHandler.targetAndClick(L,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};dF.__typeName='tab.NotificationView';global.tab.NotificationView=dF;var dG=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};dG.__typeName='tab.NotificationViewModel';dG.$0=function(e,L){var fX=new dG;fX.set_message(e);if(ss.isValue(L)){fX.set_autoHideTimeout(L)}return fX};dG.showGeoLocationNotification=function(e,L,fX){var fY=dG.$0(e,L);fY.set_displayPosition(fX);spiff.ObjectRegistry.newView(cz).call(null,[fY]);spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(fY,fY.$2));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(fY,fY.hide));fY.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(fY,fY.$2));spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(fY,fY.hide))}));fY.disposeOnHide();fY.show()};dG.showNotification=function(e,L){dG.showCustomNotification(dF).call(null,e,L)};dG.showCustomNotification=function(e){return function(L,fX){var fY=dG.$0(L,fX);spiff.ObjectRegistry.newView(e).call(null,[fY]);fY.disposeOnHide();fY.show();return fY}};global.tab.NotificationViewModel=dG;var dH=function(e,L){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',L)};dH.__typeName='tab.OverlayImage';global.tab.OverlayImage=dH;var dI=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dI.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=dI;var dJ=function(){this.hasPixelGeometry=false;this.$l=tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction');this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$o=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$h=null;this.$m=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$n=null;this.$j=new Set;this.$p=false;this.shapeMarkStampingDecision=null;this.$i=null;this.$k=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$g=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;this.lineMarkerPosition=null;if(ss.isNullOrUndefined(dJ.$c)){dJ.$c=new Map;dJ.$c.set(1,0);dJ.$c.set(2,-Math.PI*0.5);dJ.$c.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(dJ.$a)){dJ.$a=new Map;dJ.$a.set('theta',{x:0,y:1});dJ.$a.set('theta1',{x:0,y:1});dJ.$a.set('size',{x:0,y:4096});dJ.$a.set('text_run_x',{x:0,y:4096});dJ.$a.set('text_run_direction_x',{x:0,y:4096});dJ.$a.set('text_run_y',{x:0,y:4096});dJ.$a.set('text_run_direction_y',{x:0,y:4096});for(var e=0;e<dJ.$4.length;e++){var L=dJ.$4[e];dJ.$a.set(L,{x:0,y:0})}for(var fX=0;fX<dJ.$5.length;fX++){var fY=dJ.$5[fX];dJ.$a.set(fY,{x:0,y:0})}}if(ss.isNullOrUndefined(dJ.$b)){dJ.$b=[];dJ.$b.push(0)}};dJ.__typeName='tab.PaneDrawInfo';dJ.domainToPixelX=function(e,L,fX){return ef.domainToPixel(e,L.x,fX.x,fX.w/L.w)};dJ.domainToPixelY=function(e,L,fX){return ef.domainToPixel(e,L.y,fX.y,fX.h/L.h)};dJ.domainToPixelWidth=function(e,L,fX){return e/L.w*fX.w};dJ.domainToPixelHeight=function(e,L,fX){return e/L.h*fX.h};dJ.$0=function(e,L){var fX=new ss.StringBuilder;if(ss.keyExists(e,'font_style')&&parseInt(e['font_style'].uBu02[L].toString())===1){fX.append('italic ')}if(ss.keyExists(e,'font_weight')&&parseInt(e['font_weight'].uBu02[L].toString())===1){fX.append('bold ')}var fY=parseInt(e['font_size'].uBu02[L].toString());fY=Math.max(6,fY);var fZ=e['font'].uBu02[L];fZ=bY.$1(fZ);fX.append(fY+'pt '+fZ);return fX.toString()};global.tab.PaneDrawInfo=dJ;var dK=function(){};dK.__typeName='tab.PaneDrawInfoFactory';dK.create=function(e,L,fX,fY,fZ,ga,gb,gc){var gd=null;if(ss.isValue(gc)){gd=ek.get_instance().createPaneDrawInfo(e,L,fX,fY,fZ,ga,gb,gc)}else{gd=new dV.$ctor1(e,L,fX,fY,fZ,ga,gb)}return gd};global.tab.PaneDrawInfoFactory=dK;var dL=function(e,L){this.$o=null;this.$q=null;this.$p=null;this.$r=null;bi.call(this,e,L);var fX=(ss.isValue(this.$r)?this.$r.colorModel:dh.defaultColors);this.$o=new bY(e,L,fX);if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')&&tab.FeatureFlags.isEnabled('Runtime')){this.$p=ek.get_instance();this.$q=this.$p.createNonMarksRenderer(e,L)}};dL.__typeName='tab.PaneTable2DRenderer';dL.$1=function(e,L,fX,fY){var fZ;switch(e){case'shape':{fZ=dz.$1y(fX,L);break}case'bar':case'square':{fZ=dz.$8(fX,L);break}case'pie':{fZ=dz.$k(fX,L);break}case'text':{fZ=dz.$1G(fX,L);break}case'label':{fZ=dz.$i(fX,L);break}case'line':{fZ=dz.$m(fX,L);break}case'area':{fZ=dz.$0(fX,L);break}case'multipolygon':{fZ=dz.$j(fX,L);break}default:{{var ga=fX.c.get('x').gv(L);var gb=fX.c.get('y').gv(L);var gc=fX.c.get('size').gv(L);var gd=Math.ceil(gc);fZ={x:Math.floor(ga-gc/2+0.5),y:Math.floor(gb-gc/2+0.5),w:gd,h:gd}}break}}if(fX.hasUserPanes){tab.RectXYUtil.intersectInPlace(fZ,fY)}return fZ};dL.getMarkBoundingBox=function(e,L,fX){return dL.$1(L.markType,e,L,fX)};dL.renderHoverOverlay=function(e,L,fX){if(ss.isNullOrUndefined(fX)||ss.isNullOrUndefined(L)){return}{var fY=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var fZ=L.getMarkIndexFromTupleId(e);switch(L.markType){case'area':{dz.$C(fX,L,fZ);break}case'bar':case'square':{dz.$E(fX,L,fZ);break}case'line':{dz.$G(fX,L,fZ);break}case'multipolygon':{dz.$I(fX,L,fZ);break}case'pie':{dz.$K(fX,L,fZ);break}case'shape':{dz.$M(fX,L,fZ);break}case'text':{dz.$1u(fX,L,fZ);break}}}finally{if(ss.isValue(fY)){fY.dispose()}}}};dL.renderPressedOverlay=function(e,L,fX){if(ss.isNullOrUndefined(fX)||ss.isNullOrUndefined(L)){return}{var fY=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var fZ=L.getMarkIndexFromTupleId(e);switch(L.markType){case'area':{dz.$D(fX,L,fZ);break}case'bar':case'square':{dz.$F(fX,L,fZ);break}case'line':{dz.$H(fX,L,fZ);break}case'multipolygon':{dz.$J(fX,L,fZ);break}case'pie':{dz.$L(fX,L,fZ);break}case'shape':{dz.$1t(fX,L,e);break}case'text':{dz.$1v(fX,L,fZ);break}}}finally{if(ss.isValue(fY)){fY.dispose()}}}};dL.$2=function(e,L,fX){e[0]=L.x;e[1]=L.y;e[2]=fX.x;e[3]=fX.y};dL.$0=function(e,L,fX,fY){var fZ=fX==='uEs'||fX==='bUP'||fX==='bsq'||fX==='jpw';if(L==='selected'&&fZ){if(tab.ColorModel.isFullyTransparent(e)){return'rgba(0,0,0,1)'}return e.toString()}if(L==='hover'&&fZ){var ga=77;var gb=new tab.ColorModel(255,255,255,0.449999988079071);var gc=new tab.ColorModel(0,0,0,0.449999988079071);var gd=(e.isValueAboveThreshold(ga)?gc:gb);return((e.get_a()<1)?gd.toString():tab.ColorModel.alphaBlend(gd,e).toString())}if(L==='normal'&&ss.isValue(fY)){return tab.SceneDataUtil.fogColorTransform(e,fY.item2,fY.item1).toString()}return e.toString()};global.tab.PaneTable2DRenderer=dL;var dM=function(e,L,fX){ss.makeGenericType(fF,[dQ]).call(this,e,L,fX);this.renderer=new dL(this.canvasElt,this.context);var fY=_.keys(e.get_vizRegionMap());for(var fZ=0;fZ<fY.length;fZ++){var ga=fY[fZ];if(!ss.contains(dQ.blackListVisualParts,ga)){e.get_vizRegionMap()[ga].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};dM.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=dM;var dN=function(e,L,fX){this.$T=null;this.$N=[];this.$M=new w('hover');this.$Q=new w('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(fF,[dQ]).call(this,e,L,'transparent');this.renderer=new dL(this.canvasElt,this.context);this.$T=fX;var fY=$(this.canvasElt);fY.css('position','absolute');fY.css('left','0px');fY.css('top','0px')};dN.__typeName='tab.PaneTableOverlayView';dN.$0=function(e,L){var fX=new Set;if(ss.isValue(e)&&e.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,fX,e)}if(ss.isValue(L)&&L.length>0){var fY=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,fY,L);fX=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,fX,fY)}return tab.SetUtilities.getValues(ss.Int32).call(null,fX)};global.tab.PaneTableOverlayView=dN;var dO=function(e){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,e);var L=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=L('.tab-clip');this.yLabel=L('.tab-tvYLabel');this.leftAxis=L('.tab-tvLeftAxis');this.rightAxis=L('.tab-tvRightAxis');this.xLabel=L('.tab-tvXLabel');this.bottomAxis=L('.tab-tvBottomAxis');this.topAxis=L('.tab-tvTopAxis');this.view=L('.tab-tvView');this.title=L('.tab-tvTitle');this.caption=L('.tab-tvCaption');this.topLeftSpacer=L('.tab-tvTLSpacer');this.topRightSpacer=L('.tab-tvTRSpacer');this.bottomLeftSpacer=L('.tab-tvBLSpacer');this.bottomRightSpacer=L('.tab-tvBRSpacer');this.borders=L('.tvViewportBorders');this.borders.append($(dO.$0))};dO.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=dO;var dP=function(e,L){this.regions={};this.zoomToolbar=null;this.$11=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$S=[];this.$X=0;this.$W={x:0,y:0};this.$V=0;this.$10=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$Z=null;this.$K=null;this.$M=false;this.$T=null;this.$P=0;this.$U=null;this.$Q=null;this.$R=null;this.$I=null;this.$H=null;this.$O=false;this.$Y=null;this.$J=null;this.$N=null;this.$L=new z;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.vizHitTester=null;this.isMap=false;ss.makeGenericType(spiff.BaseView$1,[dQ]).call(this,e,L);this.dom=L;this.get_paneTableVM().viewController.setTiledViewer(this);this.$X=(new Date).getTime();this.dom.view.attr('id','view'+this.$f());this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().AVP));var fX=e.get_visualModel();this.$F(fX);this.$A(fX);this.$z();this.$y();this.$w();this.isMap=fX.get_isMap();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$h))})))};dP.__typeName='tab.PaneTableView';dP.addVizDragApprover=function(e){dP.removeVizDragApprover(e);dP.$5.push(e)};dP.removeVizDragApprover=function(e){ss.remove(dP.$5,e)};dP.addVizDragHandler=function(e){dP.removeVizDragHandler(e);dP.$6.push(e)};dP.addAsyncVizDragHandler=function(e){dP.removeAsyncVizDragHandler(e);dP.$1.push(e)};dP.removeVizDragHandler=function(e){ss.remove(dP.$6,e)};dP.removeAsyncVizDragHandler=function(e){ss.remove(dP.$1,e)};dP.findTitles=function(){return $('.tab-tvTitle')};dP.$0=function(e,L){var fX=2;var fY={x:e.x,y:e.y};if(L.w>4){fY=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(fY,L,fX)}else{fY={x:L.x+ss.Int32.div(L.w,2),y:fY.y}}if(L.h>4){fY=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(fY,L,fX)}else{fY={x:fY.x,y:L.y+ss.Int32.div(L.h,2)}}return fY};dP.guessTooltipTargetTypeFromRegion=function(e){switch(e){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};dP.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=dP;var dQ=function(e){this.$u={};this.$t=null;this.$r=null;this.$p=null;this.$o=null;this.$l=null;this.$n=null;this.$q=false;this.$s=null;this.$m=null;this.$k=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewController=null;spiff.BaseViewModel.call(this);this.$t=e;this.$n=[];this.$r=new el;if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel())){this.$s=this.$t.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$q=false}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}this.$t.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.add_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.add_newVisual(ss.mkdel(this,this.$d));this.$t.add_newVisual(ss.mkdel(this,this.$a));this.$t.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6))}var L=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$f()});en.get_instance().add_fontPreparationComplete(L);this.disposables.add$1(new tab.CallOnDispose(function(){en.get_instance().remove_fontPreparationComplete(L)}));this.$i()};dQ.__typeName='tab.PaneTableViewModel';dQ.updateSceneInfoFromVisualModel=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return}var fX=L.pm.Ucd;var fY=L.pm.X$;var fZ=(ss.isValue(L.get_selectionsModel().tupleSelection)?L.get_selectionsModel():null);var ga=(ss.isValue(L.get_impliedSelectionModel())?L.get_impliedSelectionModel():null);var gb=(ss.isValue(L.get_brushingsModel().tupleSelection)?L.get_brushingsModel():null);var gc=L.get_hiddenTuples();var gd=L.get_filteredTuples();var ge=null;if(ss.isValue(fY)&&!ss.isNullOrUndefined(fY.quY)){ge=tab.RuntimeUtil.createRuntimeData(L)}e.$l(fY,fZ,ga,gb,fX,gc,gd,ge);if(ss.isValue(L.get_labelsModel())&&ss.isValue(L.get_labelsModel().pm)){e.$k(L.get_labelsModel().pm)}e.$j(L.get_isBrushedFromAction());e.$i(L.get_emptyHighlightFogAll())};dQ.$0=function(e,L,fX){switch(e.get_reason()){case 1:{if(L.hasTupleSelection()){return true}return ss.isValue(fX)&&fX.get_selectionType()==='tuples'&&fX.get_ids().length>0}case 2:{return e.get_invalidateViz()||e.get_objectIds().length>0}default:{return false}}};global.tab.PaneTableViewModel=dQ;var dR=function(e,L){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;eq.call(this,e,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=L||false;this.$n=null;this.$o=null};dR.__typeName='tab.PolyShapeSelector';dR.$0=function(e,L,fX){return e>=L&&L>=fX||e<=L&&L<=fX};global.tab.PolyShapeSelector=dR;var dS=function(){this.$0=null;this.$1=0;er.call(this);this.$0=[];this.$1=0};dS.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=dS;var dT=function(e){ss.makeGenericType(spiff.BaseView$1,[dU]).call(this,e,spiff.Template.fromHtml('<div />'))};dT.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=dT;var dU=function(e,L,fX){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(dU.$1(L)){if($.isArray(L)){this.data=dU.$2(L)}else{this.data=dU.$3(L)}}else{this.data=L.toString()}this.$2=fX};dU.__typeName='tab.PresModelBrowserViewModel';dU.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};dU.$2=function(e){var L=[];for(var fX=0;fX<e.length;++fX){L.push(dU.$4(fX.toString(),e[fX]))}return L};dU.$3=function(e){var L=[];var fX=new ss.ObjectEnumerator(e);try{while(fX.moveNext()){var fY=fX.current();L.push(dU.$4(fY.key,fY.value))}}finally{fX.dispose()}return L};dU.$0=function(e){return'<strong>'+e+':</strong> '};dU.$4=function(e,L){if(dU.$1(L)){if($.isArray(L)){return ss.mkdict(['text',dU.$0(e),'children',dU.$2(L)])}else{return ss.mkdict(['text',dU.$0(e),'children',dU.$3(L)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(L,'{')||ss.startsWithString(L,'['))){var fX=null;try{fX=JSON.parse(L)}catch(fY){}if(ss.isValue(fX)){return dU.$4(e,fX)}}return dU.$0(e)+L};global.tab.PresModelBrowserViewModel=dU;var dV=function(){dJ.call(this);this.setDefaultLabelLookupValues()};dV.__typeName='tab.PresModelPaneDrawInfo';dV.$ctor1=function(e,L,fX,fY,fZ,ga,gb){dJ.call(this);if(ss.isNullOrUndefined(fX)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(fY)){throw new ss.ArgumentNullException('paneMarks')}if(ss.isNullOrUndefined(fZ)){throw new ss.ArgumentNullException('pdMarks')}this.skipClipping=false;this.paneDrawInfoKey=gb;this.sceneInfo=L;this.paneMarks=fY;this.forceOpaqueColors=false;this.pdMarksKey=e;this.paneColumn=fX._WI;this.paneRow=fX.ASo;this.paneRect=tab.RecordCast.rectPresModelAsRectXY(fX.PeS);this.domainExtents=tab.SceneDataUtil.getPaneDomainExtents(fX);this.markCount=tab.SceneDataUtil.getNumPaneItems(this.paneMarks);this.markType=fZ.tx;this.showLabels=fZ.knq;this.labelMode=fZ.QCC;this.set_paneFlags(fZ.LTd['pane_flags']);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=tab.VisualColumnHelpers.parseColumns(fZ,fY.QNi,this.markCount);if(tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')){this.hasConstantColor=!ss.isNullOrUndefined(fZ.HDS)&&ss.keyExists(fZ.HDS,'has_per_mark_color_encoding')&&fZ.HDS['has_per_mark_color_encoding']===false}else{this.hasConstantColor=ss.keyExists(fZ.LTd,'color')}var gc=tab.ColorModel.white;if(this.c.has('background_color')){var gd=this.c.get('background_color');gc=tab.ColorModel.fromArgbInt(gd.v[(gd.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(gc);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(gc,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(L.sceneUserPaneInfo);this.processColors(ga);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}if(this.markType==='line'){this.ensureLinePixelAlignment()}this.parseTextInfo(fZ.MbY,fZ.Smu,false);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=dV.buildMapExtentsRect(fY.DGi,this.domainExtents,this.paneRect);this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};dV.buildMapExtentsRect=function(e,L,fX){if(ss.isNullOrUndefined(e)||e.POJ===0||e.suk===0){return null}return{x:ss.Int32.trunc(dJ.domainToPixelX(e.BPK,L,fX)),y:ss.Int32.trunc(dJ.domainToPixelY(e.KEc,L,fX)),w:ss.Int32.trunc(dJ.domainToPixelWidth(e.POJ,L,fX)),h:ss.Int32.trunc(dJ.domainToPixelHeight(e.suk,L,fX))}};global.tab.PresModelPaneDrawInfo=dV;var dW=function(e,L,fX){var fY=function(fZ){this.$1=null;this.$0=null;spiff.PureRenderComponent.call(this,fZ);this.$1=tab.ModuleManager.load(e).call(null,[]).done(ss.mkdel(this,function(ga){this.$0=ga}))};ss.registerGenericClassInstance(fY,dW,[e,L,fX],{render:function(){if(ss.isNullOrUndefined(this.$0)){this.$1.done(ss.mkdel(this,function(fZ){this.forceUpdate()}));return null}return this.renderWithModule(this.$0)},renderWithModule:null},function(){return spiff.PureRenderComponent},function(){return[]});return fY};dW.__typeName='tab.PureComponentWithModule$3';ss.initGenericClass(dW,a,3);global.tab.PureComponentWithModule$3=dW;var dX=function(){};dX.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=dX;var dY=function(){};dY.__typeName='tab.QuickFilterDateFormatUtil';dY.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};dY.getDateTimeFormatMode=function(e,L,fX,fY){if(ss.isNullOrUndefined(fX)||ss.isNullOrUndefined(fX.isAutoFormat)||!fX.isAutoFormat){return 0}if(dY.$0(L)){return 0}if(dY.isPureTime(e,L)){return 1}if(fY===2){return 2}for(var fZ=0;fZ<e.length;fZ++){var ga=e[fZ];if(ss.isNullOrUndefined(ga)||!ss.isValue(ga.v)){continue}var gb={t:ga.t,v:ss.unbox(ga.v)};if(tableau.format.isDateTimeWithNonMidnightTime(gb)){return 2}}return 0};dY.isPureTime=function(e,L){var fX=tab.LegacyFilterModel.timestampsWithSameDateOrNull(e);return fX&&!dY.$0(L)};global.tab.QuickFilterDateFormatUtil=dY;var dZ=function(e){this.$0=null;this.$0=e};dZ.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=dZ;var ea=function(){this.$d=null;this.$e=null;eq.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};ea.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=ea;var eb=function(){this.$0=null;this.$1=null;er.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};eb.__typeName='tab.RectShapeState';global.tab.RectShapeState=eb;var ec=function(e,L,fX){this.$2=0;this.$1=0;this.$a=0;this.$9=0;this.$7=0;this.$8=0;this.$d=0;this.$0=0;this.$c=0;this.$b=0;this.$6=0;this.$5=0;this.$4=0;this.$3=0;if(ss.isValue(e.title)){this.$1=ec.$0(this.$1,e.title)}if(ss.isValue(e.xheader)){this.$7=e.xheader.x;this.$a=e.xheader.w;this.$1=ec.$0(this.$1,e.xheader)}if(ss.isValue(e.bottomaxis)){this.$7=e.bottomaxis.x;this.$a=e.bottomaxis.w;this.$1=ec.$0(this.$1,e.bottomaxis)}if(ss.isValue(e.topaxis)){this.$1=ec.$0(this.$1,e.topaxis)}if(ss.isValue(e.viz)){this.$7=e.viz.x;this.$a=e.viz.w;this.$1=ec.$0(this.$1,e.viz)}if(ss.isValue(e.caption)){this.$1=ec.$0(this.$1,e.caption)}if(ss.isValue(e.yheader)){this.$8=e.yheader.y;this.$9=e.yheader.h;this.$2=ec.$1(this.$2,e.yheader)}if(ss.isValue(e.leftaxis)){this.$8=e.leftaxis.y;this.$9=e.leftaxis.h;this.$2=ec.$1(this.$2,e.leftaxis)}if(ss.isValue(e.rightaxis)){this.$2=ec.$1(this.$2,e.rightaxis)}if(ss.isValue(e.viz)){this.$8=e.viz.y;this.$9=e.viz.h;this.$2=ec.$1(this.$2,e.viz)}if(this.$9>0){var fY=this.$1;if(this.$2>L){fY+=dA.get_scrollH()}if(fY>fX){this.$6=dA.get_scrollW()}}if(this.$a>0&&this.$2>L){this.$5=dA.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&this.$6>0){this.$6+=1}if(tab.BrowserSupport.get_isIE()&&this.$5>0){this.$5+=1}if(this.$9>0){var fZ=this.$1-this.$9;this.$b=fX-fZ-this.$5;this.$b=Math.min(this.$9,this.$b);this.$0=this.$9-this.$b}if(this.$a>0){var ga=this.$2-this.$a;this.$c=L-ga-this.$6;this.$c=Math.min(this.$a,this.$c);this.$d=this.$a-this.$c}this.$3=Math.min(this.$1-this.$0,fX);this.$4=Math.min(this.$2-this.$d,L);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}};ec.__typeName='tab.RegionGeometry';ec.$1=function(e,L){var fX=L.x+L.w;return Math.max(e,fX)};ec.$0=function(e,L){var fX=L.y+L.h;return Math.max(e,fX)};global.tab.RegionGeometry=ec;var ed=function(){};ed.__typeName='tab.RegionResizer';ed.getRegionResizerViewModel=function(e,L,fX,fY,fZ,ga,gb){var gc=null;switch(L){case'yheader':{gc=new I(e,fX,fY,fZ,ga);break}case'xheader':{gc=new g(e,fX,fY,fZ,ga);break}case'topaxis':{gc=new h(e,fX,fY,fZ,ga,gb);break}case'rightaxis':{gc=new i(e,fX,fY,fZ,ga,gb);break}case'bottomaxis':{gc=new j(e,fX,fY,fZ,ga,gb);break}case'leftaxis':{gc=new k(e,fX,fY,fZ,ga,gb);break}default:{break}}return gc};ed.getHeaderResizerMinimumRunDistance=function(e){return Math.max(0,e-20)};ed.getAxisResizerMaximumRunDistance=function(e,L,fX,fY){return Math.max(0,(fY?(ss.Int32.div(e,2)-10):Math.min(ss.Int32.div(e*3,4),ss.Int32.div(L*3,4)-fX)))};ed.getAxisResizerMinimumRunDistance=function(e){return Math.max(0,e-10)};global.tab.RegionResizer=ed;var ee=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};ee.__typeName='tab.RenderAndCheckFontLoader';ee.$0=function(e,L){var fX=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var fY=$('<div/>').css(ee.$2).css('font-family',L.join(', ')).addClass(e);fY.append(fX);return fY};ee.$1=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return false}var fX=e.children('span')[0];var fY=L.children('span')[0];return ef.compareBoundingClientHeight(fX,fY)===0&&ef.compareBoundingClientWidth(fX,fY)===0};global.tab.RenderAndCheckFontLoader=ee;var ef=function(){};ef.__typeName='tab.RenderUtil';ef.calculatePixelRatio=function(e){var L=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){L=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){L=tab.BrowserSupport.get_devicePixelRatio()}else{L=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return L};ef.isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};ef.domainToPixel=function(e,L,fX,fY){return(e-L)*fY+fX};ef.manualFadeAnimation=function(e,L,fX,fY,fZ,ga){var gb=L;var gc=fX;var gd=ss.Int32.div(fZ,1000)*fY;var ge=(fX-L)/gd;var gf=ss.Int32.div(1000,fY);var gg=null;gg=function(){if(gb>gc){e.css('filter','alpha(opacity='+gc+')');e.css('opacity',(gc/100).toString());return}e.css('filter','alpha(opacity='+gb+')');e.css('opacity',(gb/100).toString());gb+=ge;if(ss.isValue(ga)){gf+=gf}window.setTimeout(gg,gf)};window.setTimeout(gg,gf)};ef.compareBoundingClientHeight=function(e,L){var fX=e.getBoundingClientRect().height;var fY=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().height);return ss.compare(fX,fY)};ef.compareBoundingClientWidth=function(e,L){var fX=e.getBoundingClientRect().width;var fY=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().width);return ss.compare(fX,fY)};ef.ensureImageEltSize=function(e,L){var fX=ef.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(fX,1)){var fY=$(e);fY.css('max-width',L.w+'px');fY.css('max-height',L.h+'px')}};global.tab.RenderUtil=ef;var eg=function(){};eg.__typeName='tab.ResolveSelectAction';eg.fromNormalizedEvent=function(e,L,fX){var fY=e.getSelectAction();if(ss.isValue(L)&&L&&fY==='toggle'){fY='range'}else if(!!!L&&!!fX&&fY==='range'){fY='simple'}return fY};global.tab.ResolveSelectAction=eg;var eh=function(){this.drawerContainer=null;spiff.Template.call(this,$("<div class='tab-right-area-drawer'></div>"));this.drawerContainer=this.domRoot};eh.__typeName='tab.RightAreaDrawerTemplate';global.tab.RightAreaDrawerTemplate=eh;var ei=function(e){this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[ej]).call(this,e,new eh);this.$f=e;this.$f.add_open(ss.mkdel(this,this.$a));this.$f.add_close(ss.mkdel(this,this.$9));this.$f.add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_open(ss.mkdel(this,this.$a));this.get_viewModel().remove_close(ss.mkdel(this,this.$9));this.get_viewModel().remove_refresh(ss.mkdel(this,this.$c))})));this.$b()};ei.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=ei;var ej=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;spiff.BaseViewModel.call(this);this.set_isOpen(false);this.$3=e};ej.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=ej;var ek=function(){};ek.__typeName='tab.RuntimeUIModule';ek.get_instance=function(){if(ss.isNullOrUndefined(ek.$0)){tab.ModuleManager.load(dj).call(null,[]).done(function(e){ek.$0=e})}return ek.$0};global.tab.RuntimeUIModule=ek;var el=function(){this.$u=new Map;this.$B=new Map;this.$z=new Map;this.$y=new Map;this.$t=new Map;this.$x=false;this.$r=false;this.$w=null;this.$v=new Map;this.$s=new Map;this.$A=new Map;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$n=0;this.$q=0;this.customShapes=[];this.$n=0;this.$q=0};el.__typeName='tab.SceneInfo';el.getPaneMarksKey=function(e){var L=e.Zpj;return e.fDN+'_'+L['_WI'.toString()]+'_'+L['ASo'.toString()]+'_'+e.hJq};el.extractCustomShapes=function(e){var L=[];if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return L}var fX=Object.keys(e.ObZ);for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];var ga=e.ObZ[fZ];var gb=ga.GKA;if(ss.keyExists(gb,'shape_id')){var gc=gb['shape_id'];var gd=gc.uBu02;for(var ge=0;ge<gd.length;ge++){var gf=gd[ge];if(ss.isValue(gf)&&tab.SceneDataUtil.isCustomShape(gf)){L.push(gf)}}}if(ss.isValue(ga.LTd)&&ss.keyExists(ga.LTd,'shape_id')){var gg=ga.LTd['shape_id'];if(tab.SceneDataUtil.isCustomShape(gg)){L.push(gg)}}}return L};el.$0=function(e,L,fX){var fY=e.paneRect.x;var fZ=e.paneRect.y;L.forEach(function(ga,gb,gc){tab.RectXYUtil.offsetRectXYInPlace(ga,fY,fZ);fX.set(gb,ga)})};global.tab.SceneInfo=el;var em=function(e){em.$0.call(this,e.uaB,e.gwy)};em.__typeName='tab.SceneUserPaneInfo';em.$0=function(e,L){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=e;this.$4=L;this.$1=ss.isValue(e)&&e.length>0;this.$2=ss.isValue(L)&&L.length>0;this.$0=(this.$1?(e.length-1):1);this.$5=(this.$2?(L.length-1):1)};global.tab.SceneUserPaneInfo=em;var en=function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$4=false;this.$3=null;this.$1$1=null;this.fontsReadyAutoCall=null;this.$5=en.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true};en.__typeName='tab.ServerFontLoader';en.get_instance=function(){if(ss.isNullOrUndefined(en.$1)){en.$1=new en}return en.$1};en.downloadAdditionalDrawerFonts=function(){var e=$.Deferred();var L=function(){e.resolve()};var fX=(ef.isHighDpi()?en.drawerFontNames:en.drawerLowDpiFontNames);var fY=function(){en.get_instance().$5.add_fontsReady(L);en.get_instance().initialize(false);en.get_instance().registerServerLoadedFonts(fX);en.get_instance().notifyDownloadableFont(fX);en.get_instance().downloadFonts();en.get_instance().allFontsFound()};en.get_instance().add_fontsReadyAutoCallEvent(fY);return e};en.$0=function(){if(tab.FeatureFlags.isEnabled('RenderAndCheckFontLoader')){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isSafari())){return new dD}else{return new ee}}else{return new bg}};global.tab.ServerFontLoader=en;var eo=function(e,L){fI.call(this,e,L)};eo.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=eo;var ep=function(e){this.$3=new Set;this.$2=null;this.$2=e;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};ep.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=ep;var eq=function(e,L,fX){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(e)?'0':e.w.toString());this.$a=(ss.isNullOrUndefined(e)?'0':e.h.toString());this.$7=L;this.$4=fX};eq.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=eq;var er=function(){};er.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=er;var es=function(){};es.__typeName='tab.ShapeUtil';es.generateSelectedUnderCustomShape=function(e,L,fX,fY,fZ){var ga=es.colorTransformImage(e,L,fY,fZ);var gb=document.createElement('canvas');var gc=fX*2;gb.width=Math.ceil(fY+gc);gb.height=Math.ceil(fZ+gc);var gd=gb.getContext('2d');gd.drawImage(ga,0,0,fY,fZ);gd.drawImage(ga,fX,0,fY,fZ);gd.drawImage(ga,gc,0,fY,fZ);gd.drawImage(ga,gc,fX,fY,fZ);gd.drawImage(ga,gc,gc,fY,fZ);gd.drawImage(ga,fX,gc,fY,fZ);gd.drawImage(ga,0,gc,fY,fZ);gd.drawImage(ga,0,fX,fY,fZ);return gb};es.generateOverlayForShape=function(e,L,fX,fY,fZ){var ga=es.generateSelectedUnderCustomShape(e,L,fX,fY,fZ);var gb=ga.getContext('2d');gb.globalCompositeOperation='destination-out';gb.drawImage(e,fX,fX,fY,fZ);return ga};es.colorTransformImage=function(e,L,fX,fY){var fZ=es.generateCanvasAndPrescaleAsNeeded(e,fX,fY);var ga=fZ.getContext('2d');var gb=ga.getImageData(0,0,fZ.width,fZ.height);var gc=gb.data.length;for(var gd=0;gd<gc;gd+=4){if(gb.data[gd+3]>0){gb.data[gd]=L.get_r();gb.data[gd+1]=L.get_g();gb.data[gd+2]=L.get_b()}}ga.putImageData(gb,0,0);return fZ};es.applyFoggingToImage=function(e,L,fX,fY,fZ){var ga=es.generateCanvasAndPrescaleAsNeeded(e,fY,fZ);var gb=ga.getContext('2d');var gc=gb.getImageData(0,0,ga.width,ga.height);for(var gd=0;gd<gc.data.length;gd+=4){if(gc.data[gd+3]>0){gc.data[gd]=Math.round(L.get_r()+gc.data[gd]*fX);gc.data[gd+1]=Math.round(L.get_g()+gc.data[gd+1]*fX);gc.data[gd+2]=Math.round(L.get_b()+gc.data[gd+2]*fX)}}gb.putImageData(gc,0,0);return ga};es.generateCanvasAndPrescaleAsNeeded=function(e,L,fX){var fY=document.createElement('canvas');if(!ss.isValue(e)){return fY}if(e.width>L*2&&e.height>fX*2){fY.width=Math.max(ss.Int32.div(e.naturalWidth,2),1);fY.height=Math.max(ss.Int32.div(e.naturalHeight,2),1)}else{fY.width=e.naturalWidth;fY.height=e.naturalHeight}var fZ=fY.getContext('2d');fZ.drawImage(e,0,0,fY.width,fY.height);return fY};global.tab.ShapeUtil=es;var et=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ew,eu,Object]).call(this,spiff.ObjectRegistry.newView(ew).call(null,[e.viewModel]),e,L)};et.__typeName='tab.ShareComponent';global.tab.ShareComponent=et;var eu=function(){this.viewModel=null};eu.__typeName='tab.ShareProps';global.tab.ShareProps=eu;var ev=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};ev.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=ev;var ew=function(e){this.$h=(tsConfig.is_mobile?390:300);this.$g=null;this.$f=false;ss.makeGenericType(spiff.BaseView$1,[ex]).call(this,e,new ev);this.$g=e;this.$g.saveSharedView();this.$9();this.$f=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$h};ew.__typeName='tab.ShareView';global.tab.ShareView=ew;var ex=function(){this.$a=true;spiff.BaseViewModel.call(this);this.$a=!this.$9()};ex.__typeName='tab.ShareViewModel';ex.$6=function(e){var L='/javascripts/api/viz_v1.js';var fX=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(fX+'//'+e['hostname']+L)};ex.$0=function(){var e;var L=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));L.append(ex.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));L.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));L.append(ex.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));L.append('} else { ');L.append(ex.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));L.append('} ');var fX=$.Deferred();e=fX.resolve(L.toString()).promise();return e};ex.$2=function(e,L){return ex.$1({EVq:e.minWidth,PiK:e.maxWidth,pAn:e.minHeight,McJ:e.maxHeight},L)};ex.$1=function(e,L){var fX=new ss.StringBuilder('');var fY=ex.$5();var fZ=4;if(e.viO==='automatic'||e.EVq===0&&e.PiK===0){fX.append("vizElement.style.width='100%';")}else if(e.EVq===e.PiK){fX.append(ss.formatString("vizElement.style.width='{0}px';",e.EVq+fZ))}else{if(e.EVq>0){fX.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.EVq+fZ))}else{fX.append("vizElement.style.width='100%';")}if(e.PiK>0){fX.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.PiK+fZ))}else{fX.append("vizElement.style.maxWidth='100%';")}if(e.EVq>0&&e.PiK>0&&e.EVq!==e.PiK){fX.append("vizElement.style.width='100%';")}}if(e.viO==='automatic'||e.pAn===0&&e.McJ===0){fX.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}else if(e.pAn===e.McJ){fX.append(ss.formatString("vizElement.style.height='{0}px';",e.pAn+fY))}else{if(e.pAn>0){fX.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.pAn+fY))}else{fX.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}if(e.McJ>0){fX.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.McJ+fY))}else{fX.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",L))}if(e.pAn>0&&e.McJ>0&&e.pAn!==e.McJ){fX.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}}return fX.toString()};ex.$8=function(e){var L=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+L+"'></script>"};ex.$5=function(){var e=4;if(fc.$0()){e+=65}else if(tsConfig.toolbarvis){e+=32}if(tabBootstrap.VizLayoutCalculator.get_shouldShowTabs()){e+=26}return e};ex.$7=function(){return tsConfig.facebookRedirectURI||ex.$d};ex.$3=function(e,L,fX,fY){var fZ=L!==fX;var ga=e;var gb=':'+fY+'='+(L?'yes':'no');var gc=new RegExp(':'+fY+'=[^&]+');if(!!ga.match(gc)){if(fZ){ga=ga.replace(gc,gb)}else{ga=ga.replace(gc,'');ga=ga.replace(new RegExp('&&'),'&');ga=ga.replace(new RegExp('\\?&'),'?');ga=ga.replace(new RegExp('&$'),'');ga=ga.replace(new RegExp('\\?$'),'')}}else if(fZ){if(!!ga.match(new RegExp('[?]'))){ga=ga+'&'+gb}else{ga=ga+'?'+gb}}return ga};ex.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=ex;var ey=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};ey.__typeName='tab.ShownEventArgs';ey.areShownArgsSame=function(e,L){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(L)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(L)||ss.isValue(e)&&ss.isNullOrUndefined(L)){return false}var fX;fX=e.origX===L.origX;fX=fX&&e.origY===L.origY;fX=fX&&e.shownX===L.shownX;fX=fX&&e.shownY===L.shownY;fX=fX&&e.position===L.position;fX=fX&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),L.viewport.get_dimensions());return fX};global.tab.ShownEventArgs=ey;var ez=function(){this.tooltipAnchorY=0;ey.call(this)};ez.__typeName='tab.ShownTooltipEventArgs';ez.areShownArgsSame=function(e,L){return ey.areShownArgsSame(e,L)&&e.tooltipAnchorY===L.tooltipAnchorY};global.tab.ShownTooltipEventArgs=ez;var eA=function(e,L,fX){this.$o=null;ss.makeGenericType(fF,[fB]).call(this,e,L,'opaque');var fY=(ss.isValue(fX.get_scene())?fX.get_scene().colorModel:dh.defaultColors);this.renderer=new bY(this.canvasElt,this.context,fY);this.$o=fX};eA.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=eA;var eB=function(e){React.Component.call(this,e)};eB.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=eB;var eC=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var L=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(L)){this.$6=ss.coalesce(L,0)}};eC.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=eC;var eD=function(){};eD.__typeName='tab.Social';eD.twitterPopup=function(e,L){var fX=$('#twitter_creator');var fY=(ss.isValue(fX)?fX.attr('content'):null);if(!ss.isNullOrEmptyString(fY)){fY=' '+fY}L+=fY;var fZ={};fZ['url']=e;fZ['via']='tableaupublic';fZ['text']=L;fZ['related']='tableau';var ga='https://twitter.com/share?'+$.param(fZ);var gb=null;var gc='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(ga,gb,gc)};eD.facebookPopup=function(e,L,fX,fY,fZ,ga){var gb={};gb['app_id']=e;gb['link']=L;gb['picture']=fX;gb['name']=fY;gb['description']=fZ;if(!!ga&&ga.length>0){gb['redirect_uri']=ga}var gc='http://www.facebook.com/dialog/feed?'+$.param(gb);var gd=null;var ge='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var gf=window.open(gc,gd,ge);if(typeof(gf['focus'])==='function'){gf.focus()}};eD.mailTo=function(e,L){var fX=ss.mkdict(['body',e]);if(!!L){fX['subject']=L}var fY='mailto:?'+$.param(fX);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=fY}else{var fZ=window.open(fY,'MailWindow');if(ss.isValue(fZ)){window.setTimeout(function(){try{if(fZ.location.href==='about:blank'){fZ.close()}}catch(ga){}},999)}}};global.tab.Social=eD;var eE=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eG,eF,Object]).call(this,spiff.ObjectRegistry.newView(eG).call(null,[e.viewModel]),e,L)};eE.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=eE;var eF=function(){this.viewModel=null};eF.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=eF;var eG=function(e,L){this.$y=null;this.$t=null;this.$w=null;this.$r=null;this.$v=null;this.$x=null;this.$u=null;this.menuTheme=0;this.$s=null;ss.makeGenericType(spiff.BaseView$1,[eH]).call(this,e,new eI);this.menuTheme=L;this.$y=e;this.$9();this.$y.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.add_subscribersChanged(ss.mkdel(this,this.$h));this.$y.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q))};eG.__typeName='tab.SubscribeView';eG.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=eG;var eH=function(){this.$9=[];this.$7=[];this.$6=null;this.$8=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=null;this.$2$9=null;spiff.BaseViewModel.call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$7=e.filter(function(L){return L.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$3)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}};eH.__typeName='tab.SubscribeViewModel';global.tab.SubscribeViewModel=eH;var eI=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeButton=null;spiff.Template.call(this,$("\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"));this.subscribeViewArea=this.domRoot;this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel');this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit')};eI.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=eI;var eJ=function(e,L,fX){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=L;this.tabIndex=fX};eJ.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=eJ;var eK=function(e){this.$6=null;this.$b=null;this.$c=null;this.$l=null;this.$e=null;this.$j=0;this.$g=null;this.$k=null;this.$h=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$i=false;this.$d=0;this.$f=0;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$b=new Array;this.$c=cu.instance();this.$l=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};eK.__typeName='tab.TabRenderContext2D';eK.$0=function(e){var L=e.split(' ');for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=parseFloat(fY);if(isFinite(fZ)){return fZ}}return 8};global.tab.TabRenderContext2D=eK;var eL=function(e){this.textSelectable=false;this.textSelectable=e};eL.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=eL;var eM=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;spiff.Template.call(this,$(eM.$0(e)));var L=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=L('.tab-textRegion-boundary');this.contentElem=L('.tab-textRegion-content')};eM.__typeName='tab.TextRegionTemplate';eM.$0=function(e){var L='';if(e>0){L=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>",L)};global.tab.TextRegionTemplate=eM;var eN=function(e){eN.$ctor1.call(this,e,-1)};eN.__typeName='tab.TextRegionView';eN.$ctor1=function(e,L){ss.makeGenericType(spiff.BaseView$1,[eO]).call(this,e,new eM(L));this.$i().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)))};global.tab.TextRegionView=eN;var eO=function(e){this.$3=null;this.options=new eL(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};eO.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=eO;var eP=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};eP.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=eP;var eQ=function(e){ss.makeGenericType(spiff.BaseView$1,[eR]).call(this,e,new eP)};eQ.__typeName='tab.TiledImageView';global.tab.TiledImageView=eQ;var eR=function(){spiff.BaseViewModel.call(this)};eR.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=eR;var eS=function(e,L,fX,fY,fZ){this.$7=null;this.backgroundMap=new dq;this.disposables=new tab.DisposableHolder;this.allowPanZoom=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.currentToolbarToolMode=null;this.lockedToolbarToolMode=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.resetIsWaitingOnData=false;this.$8=null;this.$b=null;this.$a=null;this.$9=null;this.$6=false;this.$5=false;this.$4=null;this.$c=null;this.$d=null;this.$1$1=null;this.$1$2=null;this.$8=e;this.connectNode=$(L);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$7=this.connectNode.find('.tvimagesContainer');this.allowPanZoom=fX;this.domPanZoomRect=new ea;this.$a=new ea;this.$b=fY;this.paneTableViewModel=fZ;this.waitingOnPanZoomServerResponse='waitingOnServer';if(this.$8==='viz'){this.set_currentModifierKeyToolMode('no-tools');this.makeDomDrag()}this.lockedToolbarToolMode=this.paneTableViewModel.get_visualModel().get_defaultMapTool();if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$2))}this.$c=new fC};eS.__typeName='tab.TiledViewerRegion';eS.getCanvasElement=function(e){return e.find('canvas').get(0)};global.tab.TiledViewerRegion=eS;var eT=function(e,L,fX,fY,fZ){this.$8=null;this.$9=null;this.$b=null;this.$g=null;this.$d=null;this.$e=null;this.$k=0;this.$l=0;this.$i=null;this.$7=null;this.$j=0;this.$c=null;this.$n=null;this.$m=0;this.$f=0;this.$h=false;this.$a=false;this.$1$1=null;this.$c=fY;this.$8=e;this.$g=L;this.$n=fX;this.$h=fZ;this.$b={x:0,y:0,w:0,h:0,r:''};this.$i={w:0,h:0};this.$9=new cf;this.$9.add_imageLoaded(ss.mkdel(this,this.$3));this.$9.add_imageTimedOut(ss.mkdel(this,this.$4));this.$9.add_complete(ss.mkdel(this,this.$5));this.$e=[];this.$d=$('.tvimagesContainer',this.$8);this.$a=true};eT.__typeName='tab.TiledWindow';global.tab.TiledWindow=eT;var eU=function(e){var L=function(){this.viewModel=null};ss.registerGenericClassInstance(L,eU,[e],{},function(){return null},function(){return[]});return L};eU.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(eU,a,1);global.tab.ToolbarButtonProps$1=eU;var eV=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};eV.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=eV;var eW=function(e){this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[eX]).call(this,e,new eV);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.$c()};eW.__typeName='tab.ToolbarButtonView';eW.create=function(e){return new eW(e)};global.tab.ToolbarButtonView=eW;var eX=function(e,L,fX){this.action=null;this.popupContent=null;this.dialogContent=null;this.$c=null;this.$d=null;this.$7=null;this.$8=null;this.$6=false;this.$a=false;this.$9=false;this.popupViewModel=null;this.$b=new spiff.UberPopupShowOptions.$ctor1(2,1,1,fc.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$c=e;this.$7=L;this.action=fX;this.$6=!ss.staticEquals(fX,null)};eX.__typeName='tab.ToolbarButtonViewModel';eX.shouldShowButton=function(e,L){if(ss.isNullOrUndefined(L)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!fc.$0()&&(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb'))&&!tsConfig.is_mobile_app&&!L.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!L.get_forceHideCustomViewsButton()&&!L.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{return tsConfig.allow_data_alert}default:{return true}}};eX.createSeparator=function(){var e=new eX('-',null,null);e.$a=true;return e};eX.createFromCommandItem=function(e,L,fX){var fY=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fZ=new eX(fY.get_name(),L+fY.get_iconRes(),null);fZ.$6=ss.isNullOrUndefined(fY.get_enabled())||fY.get_enabled();fZ.$8=fY.get_iconRes();if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fZ.dialogContent=eX.$0(e,fX)}else{fZ.popupContent=eX.$1(e,fX,fZ)}var ga=tab.CommandSerializer.deserialize(fY.get_command());if(fZ.$8==='edit'){fZ.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(fZ.$8==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){fZ.$6=true;fZ.action=function(){bG.handleDataAlertClick(fY.get_description())};fX.handleDataAlertUpdate()}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(ga)&&ss.referenceEquals(ga.commandName,'toggle-mark-labels'.toString())){fZ.action=function(){tab.PaneClientCommands.setShowMarkLabels(fY.get_iconRes()==='show-labels',null)}}else if(ss.isValue(ga)){fZ.action=function(){fZ.set_isActive(true);tab.ServerCommands.executeServerCommand(ga,'immediately',function(){fZ.set_isActive(false)},function(){fZ.set_isActive(false)})}}return fZ};eX.$1=function(e,L,fX){var fY=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fZ=function(){var gd=ss.getEnumerator(L.get_nonVizItems());try{while(gd.moveNext()){var ge=gd.current();if(!ss.referenceEquals(ge,fX)){ge.$3()}}}finally{gd.dispose()}};fX.add_flyoverShown(fZ);fX.disposables.add$1(new tab.CallOnDispose(function(){fX.remove_flyoverShown(fZ)}));switch(fY.get_iconRes()){case'download':{var ga=new ci(L);ga.add_downloadInitiated(ss.mkdel(fX,fX.$3));fX.disposables.add$1(new tab.CallOnDispose(function(){ga.remove_downloadInitiated(ss.mkdel(fX,fX.$3))}));return ga}case'share':{return new ex}case'customviews':{var gb=L.get_customViewsViewModel();gb.hideView=ss.delegateCombine(gb.hideView,ss.mkdel(fX,fX.$3));fX.disposables.add$1(new tab.CallOnDispose(function(){var gd=L.get_customViewsViewModel();gd.hideView=ss.delegateRemove(gd.hideView,ss.mkdel(fX,fX.$3))}));return L.get_customViewsViewModel()}case'subscribe':{var gc=new eH;gc.add_subscribeSuccess(ss.mkdel(fX,fX.$3));fX.disposables.add$1(new tab.CallOnDispose(function(){gc.remove_subscribeSuccess(ss.mkdel(fX,fX.$3))}));return gc}default:{return null}}};eX.$0=function(e,L){var fX=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');switch(fX.get_iconRes()){case'download':{return new ci(L)}case'share':{return new ex}case'customviews':{return L.get_customViewsViewModel()}case'subscribe':{return new eH}default:{return null}}};global.tab.ToolbarButtonViewModel=eX;var eY=function(e,L,fX){this.$e=null;eX.call(this,e,L,null);tab.Param.verifyValue(fX,'menuBuilder');this.$e=fX;this.set_enabled(this.createMenu().menuItems.some(function(fY){return fY.enabled}))};eY.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=eY;var eZ=function(){this.toolbar=null;this.vizItems=null;this.publicItems=null;this.publicLogo=null;this.publicBelowLogo=null;this.nonVizItems=null;spiff.Template.call(this,$("\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"));this.toolbar=this.domRoot;this.vizItems=this.getElementBySelector('.tab-vizItems');this.publicItems=this.getElementBySelector('.tab-publicItems');this.publicLogo=this.getElementBySelector('.tab-publicLogoLink');this.publicBelowLogo=this.getElementBySelector('.tab-belowPublicLogo');this.nonVizItems=this.getElementBySelector('.tab-nonVizItems')};eZ.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=eZ;var fa=function(e,L,fX,fY){this.$e=null;eX.call(this,e,L,fX);this.$e=fY};fa.__typeName='tab.ToolbarToggleButtonViewModel';fa.createFromCommandItems=function(e,L,fX){var fY;var fZ;var ga=tab.CommandItemWrapper.create(e);var gb=tab.CommandItemWrapper.create(L);if(!ss.isValue(ga.get_enabled())||ga.get_enabled()){fY=ga;fZ=gb}else if(!ss.isValue(gb.get_enabled())||gb.get_enabled()){fY=gb;fZ=ga}else{return null}var gc=eX.createFromCommandItem(fY.get_item(),fX);var gd=new fa(gc.get_text(),gc.get_iconClass(),gc.get_buttonAction(),fZ.get_name());gd.disposables.add$1(gc);gd.set_enabled(ss.isValue(fZ)&&!fZ.get_enabled());if(gd.get_enabled()){return gd}return null};global.tab.ToolbarToggleButtonViewModel=fa;var fb=function(e){this.$C=null;this.$F=0;this.$E=0;this.$D=0;this.$A=0;this.$z=0;this.$y=0;this.$B=0;this.$x=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;ss.makeGenericType(spiff.BaseView$1,[fc]).call(this,e,new eZ);this.$C=e;this.$C.add_newToolbar(ss.mkdel(this,this.$i));this.$C.add_viewCountLoaded(ss.mkdel(this,this.$g));en.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$f));tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.$C.remove_newToolbar(ss.mkdel(this,this.$i));this.$C.remove_viewCountLoaded(ss.mkdel(this,this.$g));en.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$f));tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$e))}));if(tsConfig.allow_custom_views){var L=ss.mkdel(this,function(){this.updateCustomViewsButton();this.$h()});this.$p().add_dirtyChanged(L);this.$p().add_customViewListChanged(L);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$p().remove_dirtyChanged(L);this.$p().remove_customViewListChanged(L)})))}var fX=_.throttle(ss.mkdel(this,this.$f),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(fY){fX()}));if(fc.get_toolbarIsBottom()){this.element.css('top','auto')}};fb.__typeName='tab.ToolbarView';fb.$3=function(e){if(ss.isValue(e)){e.element.show()}};fb.$0=function(e){e.children('.tabToolbarButton').each(function(L,fX){var fY=$(fX);fY.css('width',tab.DoubleUtil.roundToInt(fY.outerWidth(false))+1)})};fb.$2=function(e){e.children('.tabToolbarButton').css('width','')};fb.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(L,fX){var fY=$(fX);var fZ=fY.find('.tabToolbarButtonText').text();fY.attr('title',fZ)})};fb.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(L,fX){fX.removeAttribute('title')})};global.tab.ToolbarView=fb;var fc=function(e){this.$c=null;this.$e=[];this.$b=[];this.$9=new by;this.dataAlertDialogViewModel=null;this.$a=false;this.$d=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;this.$2$5=null;spiff.BaseViewModel.call(this);this.$c=e;if(!tsConfig.allow_custom_view_save){this.$a=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new bW);if(ss.isValue(this.$c.get_vizCommandItems())){this.$6(null)}var L=ss.mkdel(this,function(){this.$6(null)});this.$c.add_newToolbar(L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));var fX=ss.mkdel(this,function(){this.get_dialogHostViewModel().show(this.dataAlertDialogViewModel)});this.add_dataAlertDialogVMCreated(fX);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newToolbar(L);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6));this.remove_dataAlertDialogVMCreated(fX)})))};fc.__typeName='tab.ToolbarViewModel';fc.get_toolbarHeight=function(){return tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight()};fc.$0=function(){return tsConfig.isPublic};fc.get_toolbarIsBottom=function(){return(fc.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=fc;var fd=function(e){this.tupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||fd.$0()).domRoot);this.$i=e||fd.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};fd.__typeName='tab.Tooltip';fd.$0=function(){return fd.$4||(fd.$4=new fk)};global.tab.Tooltip=fd;var fe=function(e,L,fX){ff.call(this,'sticky',e,L,fX);var fY=this.get_currentBehavior();fY.attach()};fe.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=fe;var ff=function(e,L,fX,fY){this.disposables=new tab.DisposableHolder;this.$j=null;this.$k=null;this.$g=null;this.tooltipBehaviors=null;this.$e=null;this.$f=null;this.visualId=null;this.$l=null;this.readyForHover=true;this.$h=0;this.$i=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$e=L;this.visualId=fX;this.$l=fY;this.$j=new fd;this.$j.add_closed(ss.mkdel(this,this.$5));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$j.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$7));this.$k=new fm(this.$j,this.get_ubertipShouldEnforceButtonOrdering(),this.$l,this.shouldAddCommandButtonsAndActions());this.$k.add_actionExecuted(ss.mkdel(this,this.$8));this.$k.add_commandExecuted(ss.mkdel(this,this.$9));this.$k.add_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.add_ubertipMenuClosed(ss.mkdel(this,this.$a));this.$g=e;this.$f=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();var fZ=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover',null);var ga=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'explicitly',null);this.$h=fZ.length+ga.length;if(tsConfig.is_mobile){fG.add_mobileVizReduceTransform(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fG.remove_mobileVizReduceTransform(ss.mkdel(this,this.$6))})))}};ff.__typeName='tab.TooltipBaseMode';ff.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$1(e.tooltipHtml)};global.tab.TooltipBaseMode=ff;var fg=function(){};fg.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=fg;var fh=function(e){this.$0=null;this.$0=e};fh.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=fh;var fi=function(e,L,fX){ff.call(this,'disabled',e,L,fX)};fi.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=fi;var fj=function(e,L,fX,fY){this.$v=null;this.$w=null;this.$u=null;this.$t=false;ff.call(this,'smooth',e,L,fY);var fZ=this.get_currentBehavior();fZ.attach();fZ.add_onMouseStop(ss.mkdel(this,this.$r));this.$u=fX;this.$v=fj.$0();this.$w=fj.$1();this.$m();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$s))};fj.__typeName='tab.TooltipResponsiveMode';fj.$0=function(){fj.$2++;return'mousemove.TooltipResponsiveMode'+fj.$2};fj.$1=function(){fj.$2++;return'mouseout.TooltipResponsiveMode'+fj.$2};global.tab.TooltipResponsiveMode=fj;var fk=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};fk.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=fk;var fl=function(){};fl.__typeName='tab.TooltipTrigger';global.tab.TooltipTrigger=fl;var fm=function(e,L,fX,fY){this.$1m=null;this.$1d=new tab.DisposableHolder;this.$1h=null;this.$1i=null;this.$1e=false;this.$18=false;this.$1g=false;this.$16=null;this.$1j=-1;this.$19=null;this.$1c=null;this.$1a=null;this.$17=null;this.$1b=null;this.$1l=[];this.$1k=[];this.vizInTooltipsImageDownloadQueue=null;this.$1f={};this.$1n=null;this.$1o=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$1c=this.element.find('.tab-ubertipContent');this.$1a=this.element.find('.tab-ubertipCommandArea');this.$17=this.element.find('.tab-ubertipActions');this.$1b=this.element.find('.tab-ubertipCommands');this.$1m=e;this.$1m.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1m.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$18=fY;this.$1e=L;this.vizInTooltipsImageDownloadQueue=new cf;this.vizInTooltipsImageDownloadQueue.add_imageLoaded(ss.mkdel(this,this.$G));this.vizInTooltipsImageDownloadQueue.add_complete(ss.mkdel(this,this.$H));this.$1n=fX};fm.__typeName='tab.Ubertip';fm.$7=function(e){return e.commandType===10};fm.$3=function(e){var L=_.find(e.buttonCommands,function(fX){return fm.$7(fX)});return L};fm.$6=function(e){return e.get_iconRes()===':/en_US/TQRC_MERGE'};fm.$4=function(e){var L=_.find(e.subcommands,function(fX){return fm.$6(fX)});return L};fm.$1=function(e){var L=_.find(e.placeHolders,function(fX){return fX.commandType===10});return L};fm.$2=function(e){var L;if(ss.isNullOrEmptyString(e.imageRes)){L='Command'+e.commandType}else if(ss.endsWithString(e.imageRes.toString(),'png')){L=tab.TabResources.getResourceName(e.imageRes)}else{L=tab.TabResources.lookupFullResourceAlias(e.imageRes)}return L};fm.$5=function(e,L){if(tab.MiscUtil.isNullOrEmpty$1(e)){return L}var fX=ss.formatString('Ubertip{0}Mobile',e);var fY=tab.Strings.getString(fX);if(ss.referenceEquals(fY,ss.formatString('!{0}!',fX))){return L}return fY};fm.$0=function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){L.set_label(fm.$5(fm.$2(e),e.name))}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}L.set_disabled(true);var fX=new ss.StringBuilder('tab-command');fX.append(fm.$2(e));L.element.addClass(fX.toString());L.element.css('visibility','hidden');return L};global.tab.Ubertip=fm;var fn=function(){};fn.__typeName='tab.URIUtil';fn.absolutizeURI=function(e,L){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var fX=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var fY=e.match(fX);if(ss.isValue(fY)&&fY[1]!=='http'&&fY[1]!=='https'){if(L){return''}return e}var fZ='//';var ga=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var gb=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(ga.test(e)){fZ='https://'}else if(gb.test(e)){fZ='http://'}var gc=new RegExp('^(https?:)?/?/?');e=e.replace(gc,fZ);return e};global.tab.URIUtil=fn;var fo=function(){this.$6=null;this.$5=false;this.$4=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);this.$6=null;this.$5=false;this.$4=0;this.set_props({items:[],fetchNextPage:ss.mkdel(this,this.$3),activeUser:null,startingY:null,userListViewModel:this})};fo.__typeName='tab.UserListViewModel';global.tab.UserListViewModel=fo;var fp=function(e,L){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=e;var fX=e.$1;var fY=e.$2;var fZ=e.$5*e.$0;this.$d=new Array(fZ+1);this.$h=new Array(fZ);this.$c=(fX?new Array(fZ):null);this.$f=(fY?new Array(fZ):null);this.$e=new Array(L.markCount);this.$b=this.$2(L)};fp.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=fp;var fq=function(e){React.Component.call(this,e)};fq.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=fq;var fr=function(e){React.Component.call(this,e)};fr.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=fr;var fs=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userPillsViewModel:this,userValidator:function(L){return L.hasEmail},userInvalidText:tab.Strings.UserHasNoEmailAddressWarning})};fs.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=fs;var ft=function(e){React.Component.call(this,e);this.props.userSearchViewModel.add_userSelected(ss.mkdel(this,this.$0))};ft.__typeName='tab.UserSearchComponent';global.tab.UserSearchComponent=ft;var fu=function(e,L){React.Component.call(this,e,L)};fu.__typeName='tab.UserSearchSelectorComponent';global.tab.UserSearchSelectorComponent=fu;var fv=function(){this.userSearchProps=null;this.userPillsProps=null};fv.__typeName='tab.UserSearchSelectorProps';global.tab.UserSearchSelectorProps=fv;var fw=function(e){fw.$ctor1.call(this,e,null)};fw.__typeName='tab.UserSearchSelectorViewModel';fw.$ctor1=function(e,L){this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[fv]).call(this);this.set_userSearchViewModel(new fx.$ctor1(L));this.set_userPillsViewModel(new fs(e));var fX=new fv;fX.userSearchProps=this.get_userSearchViewModel().get_props();fX.userPillsProps=this.get_userPillsViewModel().get_props();this.set_props(fX);this.$5()};global.tab.UserSearchSelectorViewModel=fw;var fx=function(){fx.$ctor1.call(this,null)};fx.__typeName='tab.UserSearchViewModel';fx.$ctor1=function(e){this.placeholderMessage=tab.Strings.SubscribeOthersSearchPlaceholder;this.$7=null;this.$9=null;this.$6=0;this.$8=true;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);if(!tab.MiscUtil.isNullOrEmpty$1(e)){this.placeholderMessage=e}this.set_userListViewModel(new fo);this.set_props({userSearchViewModel:this});this.$6=0;this.$7=new tab.Debouncer(ss.mkdel(this,function(){this.get_userListViewModel().set_searchTerm(this.$9);this.$8=true}),200);this.$5()};global.tab.UserSearchViewModel=fx;var fy=function(){dn.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};fy.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=fy;var fz=function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e};fz.__typeName='tab.ViewController';fz.add_selectionChanged=function(e){fz.$1$1=ss.delegateCombine(fz.$1$1,e)};fz.remove_selectionChanged=function(e){fz.$1$1=ss.delegateRemove(fz.$1$1,e)};global.tab.ViewController=fz;var fA=function(e){this.$g=null;this.$h=null;this.$g=e};fA.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=fA;var fB=function(e,L,fX,fY,fZ){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=e;this.$a=L;this.$8=fX;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(fY)){this.$9=fY.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(fZ)){this.$3=fZ.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(fY)||ss.isValue(fZ)){this.$2()}var ga=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});en.get_instance().add_fontPreparationComplete(ga);this.disposables.add$1(new tab.CallOnDispose(function(){en.get_instance().remove_fontPreparationComplete(ga)}))};fB.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=fB;var fC=function(){this.$6=null;this.$5=null};fC.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=fC;var fD=function(){};fD.__typeName='tab.VisualPartsHitTest';fD.hitTestRefLines=function(e,L,fX){var fY=new cJ.$ctor1(0,0,0);var fZ=[];for(var ga=0;ga<e.length;ga++){var gb=e[ga];var gc=fD.hitTestRefLine(gb.tOA,L,fX);if(gc.get_hitType()!==0){if(fX){fY=cJ.tieBreak(gc,fY)}else{fZ.push(gc)}}}if(fX){if(fY.get_hitType()===0){return[]}return[fY]}return fZ};fD.hitTestRefLine=function(e,L,fX){var fY=new cJ.$ctor1(0,0,0);var fZ=fD.$0(e,'refpart-text');fY=fD.$1(fZ,4,L,fX,fY);if(fY.get_hitType()===3){return fY}var ga=fD.$0(e,'refpart-geom');fY=fD.$1(ga,3,L,fX,fY);return fY};fD.hitTestTrendLines=function(e,L,fX){var fY=new cJ.$ctor1(0,0,0);var fZ=[];for(var ga=e.length-1;ga>=0;ga--){var gb=fD.$3(e[ga],L,fX);if(gb.get_hitType()===3){if(fX){return[gb]}else{fZ.push(gb)}}if(fX&&gb.get_hitType()===2&&fY.get_hitType()===0){fY=gb}}if(fX){if(fY.get_hitType()===0){return[]}return[fY]}return fZ};fD.$1=function(e,L,fX,fY,fZ){for(var ga=e.length-1;ga>=0;ga--){var gb=e[ga];var gc=fD.$2(gb.tOA,L,fX,fY,gb.YLs);if(gc.get_hitType()===3){return gc}if(gc.get_hitType()===2&&fZ.get_hitType()===0){fZ=gc}}return fZ};fD.$2=function(e,L,fX,fY,fZ){var ga=tab.RectXYUtil.dialate(fX,fD.visualPartNearHitTestExpansionPixels);var gb=1;var gc=new cJ.$ctor1(fZ,L,0);for(var gd=0;gd<e.length;gd++){var ge=e[gd];switch(ge.VzB){case'Osj':{var gf=ge;if(ss.isValue(gf.Cwi)){gb=gf.Cwi}break}case'uEs':case'jpw':{var gg=ge;var gh=ss.isValue(gg.GN_)&&!gg.GN_;var gi={x:gg.WzG[0],y:gg.WzG[1]};var gj={x:gg.WzG[2],y:gg.WzG[3]};var gk=tab.RectXYUtil.rectXYFromCorners(gi,gj);if(ge.VzB==='uEs'){if(gb<3){gk=tab.RectXYUtil.dialate(gk,1)}}var gl=fY&&tab.RectXYUtil.intersectsWith(ga,gk);var gm=(!fY||gl)&&tab.RectXYUtil.intersectsWith(fX,gk);if(gm){gc=new cJ.$ctor1(fZ,L,3);if(gh){gc.doNotRenderOverlay()}return gc}if(gl){gc=new cJ.$ctor1(fZ,L,2);if(gh){gc.doNotRenderOverlay()}}break}default:{break}}}return gc};fD.$3=function(e,L,fX){var fY=new cJ.$ctor1(0,0,0);if(fX){var fZ=tab.RectXYUtil.dialate(L,fD.visualPartNearHitTestExpansionPixels);var ga=fD.$4(e,fZ);if(ss.isValue(ga)){fY=new cJ.$ctor1(ss.unbox(ga),2,2)}}if(fY.get_hitType()===2||!fX){var gb=fD.$4(e,L);if(ss.isValue(gb)){fY=new cJ.$ctor1(ss.unbox(gb),2,3)}}return fY};fD.$4=function(e,L){var fX=new Array;fX.push(e);while(fX.length>0){var fY=fX.pop();var fZ=tab.RectXYUtil.intersectsWith(fY.get_boundingBox(),L);if(fZ){if(fY.get_nodeType()===4||fY.get_nodeType()===0){var ga=fY.get_children();ga.forEach(function(gb){fX.push(gb)})}else if(fY.get_nodeType()===5){return fY.get_objectId()}}}return null};fD.$0=function(e,L){var fX=[];for(var fY=0;fY<e.length;fY++){var fZ=e[fY];if(fZ.VzB==='$OC'&&L==='refpart-clip-rect'){fX.push(fZ)}else if(fZ.VzB==='rOX'){var ga=fZ;var gb=_.find(ga.tOA,function(gc){return gc.VzB==='ADd'});if(L==='refpart-text'&&ss.isValue(gb)){fX.push(fZ)}else if(L==='refpart-geom'&&ss.isNullOrUndefined(gb)){fX.push(fZ)}}}return fX};global.tab.VisualPartsHitTest=fD;var fE=function(){};fE.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=fE;var fF=function(e){var L=function(fX,fY,fZ){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(bl,[e]).call(this,fX,fZ);this.$n=fY;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(L,fF,[e],{add_loadComplete:function(fX){this.$4$1=ss.delegateCombine(this.$4$1,fX)},remove_loadComplete:function(fX){this.$4$1=ss.delegateRemove(this.$4$1,fX)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(bl,[e]).prototype.dispose.call(this)},refreshImages:function(fX){},reset:function(fX,fY){if(ss.isNullOrUndefined(fX)){return}var fZ={w:fX.w,h:fX.h};var ga=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(fZ,this.completeDocSize);this.completeDocSize=fZ;this.containers.width(fX.w);this.containers.height(fX.h);if(ga){this.$m()}},copyContent:function(fX){fX.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());bk.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(fX,fY){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var fX=this.get_pixelRatio();var fY=this.get_dirtyRect();var fZ=fY.x*fX;var ga=fY.y*fX;var gb=(fY.x+fY.w)*fX;var gc=(fY.y+fY.h)*fX;var gd=Math.floor(fZ);var ge=Math.floor(ga);return{x:gd,y:ge,w:Math.ceil(gb)-gd,h:Math.ceil(gc)-ge}},$l:function(){this.$m()},$m:function(){var fX=this.get_effectiveViewSize();var fY={x:Math.min(this.completeDocSize.w-fX.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-fX.h,this.scrollOffset.y)};fY.x=Math.max(0,fY.x);fY.y=Math.max(0,fY.y);this.set_scrollPos(fY)}},function(){return ss.makeGenericType(bl,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable,di]});return L};fF.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(fF,a,1);global.tab.VisualRegionCanvasView$1=fF;var fG=function(){};fG.__typeName='tab.VizEvent';fG.add_mobileVizExpandTransform=function(e){fG.$1$1=ss.delegateCombine(fG.$1$1,e)};fG.remove_mobileVizExpandTransform=function(e){fG.$1$1=ss.delegateRemove(fG.$1$1,e)};fG.add_mobileVizReduceTransform=function(e){fG.$1$2=ss.delegateCombine(fG.$1$2,e)};fG.remove_mobileVizReduceTransform=function(e){fG.$1$2=ss.delegateRemove(fG.$1$2,e)};fG.notifyMobileVizExpandTransform=function(){if(ss.isValue(fG.$1$1)){fG.$1$1()}};fG.notifyMobileVizReduceTransform=function(){if(ss.isValue(fG.$1$2)){fG.$1$2()}};global.tab.VizEvent=fG;var fH=function(e,L,fX,fY,fZ,ga,gb){this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.set_instanceId(++fH.$0);this.set_region(e);this.set_paneId(L);this.set_paneColumnIndex(fX);this.set_paneRowIndex(fY);this.set_regionCoordinates(fZ);this.set_pageCoordinates(ga);this.set_result(gb)};fH.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=fH;var fI=function(e,L){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(e,'paneTable');tab.Param.verifyValue(L,'region');this.paneTable=e;this.region=L;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var fX=this.region.toLocalCoordsEvent(this.lastEvent,false);var fY=tab.PointUtil.add(fX,this.region.getLocalOffsetPoint(false));this.hitTest(fX,fY)}),250)};fI.__typeName='tab.VizHitTester';global.tab.VizHitTester=fI;var fJ=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};fJ.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=fJ;var fK=function(e,L){this.$j=null;this.$i=null;this.$g=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[fL]).call(this,e,new fJ);this.$j=e;this.$i=L;this.$j.add_newWebZone(ss.mkdel(this,this.$b));this.$i.add_propertyChanged(ss.mkdel(this,this.$d));this.$i.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newWebZone(ss.mkdel(this,this.$b));this.$i.remove_propertyChanged(ss.mkdel(this,this.$d));this.$i.remove_resizeZone(ss.mkdel(this,this.$c))})))};fK.__typeName='tab.WebZoneView';global.tab.WebZoneView=fK;var fL=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};fL.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=fL;var fM=function(){};fM.__typeName='tab.WidgetUtil';fM.newMenuItemsFromCommands=function(e,L,fX,fY){if(ss.isNullOrUndefined(L)){return}var fZ=tab.CommandsPresModelWrapper.create(L);if(!ss.isValue(fZ.get_commandItems())){return}var ga=ss.coalesce(fZ.get_defaultItem(),-1);var gb=-1;var gc=true;var gd=fZ.get_commandItems();for(var ge=0;ge<gd.length;ge++){var gf=gd[ge];gb++;var gg=null;var gh=tab.CommandItemWrapper.create(gf);if(!fM.$1(gh,fY)){continue}var gi=gb===ga||gh.get_isDefault();switch(gh.get_commandsType()){case'item':{gg=spiff.MenuItem.newItem(fX(gf),gh.get_name());gg.description=gh.get_description();gg.enabled=ss.isNullOrUndefined(gh.get_enabled())||gh.get_enabled();break}case'separator':{if(!gc){gg=spiff.MenuItem.newDivider()}break}case'subcommands':{var gj=[];fM.newMenuItemsFromCommands(gj,gh.get_commands(),fX,fY);if(gj.length>0){gg=spiff.MenuItem.newItem(null,gh.get_name(),0,new spiff.Menu(gj))}break}}if(ss.isValue(gg)){gg.enabled=gh.get_enabled();gg.isDefault=gi&&gg.enabled;if(gh.get_isRadioOn()){gg.checkState=2}else if(gh.get_isChecked()){gg.checkState=1}e.push(gg);gc=gg.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};fM.$1=function(e,L){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(L)){var fX={};fX.command=tab.CommandSerializer.deserialize(e.get_command());tab.UbertipSerializer.setCommandType(fX);return L.test(fX)}return true};fM.createDropdownMenuCommands=function(e){var L=tab.CommandItemWrapper.create(e);var fX=tab.CommandSerializer.deserialize(L.get_command());var fY;fY=function(){if(tab.WebCommandRegistry.hasCommand(fX.commandName)){var fZ=tab.WebCommandRegistry.createCommand(fX.commandName);fZ.invoke()}else{var ga=fM.$0(fX);tab.ServerCommands.executeServerCommand(fX,ga,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}};return fY};fM.$0=function(e){var L='immediately';if(ss.contains(fM.$2,e.commandName)){L='none'}return L};fM.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var L=e.data;tab.ServerCommands.executeServerCommand(L,'immediately')}};fM.menuViewModelFromCommands=function(e,L,fX){tab.Param.verifyValue(e,'commands');var fY=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty(fY.get_commandItems())){if(ss.isValue(fX)){fX()}return null}var fZ=[];fM.newMenuItemsFromCommands(fZ,e,fM.createDropdownMenuCommands);var ga=new spiff.Menu(fZ);var gb=spiff.MenuViewModel.createForMenu(ga,L);if(ss.isValue(fX)){gb.add_hidden(fX)}return gb};global.tab.WidgetUtil=fM;var fN=function(){this.dashboardContainer=null;this.tabs=null;this.centeringContainer=null;spiff.Template.call(this,$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"));this.dashboardContainer=this.getElementBySelector(fO.dashboardContainerSelector);this.tabs=$('#tabbedNavigationWrapper');this.centeringContainer=$('#centeringContainer')};fN.__typeName='tab.WorkbookTemplate';global.tab.WorkbookTemplate=fN;var fO=function(e){this.$i=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[fP]).call(this,e,new fN);this.$i=e;tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$f));this.$i.add_newDashboard(ss.mkdel(this,this.$9));this.$i.add_newDataConnectionPrompt(ss.mkdel(this,this.$a));if(this.$i.get_hasPrompt()){this.$a()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$f));this.$i.remove_newDashboard(ss.mkdel(this,this.$9));this.$i.remove_newDataConnectionPrompt(ss.mkdel(this,this.$a))})))};fO.__typeName='tab.WorkbookView';fO.findDashboardContainer=function(){return $(fO.dashboardContainerSelector)};global.tab.WorkbookView=fO;var fP=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};fP.__typeName='tab.WorkbookViewModel';fP.add_workbookResized=function(e){fP.$2$3=ss.delegateCombine(fP.$2$3,e)};fP.remove_workbookResized=function(e){fP.$2$3=ss.delegateRemove(fP.$2$3,e)};global.tab.WorkbookViewModel=fP;var fQ=function(e,L){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=e;this.$0=L};fQ.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=fQ;var fR=function(e){this.$0=0;ss.EventArgs.call(this);this.$0=e};fR.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=fR;var fS=function(){spiff.Template.call(this,$((tab.FeatureFlags.isEnabled('NewDashboardSpacing')?"<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>":"<div class='tab-zone no-spacing'></div>")))};fS.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=fS;var fT=function(e){this.$r=null;this.$p=null;this.$q=0;this.$o='';ss.makeGenericType(spiff.BaseView$1,[fU]).call(this,e,new fS);this.$n().add_updateZone(ss.mkdel(this,this.$e));this.$n().add_resizeZone(ss.mkdel(this,this.$d));this.$n().add_newZoneContent(ss.mkdel(this,this.$c));this.$n().add_validStateChanged(ss.mkdel(this,this.$h));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),ss.mkdel(this,this.$g)))}this.$q=0};fT.__typeName='tab.ZoneView';fT.add_zoneBecameValid=function(e){fT.$3$1=ss.delegateCombine(fT.$3$1,e)};fT.remove_zoneBecameValid=function(e){fT.$3$1=ss.delegateRemove(fT.$3$1,e)};fT.$0=function(e){return'tabZoneId'+e};fT.getZoneElement=function(e){return $('#'+fT.$0(e)).get(0)};global.tab.ZoneView=fT;var fU=function(e){this.$k=null;this.zoneContentViewModel=null;this.$j=null;this.$i=false;this.$g=false;this.$h=false;this.$f=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$i=true;this.$k=e;this.$k.add_updateZone(ss.mkdel(this,this.$7));this.$k.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$5));this.$k.add_newZoneContent(ss.mkdel(this,this.$3));this.$k.add_removeZoneContent(ss.mkdel(this,this.$4));this.$k.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$6));this.$a();this.$b();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};fU.__typeName='tab.ZoneViewModel';fU.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=fU;var fV=function(){};fV.__typeName='tab.ZoomComputer';fV.resolveDesiredZoom=function(e,L){var fX=ss.coalesce(e.nUd,1);var fY=Math.floor(L*fX)/fX;fY+=Math.log(ss.coalesce(e.ub_,1))/Math.LN2;var fZ=Math.ceil(L*fX)/fX;fZ+=Math.log(ss.coalesce(e.DIs,1))/Math.LN2;return((L+0.05<fZ)?Math.min(fY,L):Math.max(fZ,L))};fV.resolveDesiredScale=function(e,L){var fX=Math.log(L)/Math.LN2;var fY=fV.resolveDesiredZoom(e,e.Vot+fX);var fZ=fY-e.Vot;var ga=Math.pow(2,fZ);return ga};fV.incrementZoom=function(e,L){var fX=e+L;return fX};fV.combineTileZoomAndStretch=function(e,L){return e+Math.log(L)/Math.LN2};global.tab.ZoomComputer=fV;var fW=function(){};fW.__typeName='tableau.ApiCommandExecutor';fW.execute=function(e,L,fX){var fY=tab._ApiCommand.generateNextCommandId();var fZ=new tab._ApiCommand(e,fY,L,fX);V.get_instance().get_apiEventHandler().routeCommand(fZ);return fY};fW.installResponderOverride=function(e){var L=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(L)){L.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=fW;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(H,a,{$s:function(){return this.$2$1},$t:function(e){this.$2$1=e},$o:function(){return this.$2$2},$p:function(e){this.$2$2=e},$q:function(){return this.$2$3},$r:function(e){this.$2$3=e},$i:function(){return this.$2$4},$j:function(e){this.$2$4=e},$m:function(){return this.$2$5},$n:function(e){this.$2$5=e},$k:function(){return this.$2$6},$l:function(e){this.$2$6=e},startDrag:function(e){this.$u=this.$o().offset();this.$8(e);this.$o().css('opacity','1');return new spiff.MoveDragInstance.$ctor1(this.$o(),ss.mkdel(this,this.$c),ss.mkdel(this,this.$b),ss.mkdel(this,this.$d),null)},$c:function(e){this.$7(e)},$b:function(e){this.$6(e);this.$d()},$d:function(){this.$o().css('opacity','0');this.$o().offset(this.$u)},$8:null,$7:null,$6:null,$f:function(e){var L=this.$o().offset();this.$o().offset({left:L.left,top:L.top+e})},$e:function(e){var L=this.$o().offset();this.$o().offset({left:L.left+e,top:L.top})},$h:function(e,L){var fX=this.$4(L,e);var fY=e.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);if(fX<=this.$m()){fY=L+this.$m()}if(fX>=this.$k()){fY=L+this.$k()}var fZ=this.$o().offset();this.$o().offset({left:fZ.left,top:fY})},$g:function(e,L){var fX=this.$2(L,e);var fY=e.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);if(fX<=this.$m()){fY=L+this.$m()}if(fX>=this.$k()){fY=L+this.$k()}var fZ=this.$o().offset();this.$o().offset({left:fY,top:fZ.top})},$5:function(e,L){var fX=L.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);var fY=fX-e;var fZ=Math.min(Math.max(fY,this.$m()),this.$k());return fZ},$3:function(e,L){var fX=L.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);var fY=fX-e;var fZ=Math.min(Math.max(fY,this.$m()),this.$k());return fZ},$4:function(e,L){var fX=L.pageY;return fX-e},$2:function(e,L){var fX=L.pageX;return fX-e},$a:function(){var e=this.$o().position();var L=Math.floor(e.left);var fX=e.top-this.$q()+this.$o().width();return{x:Math.floor(L),y:Math.floor(fX)}},$9:function(){var e=this.$o().position();var L=e.left-this.$q()+this.$o().height();var fX=Math.floor(e.top);return{x:Math.floor(L),y:Math.floor(fX)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(g,a,{$8:function(e){this.$v=this.$9();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$w)},$7:function(e){this.$h(e,this.$w)},$6:function(e){var L=this.$5(this.$w,e);if(H.$0(L)){var fX=new tab.ResizeHeaderRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=true;fX.c['Qmg']=tab.PointUtil.toPresModel(this.$v);fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(h,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var L=this.$5(this.$v,e);if(H.$0(L)){var fX=new tab.ResizeAxisRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=true;fX.c['Etu']=true;fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(i,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var L=-this.$3(this.$v,e);if(H.$0(L)){var fX=new tab.ResizeAxisRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=false;fX.c['Etu']=true;fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(j,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var L=-this.$5(this.$v,e);if(H.$0(L)){var fX=new tab.ResizeAxisRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=true;fX.c['Etu']=false;fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(k,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var L=this.$3(this.$v,e);if(H.$0(L)){var fX=new tab.ResizeAxisRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=false;fX.c['Etu']=false;fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(l,a,{});ss.initClass(m,a,{});ss.initClass(n,a,{});ss.initClass(o,a,{});ss.initClass(p,a,{$0:function(e,L){var fX;if(this.$3==='horizontal'){fX=Math.round(this.$6)===Math.round(L)}else{fX=Math.round(this.$5)===Math.round(e)}return fX},$1:function(e,L){var fX=this.$4;var fY=e;var fZ=L;switch(this.$3){case'horizontal':{if(this.$2){fX=-fX}fY=this.$5+fX;break}case'up':{if(!this.$2){fX=-fX}fZ=this.$6+fX;break}case'down':{if(this.$2){fX=-fX}fZ=this.$6+fX;break}default:{break}}return{x:fY,y:fZ}}});ss.initClass(q,a,{});ss.initClass(r,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(s,a,{$0:function(e){e.set_alpha(this.$1);e.set_lineJoin(this.$4);e.set_lineCap(this.$3);e.set_linePattern(this.$5);e.set_strokeStyle(this.$8);e.set_lineWidth(this.$6);e.set_textAngle(this.$a);e.set_font(this.$2);e.set_shapeFillStyle(this.$7);e.set_textFillStyle(this.$b);e.set_textAlign(this.$9)}});ss.initClass(t,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(u,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var L=new Date-this.$3;var fX=Math.abs(e.pageX-this.$4);var fY=Math.abs(e.pageY-this.$5);if(L<=600&&fX<=10&&fY<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initInterface(df,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(v,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,df]);ss.initClass(w,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(e,L,fX){this.$a=e;this.$8=L;this.$9=true;this.$b=fX},$0:function(){this.$9=false;this.$b=null},$2:function(e,L){return this.$1(e,L)&&this.$9},$1:function(e,L){return this.$a===e&&this.$8===L}});ss.initClass(x,a,{$d:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$e:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$f:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},$g:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(e){if(ss.isNullOrUndefined(e)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=e;this.$9=false;this.$0();var L=true;var fX=e.get_imageNode();var fY=$(fX);if(ss.isNullOrUndefined(fX)){var fZ=document.createElement('img');e.set_imageNode(fZ);fX=fZ;fY=$(fX)}else{L=tab.DoubleUtil.roundToInt(fY.width())!==e.get_bounds().w||tab.DoubleUtil.roundToInt(fY.height())!==e.get_bounds().h;fX.style.visibility=''}if(L){$(fX).css(ss.mkdict(['left',e.get_bounds().l+'px','top',e.get_bounds().t+'px']))}fY.on('load',ss.mkdel(this,this.$3));fY.on('error',ss.mkdel(this,this.$2));fY.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var ga=fY.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){fY.attr('src',e.get_src())}else{window.setTimeout(function(){fY.attr('src',e.get_src())},0)}if(ss.referenceEquals(e.get_src(),ga)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var e=$(this.$b.get_imageNode());if(ss.isValue(e)){e.on('load',ss.mkdel(this,this.$3));e.on('error',ss.mkdel(this,this.$3));e.on('abort',ss.mkdel(this,this.$3))}}},$2:function(e){if(ss.isValue(e.currentTarget)){e.currentTarget.style.visibility='none'}this.$3(e)},$3:function(e){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new fQ(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new fR(this.$a))}}});ss.initClass(y,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(e){var L=ss.mkdict(['backgroundColor',e]);this.$6.css(L);this.$7.css(L);this.$8.css(L)},$1:function(e,L){var fX=ss.mkdict(['width',e+'px']);if(L){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(fX);this.$7.css(fX)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(z,a,{$1:function(){this.$3=[]},$2:function(e,L,fX){if(ss.isValue(fX)){var fY=z.$0(e,'canvas');var fZ=ef.calculatePixelRatio();var ga=e[0];bk.setCanvasSizeAndDensify(fY,fZ,{w:ga.offsetWidth,h:ga.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){z.$0(e,'div')}else{z.$0(e,'img');this.$3.push({name:L,node:e})}},$0:function(e,L,fX){if(this.$3.length>0){var fY=this.$3.length;for(var fZ=0;fZ<fY;fZ++){var ga=this.$3[fZ].node;if(ss.isValue(ga)){var gb=L.formatRegionTileURL(e,this.$3[fZ].name,fX);var gc=ga.children().first();var gd=ef.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(gd,1)){gc.css('width',ga[0].offsetWidth+'px')}gc.attr('src',gb)}}}}});ss.initClass(A,a,{$2:function(){return this.$4},$3:function(e){this.$4=e},$0:function(e,L){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),e)&&this.$1===L}});ss.initClass(B,a,{});ss.initClass(C,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(D,a,{});ss.initClass(E,a,{});ss.initClass(F,a,{});ss.initClass(G,a,{});ss.initClass(I,a,{$8:function(e){this.$v=this.$a();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$w)},$7:function(e){this.$g(e,this.$w)},$6:function(e){var L=this.$3(this.$w,e);if(H.$0(L)){var fX=new tab.ResizeHeaderRegionCmd;fX.c['J_M']=this.$s();fX.c['MVr']=L|0;fX.c['nuU']=false;fX.c['Qmg']=tab.PointUtil.toPresModel(this.$v);fX.set_uiBlocking('immediatelySubtle');fX.invoke()}}},H,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(J,a,{});ss.initClass(K,a,{},ss.EventArgs);ss.initClass(M,a,{render:function(){return React.DOM.div({className:'tabAddSubscribersContent'},this.$1(),this.$2(),this.$0())},$1:function(){return React.DOM.div({className:'tabAddSubscribersHeader'},tab.Strings.AddSubscribersHeader)},$2:function(){return React.createElement(fu,this.props.userSearchSelectorProps)},$0:function(){var e={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.cancelSelection),label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var L={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.confirmSelection),label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var fX=React.createElement(spiff.StyledButtonComponent,L);var fY=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tabAddSubscribersButtons'},fY,fX)}},React.Component);ss.initClass(N,a,{});ss.initClass(O,a,{});ss.initClass(P,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmed:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmed:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_viewModel:function(){return this},get_userSearchSelectorViewModel:function(){return this.$2$4},set_userSearchSelectorViewModel:function(e){this.$2$4=e},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[P,M,O])},updateUberPopupViewModel:function(e){},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.raiseActionEvent(this.$2$2)},confirmSelection:function(){this.raiseActionEvent$1(Array).call(this,this.$2$3,this.get_userSearchSelectorViewModel().get_users())},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[O])]);ss.initClass(Q,a,{});ss.initClass(R,a,{dispose:function(){this.$13.dispose();if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$16)){this.$16.dispose();this.$16=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,L){if(!ss.referenceEquals(this.$11,e)){var fX=this.$11;this.$11=e;if(tsConfig.allow_custom_views){var fY=(ss.isValue(fX)?fX.get_customViewsViewModel():null);if(ss.isValue(fY)){fY.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fY.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fY.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fY.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var fZ=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(fZ)){fZ.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fZ.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fZ.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fZ.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$12=false;if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$10)&&ss.isValue(this.$11.get_toolbarCommands().get_toolbarViewModel())){this.$17=new T(this.$10,this.$11.get_toolbarCommands().get_toolbarViewModel())}}if(!ss.referenceEquals(this.$15,L)){if(ss.isValue(this.$16)){this.$16.dispose()}this.$15=L;if(ss.isValue(this.$15)){this.$16=new S(L,this.$10)}}_.defer(ss.mkdel(this,this.$W));if(!this.$14){var ga=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(ga)){ga.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$14=true}}else{this.onNewDashboard(null)}},$W:function(){var e={};var L=this.$11.get_viewControllers();for(var fX=0;fX<L.length;fX++){var fY=L[fX];e[fY.get_sheetName()]=fY}var fZ=_.keys(this.$18);for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];if(!ss.keyExists(e,gb)){this.$18[gb].dispose();delete this.$18[gb]}else{delete e[gb]}}this.$Q(e)},$Q:function(e){_.each(_.keys(e),ss.mkdel(this,function(L){var fX=e[L];var fY=ss.mkdel(this,function(fZ,ga){if(ss.referenceEquals(fX.get_sheetName(),fZ)){this.onSelectionChanged(fZ,ga)}});fz.add_selectionChanged(fY);this.$18[L]=new tab.CallOnDispose(function(){fz.remove_selectionChanged(fY)})}))},handleEvent:function(e){var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var fX=L;var fY=tab._ApiCommand.parse(fX);if(ss.isNullOrUndefined(fY.get_rawName())){return}this.routeCommand(fY)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$D(e);break}case'api.GetCurrentUrlCommand':{this.$F(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$x(e);break}case'api.RevertAllCommand':{this.$z(e);break}case'api.SwitchActiveSheetCommand':{this.$R(e);break}case'api.UpdateActiveSheetCommand':{this.$U(e);break}case'api.SelectMarksCommand':{this.$B(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$G(e);break}case'api.InvokeCommandCommand':{this.$o(e);break}case'api.SetSheetSizeCommand':{this.$H(e);break}case'api.ShowHideToolbarCommand':{this.$M(e);break}case'api.GetFiltersListCommand':{this.$h(e);break}case'api.GetOneFilterInfoCommand':{this.$i(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$I(e);break}case'api.UpdateCustomViewCommand':{this.$V(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$p(e);break}case'api.RemoveCustomViewCommand':{this.$y(e);break}case'api.SaveNewCustomViewCommand':{this.$A(e);break}case'api.ActivateStoryPoint':{this.$16.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$16.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$16.activateNextStoryPoint(e);break}case'api.RevertStoryPoint':{this.$16.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$j(e);break}case'api.GetUnderlyingTableCommand':{this.$l(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$m(e);break}case'api.HighlightMarksByPatternMatch':{this.$n(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$k(e);break}case'api.Undo':{this.$T(e);break}case'api.Redo':{this.$w(e);break}case'api.ToggleUpdates':{this.$S(e);break}case'api.ShowShareDialog':{this.$O();break}case'api.ShowDataAlertDialog':{this.$K();break}case'api.ShowSubscribeDialog':{this.$P();break}case'api.ShowCustomViewsDialog':{this.$J();break}case'api.ShowPerformanceDialog':{this.$N();break}case'api.ShowDownloadDialog':{this.$L();break}}},handleNewLayout:function(e){var L=e.item1;var fX=e.item2;this.$10.sendEventNotification('api.TabSwitchEvent',L,fX)},onSelectionChanged:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.cmdResult)||ss.isNullOrUndefined(L.cmdResult.$iY)){return}var fX=L.cmdResult.$iY.split(':');if(ss.referenceEquals(fX[0],'tabdoc'.toString())){if(ss.startsWithString(fX[1],'highlight')||ss.startsWithString(fX[1],'select-legend')){this.$10.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}var fY=fX[1];if(ss.startsWithString(fX[1],'select')&&!ss.startsWithString(fX[1],'select-legend')){this.$10.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}else if(fY==='reset-filter'||fY==='clear-existing-filter'||fY==='range-filter'||fY==='categorical-filter'||fY==='categorical-filter-by-index'||fY==='hierarchical-filter'||fY==='relative-date-filter'){if(ss.isNullOrUndefined(L.primarySheet)){return}var fZ=L.cmdResult.nCR;var ga=fZ['HBp02'];if(ss.isNullOrUndefined(fZ['cVZ'])&&ss.isNullOrUndefined(fZ['oIc'])&&ss.isValue(ga)){var gb=null;var gc=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),L.primarySheet);if(ss.isValue(gc)){var gd=_.find(gc.get_filters(),function(gf){return ss.referenceEquals(gf.get_globalFieldName(),ga)});if(ss.isValue(gd)){gb=gd.get_filterPresModel().fieldCaption}}var ge=[ga,ss.coalesce(gb,ga)];this.$10.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(ge))}}}else if(ss.referenceEquals(fX[0],'tabsrv'.toString())&&(ss.startsWithString(fX[1],'select')&&!ss.startsWithString(fX[1],'select-legend'))){this.$10.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$13.dispose();if(ss.isNullOrUndefined(e)){return}var L=e.get_zoneModels();_.each(L,ss.mkdel(this,function(fX,fY){if(fX.get_zoneType()==='paramctrl'&&ss.isValue(fX.get_model())){if(ss.referenceEquals(ss.getInstanceType(fX.get_model()),tab.ParameterCtrlModel)){var fZ=fX.get_model();fZ.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fZ.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}else if(ss.referenceEquals(ss.getInstanceType(fX.get_model()),tab.ParameterFilterDisplayModel)){var ga=fX.get_model();ga.add_filterUpdated(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ga.remove_filterUpdated(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var L=e.OLk;this.$10.sendEventNotification('api.ParameterChangedEvent',null,L)},onCustomViewDestroyed:function(e,L){this.$10.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,L){this.$10.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,L){this.$10.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,L){this.$10.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$12=true},$d:function(e){var L=tab.CommandUtils.newCommand('get-parameter-models',null);this.$E(e,L,D.$8)},$G:function(e){var L=JSON.parse(e.get_parameters());var fX={};fX['OLk']=L['api.setParameterName'];fX['vau']=L['api.setParameterValue'];var fY=tab.CommandUtils.newCommand('set-parameter-value',fX);this.$E(e,fY,D.$6)},$h:function(e){var L=function(fY,fZ){fZ['TWA']=fY['api.ignoreDomain']};var fX=this.$s(e,'get-filter-info',L);this.$E(e,fX,B.$9)},$i:function(e){var L=function(fY,fZ){if(ss.isValue(fY['api.fieldCaption'])){fZ['OLk']=fY['api.fieldCaption']}else{fZ['HBp02']=fY['api.fieldName']}if(ss.isValue(fY['api.filterHierarchicalLevels'])){fZ['Kyu']=fY['api.filterHierarchicalLevels']}fZ['TWA']=fY['api.ignoreDomain']};var fX=this.$s(e,'get-filter-info',L);this.$E(e,fX,B.$d)},$e:function(e){var L=function(fY,fZ){};var fX=this.$r(e,'get-selection',L);this.$E(e,fX,ss.mkdel(this,this.$v))},$t:function(e,L){var fX=new Object;var fY=new tab.DataDictionaryModel(null);fY.update(e);var fZ=new tab.VizDataModel(null);fZ.update(L,tab.NoopModelEventsHandler.get_noopContext());var ga=[];fX.marks=ga;if(ss.isNullOrUndefined(fY)||fY.get_isEmpty()){return fX}fZ.forEachTupleId(function(gb){var gc=new Object;gc.tupleId=gb;var gd=[];gc.pairs=gd;ga.push(gc);fZ.forEachVizDataField(function(ge,gf){var gg=new Object;gg.fieldName=ge.get_fieldCaption();gg.formattedValue=tab.VizDataLookup.lookupAlias(gb,ge,fY);gg.valueDataType=f.$0(ge.get_dataType());var gh=null;if(!tab.VizDataLookup.isSpecial(gb,ge,fY,null)&&ge.get_hasDataValues()&&ge.isTupleIdValid(gb)){gh=tab.VizDataLookup.lookupRawDataValue(gb,ge,fY)}var gi=J.serializeDataValue(gh,ge.get_dataType());gg.value=gi;gd.push(gg);return true});return true});return fX},$v:function(e){var L=e;var fX=L.vZU;var fY=L.zFl;return this.$t(fX,fY)},$3:function(e){var L=ss.mkdel(this,function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];if(ss.isValue(fY['api.filterReset'])&&fY['api.filterReset']){fZ['Txq']='filter-clear'.toString()}else{if(ss.isValue(fY['api.exclude'])){fZ['QGP']=fY['api.exclude']}var ga=this.$X(fY['api.filterUpdateType'].toString());fZ['Txq']=ga;if(ss.isValue(fY['api.filterHierarchicalValues'])){fZ['CCe']=fY['api.filterHierarchicalValues']}if(ss.isValue(fY['api.filterHierarchicalLevels'])){fZ['JzB']=fY['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(fY['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(fY['api.filterHierarchicalLevels'])){fZ['JzB']='[]'}}});var fX=this.$r(e,'hierarchical-filter',L);this.$E(e,fX,B.$8)},$4:function(e){var L=function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];if(ss.isValue(fY['api.filterReset'])&&fY['api.filterReset']){fZ['Txq']='filter-clear'.toString()}else{if(ss.isValue(fY['api.filterRangeMax'])){fZ['JPx']=fY['api.filterRangeMax']}if(ss.isValue(fY['api.filterRangeMin'])){fZ['fMN']=fY['api.filterRangeMin']}if(ss.isValue(fY['api.filterRangeNullOption'])){if(fY['api.filterRangeNullOption']==='NULL_VALUES'){fZ['$mT']='include-null'.toString()}else if(fY['api.filterRangeNullOption']==='NON_NULL_VALUES'){fZ['$mT']='include-non-null'.toString()}else{fZ['$mT']='include-all'.toString()}}}};var fX=this.$r(e,'range-filter',L);this.$E(e,fX,B.$8)},$5:function(e){var L=function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];if(ss.isValue(fY['api.filterReset'])&&fY['api.filterReset']){fZ['Txq']='filter-clear'.toString()}else{if(ss.isValue(fY['api.filterDateArchorValue'])){fZ['wNn']=fY['api.filterDateArchorValue']}fZ['JAO']=fY['api.filterPeriodType'].toLowerCase();fZ['woa']=fY['api.filterDateRangeType'].toLowerCase();if(ss.isValue(fY['api.filterDateRange'])){fZ['lZR']=fY['api.filterDateRange']}}};var fX=this.$r(e,'relative-date-filter',L);this.$E(e,fX,B.$8)},$X:function(e){if(e.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(e.toLowerCase()==='all'){return'filter-all'.toString()}else if(e.toLowerCase()==='add'){return'filter-add'.toString()}else if(e.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}},$Z:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$Y:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var L=JSON.parse(e.get_parameters());var fX=R.$1();var fY=L['api.fieldCaption'];var fZ=ss.keyExists(fX,fY);var ga;if(fZ){if(fX[fY]==='RD'){var gb=q.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$10.sendResponse(e,gb);return}ga='reset-filter'}else{ga='clear-existing-filter'}var gc=function(ge,gf){gf['oLX']=fY};var gd=this.$r(e,ga,gc);this.$E(e,gd,B.$8)},$2:function(e){var L=ss.mkdel(this,function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];if(ss.isValue(fY['api.filterReset'])&&fY['api.filterReset']){fZ['Txq']='filter-clear'.toString()}else{if(ss.isValue(fY['api.exclude'])){fZ['QGP']=fY['api.exclude'].toString()}var ga=this.$X(fY['api.filterUpdateType'].toString());fZ['Txq']=ga;if(ss.isValue(fY['api.filterCategoricalValues'])){fZ['CCe']=JSON.stringify(fY['api.filterCategoricalValues'])}else{fZ['CCe']='[""]'}}});var fX=this.$r(e,'categorical-filter',L);this.$E(e,fX,B.$8)},$0:function(e,L){var fX=new ss.StringBuilder;fX.append('[');for(var fY=0;fY<e.length;fY++){if(fY>0){fX.append(',')}fX.append('{');fX.append('"'+'oLX'.toString()+'":');fX.append('"'+e[fY]+'"');fX.append(',');fX.append('"'+'Zqk'.toString()+'":');fX.append(L[fY]);fX.append('}')}fX.append(']');return fX.toString()},$1:function(e,L){var fX=new ss.StringBuilder;fX.append('[');for(var fY=0;fY<e.length;fY++){if(fY>0){fX.append(',')}fX.append('{');fX.append('"'+'oLX'+'":');fX.append('"'+e[fY]+'"');fX.append(',');var fZ=JSON.parse(L[fY]);var ga=JSON.parse(fZ[0]);if(ss.isValue(ga['max'])){fX.append('"'+'QG$'+'":');fX.append('"'+ga['max'].toString()+'"')}if(ss.isValue(ga['min'])){if(ss.isValue(ga['max'])){fX.append(',')}fX.append('"'+'Cp$'.toString()+'":');fX.append('"'+ga['min'].toString()+'"')}if(ss.isValue(ga['nullOption'])){var gb=this.$Y(ga['nullOption'].toString());fX.append(',');fX.append('"'+'$mT'.toString()+'":');fX.append('"'+gb+'"')}fX.append('}')}fX.append(']');return fX.toString()},$j:function(e){var L=this.$r(e,'get-summary-data',E.$3);this.$E(e,L,E.$6)},$l:function(e){var L=this.$r(e,'get-underlying-data',E.$4);this.$E(e,L,E.$7)},$7:function(e){var L=function(fY,fZ){};var fX=this.$s(e,'select-none',L);this.$E(e,fX,R.$3)},$m:function(e){var L=function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];fZ['_dJ']=fY['api.ObjectTextIDs']};var fX=this.$r(e,'highlight-items',L);this.$E(e,fX,R.$3)},$n:function(e){var L=function(fY,fZ){fZ['oLX']=fY['api.fieldCaption'];fZ['vau']=fY['api.Pattern']};var fX=this.$r(e,'highlight-items-by-pattern-match',L);this.$E(e,fX,R.$3)},$c:function(e){var L=function(fY,fZ){};var fX=this.$r(e,'get-highlighted-data',L);this.$E(e,fX,ss.mkdel(this,this.$u))},$u:function(e){var L=e;var fX=L.vZU;var fY=L.zFl;return this.$t(fX,fY)},$B:function(e){var L=ss.mkdel(this,function(fY,fZ){if(tab.MiscUtil.isNullOrEmpty(fY)){fZ['NNg']='select-replace'.toString()}else{fZ['NNg']=this.$Z(fY['api.filterUpdateType'].toString());if(ss.isValue(fY['api.categoricalFieldCaption'])&&ss.isValue(fY['api.categoricalMarkValues'])){var ga=JSON.parse(fY['api.categoricalFieldCaption']);var gb=JSON.parse(fY['api.categoricalMarkValues']);var gc=this.$0(ga,gb);fZ['NVJ']=gc}if(ss.isValue(fY['api.hierarchicalFieldCaption'])&&ss.isValue(fY['api.hierarchicalMarkValues'])){var gd=JSON.parse(fY['api.hierarchicalFieldCaption']);var ge=JSON.parse(fY['api.hierarchicalMarkValues']);var gf=this.$0(gd,ge);fZ['oWK']=gf}if(ss.isValue(fY['api.rangeFieldCaption'])&&ss.isValue(fY['api.rangeMarkValues'])){var gg=JSON.parse(fY['api.rangeFieldCaption']);var gh=JSON.parse(fY['api.rangeMarkValues']);var gi=this.$1(gg,gh);fZ['Ukl']=gi}if(ss.isValue(fY['api.tupleIds'])){var gj=new ss.StringBuilder;gj.append('{');gj.append('"'+'coe'+'":');gj.append('"tuples"');gj.append(',');gj.append('"'+'kyj'+'":');gj.append(fY['api.tupleIds']);gj.append('}');fZ['Gvh']=gj.toString()}}});var fX=this.$r(e,'select-by-value',L);this.$E(e,fX,R.$4)},$8:function(e){var L=function(fY,fZ){};var fX=this.$s(e,'select-none',L);this.$E(e,fX,R.$4)},$9:function(){var e=this.$11.get_customViewsViewModel();var L=e.get_currentCustomView();var fX=null;if(ss.isValue(L)){fX=J.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var fY=[];var fZ=this.$11.get_customViewsViewModel().get_myCustomViews();var ga=ss.getEnumerator(fZ);try{while(ga.moveNext()){var gb=ga.current();var gc=e.buildUrl(gb,true);var gd=J.serializeCustomView(gb,gc);fY.push(gd)}}finally{ga.dispose()}var ge=this.$11.get_customViewsViewModel().get_otherCustomViews();var gf=ss.getEnumerator(ge);try{while(gf.moveNext()){var gg=gf.current();var gh=e.buildUrl(gg,true);var gi=J.serializeCustomView(gg,gh);fY.push(gi)}}finally{gf.dispose()}return Q.newCustomViewsInfo(this.$12,e.get_defaultCustomViewId(),fX,fY)},$b:function(e){this.$11.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(L,fX){var fY=q.$0('api.success',this.$9());this.$10.sendResponse(e,fY)}),ss.mkdel(this,function(L){var fX=q.$0('api.remotefailed',L);this.$10.sendResponse(e,fX)}))},$I:function(e){var L=JSON.parse(e.get_parameters());var fX=null;if(ss.isValue(L['api.customViewParam'])){var fY=L['api.customViewParam'];fX=J.convertToCustomizedView(fY)}this.$11.get_customViewsViewModel().select(fX)},$y:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.customViewParam'];var fY=J.convertToCustomizedView(fX);this.$11.get_customViewsViewModel().destroy(fY,ss.mkdel(this,function(){var fZ=q.$0('api.success',this.$9());this.$10.sendResponse(e,fZ)}),ss.mkdel(this,function(fZ){var ga=q.$0('api.remotefailed',fZ);this.$10.sendResponse(e,ga)}))},$V:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.customViewParam'];var fY=J.convertToCustomizedView(fX);this.$11.get_customViewsViewModel().update(fY,ss.mkdel(this,function(fZ){var ga=q.$0('api.success',this.$9());this.$10.sendResponse(e,ga)}),ss.mkdel(this,function(fZ){var ga=q.$0('api.remotefailed',fZ);this.$10.sendResponse(e,ga)}))},$p:function(e){this.$11.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(L){var fX=q.$0('api.success',this.$9());this.$10.sendResponse(e,fX)}),ss.mkdel(this,function(L){var fX=q.$0('api.remotefailed',L);this.$10.sendResponse(e,fX)}))},$A:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.customViewName'];this.$11.get_customViewsViewModel().save(fX,ss.mkdel(this,function(fY){var fZ=this.$9();fZ.newView=J.serializeCustomView(fY,this.$11.get_customViewsViewModel().buildUrl(fY,false));var ga=q.$0('api.success',fZ);this.$10.sendResponse(e,ga)}),ss.mkdel(this,function(fY){var fZ=q.$0('api.remotefailed',fY);this.$10.sendResponse(e,fZ)}))},$f:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.dataSourceName'];var fY=L['api.worksheetName'];var fZ={};var ga=tab.CommandUtils.newCommand('get-schema',fZ);var gb=function(gc){var gd=gc;var ge=d.$0(gd,fY,fX);return ge.dataSources[0]};this.$E(e,ga,gb)},$g:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.worksheetName'];var fY=tab.CommandUtils.newCommand('get-schema',null);var fZ=function(ga){var gb=ga;var gc=d.$0(gb,fX,null);return gc};this.$E(e,fY,fZ)},$o:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.invokeCommandName'];if(fX==='showExportImageDialog'){this.$11.get_toolbarCommands().exportImage()}else if(fX==='showExportDataDialog'){var fY=null;if(ss.isValue('api.invokeCommandParam')){fY=L['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportData(fY)}else if(fX==='showExportCrosstabDialog'){var fZ=null;if(ss.isValue('api.invokeCommandParam')){fZ=L['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportCrosstab(fZ)}else if(fX==='showExportPDFDialog'){this.$11.get_toolbarCommands().exportPdf()}else if(fX==='pauseAutomaticUpdates'){this.$11.get_toolbarCommands().$3();this.$C(e)}else if(fX==='resumeAutomaticUpdates'){this.$11.get_toolbarCommands().$5();this.$C(e)}else if(fX==='toggleAutomaticUpdates'){this.$S(e)}else if(fX==='showShareDialog'){this.$11.get_toolbarCommands().$d()}else if(fX==='showDownloadWorkbookDialog'){var ga=this.$11.get_applicationPresModel().res.mmK;this.$11.get_toolbarCommands().$0(ga.nhM.VrA)}else if(fX==='selectedMarksKeepOnly'){this.$11.get_toolbarCommands().$8()}else if(fX==='selectedMarksExclude'){this.$11.get_toolbarCommands().$7()}},$k:function(e){if(ss.isValue(this.$17)){var L=q.$0('api.success',this.$17.get_toolbarState());this.$10.sendResponse(e,L)}},$T:function(e){tab.WorksheetServerCommands.undo();var L=q.$0('api.success','');this.$10.sendResponse(e,L)},$w:function(e){tab.WorksheetServerCommands.redo();var L=q.$0('api.success','');this.$10.sendResponse(e,L)},$S:function(e){this.$11.get_toolbarCommands().$f();this.$C(e)},$O:function(){this.$11.get_toolbarCommands().$d()},$K:function(){this.$11.get_toolbarCommands().$a()},$P:function(){this.$11.get_toolbarCommands().$e()},$N:function(){this.$11.get_toolbarCommands().$c()},$J:function(){this.$11.get_toolbarCommands().$9()},$L:function(){this.$11.get_toolbarCommands().$b()},$C:function(e){var L=Q.newAutoUpdateState(this.$11.get_toolbarCommands().$1());var fX=q.$0('api.success',L);this.$10.sendResponse(e,fX)},$H:function(e){var L=JSON.parse(e.get_parameters());var fX={};fX['Gge']=L['api.setSheetSizeName'];fX['EVq']=L['api.minWidth'];fX['pAn']=L['api.minHeight'];fX['PiK']=L['api.maxWidth'];fX['McJ']=L['api.maxHeight'];var fY=tab.CommandUtils.newCommand('set-sheet-size',fX);this.$E(e,fY,null)},$x:function(e){this.$11.get_toolbarCommands().$4();var L=q.$0('api.success','');this.$10.sendResponse(e,L)},$z:function(e){tab.WorksheetServerCommands.revert();var L=q.$0('api.success','');this.$10.sendResponse(e,L)},$M:function(e){var L=JSON.parse(e.get_parameters());var fX=L['api.showHideToolbarValue'];this.$11.set_toolbarDisplayed(fX);this.$11.doResize()},$R:function(e){var L=JSON.parse(e.get_parameters());var fX=new Object;fX.oldRepositoryUrl=L['api.oldRepositoryUrl'];fX.repositoryUrl=L['api.switchToRepositoryUrl'];fX.sheetName=L['api.switchToSheetName'];fX.oldSheetName=tsConfig.current_sheet_name;fX.noUndo=true;fX.successCallback=ss.mkdel(this,function(fY){var fZ=q.$0('api.success','');this.$10.sendResponse(e,fZ)});fX.errorCallback=ss.mkdel(this,function(fY){var fZ=q.$0('api.remotefailed',fY);this.$10.sendResponse(e,fZ)});V.fireOnTabSelect(fX)},$U:function(e){this.$11.doResize()},$D:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var L=J.serializeClientInfo(this.$11,this.$15);var fX=q.$0('api.success',L);this.$10.sendResponse(e,fX)}))},$F:function(e){var L=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var fX=q.$0('api.success',L);this.$10.sendResponse(e,fX)},$r:function(e,L,fX){return this.$q(e,tab.CommandUtils.newCommand(L,null),fX)},$s:function(e,L,fX){return this.$q(e,tab.CommandUtils.newCommand$1(L,null),fX)},$q:function(e,L,fX){var fY=JSON.parse(e.get_parameters());var fZ=this.$a(fY);L.commandParams=fZ;fX(fY,fZ);return L},$a:function(e){var L={};if(ss.isValue(e['api.visualId'])){L['J_M']=JSON.stringify(e['api.visualId'])}else{L['AVP']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){L['XwZ']=e['api.dashboardName']}}return L},$E:function(e,L,fX){L.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(L,ss.mkdel(this,function(fY){var fZ=fY;if(ss.isValue(fX)){fZ=fX(fY)}var ga=q.$0('api.success',fZ);this.$10.sendResponse(e,ga)}),ss.mkdel(this,function(fY){var fZ=q.$0('api.remotefailed',fY);this.$10.sendResponse(e,fZ)}))}},null,[ss.IDisposable]);ss.initClass(S,a,{dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(fX){return fX.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(fX){return fX.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(L){return L.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(L){return L.clickStoryPoint()})},$3:function(e,L,fX){S.$0(e,L);var fY=JSON.parse(e.get_parameters());var fZ=fY['api.storyPointIndex'];if(!ss.isValue(fZ)||isNaN(ss.unbox(fZ))){throw new ss.Exception('Missing index parameter.')}var ga=this.$0();if(ss.Nullable$1.lt(fZ,0)||ss.Nullable$1.ge(fZ,ss.count(ga.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var gb=$.Deferred();var gc=ss.getItem(ga.get_captions(),ss.unbox(fZ));fX(gc).then(ss.mkdel(this,function(gd){var ge=J.serializeStoryPoint(gd,this.$7);gb.resolve(ge)}),function(gd){gb.reject(gd)});return gb.promise()},$1:function(e,L){S.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var fX=this.$0();var fY=$.Deferred();L(fX).then(ss.mkdel(this,function(fZ){var ga=ss.getItem(fX.get_captions(),fZ);var gb=J.serializeStoryPoint(ga,this.$7);fY.resolve(gb)}),function(fZ){fY.reject(fZ)});return fY.promise()},$4:function(){var e=J.serializeStory(this.$7);var L=JSON.stringify(e);this.$a.sendEventNotification('api.StorytellingStateChangedEvent',null,L)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(L,fX){try{fX(L).then(ss.mkdel(this,function(e){var fY=q.$0('api.success',e);this.$a.sendResponse(L,fY)}),ss.mkdel(this,function(e){var fY=q.$0('api.remotefailed',e);this.$a.sendResponse(L,fY)}))}catch(fY){var e=ss.Exception.wrap(fY);var errorResult1=q.$0('api.localfailed',e.get_message());this.$a.sendResponse(L,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(T,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var L=q.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,L);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,L){var fX=e[L];return ss.isValue(fX)&&eX.shouldShowButton(fX,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};T.$0(e,this.$5.get_vizCommandItems());T.$0(e,this.$5.get_nonVizCommandItems());var L=Q.newToolbarStatePM(T.$1(e,'undo'),T.$1(e,'redo'),T.$1(e,'revert'),!T.$2(e,'toggle-updates','Pause'),T.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(L);this.$2()}},null,[ss.IDisposable]);ss.initClass(U,a,{shouldShowAppBanner:function(){if(!tsConfig.is_mobile||tsConfig.is_mobile_app||!tsConfig.showAppBanner||tsConfig.isPublic||tsConfig.is_authoring||tabBootstrap.Utility.get_embedMode()==='embedded'){return false}var e=document.cookie.match(new RegExp('(^|;) ?hideAppBanner=([^;]*)(;|$)'));var L=ss.isValue(e)&&e.length>2&&tab.MiscUtil.toBoolean(e[2],false);return!L&&tab.FeatureFlags.isEnabled('CustomAppBannerOnVizPage')},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);document.cookie='hideAppBanner=true;path=/;expires='+e.toUTCString()},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var L=ss.replaceAllString(e.href,e.protocol,'tableau:');tab.WindowHelper.locationReplace(window.self,L);window.setTimeout(ss.mkdel(this,function(){this.$2()}),1000)},$2:function(){if(tab.BrowserSupport.get_isAndroid()){tab.WindowHelper.locationReplace(window.self,'https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(tab.BrowserSupport.get_isIos()){if(window.confirm(tab.Strings.RedirectToApp)){tab.WindowHelper.locationReplace(window.self,'https://itunes.apple.com/app/tableau-mobile/id434633927')}}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(V,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$r},get_rightAreaDrawerViewModel:function(){return this.$1$5},set_rightAreaDrawerViewModel:function(e){this.$1$5=e},get_client:function(){return this.$m},get_apiEventHandler:function(){return this.$l},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel($.Deferred());tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(e){this.$a(e,this.get_rightAreaDrawerViewModel())}))},$a:function(e,L){var fX=ss.mkdel(this,function(){this.get_client().doResize()});var fY=e.createCommentingModuleViewModel();var fZ=new ej(fY);fY.set_closeCommentingDrawer(ss.mkdel(fZ,fZ.closeDrawer));fY.set_loadDrawerFonts(en.downloadAdditionalDrawerFonts);L.resolve(fZ);fZ.add_open(fX);fZ.add_close(fX);this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fZ.remove_open(fX);fZ.remove_close(fX);tab.MiscUtil.dispose$1(fZ);this.set_rightAreaDrawerViewModel(null)})));this.$o=spiff.ObjectRegistry.newView(ei).call(null,[fZ]);this.$1(this.$o)},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigation');if(e.length>0){if(ss.isValue(this.$r)){this.$r.destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(L){this.$r=L.createTabbedNavigation({},e[0]);this.$r.startupShim()}))}},dispose:function(){if(!ss.isValue(V.$4)){return}if(ss.isValue(this.$l)){this.$l.dispose();this.$l=null}this.$2();this.$n.dispose();this.$e();this.$p.dispose();if(ss.isValue(this.$r)){this.$r.destroyShim();this.$r=null}tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$k));tab.ApplicationModel.get_instance().get_workbook().remove_uiModeChanged(ss.mkdel(this,this.$8));V.$4=null},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$k:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.$m)){return}this.$m.destroyRecursive();this.$m=null;this.$q=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$e:function(){if(!V.get_isHostedInApiContext()){return}if(ss.isValue(this.$l)){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var L=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',L)}this.$l=null}},$b:function(e,L){if(!V.get_isHostedInApiContext()){return}this.$l=new R(e,L,tabBootstrap.ViewerBootstrap.get_instance().apiResponder);var fX=window.addEventListener;if(ss.isValue(fX)){fX('message',ss.mkdel(this,this.$4),true)}else{var fY=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',fY)}},$0:function(){if(!V.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$d),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$d))}},$d:function(e){this.$e()},$5:function(){this.$i();this.$9();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$h:function(){var e=function(fY){var fZ=[];for(var ga=0;ga<fY.length;ga++){var gb=fY[ga];fZ.push(cb.toDownloadableFontProperties(gb,''))}en.get_instance().notifyDownloadableFont(fZ)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(fY){var fZ=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fY.get_applicationPresModel().ABX==='render-mode-client';if(ss.referenceEquals(fY.get_worldUpdateCommand().commandName,'set-active-story-point'.toString())||ss.referenceEquals(fY.get_worldUpdateCommand().commandName,'render-tooltip-server'.toString())||fY.get_sheetChanged()||fY.get_rebuildTheWorld()||fZ){V.$2();if(fZ){var ga=null;ga=function(){tab.CommandController.get().remove_modelsUpdated(ga);V.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(ga)}}});tab.FontNotificationUtil.add_allFontsFound(V.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var L=null;L=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(L);V.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(L)}var fX=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){en.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(fX)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){V.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(fX)});V.$2()},$9:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.$l)){this.$l.handleEvent(e)}},$6:function(e){this.$j(e);var L=tab.CommandController.get().get_legacySession();this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var fX=V.$0(true,L);this.$m=fX;this.$q=fX;this.$m.startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$i();if(tabBootstrap.Utility.get_embedMode()==='notEmbedded'){this.$f(e)}},$7:function(e){this.$i();V.handleAllFontsFound()},$i:function(){if(ss.isValue(this.$l)){this.$l.updateClients(this.$m,this.$q)}},$f:function(e){if(tsConfig.is_authoring){this.$g(e.YnR,e.DDA)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.YnR)}},$g:function(e,L){if(this.$c(e)){var fX=tab.VizUriModel.createForAuthoringPublishedSheet(e);fX.replaceState(null)}else{var fY=tab.VizUriModel.createForCurrentWindowLocation();if(fY.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$1(e)){var fZ=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,L);fZ.replaceState(null)}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$c(e)){var L=tab.VizUriModel.createForViewingSheet(e);L.replaceState(null)}else{}},$c:function(e){if(tab.MiscUtil.isNullOrEmpty$1(e)||ss.startsWithString(e,'ds:')){return false}return true},$j:function(e){tsConfig.current_sheet_name=e.DDA;tsConfig.current_sheet_type=e.xD;tsConfig.current_view_id=e.$oY;if(e.ko_){tsConfig.current_custom_view_id=e.s_w}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.JAR;tsConfig.embeddedTitle=e.EGq;tsConfig.blogURI=e.eeK;tsConfig.requestURI=e.EtP;tsConfig.downloadURI=e.VrA;tsConfig.staticImage=e.ZWJ;tsConfig.guid=e.OVc;var L=e.YnR;tsConfig.repositoryUrl=(this.$c(L)?L:'')},$8:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){spiff.GlobalUIEvents.fireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(W,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(X,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$g.get_dashboardNode()},get_containerNode:function(){return this.$g.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$d:function(){return this.get_viewModel()},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.get_dom().domNode.attr('role','tabpanel')}this.$c();this.$a();this.$9();this.$b();spiff.FocusManager.initialize();if(tab.FeatureFlags.isEnabled('MobileQFZoneInteractiveRedesign')){$(document.body).addClass('ff-MobileQFZoneInteractiveRedesign')}if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){$(document.body).addClass('ff-IFrameSizedToWindow')}}spiff.Widget.prototype.onAddedToDom.call(this)},resizeToolbar:function(){this.$f.forceResizeToolbar()},$9:function(){if(this.$d().get_appBannerViewModel().shouldShowAppBanner()){this.$e=spiff.ObjectRegistry.newView(cP).call(null,[this.$d().get_appBannerViewModel()]);this.$e.get_rootElement().insertBefore(Y.selectCenteringContainer()).width(Y.getClientBounds().w)}},$c:function(){this.$g=spiff.ObjectRegistry.newView(fO).call(null,[this.$d().get_workbookViewModel()]);this.$g.addToDom(this.get_dom().domNode)},$a:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$f=spiff.ObjectRegistry.newView(fb).call(null,[this.$d().get_toolbarViewModel()]);this.$f.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$b:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||ss.isNullOrUndefined(this.$d().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$d().get_toolbarViewModel().get_dialogHostViewModel();var L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bW,bV,Object])).call(null,[e]);L.addToDom(this.get_toolbarContainer());L.addClass('tab-toolbar-dialoghost');if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){$(document.body).addClass('ff-ViewingToolbarModalDialog')}}},ss.makeGenericType(spiff.BaseView$1,[Z]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[Z])]);ss.initInterface(cQ,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cO,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(Y,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$B)&&ss.isValue(this.$B.get_dashboardViewModel())){return this.$B.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$x();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.HCq},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$w().get_isDashboard()},$z:function(){return tabBootstrap.VizLayoutCalculator.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$v();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$I},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$B)){return this.$B.get_toolbarViewModel()}else{return null}},$y:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(Y)+tsConfig.layoutid)},$x:function(){if(ss.isValue(this.$B)&&ss.isValue(this.$B.get_dashboardViewModel())){return this.$B.get_dashboardViewModel().get_flipboardViewModel()}return null},$w:function(){if(ss.isValue(this.$B)){return this.$B.get_dashboardViewModel()}return null},$v:function(){if(ss.isValue(this.$B)){return this.$B.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$A.get_dom().domNode},get_toolbarContainer:function(){return this.$A.get_toolbarContainer()},get_vizClientContainerSize:function(){return tabBootstrap.VizLayoutCalculator.getVizClientContainerSize(false)},get_dashboardViewportSize:function(){return tabBootstrap.VizLayoutCalculator.getDashboardViewportSize()},get_shouldViewportScroll:function(){var e=tabBootstrap.VizLayoutCalculator.getDashboardSize();return e.w>this.get_dashboardViewportSize().w||e.h>this.get_dashboardViewportSize().h},startup:function(){this.$B=new Z(tab.ApplicationModel.get_instance());this.$A=spiff.ObjectRegistry.newView(X).call(null,[this.$B]);this.$B.add_applicationUpdate(ss.mkdel(this,this.$l));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_applicationUpdate(ss.mkdel(this,this.$l))})));this.$s();if(this.$B.get_shouldShowRightAreaDrawer()){V.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$I.dispose();this.$I=null;for(var e=0;e<this._connections.length;e++){var L=this._connections[e];L.dispose()}ss.clear(this._connections);if(ss.isValue(this.$B)){this.$B.dispose();this.$B=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$A.dispose();this.$A=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$H++}this.$p(!this.$C)},$6:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(L){var fX=L.createPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(fX)}))},createTapToInteractTransition:function(e,L){},createTapToInteractTouchHandler:function(e){},resize:function(e){if(!e&&ss.isValue(this.$F)){var L=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?tabBootstrap.VizLayoutCalculator.getVizClientContainerSize(true):tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(L.w===this.$F.w&&L.h===this.$F.h){this.$E=false;return}if(this.$E){this.$F=L;this.$E=false;return}this.$E=true}else{this.$E=false}this.doResize()},$a:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$k));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$k))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$i))})))},$m:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$A.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$A.get_containerNode().get(0))||ss.referenceEquals(e.target,fO.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$A.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var L=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(L)){tab.SelectionClientCommands.clearAllSelections(L.get_visualId())}e.preventDefault()}}},$s:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',tab.BrowserSupport.get_isIE());if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$g();$(Y.vizClientContainerSelector).append(this.get_domNode())}else{$('#centeringContainer').append(this.get_domNode())}var e=new u;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$j)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(e,e.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(e,e.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));e.$6(ss.mkdel(this,this.$m));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){e.$7(ss.mkdel(this,this.$m))})));this.$A.onAddedToDom();if(tsConfig.is_mobile_app){this.$r(null);spiff.OrientationHandler.add_orientationChanged(ss.mkdel(this,this.$n));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.OrientationHandler.remove_orientationChanged(ss.mkdel(this,this.$n))})))}this.session.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$u();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$7));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$7))})));this.$a()},$g:function(){if(!tsConfig.is_authoring){this.$f();this.$c()}},$f:function(){var e={width:this.get_vizClientContainerSize().w+'px',height:this.get_vizClientContainerSize().h+'px',overflow:'hidden',position:'relative'};$(Y.vizClientContainerSelector).css(e)},$c:function(){var e={overflow:'',width:this.get_dashboardViewportSize().w+'px',height:this.get_dashboardViewportSize().h+'px'};if(this.get_shouldViewportScroll()){e.overflow='auto'}this.get_domNode().css(e)},$7:function(){tab.ToolbarServerCommands.launchEditing()},$9:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$l:function(){if(ss.isNullOrUndefined(this.$w())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$u));if(!this.get_skipInit()&&!this.$D){this.session.get_waitHandler().onNextHide(ss.mkdel(this,this.$8));this.$q()}this.$D=true;if(!this.$z()){this.$e()}this.resize(false)},$u:function(){},$q:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$9())}},$j:function(e){var L=$(e.target);if(L.filter('input[type=text]').length===0&&L.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$i:function(){V.get_instance().initTabbedNavigation();this.$F=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(this.$H>1){this.$t()}},$k:function(e){var L=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(L.Ijt)&&L.Ijt);if(ss.isValue(L.XRl)&&L.XRl.length>0){var fX=[];for(var fY=0;fY<L.XRl.length;fY++){var fZ=L.XRl[fY];if(!ss.contains(fX,fZ.Gge)&&fZ.iaP.length>0){fX.push(fZ.Gge)}}var ga=this.get_viewControllers();for(var gb=0;gb<fX.length;gb++){var gc=fX[gb];var gd={$:gc};var ge=_.find(ga,ss.mkdel({name:gd},function(gf){return ss.referenceEquals(gf.get_sheetName(),this.name.$)}));if(ss.isValue(ge)){ge.$1(e)}}}},$p:function(e){var L=(e?0:1000);this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$G=window.setTimeout(ss.mkdel(this,this.$o),L)},$o:function(){if(!this.session.get_waitHandler().isBusy()&&(!this.$C||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$B)){this.$b();return}this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$G=window.setTimeout(ss.mkdel(this,this.$o),100)},$r:function(e){var L=window.innerHeight;var fX=(ss.isValue(e)?e.get_dimensions().h:tabBootstrap.ViewerBootstrap.get_instance().getViewport().h);var fY=(ss.isValue(e)?e.get_dimensions().w:tabBootstrap.ViewerBootstrap.get_instance().getViewport().w);var fZ=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxHeight,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minHeight);var ga=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxWidth,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minWidth);var gb=fX/fY*ga;if(tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed){gb-=tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight()}if(gb>fZ&&gb>L){this.get_domNode().css('height',gb+'px')}else if(!ss.isNullOrEmptyString(this.get_domNode().get(0).style.height)){this.get_domNode().css('height','')}},$n:function(){bh.getViewport(ss.mkdel(this,this.$r))},$b:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$g();this.$F=this.get_vizClientContainerSize();this.$t();tab.CommandController.get().refreshLayout();this.$e();this.$d()}else{this.$F=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);this.$t();tab.CommandController.get().refreshLayout();this.$e()}var e=V.get_instance().get_tabbedNavigation();if(this.$z()&&ss.isValue(e)){if(tsConfig.is_mobile_app){var L=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:Y.getClientBounds().w);e.get_widgetDomNode().style.width=L+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){e.get_widgetDomNode().style.maxWidth=$('body').width()+'px'}}e.resizeShim()}this.$C=true},$e:function(){var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:Y.getClientBounds().w);if(ss.isValue(this.$J)&&this.$J===e){return}this.$J=e;{var L=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(fc.get_toolbarIsBottom()){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',this.$J+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(fc.get_toolbarIsBottom()||!this.$z()){this.get_toolbarContainer().css('max-width',this.$J+'px')}this.$A.resizeToolbar()}}finally{if(ss.isValue(L)){L.dispose()}}}},$t:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$C){return}var e=null;if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){e={rec:this.get_dashboardViewportSize().w,EUR:this.get_dashboardViewportSize().h}}else{var L=Y.getClientBounds();e={rec:L.w,EUR:L.h}}tab.SheetClientCommands.setPortSize(e)},$d:function(){if(this.$B.get_shouldShowRightAreaDrawer()){var e=V.get_instance().get_rightAreaDrawerViewModel();e.done(function(L){if(L.get_isOpen()){L.refreshDrawer()}})}},$h:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);tab.BrowserSupport.doPostMessageWithContext('tableau.responsive')},$8:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$h();var L=$('#staticImage');var fX=$('#loadingGlassPane');var fY=$('#loadingSpinner');var fZ=$('#svg-spinner-container');var ga=$('#tapToInteract');this.createTapToInteractTouchHandler(ga);if(tsConfig.animateTransition){this.session.get_waitHandler().loadingElementFadeOut(fY,e,function(gb){gb.hide();fZ.css('background','rgba(255,255,255,0.6)')});this.session.get_waitHandler().loadingElementFadeOut(fX,e,function(gb){gb.hide().css('cursor','default')});if(L.length>0){this.session.get_waitHandler().loadingElementFadeOut(L,e,function(gb){gb.hide()})}if(fX.length>0){this.createTapToInteractTransition(tsConfig.animateTransition,e)}}else{fY.hide();L.hide();fX.hide();this.createTapToInteractTransition(tsConfig.animateTransition,0)}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,cQ,cO]);ss.initClass(Z,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$8.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$8.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$8},get_appBannerViewModel:function(){return this.$5},get_toolbarViewModel:function(){return this.$7},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext');return e},get_shouldShowRightAreaDrawer:function(){return this.get_shouldShowCommenting()},$3:function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$7)){this.$7.dispose()}this.$5.dispose();this.$2();this.$6.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$8=new fP(e)},$2:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var L=e;if(ss.isValue(L['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(L['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(ba,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var L=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(L);this.$9.confirmButton.append(L.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(bb,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(be,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},onAuthDialogMessage:function(e,L){if(ss.isNullOrUndefined(e)){return}var fX=e;var fY=fX.data.toString();if(ss.isNullOrEmptyString(fY)||!ss.equalsT(fY,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),fX.origin)){return}this.cleanup(L);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(bd,a,{cleanup:function(e){var L=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(L)){L.parentElement.removeChild(L)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}}},be);ss.initClass(bc,a,{show:function(){this.createOverlay();var e=new cq;var L=ss.mkdel(this,function(){this.cleanup(e)});fT.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fT.remove_zoneBecameValid(L)});var fX=ss.mkdel(this,function(fZ){this.onAuthDialogMessage(fZ,e)});e.eventHandler=fX;var fY=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(fY);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(fY)});tab.WindowHelper.addListener(window.self,'message',fX)},createOverlay:function(){var e=$('.dashboardSpacer');var L=$("<div id='auth-overlay'></div>");var fX=document.createElement('iframe');fX.setAttribute('src',this.$0);fX.setAttribute('tb-test-id','dse-frame');L.append(fX);e.append(L)}},bd);ss.initInterface(cW,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(bg,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var fX=e[L];tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-simpleFontLoader','@font-face',fX.toCSSRules())}},downloadFonts:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},finishDownloadingFonts:function(){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$0()}))},$0:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[cW]);ss.initClass(bh,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var L={x:e.x,y:e.y};bh.$0(L);L.y-=this.$0.t;L.x-=this.$0.l;return L},getVisibleRoom:function(e,L){var fX=this.translatePositionToViewport(e);var fY=function(gd){return Math.max(0,gd-L)};var fZ=fY(Math.min(this.get_dimensions().w-fX.x,window.pageXOffset+window.innerWidth-e.x));var ga=fY(Math.min(fX.x,e.x));var gb=fY(Math.min(fX.y,e.y));var gc=fY(Math.min(this.get_dimensions().h-fX.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:gb,roomBelow:gc,roomLeft:ga,roomRight:fZ}},getDocumentViewport:function(e){var L=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-L.roomLeft),t:ss.Int32.trunc(e.y-L.roomAbove),w:ss.Int32.trunc(L.roomLeft+L.roomRight),h:ss.Int32.trunc(L.roomAbove+L.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(bi,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=bi.$4(this.get_currentCanvas(),this.get_currentCanvas().width);var L=bi.$3(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:L}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var L={w:this.$0.width,h:this.$0.height};var fX={w:bi.$4(this.$0,0),h:bi.$3(this.$0,0)};bk.densifyCanvasUsingSize(this.$3,L,fX)}if(ss.isNullOrUndefined(this.$4)){this.$4=bi.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var fY=this.$0.width/bi.$4(this.$0,this.$0.width);if(fY!==1){bk.scaleCanvasDrawing(this.$4,fY)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var fZ=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(fZ,this.get_visibleRect());this.clearRect(fZ)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var L=this.$1.pixelRatio;var fX=Math.max(0,Math.floor((this.$2.x-this.$7.x)*L));var fY=Math.max(0,Math.floor((this.$2.y-this.$7.y)*L));var fZ=Math.min(this.$0.width,Math.ceil(this.$2.w*L));var ga=Math.min(this.$0.height,Math.ceil(this.$2.h*L));this.$1.drawImage5(this.$3,fX,fY,fZ,ga,fX,fY,fZ,ga)}this.$1.restore()},renderFilledRectangle:function(e,L,fX,fY,fZ){var ga=fX/2;var gb=fY/2;var gc=this.get_currentContext();gc.set_shapeFillStyle(fZ);gc.fillRect(e-ga,L-gb,fX,fY)},renderFilledWedge:function(e,L,fX,fY,fZ,ga,gb){var gc=bi.toCanvasAngle(fY);var gd=bi.toCanvasAngle(fZ);if(Math.abs(gd-gc)<bi.angleEpsilon){return}if(ss.isNullOrUndefined(gb)){gb=false}var ge=this.get_currentContext();ge.beginPath();ge.moveTo(e,L);gc=bi.$6(gc);gd=bi.$6(gd);ge.arc(e,L,fX,gc,gd,gb);ge.closePath();ge.set_shapeFillStyle(ga);ge.fill()},renderLine:function(e,L,fX,fY){var fZ=this.get_currentContext();fZ.set_linePattern('solid');fZ.set_lineWidth(L);fZ.set_strokeStyle(fX);bi.strokePath(fZ,e,false,fY)},renderLineLoop:function(e,L,fX){var fY=this.get_currentContext();fY.set_linePattern('solid');fY.set_lineWidth(L);fY.set_strokeStyle(fX);bi.strokePath(fY,e,true,false)},renderLineEdge:function(e,L,fX,fY,fZ,ga,gb,gc){var gd=this.get_currentContext();gd.set_linePattern('solid');gd.set_lineWidth(gc);gd.set_strokeStyle(gb);var ge=Math.atan2(fY-fX,L-e);var gf=Math.cos(ge);var gg=Math.sin(ge);fZ/=2;ga/=2;var gh=fZ*gg;var gi=ga*gg;var gj=fZ*gf;var gk=ga*gf;gd.beginPath();gd.moveTo(e+gh,fX-gj);gd.lineTo(L+gi,fY-gk);gd.lineTo(L-gi,fY+gk);gd.lineTo(e-gh,fX+gj);gd.closePath();gd.stroke()},renderFilledLineEdge:function(e,L,fX,fY,fZ,ga,gb,gc){var gd;var ge=this.get_currentContext();if(ss.referenceEquals(gb,gc)){gd=gb}else{var gf=ge.createLinearGradient(e,fX,L,fY);gf.addColorStop(0,gb);gf.addColorStop(1,gc);gd=gf}if(fZ===ga){ge.set_lineWidth(fZ);ge.set_linePattern('solid');ge.set_strokeStyle(gd);ge.beginPath();ge.moveTo(e,fX);ge.lineTo(L,fY);ge.closePath();ge.stroke()}else{var gg=Math.atan2(fY-fX,L-e);var gh=Math.cos(gg);var gi=Math.sin(gg);fZ/=2;ga/=2;var gj=fZ*gi;var gk=ga*gi;var gl=fZ*gh;var gm=ga*gh;ge.beginPath();ge.moveTo(e+gj,fX-gl);ge.lineTo(L+gk,fY-gm);ge.lineTo(L-gk,fY+gm);ge.lineTo(e-gj,fX+gl);ge.closePath();ge.set_shapeFillStyle(gd);ge.fill()}},renderPolygon:function(e,L,fX){var fY=this.get_currentContext();fY.set_lineWidth(L);fY.set_strokeStyle(fX);bi.strokePath(fY,e,true,true)},renderFilledPolygon:function(e,L){var fX=this.get_currentContext();fX.set_shapeFillStyle(L);bi.fillPath(fX,e,true)},setupContextForTextRendering:function(e){this.get_currentContext().set_shapeFillStyle(e.$5(0,-1,'colorOverrideNone'));var L=this.createStyleSettersAndSetDominantStyle(e.get_textStyleColumns());return L},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(fY){}}var L=[];e.forEach(ss.mkdel(this,function(fY,fZ,ga){var gb=true;var gc=fY.v[(fY.c?0:0)];for(var gd=1;gd<fY.length;++gd){if(!ss.referenceEquals(gc,fY.v[(fY.c?0:gd)])){gb=false;break}}if(gb){this.setTextStyleProperty(fZ,gc)}else if(fZ!=='text_style_color'){L.push(fZ)}}));var fX=ss.mkdel(this,function(fY){for(var fZ=0;fZ<L.length;fZ++){var ga=L[fZ];var gb=e.get(ga);this.setTextStyleProperty(ga,gb.v[(gb.c?0:fY)])}});return fX},setTextStyleProperty:function(e,L){switch(e){case'font':{this.get_currentContext().set_font(L);break}case'text_orientation':{this.get_currentContext().set_textAngle(L);break}case'text_alignment':{this.get_currentContext().set_textAlign(L);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!L);break}default:{if(!tab.FeatureFlags.isEnabled('Runtime')){}break}}},renderText:function(e,L,fX,fY,fZ,ga){if(ga&&ss.isValue(this.$5)&&this.$5.$0(L,fX)){var gb=this.$5.$1(L,fX);L=gb.x;fX=gb.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(fZ)){this.get_currentContext().set_textFillStyle(fZ)}if(fY>0){if(!ga){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,L,fX,fY)}else{this.get_currentContext().fillText1(e,L,fX)}if(ga){var gc=this.get_currentContext().measureText(e).width;var gd=this.get_currentContext().get_textAlign()==='end';var ge=this.get_currentContext().get_textAngle();var gf;if(ge>1){gf='down'}else if(ge<-1){gf='up'}else{gf='horizontal'}this.$5=new p(L,fX,gc,gd,gf)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,L){var fX=this.get_currentContext();fX.set_lineWidth(e);fX.set_strokeStyle(L);fX.stroke()},fillCurrentPath:function(e){var L=this.get_currentContext();L.set_shapeFillStyle(e);L.fill()},clipRect:function(e,L,fX,fY,fZ){var ga=100000;switch(e){case 0:{return}case 1:{fX=-100000;fZ=200000;break}case 2:{L=-100000;fY=200000;break}}var gb=bi.roundStartAndExtent(fX,fZ,0);var gc=bi.roundStartAndExtent(L,fY,0);this.get_currentContext().setClip({x:ss.Int32.trunc(gc.item1),y:ss.Int32.trunc(gb.item1),w:ss.Int32.trunc(gc.item2),h:ss.Int32.trunc(gb.item2)})}});ss.initClass(bj,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bk,a,{});ss.initClass(eq,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(e){this.$9=e},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(e){this.$8={x:e.x,y:e.y}},dragStarted:function(e,L,fX){this.$6={x:e,y:L};this.$3=fX;this.$2={x:0,y:0}},recordScrollingOffsets:function(e){this.$c={x:e.x,y:e.y}},updateAndRenderShape:function(e){this.constrainShape(e);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(e){this.$8={x:e.pageX-this.$3.x,y:e.pageY-this.$3.y};if(ss.isInstanceOfType(this,bm)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(e,L){this.get_dragStart().x-=e;this.get_dragStart().y-=L;this.$c.x+=e;this.$c.y+=L;this.$2.x+=e;this.$2.y+=L;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(e){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);e.append(this.$5)},show:null,hide:null,hitTest:function(e,L,fX){var fY=L||this.isSingleSelect();return(fY?this.$0(e,fX):this.$1(e,fX))},$0:function(e,L){var fX={x:this.$8.x,y:this.$8.y,w:1,h:1};var fY=e.hitTestBoundingBoxes(fX,true,L);return e.hitTestSingle(fX,L,fY)},$1:function(e,L){var fX=e.hitTestBoundingBoxes(this.get_hitTestingBox(),false,L);var fY=[];var fZ=this.get_hitTestingBox();for(var ga=fX.length-1;ga>=0;ga--){var gb=fX[ga];var gc=gb.get_objectId();if(gc<0){continue}var gd=cF.findPaneNode(gb);if(ss.isNullOrUndefined(gd)){continue}var ge=L.getPaneDrawInfoFromKey(gd.get_paneKey());var gf=cI.getTransformInfo(ge,gb);var gg=tab.RectXYUtil.intersect(fZ,gd.get_boundingBox());var gh=this.shapeAreaHit(gg,ge,gb,gf);if(gh){fY.push(new cJ.$ctor1(ge.c.get('tuple_id').gv(gc),5,1))}}return fY},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(e){if(this.isStateObjectTypeCorrect(e)){e.updateLastState()}},getStateDiff:function(e){if(this.isStateObjectTypeCorrect(e)){this.saveCurrentState(e);return e.getStateDiff()}var L=new Array(1);L[0]=this.get_hitTestingBox();return L},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(bm,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(e){return tab.CircleUtil.boundingBox((e?this.$j:this.$i))},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var fX=this.get_dragStart().y-this.get_connectNodePos().y;var fY=Math.sqrt(Math.pow(L-e.x,2)+Math.pow(fX-e.y,2));this.$i={center:{x:L+this.get_drawOffsets().x,y:fX+this.get_drawOffsets().y},radius:fY};this.$j={center:{x:L+this.get_totalScrollOffset().x,y:fX+this.get_totalScrollOffset().y},radius:fY};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var e={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var L=this.$d(e);if(L>0){this.displayDistance(L)}},$d:function(e){var L=this.$k.get_latLongRect();if(ss.isNullOrUndefined(L)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var fX={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var fY={x:fX.x+(e.x-this.$i.center.x),y:fX.y};var fZ=(L.FVU-L.Qao)/this.$k.get_mapHeight();var ga=L.FVU-fZ*fX.y;var gb={item1:L.kVX,item2:ga};var gc={item1:L.eMT,item2:ga};var gd=cA.haversineDistance(gb,gc,this.$k.get_earthRadius());var ge=gd/this.$k.get_mapWidth();return Math.abs(fY.x-fX.x)*ge},displayDistance:function(e){var L=this.get_dom().find('.tabDistanceReadout');L.text(this.$e(e));var fX={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(L.height()),2)};L.css('left',fX.x+'px');L.css('top',fX.y+'px')},$e:function(e){var L=this.$k.get_smallUnitDisplay();if(e>=this.$k.get_unitTransition()){e/=this.$k.get_smallToLargeUnitDivisor();L=this.$k.get_largeUnitDisplay()}var fX=tab.DoubleUtil.sigFigs(e,this.$k.get_sigFigs());var fY=0;if(fX!==0){var fZ=Math.floor(Math.log(Math.abs(fX))/Math.log(10))+1;fY=Math.max(0,this.$k.get_sigFigs()-fZ)}var ga=fX.toFixed(fY);if(this.$k.get_decimalMark()===','&&ga.indexOf('.')!==-1){ga=ss.replaceAllString(ga,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',ga,L)},formatReadoutTestHook:function(e){return this.$e(e)},computeRadialDistanceTestHook:function(e){return this.$d(e)},renderShape:function(){var e=this.get_dom().find('.circle_crosshair');var L=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());e.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());e.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());L.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var e=this.get_dom().find('.tabDistanceReadout');var L=this.get_dom().find('.circle_radius');if(this.$g()){e.css('font-size',this.$k.get_fontSizePixels());e.css('color',this.$k.get_fontColor());e.show();L.show()}else{e.hide();L.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(e,L,fX,fY){var fZ=this.$g();return cI.circleAreaHit(L,fX.get_boundingBox(),this.$j,fX.get_objectId(),fY,L.markType,fZ)},sendSelectionCommand:function(e,L,fX,fY){var fZ=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$j,L,fX,fY,fZ)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new bn)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),bn)){return true}}return false}},eq);ss.initClass(er,a,{updateLastState:null,getStateDiff:null});ss.initClass(bn,a,{saveCurrentState:function(e){this.$0=tab.CircleUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var e=new Array(1);e[0]=tab.CircleUtil.boundingBox(this.$0);return e}},er);ss.initClass(bo,a,{},ss.EventArgs);ss.initClass(bp,a,{showAlertDialog:function(e,L,fX,fY){var fZ=bp.$0();var ga={content:e,title:L,contentSelectable:fX,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fZ)},additionalLinks:fY};if(fX){bq.$1(L,e,fY)}var gb=React.createElement(eB,ga);ReactDOM.render(gb,fZ)},showConfirmationDialog:function(e,L,fX,fY,fZ){var ga=bp.$0();var gb={content:e,title:L,contentSelectable:fX,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(ga)}};if(fX){bq.$1(L,e,null)}gb.dialogButtons.push({buttonClickHandler:fY,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});gb.dialogButtons.push({buttonClickHandler:fZ,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var gc=React.createElement(eB,gb);ReactDOM.render(gc,ga)},showSheetAuthenticationOverlay:function(e,L){bq.$0('AuthenticationOverlay',e);var fX=new bc(e,L);fX.show()},showGenericDataSourceErrorOverlay:function(e,L){bq.$0('GenericErrorOverlay',e);var fX=new cy(e,L);fX.show()},showSheetAuthenticationDialog:function(e,L){bq.$0('AuthenticationDialog',e);var fX=new bS(e,L);fX.show()},showGenericDataSourceErrorDialog:function(e,L){bq.$0('GenericErrorDialog',e);var fX=new cx(e,L);fX.show()},showFileDownloadDialog:function(e,L,fX,fY){var fZ=new cd(e,L,fX,fY);fZ.show()}},null,[tab.ICommonDialogProvider]);ss.initClass(bq,a,{});ss.initClass(br,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bt(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,L){var fX=null;fX=ss.mkdel(this,function(){if(!ss.staticEquals(L,null)){L()}this.$1[e]=ss.delegateRemove(this.$1[e],fX)});this.$1[e]=ss.delegateCombine(this.$1[e],fX)}});ss.initEnum(bs,a,{unspecified:0,twoPassRendering:1});ss.initClass(bt,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bu,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bx,bv,Object]));ss.initClass(bv,a,{});ss.initClass(bw,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bx,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[by]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===by.modeSelect){if(tsConfig.allow_custom_view_save){var L=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();L.append(this.$15.get_inputElement());this.$14=this.$q();L.append(this.$14.element);this.get_dom().saveViewArea.append(L);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var fX=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),fX)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var L=e.current();var fX=this.$9(L,false);this.$10[ss.unbox(L.id)]=fX;this.$V(L);this.get_dom().myViewsListArea.append(fX)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var L=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(L.moveNext()){var fX=L.current();var fY=this.$9(fX,true);this.$10[ss.unbox(fX.id)]=fY;this.$V(fX);this.get_dom().otherViewsListArea.append(fY)}}finally{L.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',by.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,L){var fX=spiff.LabelToggleButton.newCheckbox(e,false);fX.set_selected(L);this.disposables.add$1(fX);return fX},$R:function(e){var L=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(L)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,L){var fX=$('<div/>').addClass('tab-cv-viewListItem');if(L){var fY=this.$h(e);fX.addClass('tab-cv-viewListItem-showOwner').append(fY)}else if(tsConfig.allow_custom_view_save){var fZ=this.$m(e);fX.append(fZ)}var ga=this.$d(e);fX.append(ga);fX.click(ss.mkdel(this,function(gb){this.$I(e)}));return fX},$d:function(e){var L=this.$u(e);var fX=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var fY=this.$l(e);var fZ=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(L).attr('title',L);fX.append(fY);fX.append(' ');fX.append(fZ);return fX},$l:function(e){var L=this.get_viewModel().isDefault(e);var fX=new spiff.IconButton;if(tsConfig.allow_custom_view_default){fX.addClass('tab-customViews-viewListItem-setDefaultButton');fX.onClick(ss.mkdel(this,function(ga){this.$O(e)}));var fY;var fZ;if(L){fY='tab-icons-customView-toggled';fZ=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{fY='tab-icons-customView-menu';fZ=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}fX.set_disabled(L);fX.setIcon(fY);fX.set_hoverTooltipText(fZ)}this.disposables.add$1(fX);return fX.element},$h:function(e){var L=this.$v(e);var fX=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(L).attr('title',L);return fX},$m:function(e){var L=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fX=new spiff.IconButton;fX.addClass('tab-customViews-viewListItem-renameButton');fX.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);fX.setIcon('tab-icons-edit');fX.onClick(ss.mkdel(this,function(ga){this.$L(e)}));this.disposables.add$1(fX);L.append(fX.element);var fY=new spiff.IconButton;fY.addClass('tab-customViews-viewListItem-deleteButton');fY.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);fY.setIcon('tab-icons-delete');fY.onClick(ss.mkdel(this,function(ga){this.$A(e)}));this.disposables.add$1(fY);L.append(fY.element);if(tsConfig.allow_custom_view_share){var fZ=new spiff.IconButton;fZ.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){fZ.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);fZ.setIcon('tab-icons-view-public')}else{fZ.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);fZ.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===by.modeSelect){fZ.set_disabled(true)}fZ.onClick(ss.mkdel(this,function(ga){this.$K(e)}));this.disposables.add$1(fZ);L.append(fZ.element)}return L},$i:function(e,L){var fX=tab.DomUtil.getTransformScale(this.get_rootElement());var fY=$('<div/>').addClass('tab-customViews-rename-container');fY.click(ss.mkdel(this,this.$M));var fZ=$('<div/>').addClass('tab-cv-viewListItem').width(L.width()/fX);var ga=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var gb=new spiff.IconButton;gb.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var gc=gb;gc.setIcon('tab-icons-canceledit');gc.onClick(ss.mkdel(this,function(gg){this.$z(L)}));ga.append(gc.element);fZ.append(ga);fZ.append(this.$p(e));fY.append(fZ);this.get_dom().domRoot.append(fY);this.$13.get_inputElement().focus();var gd=L.position().top;var ge=L.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{gd/=fX;ge/=fX;var gf=L[0].parentElement;while(ss.isValue(gf)&&gf.style.position!=='absolute'&&gf.style.position!=='relative'){gf=gf.parentElement}if(ss.isValue(gf)){gd+=gf.offsetTop;ge+=gf.offsetLeft}}fZ.css('top',gd+'px').css('left',ge+'px')},$p:function(e){var L=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',by.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));L.append(this.$13.get_inputElement());return L},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var L=this.$x();L.children().hide();this.$i(e.name,L)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var L=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(L);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===by.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=this.$11}else{L=this.$y(e)}if(this.get_viewModel().isDefault(e)){L.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){L.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){L.addClass('tab-cv-viewListItem-publicView')}var fX=this.$u(e);L.children('.tab-cv-viewListItem-viewName').text(fX).attr('title',fX)},$T:function(){if(this.get_viewModel().get_mode()===by.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===by.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,L){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var L=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(L)){L=new Object}L.name=e;L.isPublic=this.$n(this.$12);this.get_viewModel().save$1(L,null,function(fX){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===by.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(L){this.updateViewListsState()}),function(L){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var L=ba.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(L.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(L){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var L=$(e.target);var fX=L.hasClass('tab-customView-rename-textInput');if(!fX){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var L=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(L);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(fX){this.$t(L);this.updateViewListsState()}),ss.mkdel(this,function(fX){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(L);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==by.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(L){this.updateViewListsState()}),ss.mkdel(this,function(L){dG.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,L){var fX=this.get_viewModel().get_mode();if(fX===by.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(fX===by.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tab.Strings.CustomViewsOriginalView}else{L=e.name}if(this.get_viewModel().isDefault(e)){L=tab.Strings.ToolbarCustomViewsDefault(L)}return L},$v:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tsConfig.workbook_owner_friendly_name}else{L=e.owner.friendlyName}return L}},ss.makeGenericType(spiff.BaseView$1,[by]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[by])]);ss.initInterface(cS,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(by,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bx},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.CustomViewsDialogTitle;var L=new bv;L.viewModel=this;return{title:e,testId:'customViews',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(bu,L)}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var L=this.cleanCustomViewName(e);return L.length>0&&L.length<=by.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,by.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,L,fX){var fY=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(fY)){fY=new Object;fY.name=e}this.save$1(fY,L,fX,false)},save$1:function(e,L,fX,fY){this.$s.saveCustomizedView(e,ss.mkdel(this,function(fZ){var ga=ss.mkdel(this,function(gb){this.$c(gb);if(ss.isValue(L)){L(gb)}});if(fY){this.setDefault(fZ,ga,function(gb){ga(fZ)})}else if(this.isDefault(fZ)){this.setDefault(null,function(gb){ga(fZ)},function(gb){ga(fZ)})}else{ga(fZ)}}),ss.mkdel(this,function(fZ){this.$b(fZ);if(ss.isValue(fX)){fX(fZ)}}))},getMyCustomViewByName:function(e){var L=null;for(var fX=0;fX<this.$q.length;fX++){var fY=this.$q[fX];if(ss.equalsT(fY.name,e)){L=fY}}return L},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,L,fX){this.destroyCustomView(e,L,fX)},update:function(e,L,fX){this.$g(e,null,L,fX)},buildUrl:function(e,L){return tab.CustomizedViewSession.buildUrl(e,L)},makeCurrentDefault:function(e,L){this.setDefault(this.$l,e,L)},setDefault:function(e,L,fX){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(fY){this.$e(fY);if(ss.isValue(L)){L(fY)}}),ss.mkdel(this,function(fY){this.$d(fY);if(ss.isValue(fX)){fX(fY)}}))},startManage:function(){if(this.$p===by.modeSelect&&this.get_hasCustomViews()){this.$f(by.modeManage)}},exitManageMode:function(){this.$f(by.modeSelect)},updateCustomizedViews:function(e,L){this.$5(e,L)},destroyCustomView:function(e,L,fX){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var fY=tsConfig.requestURI;var fZ='/'+e.owner.username+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(fY,fZ,'')}}this.$5(null,null);if(ss.isValue(L)){L()}}),ss.mkdel(this,function(fY){this.$5(null,null);if(ss.isValue(fX)){fX(fY)}}))},updateCustomizedViewPublicState:function(e,L,fX,fY){if(!ss.isValue(e)||L===e.isPublic){return}var fZ=new Object;fZ.id=e.id;fZ.isPublic=L;fZ.name=e.name;fZ.owner=e.owner;fZ.startViewId=e.startViewId;fZ.urlId=e.urlId;this.$g(fZ,e,fX,fY)},updateCustomizedViewName:function(e,L,fX,fY){if(ss.equalsT(e.name,L)){return}var fZ=new Object;fZ.id=e.id;fZ.isPublic=e.isPublic;fZ.name=L;fZ.owner=e.owner;fZ.startViewId=e.startViewId;fZ.urlId=e.urlId;this.$g(fZ,e,fX,fY)},$g:function(e,L,fX,fY){this.$s.updateCustomizedView(e,ss.mkdel(this,function(fZ){if(ss.isValue(L)){var ga=ss.indexOf(this.$q,L);if(ga>=0){ss.removeAt(this.$q,ga);ss.insert(this.$q,ga,e)}if(ss.isValue(L)&&ss.referenceEquals(e.id,L.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(fX)){fX(fZ)}}),ss.mkdel(this,function(fZ){this.$5(null,null);if(ss.isValue(fY)){fY(fZ)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,L){this.$s.getCustomizedViews(ss.mkdel(this,function(fX,fY){this.$3(fX,fY);if(ss.isValue(e)){e(fX,fY)}}),ss.mkdel(this,function(fX){this.$2(fX);if(ss.isValue(L)){L(fX)}}))},$c:function(e){var L=tabBootstrap.Utility.get_embedMode()==='embedded'&&!tsConfig.reloadOnCustomViewSave;if(L||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(L){var fX;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(fX=0;fX<this.$q.length;fX++){if(ss.referenceEquals(this.$q[fX].name,e.name)){this.$q[fX]=e;break}}if(fX>=this.$q.length){this.$q.push(e);this.$q.sort(by.$0)}}else{for(fX=0;fX<this.$r.length;fX++){if(ss.referenceEquals(this.$r[fX].name,e.name)){this.$r[fX]=e;break}}if(fX>=this.$r.length){this.$r.push(e);this.$r.sort(by.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,L){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var fX=0;fX<e.length;fX++){var fY=e[fX];if(this.belongsToCurrentUser(fY)){this.$q.push(fY)}else{this.$r.push(fY)}if(this.isCurrentCustomView(fY)){this.$l=fY;this.$m=fY.name}}this.$q.sort(by.$0);this.$r.sort(by.$0);this.$n=L;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),cS]);ss.initClass(bz,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bA,a,{$d:function(){return this.get_template()},get_dashboardNode:function(){return this.$d().dashboardNode},get_containerNode:function(){return this.$d().domRoot},$9:function(){if(ss.isValue(this.$e.get_formats())){this.$d().dashboardNode.css(this.$e.get_formats());if(this.$e.get_hasGutter()){var e={top:this.$e.gutter.top+'px',left:this.$e.gutter.left+'px'};this.$d().dashboardNode.css(e)}}},$b:function(){this.$d().dashboardNode.height(this.$e.get_size().EUR).width(this.$e.get_size().rec);if(this.$e.get_hasGutter()){$('.tab-gutter').height(this.$e.get_size().EUR+this.$e.gutter.top+this.$e.gutter.bottom).width(this.$e.get_size().rec+this.$e.gutter.left+this.$e.gutter.right)}},$a:function(e){var L=spiff.ObjectRegistry.newView(fT).call(null,[e]);if(e.get_zoneType()==='title'){L.prependToDom(this.$d().dashboardNode)}else{L.addToDom(this.$d().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){this.$b();this.$9();var e=_.keys(this.$e.get_zoneViewModels());for(var L=0;L<e.length;L++){var fX=e[L];this.$a(this.$e.get_zoneViewModels()[fX])}}spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){if(this.$e.get_renderMode()==='render-mode-client'){var e=this.$d().dashboardNode.find('img');var L=e.length;for(var fX=0;fX<L;fX++){var fY=e[fX];if(ss.isNullOrUndefined(fY)||fY.naturalHeight===0||fY.naturalWidth===0){continue}var fZ=document.createElement('canvas');fZ.width=fY.naturalWidth;fZ.height=fY.naturalHeight;var ga=fZ.getContext('2d');ga.drawImage(fY,0,0);try{var gb=fZ.toDataURL('image/png',new Object);fY.src=gb}catch(gk){}}}var gc=this.$d().dashboardNode.clone(false,false);gc.addClass('facadedom');bA.uniquefyClonedFilterRadioElements(gc);if(this.$e.get_renderMode()==='render-mode-server'){var gd=this.$d().dashboardNode.find('canvas');var ge=gc.find('canvas');var gf=gd.length;for(var gg=0;gg<gf;gg++){var gh=gd[gg];var gi=ge[gg];if(!ss.isValue(gi)){continue}var gj=gi.getContext('2d');if(ss.isValue(gh)&&gh.width>0&&gh.height>0&&ss.isValue(gj)){gj.drawImage(gh,0,0)}}}this.$d().dashboardNode.parent().append(gc)}},ss.makeGenericType(spiff.BaseView$1,[bB]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bB])]);ss.initClass(bB,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.Jqz},get_zoneViewModels:function(){return this.$m},get_formats:function(){return this.dashboardModel.get_formats()},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$l||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$l=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$m));try{while(e.moveNext()){var L=e.current();this.$m[L].dispose()}}finally{e.dispose()}ss.clearKeys(this.$m);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$k));for(var fX=0;fX<this.viewControllers.length;fX++){var fY=this.viewControllers[fX];fY.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$m,e.get_zoneId())){this.$c(e.get_zoneId())}var L=this.$4(e);if(L.get_zoneType()==='viz'){if(ss.isValue(L.get_zoneContentViewModel())){this.$b(L)}else{var fX=null;fX=ss.mkdel(this,function(){L.remove_newZoneContent(fX);this.$b(L)});L.add_newZoneContent(fX)}}L.set_isActiveZone(L.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(L)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var L=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().viewController=L},$4:function(e){var L=new fU(e);this.$m[e.get_zoneId()]=L;return L},$5:function(e){var L=new ss.ObjectEnumerator(this.$m);try{while(L.moveNext()){var fX=L.current();if(fX.value.get_zoneType()===e){return fX.value.get_zoneContentViewModel()}}}finally{L.dispose()}return null},$i:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var L=[];var fX=_.keys(this.$m);for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];var ga=this.$m[fZ];if(e(ga)){L.push(fZ)}}this.$d(L);this.$2()},$d:function(e){for(var L=0;L<e.length;L++){var fX=e[L];this.$c(fX)}},$c:function(e){var L=this.$m[e];if(ss.isValue(L)){if(L.get_zoneType()==='viz'){var fX=this.viewControllersBySheet['v_'+L.get_associatedSheet()];if(ss.isValue(fX)){delete this.viewControllersBySheet['v_'+L.get_associatedSheet()];ss.remove(this.viewControllers,fX);fX.dispose()}}L.dispose();delete this.$m[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var L=0;L<e.length;L++){var fX=e[L];if(!ss.keyExists(this.$m,fX.get_zoneId())&&this.dashboardModel.isValidSheet(fX)){this.$8(fX)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_activeZoneID();var L=ss.getEnumerator(Object.keys(this.$m));try{while(L.moveNext()){var fX=L.current();var fY=this.$m[fX];fY.set_isActiveZone(fY.get_zoneId()===e)}}finally{L.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_readyZoneID();var L=ss.getEnumerator(Object.keys(this.$m));try{while(L.moveNext()){var fX=L.current();var fY=this.$m[fX];fY.set_isReadyZone(fY.get_zoneId()===e)}}finally{L.dispose()}},$3:function(e){var L=this.dashboardModel.getViewSession(e);var fX=new fz(L);this.viewControllersBySheet['v_'+e]=fX;this.viewControllers.push(fX);return fX}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bC,a,{render:function(){return React.DOM.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$5(),this.$4(),this.$b(),this.$8(),this.$3(),this.$7(),this.$6(),this.$9())},$5:function(){var e;if(tab.FeatureFlags.isEnabled('AlertOnMoreChartTypes')){e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption)}else{e=tab.Strings.DataAlertOnConstantThreshold(this.props.selectionCaption)}return React.DOM.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return React.DOM.div({className:'tab-dataAlertConditionArea'},React.DOM.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.conditionProps)),React.DOM.div({className:'tab-dataAlertThresholdArea'},React.DOM.label({className:'tab-dataAlertThresholdLabel'},tab.Strings.DataAlertThreshold),this.$a(),React.DOM.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText')}},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$a:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return React.DOM.input({type:'text',value:this.props.threshold,className:e,disabled:!this.props.readyForInteraction,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(L){this.props.onThresholdInputTextChanged(L.target.value)})})},$b:function(){var e='tab-dataAlertTitleInput tab-TextInput';var L=!tab.MiscUtil.isNullOrEmpty$1(this.props.title);if(!L){e+=' error'}return React.DOM.div({className:'tab-dataAlertTitleInputArea'},React.DOM.label({className:'tab-dataAlertTitleInputLabel'},tab.Strings.DataAlertSubject),React.DOM.input({type:'text',className:e,disabled:!this.props.readyForInteraction,maxLength:bF.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(fX){this.props.onTitleInputTextChanged(fX.target.value)})}),React.DOM.span(this.$0(L),tab.Strings.DataAlertNoSubjectErrorMessage))},$8:function(){return React.DOM.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.notificationIntervalProps))},$3:function(){return React.DOM.div({className:'tab-dataAlertAddRecipients',disabled:!this.props.readyForInteraction},React.DOM.label({className:'tab-dataAlertAddRecipientsLabel'},'Recipients'),React.createElement(fu,this.props.addRecipientsProps))},$7:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!tab.MiscUtil.isNullOrEmpty$1(this.props.emailErrorText)){e+=' error'}return React.DOM.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},React.DOM.label({className:'tab-dataAlertEmailInputLabel'},tab.Strings.ToolbarSubscribeEmailPlaceholder),React.DOM.input({type:'text',className:e,maxLength:cm.maxEmailLength,onChange:ss.mkdel(this,function(L){this.props.onEmailInputTextChanged(L.target.value)})}))},$6:function(){return React.DOM.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$9:function(){var e={clickHandler:ss.mkdel(this,this.$2),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var L=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tab-dataAlertSubmitButtonArea'},L)},$2:function(){this.props.onSave()}},React.Component);ss.initClass(bM,a,{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,L){},onPersistSuccess:function(){dG.showNotification(this.successMessage);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){dG.showNotification(this.failureMessage,0);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});ss.initClass(bD,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,L){var fX=ss.mkdel(this,function(fY){this.failureMessage=((fY===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),fX)}},bM);ss.initInterface(cR,a,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bN,a,{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}},null,[cR]);ss.initClass(bE,a,{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},bN,[cR]);ss.initClass(bF,a,{$s:function(){return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onSelect:ss.mkdel(this,this.$b),disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_operator().toString():''),menuItemInfos:_.map(tab.DataAlertConditionOperation.supportedOperations(),function(e){return{value:e.toString(),displayValue:tab.DataAlertConditionOperation.displayString(e),isDivider:false}})}},$w:function(){return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onSelect:ss.mkdel(this,this.$f),disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_notificationIntervalInMinutes().toString():''),menuItemInfos:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),function(e){return{value:e.toString(),displayValue:tab.DataAlertNotificationInterval.convertToString(e),isDivider:false}})}},$y:function(){return ss.isValue(this.$C)&&this.$C.get_thresholdIsValid()&&!this.$G&&this.$t()&&!ss.isNullOrEmptyString(this.$C.get_title())&&ss.isValue(this.$z)&&this.$z.get_searchFieldIsEmpty()&&this.$F},$t:function(){if(this.$5()){return this.$v()&&this.$x()===1}return ss.isValue(this.$z)&&this.$x()===0},$x:function(){return(ss.isNullOrUndefined(this.$z)?0:this.$z.get_users().filter(function(e){return!e.hasEmail}).length)},$v:function(){return cm.validate(this.$D)},$u:function(){return this.$F},$o:function(){this.$z=new fw.$ctor1([],tab.Strings.DataAlertsRecipientsSearchPlaceholder);this.$z.setUserValidator(ss.mkdel(this,this.$r),tab.Strings.UserHasNoEmailAddressWarning)},$l:function(){this.$C.add_titleChanged(ss.mkdel(this,this.refresh));this.$C.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.add_measureChanged(ss.mkdel(this,this.refresh));this.$C.add_conditionChanged(ss.mkdel(this,this.refresh));this.$C.add_recipientsChanged(ss.mkdel(this,this.refresh));this.$z.add_propsUpdated(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_titleChanged(ss.mkdel(this,this.refresh));this.$C.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.remove_measureChanged(ss.mkdel(this,this.refresh));this.$C.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$C.remove_recipientsChanged(ss.mkdel(this,this.refresh));this.$z.remove_propsUpdated(ss.mkdel(this,this.refresh))})))},$m:function(){this.$B.add_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$n:function(){this.$H=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertCommands.updateDataAlert(this.$C);e.done(ss.mkdel(this,function(L){this.$C.set_alertConditionMet(L);this.refresh()}))}),bF.debounceTimeout);this.disposables.add$1(this.$H)},$9:function(){if(ss.isNullOrUndefined(this.$C)){return''}if(this.$C.get_thresholdIsValid()){return(this.$C.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$C.get_conditionPresModel().tbM02;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$C.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var L=tab.ApplicationModel.get_instance().get_appPresModel().IFh;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$C.get_threshold(),L))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$8:function(){if(this.$G){return tab.Strings.DataAlertCreateButtonSaving}return this.$A.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$u(),enableSubmitButton:this.$y(),submitButtonText:this.$8(),onThresholdInputTextChanged:ss.mkdel(this,this.$h),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$i),onSave:ss.mkdel(this,this.$a),title:(ss.isValue(this.$C)?this.$C.get_title():this.$7()),selectionCaption:(ss.isValue(this.$C)?this.$C.get_selectionCaption():''),threshold:(ss.isValue(this.$C)?this.$C.get_threshold():''),thresholdIsValid:ss.isValue(this.$C)&&this.$C.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$C)&&this.$C.get_alertConditionMet(),thresholdMessage:this.$9(),onEmailInputTextChanged:ss.mkdel(this,this.$e),showEmailInput:this.$5(),emailErrorText:this.$6(),addRecipientsProps:this.$z.get_props(),notificationIntervalProps:this.$w(),conditionProps:this.$s()})},$6:function(){if(this.$5()){if(this.$t()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$x()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(ss.isValue(this.$z)&&this.$z.get_currentSearchHasNoResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)},$4:function(){return ss.isValue(this.$z)&&this.$z.get_users().filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$e:function(e){this.$D=e;this.refresh()},$i:function(e){if(ss.isNullOrUndefined(this.$C)){return}if(ss.referenceEquals(e,this.$C.get_title())){return}this.$C.set_title(e)},$d:function(){this.$C=this.$B.get_preparedDataAlert();this.$l();this.$n();this.$g();this.$E=this.$C.get_recipients();var e=this.$C.get_title();if(ss.isNullOrUndefined(e)){e=this.$7()}var L=e;this.$i(L);this.$F=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$G=false;this.$F=false;this.refresh()},onDataAlertPreparing:function(){this.$F=false;this.refresh()},$7:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>bF.maxTitleLength){e=e.substr(0,bF.maxTitleLength-3)+'...'}return e},$f:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isValue(this.$C)){this.$C.set_notificationIntervalInMinutes(e)}},$h:function(e){if(ss.referenceEquals(e,this.$C.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$1(e)){this.$H.cancel()}else{this.$q()}this.$p(this.$C.get_operator(),e)},$b:function(e){if(ss.isNullOrUndefined(e)){return}var L=e;this.$c(L)},$c:function(e){if(e===this.$C.get_operator()){return}this.$q();this.$p(e,this.$C.get_threshold())},$q:function(){if(ss.isValue(this.$H)){this.$H.invokeActionDelayed()}},$a:function(){this.$G=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)){this.$k()}else{this.$j()}},$k:function(){var e=ss.mkdel(this,this.$j);var L=ss.mkdel(this,function(fX){var fY=((fX===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);dG.showNotification(fY);this.$G=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$D,e,L)},$j:function(){this.$C.updateRecipients(this.$z.get_users());this.$A.saveDataAlert(this.$C,this.$E)},$g:function(){this.$z.setUsers(this.$C.get_recipients())},$p:function(e,L){var fX=this.$C.get_conditionPresModel().Aee;if(this.$C.isValidThresholdText(L)){fX=L}this.$C.set_threshold(L);this.$C.set_conditionPresModel({Fcc:e,Aee:fX,tbM02:this.$C.get_conditionPresModel().tbM02})},$r:function(e){if(e.id===tsConfig.current_user_id){return this.$v()||e.hasEmail}return e.hasEmail}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bG,a,{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$e:function(){return!ss.isNullOrEmptyString(this.$j)},get_createViewModel:function(){return this.$h},updateFromDialogPresModel:function(e){this.$i=e;if(this.$d()){this.$5()}else{this.$6()}this.incrementProps();return this},$d:function(){return!ss.isNullOrEmptyString(this.$i.ibb)},$5:function(){this.$k=new bL(this.$i.ibb,this.$j);this.$k.add_okButtonClicked(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_okButtonClicked(ss.mkdel(this,this.$c))})));this.disposables.add$1(this.addChildViewModel(this.$k));this.disposables.add$1(this.$k)},$6:function(){if(this.$e()){this.$f=bH.new$1(this.$j);this.$g=bI.new$1(this.$i,this.$j)}else{this.$f=bD.new$1();this.$g=bE.new$1(this.$i)}this.$h=bF.new$1(this.$g,this.$f);var e=ss.mkdel(this,function(){dG.showNotification(tab.Strings.DataAlertLoadForEditFailure);this.$c()});this.$f.add_persistSuccess(ss.mkdel(this,this.$c));this.$f.add_persistFailure(ss.mkdel(this,this.$c));this.$g.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$h);this.disposables.add$1(this.addChildViewModel(this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_persistSuccess(ss.mkdel(this,this.$c));this.$f.remove_persistFailure(ss.mkdel(this,this.$c));this.$g.remove_dataAlertPrepareFailed(e)})));this.$g.prepareDataAlert()},createInitialProps:function(){return{type:0,positioningBehavior:2,showCloseButton:true,dialogWidth:400,isModal:true,testId:'dataAlertDialog'}},createUpdatedProps:function(){return(this.$d()?this.$b():this.$9())},$9:function(){return{children:this.$8(),title:this.$a(),showFooter:false,footerContent:null}},$a:function(){return(this.$e()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$8:function(){return React.createElement(bC,this.$h.get_props())},$b:function(){return this.$k.get_dialogProps()},$c:function(){this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$7()},$7:function(){tab.DataAlertCommands.closeDataAlertDialog();_.defer(ss.mkdel(this,function(){this.dialogViewModelDisposed();this.dispose()}))},onCancel:function(e,L){this.$7()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),cS]);ss.initClass(bH,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,L){var fX=bH.getDifferenceInUserLists(L,e.get_recipients());var fY=bH.getDifferenceInUserLists(e.get_recipients(),L);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,fX,fY,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},bM);ss.initClass(bI,a,{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.dataAlert.set_title(e[0].get_title());this.dataAlert.set_notificationIntervalInMinutes(e[0].get_notificationIntervalInMinutes());this.$4=true;this.$3()},$3:function(){if(this.$4&&this.$5){this.raiseDataAlertPrepared()}},$2:function(e){this.$5=true;_.each(e,function(L){L.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$4=false;this.$5=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$6).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$6).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},bN,[cR]);ss.initClass(bJ,a,{});ss.initClass(bK,a,{render:function(){return React.DOM.div({className:bK.$0},this.renderGenericMessage(),this.renderPlatformErrorMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$1(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return React.DOM.div({className:bK.$1},e)},renderPlatformErrorMessage:function(){return React.DOM.div({className:bK.$2},this.props.errorText)}},spiff.PureRenderComponent);ss.initClass(bL,a,{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_dialogProps:function(){return{children:this.$5(),title:tab.Strings.DataAlertErrorDialogTitle,showFooter:true,footerContent:this.$6()}},$7:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$a).done(ss.mkdel(this,this.$8))},$8:function(e){if(e.length===1){this.$9=e[0].get_title()}this.incrementProps()},$5:function(){return React.createElement(bK,this.get_props())},createUpdatedProps:function(){return{errorText:this.$b,sheetName:tsConfig.current_sheet_name,alertSubject:this.$9}},$6:function(){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,{buttons:[{handleClick:ss.mkdel(this,function(){this.raiseActionEvent(this.$3$1)}),buttonType:2,testId:'OK',label:tab.Strings.DialogButtonOK,disabled:false}]})}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bO,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,L){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.populateAndDisplayList(L,2)},populateAndDisplayList:function(e,L){this.currentListPopulationMode=L;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var fX=Math.min(e.NGM.length,this.get_viewModel().get_maxNumberListItems());for(var fY=0;fY<fX;fY++){var fZ=e.NGM[fY];this.$p.push(spiff.ListItemViewModel.newListItem(fZ.YLs.toString(),fZ,false,false,false))}if(fX<e.hjl){var ga=e.hjl-fX;var gb=((ga>1)?tab.Strings.SearchResultsNotShownPlural(ga.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(gb,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var L="<div class='{0}' title='{1}'>{1}</div>";var fX;if(ss.isValue(e.get_data())){var fY=e.get_data();fX=fY.gjO}else{fX=e.get_id()}var fZ=ss.formatString(L,'tab-list-item-label',tableau.format.escapeHTML(fX));return $(fZ).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var L=e.get_data();this.get_compositeSearchWidget().setSearchText(L.gjO);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([L.YLs]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={NGM:[L]};this.get_viewModel().saveSearchTextForItem(L.gjO,L.YLs)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var L=this.dataHighlighterViewModel.get_titleAreaWidth();if(L>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var L=e.prop('selectionStart');var fX=e.prop('selectionEnd');var fY=L!==fX;if(fY){return null}return L},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var L=this.$h();var fX=ss.isValue(L);var fY=ss.isValue(this.$n);if(this.$o){if(fX&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&fY&&fX){var fZ=ss.unbox(this.$n);var ga=ss.unbox(L);if(fZ===ga){var gb=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(ga===gb){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bQ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bQ]),spiff.IListItemContentCreator]);ss.initEnum(bP,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bQ,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.xBc}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.EUR:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.rec:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.CST02:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var L=!ss.referenceEquals(e,this.$9);this.$9=e;if(L&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var L=e!==this.$7;this.$7=e;if(L&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_fullDomainTotalNumItemsInSet:function(){return this.$6},set_fullDomainTotalNumItemsInSet:function(e){var L=e!==this.$6;this.$6=e;if(L&&!ss.staticEquals(this.$2$5,null)){this.$2$5()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return cv.makeFormatStyleDict(this.$5.get_bodyTextStyle())},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,L){if(tab.ApplicationModel.get_instance().get_isOffline()){var fX=e.toLowerCase();var fY=[];var fZ=[];var ga=this.$5.get_fullDomainItemSet().NGM;for(var gb=0;gb<ga.length;gb++){var gc=ga[gb];if(gc.gjO.toString().toLowerCase().indexOf(fX)!==-1){fZ.push(gc.YLs);fY.push(gc)}}this.lastSatisfiedSearchTerm=e;var gd={NGM:Array.prototype.slice.call(fY),hjl:fY.length};this.lastSatisfiedSearchResults=gd;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gd)}this.highlightItems(Array.prototype.slice.call(fZ))}else{var ge=new tab.HighlightItemsByPatternMatchCmd;ge.c['HBp02']=this.$5.get_fieldName();ge.c['vau']=e;ge.c['J_M']=this.$a;ge.set_uiBlocking('none');ge.invoke().done(ss.mkdel(this,function(gf){if(L){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=gf.$c['DBQ'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gf.$c['DBQ'])}}))}},saveSearchTextForItem:function(e,L){var fX=new tab.HighlightItemsByPatternMatchCmd;fX.c['HBp02']=this.$5.get_fieldName();fX.c['vau']=e;fX.c['J_M']=this.$a;fX.c['kyj']=[L];fX.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.NGM.map(function(e){return e.YLs}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var L=ss.isValue(e.pm)&&ss.isValue(e.pm.KDk);if(L){var fX=(this.$8.get_model().get_hasTitle()?e.pm.KDk:null);if(!ss.referenceEquals(fX,this.$b)){this.$b=fX;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.set_fullDomainTotalNumItemsInSet(this.$5.get_fullDomainItemSet().hjl)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bR,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bS,a,{show:function(){var e=new cq;var L=ss.mkdel(this,function(fX){this.onAuthDialogMessage(fX,e)});e.eventHandler=L;tab.WindowHelper.addListener(window.self,'message',L);this.$0.add_closed(ss.mkdel(this,function(fX,fY){this.cleanup(e)}));this.$0.show()},cleanup:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);this.$0.close(null)},dispose:function(){this.$0.dispose()}},be,[ss.IDisposable]);ss.initClass(bT,a,{setDateRange:function(e,L){this.$u=bT.$2(e);this.$s=bT.$2(L);this.$v=bT.$4(this.$u);this.$t=bT.$4(this.$s)},show:function(e,L){if(ss.isValue(e)){this.$p=bT.$4(bT.$2(e));this.$B=bT.$2(L||e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){bh.getViewport(ss.mkdel(this,function(L){var fX=e.offset();var fY=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fZ=this.getMaxHeight();var ga=tab.DoubleUtil.roundToInt(e.outerHeight());fX=this.$8(L,ga,fX,fY,fZ);this.element.offset(fX)}))},$8:function(e,L,fX,fY,fZ){var ga=tab.DoubleUtil.roundToInt(fX.left);var gb=tab.DoubleUtil.roundToInt(fX.top);var gc=e.getDocumentViewport({x:ga,y:gb});var gd=gc.l+gc.w;var ge=gc.t+gc.h;if(gb+L-1+fZ<=ge){gb+=L-1;ga=bT.$1(ga,fY,gc.l,gd)}else if(gb-(fZ-1)>gc.t){this.useMaxHeight();gb-=fZ-1;ga=bT.$1(ga,fY,gc.l,gd)}else if(ga-(fY-1)>gc.l){ga-=fY-1;gb=bT.$1(gb,fZ,gc.t,ge)}else{var gf=ga;ga=gc.l;ga=bT.$1(ga,fY,gc.l,gf);gb=bT.$1(gb,fZ,gc.t,ge)}return{left:ga,top:gb}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var L=$(e.target);if(!L.hasClass('tab-disabled')){this.$h(L)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var L=e.data();this.$B=new Date(L['year'],L['month'],L['dayOfMonth']);var fX=new Date(Date.UTC(L['year'],L['month'],L['dayOfMonth']));this.$k(fX)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var L=bT.$3(new Date);if(!this.$9(L)){this.$k(L)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bT.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bT.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bT.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bT.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bT.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var L;var fX,fY;var fZ,ga,gb;this.$w.html('');fZ=$('<thead>').appendTo(this.$w);gb=$('<tr>').appendTo(fZ);L=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[L]).appendTo(gb);L=bT.$0(L,1)}while(L!==this.$q);ga=$('<tbody>').appendTo(this.$w);gb=$('<tr>').appendTo(ga);fX=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);fX.setDate(fX.getDate()-bT.$0(e,-this.$q));fY=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);fY.setDate(fY.getDate()+bT.$0(this.$q,-fY.getDay()));while(!bT.$5(fX,fY)){this.$b(fX).appendTo(gb);fX.setDate(fX.getDate()+1);if(fX.getDay()===this.$q&&!bT.$5(fX,fY)){gb=$('<tr>').appendTo(ga)}}if(this.$F){var gc=ga.find('tr');if(gc.length<6){var gd=tab.DoubleUtil.roundToInt(gc.height());for(var ge=gc.length;ge<6;++ge){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(gd).insertAfter(gc.last())}}}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(bU,a,{});ss.initClass(bV,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(bW,a,{$6:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$5)};if(ss.isValue(this.$7)){$.extend(e,this.$7.get_props())}return e},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$8&&ss.isValue(this.$7)){this.$7.onDialogHidden()}spiff.GlobalUIEvents.fireDismissTemporaryElements();this.$8=true;this.$7=e;this.$7.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$8){return}if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$7.onDialogHidden();this.$7=null}this.$8=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$8,dialogProps:this.$6()}},$5:function(){if(tsConfig.is_mobile){this.hide()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(dp,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(bX,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,fX,fY){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,L){}},null,[dp,ss.IDisposable]);ss.initClass(bY,a,{renderVisualListHelper:function(e,L){var fX=e.get_visualListPM().tOA;this.renderDrawItems(fX,e,L,null)},renderDrawItems:function(e,L,fX,fY){var fZ=this.get_currentContext();var ga=fZ.get_numberSavedStates();var gb=4;for(var gc=0;gc<e.length;++gc){var gd=e[gc];if(true&&gc<gb&&gd.VzB==='jp$'){}else if(gd.VzB==='rOX'){var ge=gd;this.$8(L,ge,fX,fY)}else{this.$b(fZ,gd,fX,null,fY,false)}}while(fZ.get_numberSavedStates()>ga){fZ.restore()}},renderVisualList:function(e,L){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(e.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(e.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(e,L);this.cachedVisibleRect=null},renderDrawItemList:function(e){this.renderDrawItems(e,null,null,null)},$a:function(e){var L=e.get_visualListPM().oqX;var fX=e.get_visualListPM().tOA;for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];if(fZ.VzB==='Osj'||fZ.VzB==='nuS'){this.renderDrawItemDefaultOptions(this.get_currentContext(),fZ)}else if(fZ.VzB==='uEs'){var ga=this.get_currentCanvas().width;var gb=this.get_currentCanvas().height;var gc=fZ;var gd=gc.WzG;if(ss.contains(bY.$b,L)){if(Math.abs(gd[3]-gd[1])>=gb){var ge={};ge.VzB=fZ.VzB;ge.WzG=[0,0,0,gb];this.renderDrawItemDefaultOptions(this.get_currentContext(),ge);ge.WzG[0]+=ga-1;ge.WzG[2]+=ga-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),ge);return}}else if(ss.contains(bY.$c,L)){if(Math.abs(gd[2]-gd[0])>=this.get_currentCanvas().width){var gf={};gf.VzB=fZ.VzB;gf.WzG=[0,0,ga,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),gf);gf.WzG[1]+=gb-1;gf.WzG[3]+=gb-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),gf);return}}}}},renderDrawItemDefaultOptions:function(e,L){this.$b(e,L,null,null,null,false)},$b:function(e,L,fX,fY,fZ,ga){if(!ss.isValue(e)||!ss.isValue(L)){return}switch(L.VzB){case'Osj':{{var gb=L;e.set_lineJoin((ss.isValue(gb.ObK)?bi.toCanvasLineJoin(gb.ObK):eK.defaultLineJoin));var gc='butt';var gd=gb.vWy||eK.defaultLinePattern;if(gd!=='dashed'&&gd!=='dotted'){gc=(ss.isValue(gb.pXS)?bi.toCanvasLineCap(gb.pXS):eK.defaultLineCap)}e.set_lineCap(gc);e.set_linePattern(gd);e.set_strokeStyle(tab.ColorModel.convertColorForCanvas(gb.YhU)||'rgb(0,0,0)');e.set_lineWidth(gb.Cwi||1)}break}case'nuS':{{var ge=L;e.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(ge.YhU))}break}case'uXb':{{var gf=L;var gg=gf.WAe;var gh=gf.Dwb;var gi=e.createLinearGradient(gg.thj,gg.RAC,gh.thj,gh.RAC);gi.addColorStop(0,tab.ColorModel.convertColorForCanvas(gf.xJf));gi.addColorStop(1,tab.ColorModel.convertColorForCanvas(gf.$pO));e.set_shapeFillStyle(gi)}break}case'bsq':{{var gj=L;if(gj.WzG.length!==4){return}var gk=bZ.rectXYFromDrawRect(gj.WzG);e.strokeRect(gk.x,gk.y,gk.w,gk.h)}break}case'jpw':{{var gl=L;if(gl.WzG.length!==4){return}var gm=bZ.rectXYFromDrawRect(gl.WzG);e.fillRect(gm.x,gm.y,gm.w,gm.h)}break}case'MkS':{{bY.$2(e,L,false)}break}case'NLY':{{bY.$2(e,L,true)}break}case'uEs':{{var gn=L;var go=gn.WzG;bi.strokePath(e,go,false,true)}break}case'Bhw':{{var gp=L;bi.strokePath(e,gp.WzG,true,true)}break}case'Qdw':{{var gq=L;bi.fillPath(e,gq.WzG,true)}break}case'__v':{{bY.$3(e,L,true)}break}case'bUP':{{bY.$3(e,L,false)}break}case'$OC':{{var gr=L;if(gr.WzG.length===4){if(true&&gr.WzG[2]-gr.WzG[0]===2){break}e.setClip({x:gr.WzG[0],y:gr.WzG[1],w:gr.WzG[2]-gr.WzG[0],h:gr.WzG[3]-gr.WzG[1]})}}break}case'ADd':{{var gs=L;if(gs.WzG.length!==2){return}var gt=gs.WzG[0];var gu=gs.WzG[1];var gv=-1;if(ss.isValue(fY)&&fY.w!==0&&fY.h!==0){var gw;var gx;if(e.get_isTextAngleHorizontal()){gw=((fY.x>gt)?gt:(gt-fY.x));gx=fY.w}else{gw=((fY.y>gu)?gu:(gu-fY.y));gx=fY.h}gv=Math.max(gw,gx-gw)}this.renderText(gs.gjO,gt,gu,gv,null,ga)}break}case'MqA':{{bY.$0(e,L)}break}case'jp$':{{var gy=L;if(ss.isValue(gy.JZN)&&gy.JZN.length===2){e.translate(gy.JZN[0],gy.JZN[1])}if(ss.isValue(gy.wo_)&&gy.wo_.length===2){e.scale(gy.wo_[0],gy.wo_[1])}if(ss.isValue(gy.SNh)){e.rotate(gy.SNh*Math.PI/180)}}break}case'nfx':{{var gz=new s(e);e.restore();gz.$0(e)}break}case'mpa':{{e.save()}break}case'eTm':{{var gA=L;e.set_shouldAntialias(gA.chK)}break}case'jNr':{{var gB=L;if(ss.isValue(fX)&&fX.has(gB.jW$)){var gC=fX.get(gB.jW$);if(ss.isValue(gC)&&gC.complete){e.save();if(ss.isValue(fZ)){e.setClip(fZ)}e.set_alpha(gB.TwJ);e.drawImage4(gC,gB.Pkb[0],gB.Pkb[1],gB.Pkb[2]-gB.Pkb[0],gB.Pkb[3]-gB.Pkb[1]);e.restore()}}else{}}break}default:{{}break}}},$8:function(e,L,fX,fY){var fZ=ss.isValue(e)&&e.get_visualListPM().oqX==='annotations';this.clearPrevTextRunInfo();var ga=this.get_currentContext();var gb=false;L.nTH=L.nTH||0;L.Mk_=L.Mk_||0;L.XqN=L.XqN||0;L.$UU=L.$UU||0;var gc={x:L.nTH,y:L.Mk_,w:L.XqN,h:L.$UU};var gd=tab.RectXYUtil.offsetRect(ga.dirtyRect,this.get_renderOffset());if(L.XqN>0&&L.$UU>0&&(!this.isRectVisible(gc)||!tab.RectXYUtil.intersectsWith(gd,gc))){gb=true}var ge=this.$9(e,L,gb);var gf=bY.$6(L.tOA,fZ);for(var gg=0;gg<gf.length;gg++){var gh=gf[gg];if(ge.$0()&&gh.VzB==='nuS'){var gi=gh;ge.$2=tab.ColorModel.convertColorForCanvas(gi.YhU)}else{var gj=null;if(ge.$0()&&gh.VzB==='MqA'){var gk=gh;ge.$3=tab.ColorModel.convertColorForCanvas(gk.YhU);gj=ga.get_textFillStyle()}if(!gb||bY.$5(gh)){this.$b(ga,gh,fX,gc,fY,fZ)}if(ss.isValue(gj)){ga.set_textFillStyle(gj)}}}if(ge.$0()){ga.set_shapeFillStyle(ge.$2);ga.set_textFillStyle(ge.$3)}},$9:function(e,L,fX){var fY=null;if(!fX&&ss.isValue(e)){if(e.isSelected(L)){fY=new r('selected')}else if(e.isBrushed(L)){fY=new r('highlighted')}else if(e.isHovered(L)){fY=new r('hover')}}if(ss.isNullOrUndefined(fY)){return new r('normal')}var fZ=this.get_currentContext();fY.$2=fZ.get_shapeFillStyle();fY.$3=fZ.get_textFillStyle();switch(fY.$1()){case'selected':{fZ.set_textFillStyle(this.$c.selectionTextColor.toRgba());fZ.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{fZ.set_textFillStyle(this.$c.highlightTextColor.toRgba());fZ.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{fZ.set_textFillStyle('rgb(0,0,0)');fZ.set_shapeFillStyle('rgb(245,245,245)');break}}var ga=ss.isValue(L.vbn)||ss.isValue(L.TuG);if(ga){L.vbn=L.vbn||0;L.TuG=L.TuG||0;fZ.translate(-L.vbn,-L.TuG)}fZ.fillRect(L.nTH,L.Mk_,L.XqN,L.$UU);if(ga){fZ.translate(L.vbn,L.TuG)}return fY}},bi);ss.initClass(bZ,a,{});ss.initClass(ca,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new ca;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=cv.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},tab.FontProperties);ss.initClass(cb,a,{});ss.initClass(cc,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ch,ce,Object]));ss.initClass(cd,a,{show:function(){var e=document.createElement('div');var L=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var fX={testId:'FileDownload-Dlg',isModal:true,title:this.$3,showCloseButton:true,type:0,positioningBehavior:0,onCloseRequest:L,children:this.$2,zIndex:1000};var fY=this.$1(L);fX.footerContent=fY;fX.showFooter=true;var fZ=React.createElement(SharedWidgets.DialogWidget,fX);ReactDOM.render(fZ,e)},$1:function(e){var L=cd.$0(e);var fX=this.$0(e);var fY=[];fY.push(L);fY.push(fX);var fZ=fY;var ga=React.createElement(SharedWidgets.Block,{style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:fZ});return ga},$0:function(e){var L=React.DOM.a({href:this.$4,target:this.$5,className:'tabStyledTextButton tabMediumStyledTextButton tabStyledTextButtonFilledGreen left',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(fY){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var fX=React.createElement(SharedWidgets.InlineBlock,{children:L,className:spiff.ClickBuster.suppressClickBustingClass,style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace}});return fX}});ss.initClass(ce,a,{});ss.initClass(cf,a,{add_complete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_complete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_imageLoaded:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_imageLoaded:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_imageTimedOut:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_imageTimedOut:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},addImage:function(e){if(!ss.isValue(e)){return}for(var L=0,fX=this.$3.length;L<fX;L++){if(!this.$3[L].$8()){this.$2++;this.$3[L].$7(e);return}}if(this.$3.length<2){var fY=new x(this.$3.length);fY.$d(ss.mkdel(this,this.onWorkerFinished));fY.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(fY);this.$2++;fY.$7(e)}else{this.$1.push(e)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var e=0;e<this.$3.length;e++){var L=this.$3[e];L.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(e,L){if(ss.isValue(this.$1$2)){this.$1$2(this,new da(L.get_image()))}this.$0(L.get_workerID())},onWorkerTimedOut:function(e,L){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(L.get_workerID())},$0:function(e){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[e].$7(this.$1.shift());this.$2++}}});ss.initClass(cg,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ch,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var L=0;L<e.length;L++){var fX=e[L];if(fX.enabled){this.$h.set_focusedItem(fX);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var L=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,L,'tabDownloadData'));var fX=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,fX,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var fY=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,fY,'tabDownloadWorkbook'))}if(this.$j&&fc.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(fc.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(fc.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var L='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,L));var fX=spiff.LabelButton.newTextButton();fX.set_label(this.$f());fX.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fX.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(fX.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&fc.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[ci]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ci])]);ss.initClass(ci,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return ch},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarDownload;var L=new ce;L.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(cc,L)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return this.$3.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return this.$3.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new cr;e.setSheetScrollPositions(V.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new cr);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),cS]);ss.initClass(cj,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(ck,a,{showInternal:function(){this.get_body().append(this.$P)}},cj,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cl,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},cj,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cm,a,{});ss.initClass(cn,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(co,a,{},ss.makeGenericType(spiff.BaseView$1,[cp]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cp])]);ss.initClass(cp,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cq,a,{});ss.initClass(cr,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var L=0;L<e.length;L++){var fX=e[L];this.$0[fX.get_sheetName()]=fX.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){var L=e.createPdfExportDialog(tab.CommandController.get().get_legacySession(),tsConfig.is_mobile);L.add_closed(function(){L.dispose();L=null});L.show()})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cs,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(e){if(e!==this.$8){var L=this.$8;this.$8=e;this.toolModeChanged(L)}else if(e===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(e,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(e){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(e){this.canZoomHome=e;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(e){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(e?'':'none')})}if(!e){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')});this.$7=e},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(e){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(e?'':'none')})}},toggleFlyout:function(e){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var L=this.flyOutButton.element.position();var fX=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:L.top+'px',left:fX+'px'});this.updateFlyOutVisibility(true)}},addButton:function(e,L,fX){var fY=new spiff.Button($(document.createElement('div')));fY.set_hoverTooltipText(fX);var fZ=fY;this.$6(e,fZ,L);return fZ},addToggleButton:function(e,L,fX){var fY=new spiff.ToggleButton($(document.createElement('span')));fY.set_hoverTooltipText(fX);var fZ=fY;this.$6(e,fZ,L);return fZ},addSpacer:function(){var e=$(document.createElement('div'));e.addClass('fztSpacer');this.buttonContainer.append(e)},$6:function(e,L,fX){L.element.addClass(fX);L.element.addClass('fztButton');e.append(L.element);this.disposables.add$1(L)},setToolMode:function(e,L){if(e===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(e)}this.api.setPointerToolMode(this.get_currentToolMode(),L)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(e,L){switch(e){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,L);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,L)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,L)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,L);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,L);break}default:{break}}},selectButton:function(e,L){var fX=ss.safeCast(e,spiff.ToggleButton);if(ss.isValue(fX)){fX.set_selected(L)}},toolModeChanged:function(e){this.updateButtonState(e,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(ct,a,{});ss.initClass(cu,a,{});ss.initClass(cv,a,{});ss.initClass(cw,a,{},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cx,a,{show:function(){this.$0.show()},cleanup:function(e){this.$0.closeAndDispose()},dispose:function(){this.$0.dispose()}},be,[ss.IDisposable]);ss.initClass(cy,a,{createOverlay:function(e){var L=$('.dashboardSpacer');var fX=$("<div id='auth-overlay'></div>");var fY=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(e)});var fZ=new cw(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fY);fX.append(fZ.element);L.append(fX)},show:function(){var e=new cq;var L=ss.mkdel(this,function(){this.cleanup(e)});fT.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fT.remove_zoneBecameValid(L)});this.createOverlay(e)}},bd);ss.initClass(dF,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[dG]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,L){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[dG]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dG])]);ss.initClass(cz,a,{},dF,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dG])]);ss.initClass(cA,a,{});ss.initClass(cB,a,{get_button:function(){return this.$b},$a:function(){var e={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$8),ss.mkdel(this,this.$9),e)},$8:function(e){var L={};var fX=Math.abs(0.452185866478557);var fY=Math.abs(e.coords.latitude);var fZ=89.5478141335214;if(fY>fZ){L.Qao=((e.coords.latitude<0)?-90:(e.coords.latitude-fX));L.FVU=((e.coords.latitude<0)?(e.coords.latitude+fX):90)}else{L.Qao=e.coords.latitude-fX;L.FVU=e.coords.latitude+fX}var ga;var gb=Math.cos(cA.degreeToRad(fY));var gc=0.00249530881941949;if(gb<gc){ga=180}else{ga=50/(111.32*gb)}L.kVX=e.coords.longitude-ga;L.eMT=e.coords.longitude+ga;tab.PaneClientCommands.boundingBoxPan(this.$c,L)},$6:function(){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){return true}if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()>=10){return true}if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=10){return true}return false},$7:function(e){var L='';if(e.code===e.PERMISSION_DENIED){if(this.$6()){L=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{L=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(e.code===e.TIMEOUT){L=tab.Strings.GotoMyLocationTimeoutError}else if(e.code===e.POSITION_UNAVAILABLE){if(this.$6()){L=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{L=tab.Strings.GotoMyLocationPositionUnavailableError}}else{L=tab.Strings.GotoMyLocationPositionUnavailableError}return L},$9:function(e){var L=this.$7(e);var fX=this.element.offset();var fY={x:tab.DoubleUtil.roundToInt(fX.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(fX.top)};if(tsConfig.is_mobile){fY.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}dG.showGeoLocationNotification(L,-1,{x:fY.x,y:fY.y})}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initEnum(cC,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initEnum(cD,a,{none:0,misc:1,trendLine:2,referenceLine:3,referenceLineLabel:4,mark:5,markLabel:6});ss.initClass(cE,a,{});ss.initClass(cF,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(e){this.$8=e},get_paneKey:function(){return this.$6},set_paneKey:function(e){this.$6=e},get_paneIndex:function(){return this.$5},set_paneIndex:function(e){this.$5=e},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(e){this.$7=e},addNode:function(e){this.$1.push(e);e.set_parent(this)},addNodes:function(e){ss.arrayAddRange(this.$1,e);for(var L=0;L<e.length;L++){var fX=e[L];fX.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initEnum(cG,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(cH,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(e){this.clear();this.$0(e)},debugDrawBoundingBoxesHierarchies:function(e){this.clear();for(var L=0;L<e.length;L++){var fX=e[L];this.$0(fX)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(e){var L=new Array;L.push(e);while(L.length>0){var fX=L.shift();if(fX.get_nodeType()===2){var fY=fX.get_boundingBox();this.get_context2D().save();if(cH.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(fY.x,fY.y,fY.w,fY.h);this.get_context2D().restore();++cH.$0}if(fX.get_nodeType()===3||fX.get_nodeType()===5){var fZ=fX.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(fZ.x,fZ.y,fZ.w,fZ.h);this.get_context2D().restore()}if(fX.get_nodeType()===4){var ga=fX.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(ga.x,ga.y,ga.w,ga.h);this.get_context2D().restore()}var gb=fX.get_children();gb.forEach(function(gc){L.push(gc)})}}});ss.initClass(cI,a,{hitTestPanes:function(e){var L=[];var fX=new Array;fX.push(this.$5);while(fX.length>0){var fY=fX.pop();var fZ=tab.RectXYUtil.intersectsWith(fY.get_boundingBox(),e);if(fZ){if(fY.get_nodeType()===1){L.push(fY.get_paneKey())}else{var ga=fY.get_children();ga.forEach(function(gb){fX.push(gb)})}}}return L},hitTest:function(e,L,fX){if(tab.RectXYUtil.isEmpty(e)){return[]}var fY=this.hitTestBoundingBoxes(e,L,fX);return(L?this.hitTestSingle(e,fX,fY):this.$1(e,fX,fY))},hitTestSingle:function(e,L,fX){var fY=e.x+e.w/2;var fZ=e.y+e.h/2;var ga={};var gb=[];for(var gc=fX.length-1;gc>=0;gc--){var gd=fX[gc];if(gd.get_objectId()<0){continue}var ge=cF.findPaneNode(gd);if(ss.isNullOrUndefined(ge)){continue}if(ss.isNullOrUndefined(ga[ge.get_paneIndex()])){ga[ge.get_paneIndex()]=[];gb.push(ge)}ga[ge.get_paneIndex()].push(gd)}var gf=[];var gg=[];var gh={};for(var gi=0;gi<gb.length;gi++){var gj=gb[gi];var gk=L.getPaneDrawInfoFromKey(gj.get_paneKey());var gl=tab.RectXYUtil.offsetRect(e,{x:-gk.paneRect.x,y:-gk.paneRect.y});var gm=ga[gj.get_paneIndex()];for(var gn=0;gn<gm.length;gn++){var go=gm[gn];var gp=gk.getMarkState(go.get_objectId());var gq=go.get_worldOffset();var gr=gk.c.get('tuple_id').gv(go.get_objectId());var gs=false;if(ss.isValue(go.get_labelBox())){gs=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(go.get_labelBox(),e)}if(gs){gf.push(new cJ.$ctor1(gr,6,3));gh[gr]={item1:gj.get_paneOrderIndex(),item2:gp}}var gt=cI.$0(gk,gl,go.get_objectId(),gq,gk.markType);if(gt){gf.push(new cJ.$ctor1(gr,5,3));gh[gr]={item1:gj.get_paneOrderIndex(),item2:gp}}else if(gf.length===0){var gu=cI.$1(gk,gl,go.get_objectId(),gq,gk.markType);if(gu){var gv;switch(gk.markType){case'line':{gv=dz.$p(gk,fY,fZ,go.get_objectId());break}case'bar':case'square':{gv=dz.$b(gk,fY,fZ,go.get_objectId());break}case'shape':{gv=dz.$1B(gk,fY,fZ,go.get_objectId());break}case'text':{gv=dz.$1J(gk,fY,fZ,go.get_objectId());break}case'area':{gv=dz.$3(gk,fY,fZ,go.get_objectId());break}default:{gv=cA.getSquaredDistanceToCenter(go.get_boundingBox(),{x:fY,y:fZ});break}}var gw=new cJ.$ctor1(gr,5,2);gg.push({item1:gw,item2:gv});gh[gr]={item1:gj.get_paneOrderIndex(),item2:gp}}else{}}}}if(gf.length>0){var gx=this.$4(gf,gh);if(gx.get_hitType()===3){return[gx]}}if(gg.length>0){var gy=this.$3(gg,gh);if(gy.get_hitType()===2){return[gy]}}return[]},$1:function(e,L,fX){var fY=[];for(var fZ=fX.length-1;fZ>=0;fZ--){var ga=fX[fZ];var gb=ga.get_objectId();if(gb<0){continue}var gc=cF.findPaneNode(ga);if(ss.isNullOrUndefined(gc)){continue}var gd=L.getPaneDrawInfoFromKey(gc.get_paneKey());var ge=cI.getTransformInfo(gd,ga);var gf=cI.rectangleAreaHit(gd,ga.get_boundingBox(),e,gb,ge,gd.markType);if(gf){fY.push(new cJ.$ctor1(gd.c.get('tuple_id').gv(gb),5,1))}}return fY},hitTestBoundingBoxes:function(e,L,fX){if(tab.RectXYUtil.isEmpty(e)){return[]}var fY=[];var fZ=new Array;var ga={};fZ.push(this.$5);while(fZ.length>0){var gb=fZ.pop();var gc=e;if(L&&ss.isValue(fX)&&gb.get_nodeType()===3){var gd=cF.findPaneNode(gb);if(ss.isValue(gd)){var ge=gd.get_paneKey();if(ss.keyExists(ga,ge)){gc=ga[ge]}else{var gf=fX.getPaneDrawInfoFromKey(gd.get_paneKey());if(ss.isValue(gf)){var gg;switch(gf.markType){case'bar':case'square':{gg=dz.$c(gf,gb.get_objectId());break}case'shape':{gg=dz.$1C(gf,gb.get_objectId());break}case'text':{gg=dz.$1K(gf,gb.get_objectId());break}case'area':{gg=dz.$4(gf,gb.get_objectId());break}default:{gg=null;break}}if(ss.isValue(gg)&&!tab.SizeUtil.isEmpty(gg)){gc=tab.RectXYUtil.outsetRectSizeF(gc,gg)}}ga[ge]=gc}}}var gh=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(gb.get_boundingBox(),gc);if(!gh&&L&&ss.isValue(gb.get_labelBox())){gh=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(gb.get_labelBox(),e)}if(gh){if(gb.get_nodeType()===3){fY.push(gb)}else{var gi=gb.get_children();gi.forEach(function(gj){fZ.push(gj)})}}}return fY},$4:function(e,L){if(e.length===0){return new cJ.$ctor1(0,0,0)}var fX=new cJ.$ctor1(0,0,0);e.sort(function(gb,gc){return((gb.get_id()>gc.get_id())?-1:1)});for(var fY=0;fY<e.length;fY++){var fZ=e[fY];if(!ss.keyExists(L,fZ.get_id())){continue}if(L[fZ.get_id()].item2==='markStateInvisible'){continue}if(fX.get_hitType()===0){fX=fZ}else{var ga=this.$0(fZ.get_id(),fX.get_id(),L);if(ga>0){fX=fZ}else if(ga===0){if(fZ.get_hitObjectType()>fX.get_hitObjectType()){fX=fZ}}}}return fX},$3:function(e,L){if(e.length===0){return new cJ.$ctor1(0,0,0)}var fX=new cJ.$ctor1(0,0,0);var fY=null;e.sort(function(gd,ge){return((gd.item1.get_id()>ge.item1.get_id())?-1:1)});for(var fZ=0;fZ<e.length;fZ++){var ga=e[fZ];var gb=ga.item1;var gc=ga.item2;if(!ss.keyExists(L,gb.get_id())){continue}if(L[gb.get_id()].item2==='markStateInvisible'){continue}if(fX.get_hitType()===0){fX=gb;fY=gc}else if(ss.Nullable$1.lt(gc,fY)){fX=gb;fY=gc}else if(gc===fY&&this.$0(gb.get_id(),fX.get_id(),L)>0){fX=gb}}return fX},$0:function(e,L,fX){var fY=fX[e];var fZ=fX[L];var ga=this.$2(fY.item2);var gb=this.$2(fZ.item2);if(ga>gb){return 1}if(ga===gb){var gc=fY.item1;var gd=fZ.item1;if(gc>gd){return 1}if(gc===gd){return 0}}return-1},$2:function(e){switch(e){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(cJ,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 3:case 4:{return'ref-line'}case 2:{return'trend-line'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 3:case 4:case 2:{return'visualparts'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}});cJ.$ctor1.prototype=cJ.prototype;ss.initClass(cK,a,{});ss.initClass(dn,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(cL,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},dn,[ss.IDisposable]);ss.initClass(cM,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(cN,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cP,a,{},[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[U])]);ss.initInterface(cT,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cU,a,{add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,get_captions:null,get_currentPointIndex:null,clickNext:null,clickPrevious:null});ss.initInterface(cV,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initClass(cX,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,L){if(!ss.referenceEquals(this.get_frame().prop('original_url'),L)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',L)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(cY,a,{get_type:null});ss.initClass(cZ,a,{get_imageNode:function(){return this.$2},set_imageNode:function(e){this.$2=e},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(da,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(db,a,{});ss.initClass(dc,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dd,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$j},$h:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.$j=this.$b()},$b:function(){var e=$('<img>');var L=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$j)){window.setTimeout(ss.mkdel(this,function(){this.$i=e.get(0);this.$f()}),1)}else{this.$i=e.get(0);this.$f()}e.off('load')});e.on('load',L);var fX=this.$h().get_imageUrl();if(!ss.isNullOrEmptyString(this.$h().get_imageZonePresModel().Gqc)){fX='data:image/jpeg;base64,'+this.$h().get_imageZonePresModel().Gqc}e.css('border','none').css('display','block').attr('src',fX);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$f()},$f:function(){var e=this.$h().get_imageZonePresModel();if(e.qWY){this.$e()}var L=this.$g();this.$9(L);if(e.OvI){this.$a(L)}return L},$c:function(){var e=this.$h().get_zoneModel();var L=this.$h().get_imageZonePresModel();var fX=fn.absolutizeURI(L.ZNi,false);var fY=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$1(L.ixs)&&!tab.MiscUtil.isNullOrEmpty$1(fX);if(fY){return $('<a/>').attr('href',fX).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$g:function(){var e=this.get_image();var L=this.$c();L.append(e);return L},$e:function(){var e=this.$h().get_zoneModel();var L=this.$i['width'];var fX=this.$i['height'];if(tab.BrowserSupport.get_isIE()){L=this.$i['naturalWidth'];fX=this.$i['naturalHeight']}var fY=0;var fZ=0;var ga;if(L/e.get_zoneCommonModel().get_contentWidth()>=fX/e.get_zoneCommonModel().get_contentHeight()){ga={width:e.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'};fY=e.get_zoneCommonModel().get_contentWidth();fZ=ss.Int32.trunc(e.get_zoneCommonModel().get_contentWidth()/L*fX)}else{ga={height:e.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'};fZ=e.get_zoneCommonModel().get_contentHeight();fY=ss.Int32.trunc(e.get_zoneCommonModel().get_contentHeight()/fX*L)}if(tab.BrowserSupport.get_isIE()){var gb=window.screen['deviceXDPI'];var gc=window.screen['systemXDPI'];var gd=gb/gc>1;if(!gd&&fY>0&&fZ>0&&fY/L<0.75&&L<500&&fX<500){var ge=this.$j.get(0).getAttribute('src');var gf=db.scaleImage(this.$i,fY,fZ,ss.Int32.trunc(L),ss.Int32.trunc(fX));this.$j=$(gf);this.$j.get(0).setAttribute('src',ge);ga=ss.mkdict(['width',fY+'px','height',fZ+'px'])}else{this.$j=$(this.$i)}}this.$j.css(ga)},$a:function(e){var L=this.$h().get_zoneModel();var fX=ss.Int32.div(L.get_zoneCommonModel().get_contentHeight()-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var fY=ss.Int32.div(L.get_zoneCommonModel().get_contentWidth()-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',fX.toString()+'px','left',fY.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[de]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[de])]);ss.initClass(de,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var L=e.formatDashboardTempfileReference(this.get_imageZonePresModel().ixs,true,false);return L},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initInterface(dg,a,{get_location:null,set_location:null});ss.initClass(dh,a,{});ss.initInterface(di,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(dj,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(dk,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initInterface(dl,a,{get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initClass(dm,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,L){e.toggleClass('tabIterButtonDisabled',!L)}},null,[ss.IDisposable]);ss.initClass(dq,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$j.get_useFastMaps()},$g:function(){return new L.LatLng(this.$j.get_centerLatitude(),this.$j.get_centerLongitude())},zoomOnPoint:function(e,fX){this.$9(ss.mkdel(this,function(fY){var fZ=fV.incrementZoom(this.$j.get_zoom(),fX);var ga=fY.containerPointToLatLng(new L.Point(e.x,e.y));_.defer(ss.mkdel(this,function(){this.$d(ga,fZ,true)}))}))},animateAnchorZoom:function(e,fX){var fY=new L.LatLng(fX.x,fX.y);_.defer(ss.mkdel(this,function(){this.$e(fY,e)}))},zoomRect:function(e){this.$9(ss.mkdel(this,function(fX){var fY=new L.Point(e.x,e.y+e.h);var fZ=new L.Point(e.x+e.w,e.y);var ga=new L.LatLngBounds(fX.containerPointToLatLng(fY),fX.containerPointToLatLng(fZ));var gb=new L.Point(e.x+ss.Int32.div(e.w,2),e.y+ss.Int32.div(e.h,2));var gc=fX.containerPointToLatLng(gb);this.$a(ga,gc,true)}))},moveToBounds:function(e){if(!this.get_enabled()){return}var fX=new L.LatLngBounds(new L.LatLng(e.Qao,e.kVX),new L.LatLng(e.FVU,e.eMT));var fY=new L.LatLng((e.FVU+e.Qao)*0.5,(e.eMT+e.kVX)*0.5);var fZ=this.$a(fX,fY,true);fZ.done(ss.mkdel(this,function(L){if(!L){this.removeMarkOverlay()}}))},$a:function(e,L,fX){var fY=$.Deferred();this.$h.done(ss.mkdel(this,function(fZ){var ga=fZ.getBoundsZoom(e,true);var gb=fV.resolveDesiredZoom(this.$j.get_mapServerPresModel(),ga);fX=fX&&Math.abs(fZ.getZoom()-gb)<=2;_.defer(ss.mkdel(this,function(){this.$d(L,gb,fX)}));fY.resolve(fX)}));return fY},panTo:function(e,fX){this.$9(ss.mkdel(this,function(fY){var fZ=fY.latLngToContainerPoint(this.$g());var ga=new L.Point(fZ.x-e,fZ.y-fX);var gb=fY.containerPointToLatLng(ga);var gc=new Object;gc.animate=false;var gd=gc;fY.panTo(gb,gd)}))},getPointLatLong:function(e){var fX=new L.Point(e.x,e.y);var fY=$.Deferred();this.$h.done(function(L){var fZ=L.containerPointToLatLng(fX);var ga={x:fZ.lat,y:fZ.lng};fY.resolve(ga)});return fY},touchMove:function(e,fX,fY){if(isNaN(fY)||isNaN(fX)||isNaN(e)){return}if(tab.DoubleUtil.isApproximatelyEqual(fY,1)&&!this.$m){this.panTo(e,fX);return}this.$h.done(ss.mkdel(this,function(fZ){if(!this.$m){var ga=fZ.getPanes();$(ga.mapPane).addClass('leaflet-touching');$(ga.overlayPane).addClass('leaflet-touching');this.$i=new L.Point(e,fX)}this.$m=true;tab.WindowHelper.cancelAnimationFrame(this.$o);this.$o=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=fV.combineTileZoomAndStretch(this.$j.get_zoom(),fY);this.$1(fZ,L,fY,e,fX)}))}))},touchEnd:function(e,L,fX){this.$9(ss.mkdel(this,function(fY){this.$c(fY);if(this.$m){var fZ=fV.combineTileZoomAndStretch(this.$j.get_zoom(),fX);var ga=fV.resolveDesiredZoom(this.$j.get_mapServerPresModel(),fZ);fX=Math.pow(2,ga-this.$j.get_zoom());this.$1(fY,ga,fX,e,L)}this.$m=false}))},splatOverlayToMapForTransition:function(e){if(ss.isNullOrUndefined(this.$h)||ss.isValue(this.$l)){return}var fX=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);var fY=ss.mkdel(this,function(fZ){var ga=ef.calculatePixelRatio(true);if(!bk.canvasDensified(e)){ga=1}var gb=Math.floor(2*ga);var gc={x:gb,y:gb,w:e.width-2*gb,h:e.height-2*gb};var gd=Math.floor(fZ.latLngToContainerPoint(dq.$1(dq.$6)).y*ga);var ge=Math.floor(fZ.latLngToContainerPoint(dq.$1(dq.$8)).y*ga);if(ge<e.height){gc.h=ge}if(gd>0){gc.y+=gd;gc.h-=gd}var gf=new Object;gf.pixelRatio=ga;var gg=gf;this.$l=new L.CanvasOverlay(fZ.getBounds(),gg);fZ.addLayer(this.$l);var gh=this.$l.getCanvas();var gi=bi.getRenderContext(gh,'transparent');var gj={x:gb,y:gb,w:gc.w,h:gc.h};gi.drawImage5(e,gc.x,gc.y,gc.w,gc.h,gj.x,gj.y,gj.w,gj.h);e.width=e.width;fX.dispose()});this.$h.done(fY)},$3:function(e,L){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$j=L;this.$6();var fX=this.$5();this.$n=new y;this.$n.domRoot.appendTo(e);var fY=$.Deferred();this.$h=fY;tab.ModuleManager.load$1('leaflet',[]).done(ss.mkdel(this,function(fZ){this.$2(fY,fX)}))},$2:function(e,fX){var fY=this.$4();var fZ=new L.Map(this.$n.$4(),fY);e.resolve(fZ);this.$k=new L.TileLayer(this.$j.get_tileUrl(),fX);this.$f();fZ.addLayer(this.$k);this.$j.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$j.get_hasWashout()){var ga=this.$j.get_washoutColor();var gb=dq.$0(ga.toRgb());fX=this.$5();fX.opacity=ga.get_a();fZ.addLayer(new L.TileLayer(gb,fX))}this.$n.$3(this.$j.get_mapBGFillColor());this.$0(this.$j.get_zoom(),false)},$f:function(){var e=(this.$j.get_hasValidTileLayer()?1:0);this.$k.setOpacity(e)},$6:function(){if(ss.isValue(this.$h)){this.$h.done(function(e){e.remove()});this.$h=null;if(ss.isValue(this.$j)){this.$j.remove_newMapServerInfo(ss.mkdel(this,this.$8))}this.$j=null;this.$n.dispose();this.$n=null}},$8:function(){this.$9(ss.mkdel(this,function(e){if(e._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$f();var L=this.$g();var fX=e.latLngToContainerPoint(e.getCenter());var fY=e.latLngToContainerPoint(L);var fZ=Math.abs(e.getZoom()-this.$j.get_zoom());if(fZ>0.001){}var ga=fZ<0.01&&fX.distanceTo(fY)<8;this.$d(L,this.$j.get_zoom(),ga);this.$7(e)}}))},$7:function(e){var L=$(e.getPanes().tilePane).find('.leaflet-tile-container');for(var fX=0;fX<L.length;++fX){if(!tab.MiscUtil.isNullOrEmpty$1(L[fX].style.visibility)){e._onZoomTransitionEnd();break}}},$b:function(e,L){this.$9(ss.mkdel(this,function(fX){tab.DomUtil.setMarginBox(fX.getContainer(),{l:0,t:0,w:e,h:L});fX.invalidateSize(false);this.$0(this.$j.get_zoom(),false);this.$n.$2()}))},setScrollX:function(e){this.$9(function(L){L.getContainer().style.left=-e+'px'})},setScrollY:function(e){this.$9(function(L){L.getContainer().style.top=-e+'px'})},removeMarkOverlay:function(){if(ss.isValue(this.$l)){this.$h.done(ss.mkdel(this,function(e){e.removeLayer(this.$l);this.$7(e);this.$c(e)}))}this.$l=null},dispose:function(){this.$6()},$4:function(){var e=new Object;e.center=this.$g();e.zoom=this.$j.get_zoom();e.zoomControl=false;e.attributionControl=false;return e},$5:function(){var e=new Object;e.maxZoom=100;e.maxNativeZoom=this.$j.get_maxZoom();e.minZoom=this.$j.get_minZoom();e.continuousZoom=true;e.intermediateTileLevels=ss.isValue(this.$j.get_intermediateTileLevels())&&this.$j.get_intermediateTileLevels()>1;var L=this.$j.get_mapServerPresModel().WLq;e.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(L);e.tileSize=L;return e},$e:function(e,L){var fX=new Object;fX.animate=true;var fY=fX;if(L<0){return}this.$h.done(ss.mkdel(this,function(fZ){if(fZ._animatingZoom){this.$7(fZ)}fZ.setZoomAround(e,L,fY);this.$0(L,true)}))},$d:function(e,L,fX){var fY=new Object;fY.animate=fX;var fZ=fY;if(L<0){return}this.$h.done(ss.mkdel(this,function(ga){if(ga._animatingZoom){this.$7(ga)}ga.setView(e,L,fZ);this.$0(L,fX)}))},$0:function(e,L){var fX=tab.MapUtil.getVisiblePixelWidth(e,this.$j.get_numWorldRepeats(),this.$j.get_tilePixelSize());var fY=this.$n.$5();var fZ=Math.ceil((fY-fX)/2);fZ=Math.max(fZ,0);this.$n.$1(fZ,L)},$1:function(e,fX,fY,fZ,ga){var gb=new L.Point(fZ,ga);gb=gb.subtract(this.$i);var gc=e.containerPointToLayerPoint(e.getSize().divideBy(2));var gd=(new L.Point(0,0)).subtract(gb).divideBy(fY);var ge=gc.add(gd);var gf=e.layerPointToLatLng(ge);if(isNaN(gf.lat)||isNaN(gf.lng)){return}e._animateZoom(gf,fX,gc,fY,gb);this.$0(fX,false)},$c:function(e){$(e.getPanes().mapPane).removeClass('leaflet-touching');$(e.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$o)},$9:function(e){if(!this.get_enabled()){return}this.$h.done(e)}},null,[ss.IDisposable]);ss.initClass(dr,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(ds,a,{get_lineAttributes:function(){return this.$1},$0:function(e){ss.clear(this.$1);var L=e.markCount;var fX=new dr(0);for(var fY=0;fY<L;fY++){var fZ=e.getMarkBounds(fY);tab.RectXYUtil.unionInPlace(fX.boundingBox,fZ);var ga=e.getMarkState(fY);if(ga==='markStateSelected'){fX.selectedCount++;if(e.isMarkHighlighted(fY)){fX.highlightedCount++}}else if(ga==='markStateHighlighted'){fX.highlightedCount++}if(e.markNeedsDraw(fY)){fX.marksNeedingDraw.push(fY)}if(e.isMarkEndPrimitive(fY)){fX.worldOffsets=e.getWorldInstanceOffsets(fX.boundingBox.x,fX.boundingBox.x+fX.boundingBox.w);fX.endIndex=fY;fX.sloppyBoundingBox=tab.RectXYUtil.outsetRect(fX.boundingBox,4,4);this.$1.push(fX);fX=new dr(fY+1)}}}});ss.initClass(fI,a,{add_updated:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_updated:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_current:function(){return this.$0},set_current:function(e){this.$0=e;if(ss.isValue(this.$1$1)){this.$1$1(e)}},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.set_current(null)},isWithinLastHitTestDistance:function(e){if(this.get_hasHit()){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.isWithinDistance(this.get_current().get_regionCoordinates(),L,20)}return false},getLastHitTestDistance:function(e){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.distance(this.get_current().get_regionCoordinates(),L)}return-1},getAsync:function(e){var L=$.Deferred();if(this.isWithinLastHitTestDistance(e)){L.resolve(this.$0)}else{var fX=null;fX=ss.mkdel(this,function(fY){this.remove_updated(fX);L.resolve(fY)});this.add_updated(fX);this.update(e)}return L.promise()},update:function(e){this.lastEvent=e;this.$1.invokeActionDelayed()},makePaneSpecId:function(e,L){return L*this.paneTable.get_numColumns()+e},hitTest:null},null,[ss.IDisposable]);ss.initClass(dt,a,{hitTest:function(e,L){var fX=this.region.getPaneDrawInfoFromSelectionAnchor(e);if(ss.isValue(fX)){var fY=this.region.hitTestSingleMarksAndVisualParts(e);var fZ=this.makePaneSpecId(fX.paneColumn,fX.paneRow);this.set_current(new fH(this.region,fZ,fX.paneColumn,fX.paneRow,e,L,fY))}else{this.set_current(null)}}},fI,[ss.IDisposable]);ss.initClass(du,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dv,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return React.DOM.div({className:'tab-MapScale',title:e,style:this.$2()},React.DOM.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),React.DOM.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),React.DOM.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(dw,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return dw.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dx,a,{get_compositeSearchWidget:function(){return this.$h},get_isCollapsed:function(){return this.$i},set_isCollapsed:function(e){this.$i=e;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$i);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$i)},get_isVisible:function(){return this.$j},set_isVisible:function(e){if(tab.FeatureParamsLookup.getBool(28)===true){e=true}if(this.$j===e){return}this.$j=e;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$j?'':'none'))},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},$b:function(e){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$c:function(e){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$a:function(e){this.$e();if(e.trim().length===0){this.removeList()}else{this.$g();this.$f()}},showNewSuggestions:function(e,L){if(!ss.referenceEquals(e,this.$h.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.$k=tab.MiscUtil.dispose(this.$k);this.$k=[];for(var fX=0;fX<L.length;fX++){var fY=L[fX];this.$k.push(spiff.ListItemViewModel.newListItem(fX.toString(),fY,false,false,false))}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$g:function(){if(ss.isNullOrUndefined(this.$k)){return}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$9:function(e){var L=$("<span class='tab-list-item-label'/>");var fX='<span/>';var fY=$(fX);var fZ=$(fX);fY.addClass('tabMapsSearchViewSuggestionDisplayName');var ga=e.JYk;var gb=ss.trimEndString(this.$h.get_textInputView().get_text());if(ss.startsWithString(ga.toLowerCase(),gb.toLowerCase())){var gc=$(fX);gc.addClass('tabMapsSearchViewSuggestionActiveSearchText');gc.text(ga.substr(0,gb.length));fY.append(gc);var gd=$(fX);gd.text(ga.substr(gb.length));fY.append(gd)}else{fY.text(e.JYk)}L.append(fY);fZ.addClass('tabMapsSearchViewSuggestionParentName');fZ.text(e.JiO);L.append(fZ);return L},handleEnterKeyPress:function(){this.$e();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.removeList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(e){this.$e();this.removeList();this.mapsSearchViewModel.moveMapToSuggestionListItem(e)},collapseSearchWidget:function(){this.set_isCollapsed(true)},removeList:function(){this.$h.removeList();this.$k=tab.MiscUtil.dispose(this.$k)},setGeoLocationButtonVisibility:function(e){if(e){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$e();this.set_isCollapsed(!this.$i);if(!this.$i){if(!tab.BrowserSupport.get_isIE()){this.$h.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$f:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$d),200)},$e:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$d:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$e()},updateSearchTextValue:function(e){var L=e.JYk;if(!ss.isNullOrEmptyString(e.JiO)){L+=', '+e.JiO}this.get_compositeSearchWidget().setSearchText(L)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$h.get_textInputView().get_inputElement())},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')})},createListItemContent:function(e){return this.$9(e.get_data())},dispose:function(){this.$h.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[dy]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[dy]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dy]),spiff.IListItemContentCreator]);ss.initClass(dy,a,{add_receivedNewSuggestions:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedNewSuggestions:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateTextInputValue:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateTextInputValue:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_onMoveMapToBounds:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_onMoveMapToBounds:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_visualID:function(){return this.$2},commitToSearchString:function(e){e=e.trim();this.sendGeographicSearchQuery(e,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(e){this.sendGeographicSearchQuery(e,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(e){if(ss.isValue(this.$2$2)){this.$2$2(e)}if(ss.isValue(this.$2$3)){this.$2$3(e.v_N)}tab.PaneClientCommands.boundingBoxPan(this.$2,e.v_N)},moveMapToSuggestionListItem:function(e){var L=e.get_data();this.moveMapToCandidateBounds(L)},moveToTopGeographicCandidate:function(e){var L=e.vOC;if(L.length===0){}else{var fX=L[0];this.moveMapToCandidateBounds(fX)}},processGeographicSuggestions:function(e){if(!ss.isValue(this.$2$1)){return}var L=[];for(var fX=0;fX<e.vOC.length;fX++){L.push(e.vOC[fX])}this.$2$1(e.Ikc,L)},sendGeographicSearchQuery:function(e,L,fX){var fY=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,e,fY,L,fX)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dz,a,{$o:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);this.get_currentContext().save();switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.$e(e,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.$e(e,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.$e(e,gi,'normalOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.$e(e,gi,'normalOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.$e(e,gi,'selectedUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.$e(e,gi,'normalOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},$e:function(e,L,fX,fY){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}var fZ=((fX!=='normalOn')?0:bi.get_multipolyLineSizeOffset());var ga='empty';var gb=e.getMarkGeometry(e.c.get('geometry').gv(L));if(ss.isValue(gb)){ga=gb.TDA}switch(ga){case'multiPolygon':{if(!e.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(e.c.get('x').gv(L),e.c.get('y').gv(L));this.get_currentContext().scale(e.c.get('size').gv(L),e.c.get('size').gv(L))}bi.createMultipolygonPath(this.get_currentContext(),gb);if(!e.hasPixelGeometry){this.get_currentContext().restore()}switch(fX){case'normalUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('halo_color').gv(L)[fY])}break}case'selectedUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('selected_halo_color').gv(L)[fY])}break}case'normalOn':{{this.fillCurrentPath(e.getMarkColors(L)[fY])}if(e.c.get('draw_border').gv(L)){this.strokeCurrentPath(1-fZ,e.c.get('border_color').gv(L)[fY])}break}default:{break}}break}case'multiLineString':{if(!e.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(e.c.get('x').gv(L),e.c.get('y').gv(L));this.get_currentContext().scale(e.c.get('size').gv(L),e.c.get('size').gv(L))}if(!e.hasPixelGeometry){this.get_currentContext().restore()}switch(fX){case'normalUnder':{{}{}break}case'selectedUnder':{{}{}break}case'normalOn':{{}break}default:{break}}break}case'multiPoint':{if(!e.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(e.c.get('x').gv(L),e.c.get('y').gv(L));this.get_currentContext().scale(e.c.get('size').gv(L),e.c.get('size').gv(L))}bi.createMultipointPath(this.get_currentContext(),7,gb);if(!e.hasPixelGeometry){this.get_currentContext().restore()}switch(fX){case'normalUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('halo_color').gv(L)[fY])}break}case'selectedUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('selected_halo_color').gv(L)[fY])}break}case'normalOn':{{this.fillCurrentPath(e.getMarkColors(L)[fY])}if(e.c.get('draw_border').gv(L)){this.strokeCurrentPath(1-fZ,e.c.get('border_color').gv(L)[fY])}break}default:{break}}break}case'empty':{bi.createPlaceholderPath(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),7);switch(fX){case'normalUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('halo_color').gv(L)[fY])}break}case'selectedUnder':{{this.strokeCurrentPath(2-fZ,e.c.get('selected_halo_color').gv(L)[fY])}break}case'normalOn':{{this.fillCurrentPath(e.getMarkColors(L)[fY])}if(e.c.get('draw_border').gv(L)){this.strokeCurrentPath(1-fZ,e.c.get('border_color').gv(L)[fY])}break}default:{break}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$k:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);var gf=e.get_lineDrawState();this.get_currentContext().save();switch(fX){case'normalUnderPass':{break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}var gg=gf.get_lineAttributes();for(var gh=0;gh<gg.length;gh++){var gi=gg[gh];if(gi.get_lineState()!=='lineStateNormal'){continue}var gj=gi.worldOffsets;var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(this.get_currentContext(),gm);{for(var gn=0;gn<gi.marksNeedingDraw.length;gn++){var go=gi.marksNeedingDraw[gn];this.$9(e,go,'edgeOn',ga,gi.startIndex)}}if(gm!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';var gp=gf.get_lineAttributes();for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];if(gr.get_lineState()!=='lineStateHighlighted'){continue}var gs=gr.worldOffsets;var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dz.$1w(this.get_currentContext(),gv);{for(var gw=0;gw<gr.marksNeedingDraw.length;gw++){var gx=gr.marksNeedingDraw[gw];this.$9(e,gx,'edgeOn',ga,gr.startIndex)}}if(gv!==0){this.get_currentContext().restore()}}}var gy=gf.get_lineAttributes();for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];if(gA.get_lineState()!=='lineStateHighlighted'){continue}var gB=gA.worldOffsets;var gC=gB.length;for(var gD=0;gD<gC;gD++){var gE=gB[gD];dz.$1w(this.get_currentContext(),gE);if(!gA.get_allHighlighted()){{for(var gF=0;gF<gA.marksNeedingDraw.length;gF++){var gG=gA.marksNeedingDraw[gF];if(e.getMarkState(gG)==='markStateHighlighted'){this.$9(e,gG,'highlightedUnder1',ga,gA.startIndex);this.$9(e,gG,'highlightedUnder',ga,gA.startIndex)}}}{for(var gH=0;gH<gA.marksNeedingDraw.length;gH++){var gI=gA.marksNeedingDraw[gH];if(e.getMarkState(gI)==='markStateHighlighted'){this.$9(e,gI,'highlightedOn1',ga,gA.startIndex);this.$9(e,gI,'highlightedOn',ga,gA.startIndex)}}}}if(gE!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';var gJ=gf.get_lineAttributes();for(var gK=0;gK<gJ.length;gK++){var gL=gJ[gK];if(gL.get_lineState()!=='lineStateSelected'){continue}var gM=gL.worldOffsets;var gN=gM.length;for(var gO=0;gO<gN;gO++){var gP=gM[gO];dz.$1w(this.get_currentContext(),gP);{for(var gQ=0;gQ<gL.marksNeedingDraw.length;gQ++){var gR=gL.marksNeedingDraw[gQ];this.$9(e,gR,'edgeOn',ga,gL.startIndex)}}if(gP!==0){this.get_currentContext().restore()}}}var gS=gf.get_lineAttributes();for(var gT=0;gT<gS.length;gT++){var gU=gS[gT];if(gU.get_lineState()!=='lineStateSelected'){continue}var gV=gU.worldOffsets;var gW=gV.length;for(var gX=0;gX<gW;gX++){var gY=gV[gX];dz.$1w(this.get_currentContext(),gY);if(!gU.get_allHighlighted()){{for(var gZ=0;gZ<gU.marksNeedingDraw.length;gZ++){var ha=gU.marksNeedingDraw[gZ];if(e.getMarkState(ha)==='markStateHighlighted'){this.$9(e,ha,'highlightedUnder1',ga,gU.startIndex);this.$9(e,ha,'highlightedUnder',ga,gU.startIndex)}}}{for(var hb=0;hb<gU.marksNeedingDraw.length;hb++){var hc=gU.marksNeedingDraw[hb];if(e.getMarkState(hc)==='markStateHighlighted'){this.$9(e,hc,'highlightedOn1',ga,gU.startIndex);this.$9(e,hc,'highlightedOn',ga,gU.startIndex)}}}}if(gY!==0){this.get_currentContext().restore()}}}var hd=gf.get_lineAttributes();for(var he=0;he<hd.length;he++){var hf=hd[he];if(hf.get_lineState()!=='lineStateSelected'){continue}var hg=hf.worldOffsets;var hh=hg.length;for(var hi=0;hi<hh;hi++){var hj=hg[hi];dz.$1w(this.get_currentContext(),hj);{for(var hk=0;hk<hf.marksNeedingDraw.length;hk++){var hl=hf.marksNeedingDraw[hk];if(e.getMarkState(hl)==='markStateSelected'){this.$9(e,hl,'selectedUnder1',ga,hf.startIndex);this.$9(e,hl,'selectedUnder',ga,hf.startIndex)}}}{for(var hm=0;hm<hf.marksNeedingDraw.length;hm++){var hn=hf.marksNeedingDraw[hm];if(e.getMarkState(hn)==='markStateSelected'){this.$9(e,hn,'selectedOn1',ga,hf.startIndex);this.$9(e,hn,'selectedOn',ga,hf.startIndex)}}}if(hj!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$9:function(e,L,fX,fY,fZ){var ga=e.c.get('l_neighbor').gv(L);var gb=e.c.get('r_neighbor').gv(L);var gc=e.clipCase;if(gc!==0){this.get_currentContext().save();this.clipRect(gc,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}var gd=e.drawBorder;switch(fX){case'edgeOn':{if(e.c.get('r_neighbor').gv(L)!==-1){var ge=[Math.round(e.c.get('x1').gv(L)),Math.round(e.c.get('y1').gv(L)),Math.round(e.c.get('x1').gv(gb)),Math.round(e.c.get('y1').gv(gb)),Math.round(e.c.get('x_prev').gv(gb)),Math.round(e.c.get('y_prev').gv(gb)),Math.round(e.c.get('x_next').gv(L)),Math.round(e.c.get('y_next').gv(L))];this.get_currentContext().set_lineJoin('miter');this.renderFilledPolygon(ge,e.getMarkColors(fZ)[fY])}if(gd&&e.c.get('r_neighbor').gv(L)!==-1){var gf=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x1').gv(gb),e.c.get('y1').gv(gb)];this.renderLine(gf,1,e.c.get('border_color').gv(L)[fY],true)}if(gd&&e.c.get('r_neighbor').gv(L)!==-1){var gg=[e.c.get('x_next').gv(L),e.c.get('y_next').gv(L),e.c.get('x_prev').gv(gb),e.c.get('y_prev').gv(gb)];this.renderLine(gg,1,e.c.get('border_color').gv(L)[fY],true)}if(gd&&(e.c.get('l_neighbor').gv(L)!==-1&&e.c.get('r_neighbor').gv(L)!==-1)){var gh=[e.c.get('x_prev').gv(L),e.c.get('y_prev').gv(L),e.c.get('x_next').gv(L),e.c.get('y_next').gv(L)];this.renderLine(gh,1,e.c.get('border_color').gv(L)[fY],true)}if(gd&&e.c.get('l_neighbor').gv(L)===-1){var gi=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x_next').gv(L),e.c.get('y_next').gv(L)];this.renderLine(gi,1,e.c.get('border_color').gv(L)[fY],true)}if(gd&&e.c.get('r_neighbor').gv(L)===-1){var gj=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x_prev').gv(L),e.c.get('y_prev').gv(L)];this.renderLine(gj,1,e.c.get('border_color').gv(L)[fY],true)}if(!gd&&e.c.get('r_neighbor').gv(L)!==-1){var gk=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x1').gv(gb),e.c.get('y1').gv(gb)];this.renderLine(gk,1,e.getMarkColors(fZ)[fY],true)}if(!gd&&e.c.get('r_neighbor').gv(L)!==-1){var gl=[e.c.get('x_next').gv(L),e.c.get('y_next').gv(L),e.c.get('x_prev').gv(gb),e.c.get('y_prev').gv(gb)];this.renderLine(gl,1,e.getMarkColors(fZ)[fY],true)}if(!gd&&(e.c.get('l_neighbor').gv(L)!==-1&&e.c.get('r_neighbor').gv(L)!==-1)){var gm=[e.c.get('x_prev').gv(L),e.c.get('y_prev').gv(L),e.c.get('x_next').gv(L),e.c.get('y_next').gv(L)];this.renderLine(gm,1,e.getMarkColors(fZ)[fY],true)}if(!gd&&e.c.get('l_neighbor').gv(L)===-1){var gn=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x_next').gv(L),e.c.get('y_next').gv(L)];this.renderLine(gn,1,e.getMarkColors(fZ)[fY],true)}if(!gd&&e.c.get('r_neighbor').gv(L)===-1){var go=[e.c.get('x1').gv(L),e.c.get('y1').gv(L),e.c.get('x_prev').gv(L),e.c.get('y_prev').gv(L)];this.renderLine(go,1,e.getMarkColors(fZ)[fY],true)}break}case'selectedOn':{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x1').gv(L),0+e.c.get('y1').gv(L),5,e.getMarkColors(L)[fY])}break}case'selectedUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x1').gv(L),0+e.c.get('y1').gv(L),5,e.c.get('selected_halo_color').gv(L)[fY],4)}break}case'selectedOn1':{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),5,e.getMarkColors(L)[fY])}break}case'selectedUnder1':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),5,e.c.get('selected_halo_color').gv(L)[fY],4)}break}case'highlightedOn':{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x1').gv(L),0+e.c.get('y1').gv(L),5,e.getMarkColors(L)[fY])}break}case'highlightedUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x1').gv(L),0+e.c.get('y1').gv(L),5,e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}break}case'highlightedOn1':{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),5,e.getMarkColors(L)[fY])}break}case'highlightedUnder1':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),5,e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}break}default:{break}}if(gc!==0){this.get_currentContext().restore()}},$n:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var gf=this.setupContextForTextRendering(e);switch(fX){case'normalUnderPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{var gg=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gh=gc;gh<=gd;gh++){if(!e.markHasLabel(gh)||!e.markLabelNeedsDraw(gh,gg)){continue}if(e.getMarkLabelState(gh)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gh),e.c.get('cell_y').gv(gh),e.c.get('clip_width').gv(gh),e.c.get('clip_height').gv(gh))}var gi=e.getMarkLabelInstanceOffsets(gh);var gj=gi.length;for(var gk=0;gk<gj;gk++){var gl=gi[gk];if(gl!==0){this.get_currentContext().save();this.get_currentContext().translate(gl,0)}this.$d(e,gh,'normalUnder',ga);if(gl!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}ga='colorOverrideNone';{var gm=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gn=gc;gn<=gd;gn++){if(!e.markHasLabel(gn)||!e.markLabelNeedsDraw(gn,gm)){continue}if(e.getMarkLabelState(gn)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gn),e.c.get('cell_y').gv(gn),e.c.get('clip_width').gv(gn),e.c.get('clip_height').gv(gn))}var go=e.getMarkLabelInstanceOffsets(gn);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];if(gr!==0){this.get_currentContext().save();this.get_currentContext().translate(gr,0)}this.$d(e,gn,'normalUnder',ga);if(gr!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}ga='colorOverrideNone';{var gs=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gt=gc;gt<=gd;gt++){if(!e.markHasLabel(gt)||!e.markLabelNeedsDraw(gt,gs)){continue}if(e.getMarkLabelState(gt)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gt),e.c.get('cell_y').gv(gt),e.c.get('clip_width').gv(gt),e.c.get('clip_height').gv(gt))}var gu=e.getMarkLabelInstanceOffsets(gt);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];if(gx!==0){this.get_currentContext().save();this.get_currentContext().translate(gx,0)}this.$d(e,gt,'normalUnder',ga);if(gx!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{var gy=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gz=gc;gz<=gd;gz++){if(!e.markHasLabel(gz)||!e.markLabelNeedsDraw(gz,gy)){continue}if(e.getMarkLabelState(gz)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gz),e.c.get('cell_y').gv(gz),e.c.get('clip_width').gv(gz),e.c.get('clip_height').gv(gz))}var gA=e.getMarkLabelInstanceOffsets(gz);var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];if(gD!==0){this.get_currentContext().save();this.get_currentContext().translate(gD,0)}var gE=this.get_currentContext().get_textAlign()==='end';var gF=e.getMarkLabelProperty('text_run_offset',gz);var gG=e.getMarkLabelProperty('text_run_count',gz);var gH=gG>1;for(var gI=0;gI<gG;gI++){var gJ=gI+gF;if(gE){gJ=gF+gG-gI-1}this.$j(e,gz,'normalOn',ga,gJ,gH,gf)}this.clearPrevTextRunInfo();if(gD!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';{var gK=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gL=gc;gL<=gd;gL++){if(!e.markHasLabel(gL)||!e.markLabelNeedsDraw(gL,gK)){continue}if(e.getMarkLabelState(gL)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gL),e.c.get('cell_y').gv(gL),e.c.get('clip_width').gv(gL),e.c.get('clip_height').gv(gL))}var gM=e.getMarkLabelInstanceOffsets(gL);var gN=gM.length;for(var gO=0;gO<gN;gO++){var gP=gM[gO];if(gP!==0){this.get_currentContext().save();this.get_currentContext().translate(gP,0)}var gQ=this.get_currentContext().get_textAlign()==='end';var gR=e.getMarkLabelProperty('text_run_offset',gL);var gS=e.getMarkLabelProperty('text_run_count',gL);var gT=gS>1;for(var gU=0;gU<gS;gU++){var gV=gU+gR;if(gQ){gV=gR+gS-gU-1}this.$j(e,gL,'highlightedOn',ga,gV,gT,gf)}this.clearPrevTextRunInfo();if(gP!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideOpaque';{var gW=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gX=gc;gX<=gd;gX++){if(!e.markHasLabel(gX)||!e.markLabelNeedsDraw(gX,gW)){continue}if(e.getMarkLabelState(gX)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(gX),e.c.get('cell_y').gv(gX),e.c.get('clip_width').gv(gX),e.c.get('clip_height').gv(gX))}var gY=e.getMarkLabelInstanceOffsets(gX);var gZ=gY.length;for(var ha=0;ha<gZ;ha++){var hb=gY[ha];if(hb!==0){this.get_currentContext().save();this.get_currentContext().translate(hb,0)}this.$d(e,gX,'selectedUnder',ga);if(hb!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';{var hc=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var hd=gc;hd<=gd;hd++){if(!e.markHasLabel(hd)||!e.markLabelNeedsDraw(hd,hc)){continue}if(e.getMarkLabelState(hd)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c.get('cell_x').gv(hd),e.c.get('cell_y').gv(hd),e.c.get('clip_width').gv(hd),e.c.get('clip_height').gv(hd))}var he=e.getMarkLabelInstanceOffsets(hd);var hf=he.length;for(var hg=0;hg<hf;hg++){var hh=he[hg];if(hh!==0){this.get_currentContext().save();this.get_currentContext().translate(hh,0)}var hi=this.get_currentContext().get_textAlign()==='end';var hj=e.getMarkLabelProperty('text_run_offset',hd);var hk=e.getMarkLabelProperty('text_run_count',hd);var hl=hk>1;for(var hm=0;hm<hk;hm++){var hn=hm+hj;if(hi){hn=hj+hk-hm-1}this.$j(e,hd,'normalOn',ga,hn,hl,gf)}this.clearPrevTextRunInfo();if(hh!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$d:function(e,L,fX,fY){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}switch(fX){case'normalUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var fZ=e.getMarkLabelProperty('x',L);var ga=e.getMarkLabelProperty('y',L);var gb=e.getMarkLabelProperty('width',L);var gc=-e.getMarkLabelProperty('height',L);if(gc<0){ga+=gc;gc=Math.abs(gc)}var gd=0;var ge=0;var gf;if(e.isMarkImpliedSelected(L)){gf=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gf=e.getMarkLabelProperty('halo_color',L)[fY]}bi.renderFilledBar(this.get_currentContext(),fZ+gd,ga+ge,gb,gc,gf,0,0,false)}}{if(e.isMarkDebug(L)){var gg=e.getMarkLabelProperty('x',L);var gh=e.getMarkLabelProperty('y',L);var gi=e.getMarkLabelProperty('width',L);var gj=-e.getMarkLabelProperty('height',L);if(gj<0){gh+=gj;gj=Math.abs(gj)}var gk=0;var gl=0;var gm;if(e.isMarkImpliedSelected(L)){gm=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gm=e.c.get('halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gg+gk,gh+gl,gi,gj,gm,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var gn=e.getMarkLabelProperty('x',L);var go=e.getMarkLabelProperty('y',L);var gp=e.getMarkLabelProperty('width',L);var gq=-e.getMarkLabelProperty('height',L);if(gq<0){go+=gq;gq=Math.abs(gq)}var gr=0;var gs=0;var gt;if(e.isMarkImpliedSelected(L)){gt=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gt=e.getMarkLabelProperty('halo_color',L)[fY]}bi.renderFilledBar(this.get_currentContext(),gn+gr,go+gs,gp,gq,gt,0,0,false)}}{if(e.isMarkDebug(L)){var gu=e.getMarkLabelProperty('x',L);var gv=e.getMarkLabelProperty('y',L);var gw=e.getMarkLabelProperty('width',L);var gx=-e.getMarkLabelProperty('height',L);if(gx<0){gv+=gx;gx=Math.abs(gx)}var gy=0;var gz=0;var gA;if(e.isMarkImpliedSelected(L)){gA=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gA=e.c.get('halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gu+gy,gv+gz,gw,gx,gA,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$j:function(e,L,fX,fY,fZ,ga,gb){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}switch(fX){case'normalUnder':{break}case'normalOn':{var gc=e.getTextRunProperty('text_style_id',fZ);gb(gc);var gd=e.$5(gc,L,fY);var ge=e.getTextRunProperty('text_run',fZ);var gf=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',fZ);var gg=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',fZ);var gh=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(ge,gf,gg,gh,gd,ga);break}case'highlightedUnder':{break}case'highlightedOn':{var gi=e.getTextRunProperty('text_style_id',fZ);gb(gi);var gj=e.$5(gi,L,fY);var gk=e.getTextRunProperty('text_run',fZ);var gl=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',fZ);var gm=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',fZ);var gn=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(gk,gl,gm,gn,gj,ga);break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$b:function(e,L,fX,fY,fZ,ga,gb){if(e.get_clipLabelToCell()&&e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}switch(fX){case'normalUnder':{break}case'normalOn':{var gc=e.getTextRunProperty('text_style_id',fZ);gb(gc);var gd=e.$5(gc,L,fY);var ge=e.getTextRunProperty('text_run',fZ);var gf=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',fZ);var gg=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',fZ);var gh=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(ge,gf,gg,gh,gd,ga);break}case'highlightedUnder':{break}case'highlightedOn':{var gi=e.getTextRunProperty('text_style_id',fZ);gb(gi);var gj=e.$5(gi,L,fY);var gk=e.getTextRunProperty('text_run',fZ);var gl=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',fZ);var gm=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',fZ);var gn=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(gk,gl,gm,gn,gj,ga);break}case'selectedUnder':{break}default:{break}}if(e.get_clipLabelToCell()&&e.clipCase!==0){this.get_currentContext().restore()}},$p:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);var gf=e.get_lineDrawState();this.get_currentContext().save();switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}var gg=gf.get_lineAttributes();for(var gh=0;gh<gg.length;gh++){var gi=gg[gh];var gj=gi.worldOffsets;var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(this.get_currentContext(),gm);{for(var gn=0;gn<gi.marksNeedingDraw.length;gn++){var go=gi.marksNeedingDraw[gn];this.$f(e,go,'normalUnder',ga)}}if(gm!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}var gp=gf.get_lineAttributes();for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];if(gr.get_lineState()!=='lineStateNormal'){continue}var gs=gr.worldOffsets;var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dz.$1w(this.get_currentContext(),gv);{for(var gw=0;gw<gr.marksNeedingDraw.length;gw++){var gx=gr.marksNeedingDraw[gw];this.$f(e,gx,'normalOn',ga)}}if(gv!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){var gy=gf.get_lineAttributes();for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];if(gA.get_lineState()!=='lineStateHighlighted'){continue}var gB=gA.worldOffsets;var gC=gB.length;for(var gD=0;gD<gC;gD++){var gE=gB[gD];dz.$1w(this.get_currentContext(),gE);ga='colorOverrideFog';{for(var gF=0;gF<gA.marksNeedingDraw.length;gF++){var gG=gA.marksNeedingDraw[gF];if(e.getMarkState(gG)!=='markStateNormal'){continue}this.$f(e,gG,'normalOn',ga)}}ga='colorOverrideNone';{for(var gH=0;gH<gA.marksNeedingDraw.length;gH++){var gI=gA.marksNeedingDraw[gH];if(e.getMarkState(gI)!=='markStateHighlighted'){continue}this.$f(e,gI,'highlightedOn',ga)}}if(gE!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(fY||fZ){var gJ=gf.get_lineAttributes();for(var gK=0;gK<gJ.length;gK++){var gL=gJ[gK];if(gL.get_lineState()!=='lineStateSelected'){continue}var gM=gL.worldOffsets;var gN=gM.length;for(var gO=0;gO<gN;gO++){var gP=gM[gO];dz.$1w(this.get_currentContext(),gP);ga='colorOverrideFog';{for(var gQ=0;gQ<gL.marksNeedingDraw.length;gQ++){var gR=gL.marksNeedingDraw[gQ];if(e.getMarkState(gR)!=='markStateNormal'){continue}this.$f(e,gR,'normalOn',ga)}}ga='colorOverrideNone';{for(var gS=0;gS<gL.marksNeedingDraw.length;gS++){var gT=gL.marksNeedingDraw[gS];if(e.getMarkState(gT)!=='markStateHighlighted'){continue}this.$f(e,gT,'highlightedOn',ga)}}ga='colorOverrideOpaque';{for(var gU=0;gU<gL.marksNeedingDraw.length;gU++){var gV=gL.marksNeedingDraw[gU];if(e.getMarkState(gV)!=='markStateSelected'){continue}this.$f(e,gV,'selectedUnder',ga)}}{for(var gW=0;gW<gL.marksNeedingDraw.length;gW++){var gX=gL.marksNeedingDraw[gW];if(e.getMarkState(gX)!=='markStateSelected'){continue}this.$f(e,gX,'selectedOn',ga)}}if(gP!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$f:function(e,L,fX,fY){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}switch(fX){case'normalUnder':{var fZ=e.c.get('size').gv(L)/2;{var ga=e.c.get('theta').gv(L);var gb=e.c.get('theta1').gv(L);var gc=ga>gb;var gd=e.c.get('halo_color').gv(L)[fY];var ge=false;if(Math.abs(ga-gb)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),fZ*2,gd,4)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),fZ,ga,gb,gd,4,gc,ge)}}break}case'normalOn':{var gf=e.c.get('size').gv(L)/2;{var gg=e.c.get('theta').gv(L);var gh=e.c.get('theta1').gv(L);if(gg>gh){var gi=gg;gg=gh;gh=gi}var gj=e.c.get('x').gv(L);var gk=e.c.get('y').gv(L);var gl=e.getMarkColors(L)[fY];if(e.c.get('alpha').gv(L)>=1){var gm=bi.toCanvasAngle(gg);var gn=bi.toCanvasAngle(gh);if(Math.abs(gn-gm)>=bi.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(gl);this.get_currentContext().moveTo(gj,gk);this.get_currentContext().lineTo(gj+Math.cos(gm)*gf,gk+Math.sin(gm)*gf);this.get_currentContext().stroke()}}if(Math.abs(gg-gh)>=1){bi.renderFilledCircle(this.get_currentContext(),gj,gk,gf*2,gl)}else{this.renderFilledWedge(gj,gk,gf,gg,gh,gl)}}if(e.c.get('draw_border').gv(L)){var go=e.c.get('theta').gv(L);var gp=e.c.get('theta1').gv(L);var gq=go>gp;var gr=e.c.get('border_color').gv(L)[fY];var gs=true;if(Math.abs(go-gp)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gf*2,gr,1)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gf,go,gp,gr,1,gq,gs)}}break}case'highlightedUnder':{var gt=e.c.get('size').gv(L)/2;{var gu=e.c.get('theta').gv(L);var gv=e.c.get('theta1').gv(L);var gw=gu>gv;var gx=e.c.get('halo_color').gv(L)[fY];var gy=false;if(Math.abs(gu-gv)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gt*2,gx,4)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gt,gu,gv,gx,4,gw,gy)}}break}case'highlightedOn':{var gz=e.c.get('size').gv(L)/2;{var gA=e.c.get('theta').gv(L);var gB=e.c.get('theta1').gv(L);if(gA>gB){var gC=gA;gA=gB;gB=gC}var gD=e.c.get('x').gv(L);var gE=e.c.get('y').gv(L);var gF=e.getMarkColors(L)[fY];if(e.c.get('alpha').gv(L)>=1){var gG=bi.toCanvasAngle(gA);var gH=bi.toCanvasAngle(gB);if(Math.abs(gH-gG)>=bi.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(gF);this.get_currentContext().moveTo(gD,gE);this.get_currentContext().lineTo(gD+Math.cos(gG)*gz,gE+Math.sin(gG)*gz);this.get_currentContext().stroke()}}if(Math.abs(gA-gB)>=1){bi.renderFilledCircle(this.get_currentContext(),gD,gE,gz*2,gF)}else{this.renderFilledWedge(gD,gE,gz,gA,gB,gF)}}if(e.c.get('draw_border').gv(L)){var gI=e.c.get('theta').gv(L);var gJ=e.c.get('theta1').gv(L);var gK=gI>gJ;var gL=e.c.get('border_color').gv(L)[fY];var gM=true;if(Math.abs(gI-gJ)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gz*2,gL,1)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gz,gI,gJ,gL,1,gK,gM)}}break}case'selectedUnder':{var gN=e.c.get('size').gv(L)/2;{var gO=e.c.get('theta').gv(L);var gP=e.c.get('theta1').gv(L);var gQ=gO>gP;var gR=e.c.get('selected_halo_color').gv(L)[fY];var gS=false;if(Math.abs(gO-gP)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gN*2,gR,4)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gN,gO,gP,gR,4,gQ,gS)}}break}case'selectedOn':{var gT=e.c.get('size').gv(L)/2;{var gU=e.c.get('theta').gv(L);var gV=e.c.get('theta1').gv(L);if(gU>gV){var gW=gU;gU=gV;gV=gW}var gX=e.c.get('x').gv(L);var gY=e.c.get('y').gv(L);var gZ=e.getMarkColors(L)[fY];if(e.c.get('alpha').gv(L)>=1){var ha=bi.toCanvasAngle(gU);var hb=bi.toCanvasAngle(gV);if(Math.abs(hb-ha)>=bi.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(gZ);this.get_currentContext().moveTo(gX,gY);this.get_currentContext().lineTo(gX+Math.cos(ha)*gT,gY+Math.sin(ha)*gT);this.get_currentContext().stroke()}}if(Math.abs(gU-gV)>=1){bi.renderFilledCircle(this.get_currentContext(),gX,gY,gT*2,gZ)}else{this.renderFilledWedge(gX,gY,gT,gU,gV,gZ)}}if(e.c.get('draw_border').gv(L)){var hc=e.c.get('theta').gv(L);var hd=e.c.get('theta1').gv(L);var he=hc>hd;var hf=e.c.get('border_color').gv(L)[fY];var hg=true;if(Math.abs(hc-hd)>=1){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gT*2,hf,1)}else{bi.renderWedge(this.get_currentContext(),e.c.get('x').gv(L),e.c.get('y').gv(L),gT,hc,hd,hf,1,he,hg)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$P:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var gf=this.setupContextForTextRendering(e);switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateNormal'){continue}this.$i(e,gj,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateHighlighted'){continue}this.$i(e,gj,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateNormal'){continue}var gk=this.get_currentContext().get_textAlign()==='end';var gl=e.c.get('text_run_offset').gv(gj);var gm=e.c.get('text_run_count').gv(gj);var gn=gm>1;for(var go=0;go<gm;go++){var gp=go+gl;if(gk){gp=gl+gm-go-1}this.$j(e,gj,'normalOn',ga,gp,gn,gf)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(fY||fZ){if(!(e.get_hasBackground()&&e.get_hasHalos())){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateHighlighted'){continue}this.$i(e,gj,'highlightedUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateHighlighted'){continue}var gk=this.get_currentContext().get_textAlign()==='end';var gl=e.c.get('text_run_offset').gv(gj);var gm=e.c.get('text_run_count').gv(gj);var gn=gm>1;for(var go=0;go<gm;go++){var gp=go+gl;if(gk){gp=gl+gm-go-1}this.$j(e,gj,'normalOn',ga,gp,gn,gf)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateSelected'){continue}this.$i(e,gj,'selectedUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gg,gh,gi){dz.$1w(this.get_currentContext(),gh);for(var gj=gc;gj<=gd;gj++){if(gg.has(gj)){continue}if(!e.markNeedsDraw(gj)){continue}if(e.getMarkState(gj)!=='markStateSelected'){continue}var gk=this.get_currentContext().get_textAlign()==='end';var gl=e.c.get('text_run_offset').gv(gj);var gm=e.c.get('text_run_count').gv(gj);var gn=gm>1;for(var go=0;go<gm;go++){var gp=go+gl;if(gk){gp=gl+gm-go-1}this.$j(e,gj,'normalOn',ga,gp,gn,gf)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(gh,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},$i:function(e,L,fX,fY){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(L),e.c.get('cell_y').gv(L),e.c.get('clip_width').gv(L),e.c.get('clip_height').gv(L))}switch(fX){case'normalUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var fZ=e.c.get('x').gv(L);var ga=e.c.get('y').gv(L);var gb=e.c.get('width').gv(L);var gc=-e.c.get('height').gv(L);if(gc<0){ga+=gc;gc=Math.abs(gc)}var gd=-e.c.get('width').gv(L)/2;var ge=e.c.get('height').gv(L)/2;var gf;if(e.isMarkImpliedSelected(L)){gf=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gf=e.c.get('halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),fZ+gd,ga+ge,gb,gc,gf,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var gg=e.c.get('x').gv(L);var gh=e.c.get('y').gv(L);var gi=e.c.get('clip_width').gv(L);var gj=-e.c.get('clip_height').gv(L);if(gj<0){gh+=gj;gj=Math.abs(gj)}var gk=-e.c.get('clip_width').gv(L)/2;var gl=e.c.get('clip_height').gv(L)/2;var gm;if(e.isMarkImpliedSelected(L)){gm=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gm=e.c.get('halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gg+gk,gh+gl,gi,gj,gm,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasHaloHighlightColor()&&!(e.clipCase!==0&&e.useCellClipForSelection)){var gn=e.c.get('x').gv(L);var go=e.c.get('y').gv(L);var gp=e.c.get('width').gv(L);var gq=-e.c.get('height').gv(L);if(gq<0){go+=gq;gq=Math.abs(gq)}var gr=-e.c.get('width').gv(L)/2;var gs=e.c.get('height').gv(L)/2;var gt;if(e.isMarkImpliedSelected(L)){gt=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gt=e.c.get('highlighted_halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gn+gr,go+gs,gp,gq,gt,0,0,false)}}{if(e.get_hasHaloHighlightColor()&&(e.clipCase!==0&&e.useCellClipForSelection)){var gu=e.c.get('x').gv(L);var gv=e.c.get('y').gv(L);var gw=e.c.get('clip_width').gv(L);var gx=-e.c.get('clip_height').gv(L);if(gx<0){gv+=gx;gx=Math.abs(gx)}var gy=-e.c.get('clip_width').gv(L)/2;var gz=e.c.get('clip_height').gv(L)/2;var gA;if(e.isMarkImpliedSelected(L)){gA=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gA=e.c.get('highlighted_halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gu+gy,gv+gz,gw,gx,gA,0,0,false)}}break}case'selectedUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var gB=e.c.get('x').gv(L);var gC=e.c.get('y').gv(L);var gD=e.c.get('width').gv(L);var gE=-e.c.get('height').gv(L);if(gE<0){gC+=gE;gE=Math.abs(gE)}var gF=-e.c.get('width').gv(L)/2;var gG=e.c.get('height').gv(L)/2;var gH;if(e.isMarkImpliedSelected(L)){gH=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gH=e.c.get('selected_halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gB+gF,gC+gG,gD,gE,gH,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var gI=e.c.get('x').gv(L);var gJ=e.c.get('y').gv(L);var gK=e.c.get('clip_width').gv(L);var gL=-e.c.get('clip_height').gv(L);if(gL<0){gJ+=gL;gL=Math.abs(gL)}var gM=-e.c.get('clip_width').gv(L)/2;var gN=e.c.get('clip_height').gv(L)/2;var gO;if(e.isMarkImpliedSelected(L)){gO=e.c.get('selected_halo_color').gv(L)['colorOverrideOpaque']}else{gO=e.c.get('selected_halo_color').gv(L)[fY]}bi.renderFilledBar(this.get_currentContext(),gI+gM,gJ+gN,gK,gL,gO,0,0,false)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$l:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.$a(e,ge,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.$a(e,ge,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.$a(e,ge,gi,'normalOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.$a(e,ge,gi,'highlightedOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.$a(e,ge,gi,'selectedUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';if(e.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(e.getInsetPaneClipRect(L,2))}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.$a(e,ge,gi,'selectedOn',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}if(e.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},$a:function(e,L,fX,fY,fZ){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(fX),e.c.get('cell_y').gv(fX),e.c.get('clip_width').gv(fX),e.c.get('clip_height').gv(fX))}switch(fY){case'normalUnder':{var ga=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var gb=e.c.get('x').gv(fX);var gc=e.c.get('x1').gv(fX);var gd=e.c.get('y').gv(fX);var ge=e.c.get('y1').gv(fX);var gf=Math.min(gb,gc);var gg=Math.min(gd,ge);var gh=Math.abs(gc-gb)+0;var gi=Math.abs(ge-gd)+0;bi.renderBarOutline(this.get_currentContext(),gf,gg,gh,gi,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var gj=e.c.get('x').gv(fX)-ga;var gk=e.c.get('x').gv(fX)+ga;var gl=e.c.get('y').gv(fX);var gm=e.c.get('y1').gv(fX);var gn=Math.min(gj,gk);var go=Math.min(gl,gm);var gp=Math.abs(gk-gj)+0;var gq=Math.abs(gm-gl)+0;bi.renderBarOutline(this.get_currentContext(),gn,go,gp,gq,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var gr=e.c.get('x').gv(fX);var gs=e.c.get('x1').gv(fX);var gt=e.c.get('y').gv(fX)-ga;var gu=e.c.get('y').gv(fX)+ga;var gv=Math.min(gr,gs);var gw=Math.min(gt,gu);var gx=Math.abs(gs-gr)+0;var gy=Math.abs(gu-gt)+0;bi.renderBarOutline(this.get_currentContext(),gv,gw,gx,gy,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var gz=e.c.get('x').gv(fX)-ga;var gA=e.c.get('x').gv(fX)+ga;var gB=e.c.get('y').gv(fX)-ga;var gC=e.c.get('y').gv(fX)+ga;var gD=Math.min(gz,gA);var gE=Math.min(gB,gC);var gF=Math.abs(gA-gz)+0;var gG=Math.abs(gC-gB)+0;bi.renderBarOutline(this.get_currentContext(),gD,gE,gF,gG,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,true)}}break}case'normalOn':{var gH=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var gI=e.c.get('x').gv(fX);var gJ=e.c.get('x1').gv(fX);var gK=e.c.get('y').gv(fX);var gL=e.c.get('y1').gv(fX);var gM=Math.min(gI,gJ);var gN=Math.min(gK,gL);var gO=Math.abs(gJ-gI)+0;var gP=Math.abs(gL-gK)+0;bi.renderFilledBar(this.get_currentContext(),gM-0,gN-0,gO+2*0,gP+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var gQ=e.c.get('x').gv(fX);var gR=e.c.get('x1').gv(fX);var gS=e.c.get('y').gv(fX);var gT=e.c.get('y1').gv(fX);var gU=Math.min(gQ,gR);var gV=Math.min(gS,gT);var gW=Math.abs(gR-gQ)+0;var gX=Math.abs(gT-gS)+0;bi.renderBarOutline(this.get_currentContext(),gU,gV,gW,gX,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var gY=e.c.get('x').gv(fX)-gH;var gZ=e.c.get('x').gv(fX)+gH;var ha=e.c.get('y').gv(fX);var hb=e.c.get('y1').gv(fX);var hc=Math.min(gY,gZ);var hd=Math.min(ha,hb);var he=Math.abs(gZ-gY)+0;var hf=Math.abs(hb-ha)+0;bi.renderFilledBar(this.get_currentContext(),hc-0,hd-0,he+2*0,hf+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var hg=e.c.get('x').gv(fX)-gH;var hh=e.c.get('x').gv(fX)+gH;var hi=e.c.get('y').gv(fX);var hj=e.c.get('y1').gv(fX);var hk=Math.min(hg,hh);var hl=Math.min(hi,hj);var hm=Math.abs(hh-hg)+0;var hn=Math.abs(hj-hi)+0;bi.renderBarOutline(this.get_currentContext(),hk,hl,hm,hn,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var ho=e.c.get('x').gv(fX);var hp=e.c.get('x1').gv(fX);var hq=e.c.get('y').gv(fX)-gH;var hr=e.c.get('y').gv(fX)+gH;var hs=Math.min(ho,hp);var ht=Math.min(hq,hr);var hu=Math.abs(hp-ho)+0;var hv=Math.abs(hr-hq)+0;bi.renderFilledBar(this.get_currentContext(),hs-0,ht-0,hu+2*0,hv+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var hw=e.c.get('x').gv(fX);var hx=e.c.get('x1').gv(fX);var hy=e.c.get('y').gv(fX)-gH;var hz=e.c.get('y').gv(fX)+gH;var hA=Math.min(hw,hx);var hB=Math.min(hy,hz);var hC=Math.abs(hx-hw)+0;var hD=Math.abs(hz-hy)+0;bi.renderBarOutline(this.get_currentContext(),hA,hB,hC,hD,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var hE=e.c.get('x').gv(fX)-gH;var hF=e.c.get('x').gv(fX)+gH;var hG=e.c.get('y').gv(fX)-gH;var hH=e.c.get('y').gv(fX)+gH;var hI=Math.min(hE,hF);var hJ=Math.min(hG,hH);var hK=Math.abs(hF-hE)+0;var hL=Math.abs(hH-hG)+0;bi.renderFilledBar(this.get_currentContext(),hI-0,hJ-0,hK+2*0,hL+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var hM=e.c.get('x').gv(fX)-gH;var hN=e.c.get('x').gv(fX)+gH;var hO=e.c.get('y').gv(fX)-gH;var hP=e.c.get('y').gv(fX)+gH;var hQ=Math.min(hM,hN);var hR=Math.min(hO,hP);var hS=Math.abs(hN-hM)+0;var hT=Math.abs(hP-hO)+0;bi.renderBarOutline(this.get_currentContext(),hQ,hR,hS,hT,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,true)}}break}case'highlightedUnder':{var hU=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var hV=e.c.get('x').gv(fX);var hW=e.c.get('x1').gv(fX);var hX=e.c.get('y').gv(fX);var hY=e.c.get('y1').gv(fX);var hZ=Math.min(hV,hW);var ia=Math.min(hX,hY);var ib=Math.abs(hW-hV)+0;var ic=Math.abs(hY-hX)+0;bi.renderBarOutline(this.get_currentContext(),hZ,ia,ib,ic,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var id=e.c.get('x').gv(fX)-hU;var ie=e.c.get('x').gv(fX)+hU;var ig=e.c.get('y').gv(fX);var ih=e.c.get('y1').gv(fX);var ii=Math.min(id,ie);var ij=Math.min(ig,ih);var ik=Math.abs(ie-id)+0;var il=Math.abs(ih-ig)+0;bi.renderBarOutline(this.get_currentContext(),ii,ij,ik,il,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var im=e.c.get('x').gv(fX);var io=e.c.get('x1').gv(fX);var ip=e.c.get('y').gv(fX)-hU;var iq=e.c.get('y').gv(fX)+hU;var ir=Math.min(im,io);var it=Math.min(ip,iq);var iu=Math.abs(io-im)+0;var iv=Math.abs(iq-ip)+0;bi.renderBarOutline(this.get_currentContext(),ir,it,iu,iv,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var iw=e.c.get('x').gv(fX)-hU;var ix=e.c.get('x').gv(fX)+hU;var iy=e.c.get('y').gv(fX)-hU;var iz=e.c.get('y').gv(fX)+hU;var iA=Math.min(iw,ix);var iB=Math.min(iy,iz);var iC=Math.abs(ix-iw)+0;var iD=Math.abs(iz-iy)+0;bi.renderBarOutline(this.get_currentContext(),iA,iB,iC,iD,e.c.get('halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,true)}}break}case'highlightedOn':{var iE=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var iF=e.c.get('x').gv(fX);var iG=e.c.get('x1').gv(fX);var iH=e.c.get('y').gv(fX);var iI=e.c.get('y1').gv(fX);var iJ=Math.min(iF,iG);var iK=Math.min(iH,iI);var iL=Math.abs(iG-iF)+0;var iM=Math.abs(iI-iH)+0;bi.renderFilledBar(this.get_currentContext(),iJ-0,iK-0,iL+2*0,iM+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var iN=e.c.get('x').gv(fX);var iO=e.c.get('x1').gv(fX);var iP=e.c.get('y').gv(fX);var iQ=e.c.get('y1').gv(fX);var iR=Math.min(iN,iO);var iS=Math.min(iP,iQ);var iT=Math.abs(iO-iN)+0;var iU=Math.abs(iQ-iP)+0;bi.renderBarOutline(this.get_currentContext(),iR,iS,iT,iU,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var iV=e.c.get('x').gv(fX)-iE;var iW=e.c.get('x').gv(fX)+iE;var iX=e.c.get('y').gv(fX);var iY=e.c.get('y1').gv(fX);var iZ=Math.min(iV,iW);var ja=Math.min(iX,iY);var jb=Math.abs(iW-iV)+0;var jc=Math.abs(iY-iX)+0;bi.renderFilledBar(this.get_currentContext(),iZ-0,ja-0,jb+2*0,jc+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var jd=e.c.get('x').gv(fX)-iE;var je=e.c.get('x').gv(fX)+iE;var jf=e.c.get('y').gv(fX);var jg=e.c.get('y1').gv(fX);var jh=Math.min(jd,je);var ji=Math.min(jf,jg);var jj=Math.abs(je-jd)+0;var jk=Math.abs(jg-jf)+0;bi.renderBarOutline(this.get_currentContext(),jh,ji,jj,jk,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var jl=e.c.get('x').gv(fX);var jm=e.c.get('x1').gv(fX);var jn=e.c.get('y').gv(fX)-iE;var jo=e.c.get('y').gv(fX)+iE;var jp=Math.min(jl,jm);var jq=Math.min(jn,jo);var jr=Math.abs(jm-jl)+0;var js=Math.abs(jo-jn)+0;bi.renderFilledBar(this.get_currentContext(),jp-0,jq-0,jr+2*0,js+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var jt=e.c.get('x').gv(fX);var ju=e.c.get('x1').gv(fX);var jv=e.c.get('y').gv(fX)-iE;var jw=e.c.get('y').gv(fX)+iE;var jx=Math.min(jt,ju);var jy=Math.min(jv,jw);var jz=Math.abs(ju-jt)+0;var jA=Math.abs(jw-jv)+0;bi.renderBarOutline(this.get_currentContext(),jx,jy,jz,jA,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var jB=e.c.get('x').gv(fX)-iE;var jC=e.c.get('x').gv(fX)+iE;var jD=e.c.get('y').gv(fX)-iE;var jE=e.c.get('y').gv(fX)+iE;var jF=Math.min(jB,jC);var jG=Math.min(jD,jE);var jH=Math.abs(jC-jB)+0;var jI=Math.abs(jE-jD)+0;bi.renderFilledBar(this.get_currentContext(),jF-0,jG-0,jH+2*0,jI+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var jJ=e.c.get('x').gv(fX)-iE;var jK=e.c.get('x').gv(fX)+iE;var jL=e.c.get('y').gv(fX)-iE;var jM=e.c.get('y').gv(fX)+iE;var jN=Math.min(jJ,jK);var jO=Math.min(jL,jM);var jP=Math.abs(jK-jJ)+0;var jQ=Math.abs(jM-jL)+0;bi.renderBarOutline(this.get_currentContext(),jN,jO,jP,jQ,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,true)}}break}case'selectedUnder':{var jR=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;var jS=1;{var jT=e.c.get('x').gv(fX);var jU=e.c.get('x1').gv(fX);var jV=e.c.get('y').gv(fX);var jW=e.c.get('y1').gv(fX);var jX=Math.min(jT,jU);var jY=Math.min(jV,jW);var jZ=Math.abs(jU-jT)+0;var ka=Math.abs(jW-jV)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,jX,jY,jZ,ka)){bi.renderBarOutline(this.get_currentContext(),jX,jY,jZ,ka,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var kb=e.c.get('x').gv(fX);var kc=e.c.get('x1').gv(fX);var kd=e.c.get('y').gv(fX);var ke=e.c.get('y1').gv(fX);var kf=Math.min(kb,kc);var kg=Math.min(kd,ke);var kh=Math.abs(kc-kb)+0;var ki=Math.abs(ke-kd)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,kf,kg,kh,ki)){bi.renderFilledBar(this.get_currentContext(),kf-2,kg-2,kh+2*2,ki+2*2,e.c.get('selected_halo_color').gv(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kj=e.c.get('x').gv(fX);var kk=e.c.get('x1').gv(fX);var kl=e.c.get('y').gv(fX);var km=e.c.get('y1').gv(fX);var kn=Math.min(kj,kk);var ko=Math.min(kl,km);var kp=Math.abs(kk-kj)+jS;var kq=Math.abs(km-kl)+jS;bi.renderBarOutline(this.get_currentContext(),kn,ko,kp,kq,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var kr=e.c.get('x').gv(fX)-jR;var ks=e.c.get('x').gv(fX)+jR;var kt=e.c.get('y').gv(fX);var ku=e.c.get('y1').gv(fX);var kv=Math.min(kr,ks);var kw=Math.min(kt,ku);var kx=Math.abs(ks-kr)+0;var ky=Math.abs(ku-kt)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,kv,kw,kx,ky)){bi.renderBarOutline(this.get_currentContext(),kv,kw,kx,ky,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var kz=e.c.get('x').gv(fX)-jR;var kA=e.c.get('x').gv(fX)+jR;var kB=e.c.get('y').gv(fX);var kC=e.c.get('y1').gv(fX);var kD=Math.min(kz,kA);var kE=Math.min(kB,kC);var kF=Math.abs(kA-kz)+0;var kG=Math.abs(kC-kB)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,kD,kE,kF,kG)){bi.renderFilledBar(this.get_currentContext(),kD-2,kE-2,kF+2*2,kG+2*2,e.c.get('selected_halo_color').gv(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kH=e.c.get('x').gv(fX)-jR;var kI=e.c.get('x').gv(fX)+jR;var kJ=e.c.get('y').gv(fX);var kK=e.c.get('y1').gv(fX);var kL=Math.min(kH,kI);var kM=Math.min(kJ,kK);var kN=Math.abs(kI-kH)+jS;var kO=Math.abs(kK-kJ)+jS;bi.renderBarOutline(this.get_currentContext(),kL,kM,kN,kO,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var kP=e.c.get('x').gv(fX);var kQ=e.c.get('x1').gv(fX);var kR=e.c.get('y').gv(fX)-jR;var kS=e.c.get('y').gv(fX)+jR;var kT=Math.min(kP,kQ);var kU=Math.min(kR,kS);var kV=Math.abs(kQ-kP)+0;var kW=Math.abs(kS-kR)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,kT,kU,kV,kW)){bi.renderBarOutline(this.get_currentContext(),kT,kU,kV,kW,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var kX=e.c.get('x').gv(fX);var kY=e.c.get('x1').gv(fX);var kZ=e.c.get('y').gv(fX)-jR;var la=e.c.get('y').gv(fX)+jR;var lb=Math.min(kX,kY);var lc=Math.min(kZ,la);var ld=Math.abs(kY-kX)+0;var le=Math.abs(la-kZ)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,lb,lc,ld,le)){bi.renderFilledBar(this.get_currentContext(),lb-2,lc-2,ld+2*2,le+2*2,e.c.get('selected_halo_color').gv(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lf=e.c.get('x').gv(fX);var lg=e.c.get('x1').gv(fX);var lh=e.c.get('y').gv(fX)-jR;var li=e.c.get('y').gv(fX)+jR;var lj=Math.min(lf,lg);var lk=Math.min(lh,li);var ll=Math.abs(lg-lf)+jS;var lm=Math.abs(li-lh)+jS;bi.renderBarOutline(this.get_currentContext(),lj,lk,ll,lm,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,false)}}{var ln=e.c.get('x').gv(fX)-jR;var lo=e.c.get('x').gv(fX)+jR;var lp=e.c.get('y').gv(fX)-jR;var lq=e.c.get('y').gv(fX)+jR;var lr=Math.min(ln,lo);var ls=Math.min(lp,lq);var lt=Math.abs(lo-ln)+0;var lu=Math.abs(lq-lp)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,lr,ls,lt,lu)){bi.renderBarOutline(this.get_currentContext(),lr,ls,lt,lu,e.c.get('selected_halo_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,true)}}{var lv=e.c.get('x').gv(fX)-jR;var lw=e.c.get('x').gv(fX)+jR;var lx=e.c.get('y').gv(fX)-jR;var ly=e.c.get('y').gv(fX)+jR;var lz=Math.min(lv,lw);var lA=Math.min(lx,ly);var lB=Math.abs(lw-lv)+0;var lC=Math.abs(ly-lx)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,lz,lA,lB,lC)){bi.renderFilledBar(this.get_currentContext(),lz-2,lA-2,lB+2*2,lC+2*2,e.c.get('selected_halo_color').gv(fX)[fZ],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lD=e.c.get('x').gv(fX)-jR;var lE=e.c.get('x').gv(fX)+jR;var lF=e.c.get('y').gv(fX)-jR;var lG=e.c.get('y').gv(fX)+jR;var lH=Math.min(lD,lE);var lI=Math.min(lF,lG);var lJ=Math.abs(lE-lD)+jS;var lK=Math.abs(lG-lF)+jS;bi.renderBarOutline(this.get_currentContext(),lH,lI,lJ,lK,e.c.get('border_color').gv(fX)[fZ],4,e.minBarWidth,e.minBarHeight,true)}}break}case'selectedOn':{var lL=ss.Int32.trunc(e.c.get('size').gv(fX)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var lM=e.c.get('x').gv(fX);var lN=e.c.get('x1').gv(fX);var lO=e.c.get('y').gv(fX);var lP=e.c.get('y1').gv(fX);var lQ=Math.min(lM,lN);var lR=Math.min(lO,lP);var lS=Math.abs(lN-lM)+0;var lT=Math.abs(lP-lO)+0;bi.renderFilledBar(this.get_currentContext(),lQ-0,lR-0,lS+2*0,lT+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var lU=e.c.get('x').gv(fX);var lV=e.c.get('x1').gv(fX);var lW=e.c.get('y').gv(fX);var lX=e.c.get('y1').gv(fX);var lY=Math.min(lU,lV);var lZ=Math.min(lW,lX);var ma=Math.abs(lV-lU)+0;var mb=Math.abs(lX-lW)+0;bi.renderBarOutline(this.get_currentContext(),lY,lZ,ma,mb,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var mc=e.c.get('x').gv(fX)-lL;var md=e.c.get('x').gv(fX)+lL;var me=e.c.get('y').gv(fX);var mf=e.c.get('y1').gv(fX);var mg=Math.min(mc,md);var mh=Math.min(me,mf);var mi=Math.abs(md-mc)+0;var mj=Math.abs(mf-me)+0;bi.renderFilledBar(this.get_currentContext(),mg-0,mh-0,mi+2*0,mj+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var mk=e.c.get('x').gv(fX)-lL;var ml=e.c.get('x').gv(fX)+lL;var mm=e.c.get('y').gv(fX);var mn=e.c.get('y1').gv(fX);var mo=Math.min(mk,ml);var mp=Math.min(mm,mn);var mq=Math.abs(ml-mk)+0;var mr=Math.abs(mn-mm)+0;bi.renderBarOutline(this.get_currentContext(),mo,mp,mq,mr,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var ms=e.c.get('x').gv(fX);var mt=e.c.get('x1').gv(fX);var mu=e.c.get('y').gv(fX)-lL;var mv=e.c.get('y').gv(fX)+lL;var mw=Math.min(ms,mt);var mx=Math.min(mu,mv);var my=Math.abs(mt-ms)+0;var mz=Math.abs(mv-mu)+0;bi.renderFilledBar(this.get_currentContext(),mw-0,mx-0,my+2*0,mz+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var mA=e.c.get('x').gv(fX);var mB=e.c.get('x1').gv(fX);var mC=e.c.get('y').gv(fX)-lL;var mD=e.c.get('y').gv(fX)+lL;var mE=Math.min(mA,mB);var mF=Math.min(mC,mD);var mG=Math.abs(mB-mA)+0;var mH=Math.abs(mD-mC)+0;bi.renderBarOutline(this.get_currentContext(),mE,mF,mG,mH,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var mI=e.c.get('x').gv(fX)-lL;var mJ=e.c.get('x').gv(fX)+lL;var mK=e.c.get('y').gv(fX)-lL;var mL=e.c.get('y').gv(fX)+lL;var mM=Math.min(mI,mJ);var mN=Math.min(mK,mL);var mO=Math.abs(mJ-mI)+0;var mP=Math.abs(mL-mK)+0;bi.renderFilledBar(this.get_currentContext(),mM-0,mN-0,mO+2*0,mP+2*0,e.getMarkColors(fX)[fZ],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var mQ=e.c.get('x').gv(fX)-lL;var mR=e.c.get('x').gv(fX)+lL;var mS=e.c.get('y').gv(fX)-lL;var mT=e.c.get('y').gv(fX)+lL;var mU=Math.min(mQ,mR);var mV=Math.min(mS,mT);var mW=Math.abs(mR-mQ)+0;var mX=Math.abs(mT-mS)+0;bi.renderBarOutline(this.get_currentContext(),mU,mV,mW,mX,e.c.get('border_color').gv(fX)[fZ],1,e.minBarWidth,e.minBarHeight,true)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$m:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);var gf=e.get_lineDrawState();this.get_currentContext().save();switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}var gg=gf.get_lineAttributes();for(var gh=0;gh<gg.length;gh++){var gi=gg[gh];if(gi.get_lineState()!=='lineStateNormal'){continue}var gj=gi.worldOffsets;var gk=gj.length;for(var gl=0;gl<gk;gl++){var gm=gj[gl];dz.$1w(this.get_currentContext(),gm);{for(var gn=0;gn<gi.marksNeedingDraw.length;gn++){var go=gi.marksNeedingDraw[gn];if(e.c.get('l_neighbor').gv(go)!==-1||e.c.get('r_neighbor').gv(go)!==-1){this.$c(e,go,'normalUnder',ga)}}}{for(var gp=0;gp<gi.marksNeedingDraw.length;gp++){var gq=gi.marksNeedingDraw[gp];this.$c(e,gq,'edgeUnder',ga);if(e.c.get('l_neighbor').gv(gq)===-1&&e.c.get('r_neighbor').gv(gq)===-1||e.shouldShowMarker(gq)){this.$c(e,gq,'blobUnder',ga)}}}if(gm!==0){this.get_currentContext().restore()}}}var gr=gf.get_lineAttributes();for(var gs=0;gs<gr.length;gs++){var gt=gr[gs];if(gt.get_lineState()!=='lineStateHighlighted'){continue}var gu=gt.worldOffsets;var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dz.$1w(this.get_currentContext(),gx);{for(var gy=0;gy<gt.marksNeedingDraw.length;gy++){var gz=gt.marksNeedingDraw[gy];if(e.c.get('l_neighbor').gv(gz)!==-1||e.c.get('r_neighbor').gv(gz)!==-1){this.$c(e,gz,'normalUnder',ga)}}}{for(var gA=0;gA<gt.marksNeedingDraw.length;gA++){var gB=gt.marksNeedingDraw[gA];this.$c(e,gB,'edgeUnder',ga);if(e.c.get('l_neighbor').gv(gB)===-1&&e.c.get('r_neighbor').gv(gB)===-1||e.shouldShowMarker(gB)){this.$c(e,gB,'blobUnder',ga)}}}if(gx!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}var gC=gf.get_lineAttributes();for(var gD=0;gD<gC.length;gD++){var gE=gC[gD];if(gE.get_lineState()!=='lineStateNormal'){continue}var gF=gE.worldOffsets;var gG=gF.length;for(var gH=0;gH<gG;gH++){var gI=gF[gH];dz.$1w(this.get_currentContext(),gI);var gJ=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){gJ=gE.endIndex-gE.startIndex>1}if(gJ){var gK=((!e.isWrappedDomain&&e.markType==='line')?gE.sloppyBoundingBox:null);this.beginOffScreenRender(gK);e.forceOpaqueColors=true}}{for(var gL=0;gL<gE.marksNeedingDraw.length;gL++){var gM=gE.marksNeedingDraw[gL];if(e.c.get('l_neighbor').gv(gM)!==-1||e.c.get('r_neighbor').gv(gM)!==-1){this.$c(e,gM,'normalOn',ga)}else{this.$c(e,gM,'blobOn',ga)}}}{for(var gN=0;gN<gE.marksNeedingDraw.length;gN++){var gO=gE.marksNeedingDraw[gN];this.$c(e,gO,'edgeOn',ga)}}if(e.get_hasGlobalTransparency()){if(gJ){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var gP=0;gP<gE.marksNeedingDraw.length;gP++){var gQ=gE.marksNeedingDraw[gP];if(e.shouldShowMarker(gQ)){this.$c(e,gQ,'blobOn',ga)}}}if(gI!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';var gR=gf.get_lineAttributes();for(var gS=0;gS<gR.length;gS++){var gT=gR[gS];if(gT.get_lineState()!=='lineStateHighlighted'){continue}var gU=gT.worldOffsets;var gV=gU.length;for(var gW=0;gW<gV;gW++){var gX=gU[gW];dz.$1w(this.get_currentContext(),gX);var gY=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){gY=gT.endIndex-gT.startIndex>1}if(gY){var gZ=((!e.isWrappedDomain&&e.markType==='line')?gT.sloppyBoundingBox:null);this.beginOffScreenRender(gZ);e.forceOpaqueColors=true}}{for(var ha=0;ha<gT.marksNeedingDraw.length;ha++){var hb=gT.marksNeedingDraw[ha];if(!(e.getMarkState(hb)==='markStateHighlighted')){ga='colorOverrideFog'}if(!(e.getMarkState(hb)==='markStateHighlighted'&&!gT.get_allHighlighted())){if(e.c.get('l_neighbor').gv(hb)!==-1||e.c.get('r_neighbor').gv(hb)!==-1){this.$c(e,hb,'normalOn',ga)}else{this.$c(e,hb,'blobOn',ga)}}ga='colorOverrideNone'}}{for(var hc=0;hc<gT.marksNeedingDraw.length;hc++){var hd=gT.marksNeedingDraw[hc];if(e.getMarkState(hd)!=='markStateHighlighted'||e.c.get('r_neighbor').gv(hd)!==-1&&e.getMarkState(e.c.get('r_neighbor').gv(hd))!=='markStateHighlighted'){ga='colorOverrideFog'}this.$c(e,hd,'edgeOn',ga);ga='colorOverrideNone'}}if(e.get_hasGlobalTransparency()){if(gY){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var he=0;he<gT.marksNeedingDraw.length;he++){var hf=gT.marksNeedingDraw[he];if(!(e.getMarkState(hf)==='markStateHighlighted')){ga='colorOverrideFog'}if(!(e.getMarkState(hf)==='markStateHighlighted'&&!gT.get_allHighlighted())){if(e.shouldShowMarker(hf)){this.$c(e,hf,'blobOn',ga)}}ga='colorOverrideNone'}}{for(var hg=0;hg<gT.marksNeedingDraw.length;hg++){var hh=gT.marksNeedingDraw[hg];if(e.getMarkState(hh)==='markStateHighlighted'&&!gT.get_allHighlighted()){this.$c(e,hh,'highlightedUnder',ga)}}}{for(var hi=0;hi<gT.marksNeedingDraw.length;hi++){var hj=gT.marksNeedingDraw[hi];if(e.getMarkState(hj)==='markStateHighlighted'&&!gT.get_allHighlighted()){this.$c(e,hj,'highlightedOn',ga)}}}if(gX!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideNone';var hk=gf.get_lineAttributes();for(var hl=0;hl<hk.length;hl++){var hm=hk[hl];if(hm.get_lineState()!=='lineStateSelected'){continue}var hn=hm.worldOffsets;var ho=hn.length;for(var hp=0;hp<ho;hp++){var hq=hn[hp];dz.$1w(this.get_currentContext(),hq);{for(var hr=0;hr<hm.marksNeedingDraw.length;hr++){var hs=hm.marksNeedingDraw[hr];this.$c(e,hs,'selectedUnder1',ga);this.$c(e,hs,'selectedEdgeUnder',ga)}}if(hq!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';var ht=gf.get_lineAttributes();for(var hu=0;hu<ht.length;hu++){var hv=ht[hu];if(hv.get_lineState()!=='lineStateSelected'){continue}var hw=hv.worldOffsets;var hx=hw.length;for(var hy=0;hy<hx;hy++){var hz=hw[hy];dz.$1w(this.get_currentContext(),hz);{for(var hA=0;hA<hv.marksNeedingDraw.length;hA++){var hB=hv.marksNeedingDraw[hA];if(e.c.get('l_neighbor').gv(hB)!==-1||e.c.get('r_neighbor').gv(hB)!==-1){this.$c(e,hB,'normalOn',ga)}else{this.$c(e,hB,'blobOn',ga)}}}{for(var hC=0;hC<hv.marksNeedingDraw.length;hC++){var hD=hv.marksNeedingDraw[hC];this.$c(e,hD,'edgeOn',ga)}}{for(var hE=0;hE<hv.marksNeedingDraw.length;hE++){var hF=hv.marksNeedingDraw[hE];if(e.shouldShowMarker(hF)){this.$c(e,hF,'blobOn',ga)}}}if(!hv.get_allHighlighted()){{for(var hG=0;hG<hv.marksNeedingDraw.length;hG++){var hH=hv.marksNeedingDraw[hG];if(e.getMarkState(hH)==='markStateHighlighted'){this.$c(e,hH,'highlightedUnder',ga)}}}{for(var hI=0;hI<hv.marksNeedingDraw.length;hI++){var hJ=hv.marksNeedingDraw[hI];if(e.getMarkState(hJ)==='markStateHighlighted'){this.$c(e,hJ,'highlightedOn',ga)}}}}{for(var hK=0;hK<hv.marksNeedingDraw.length;hK++){var hL=hv.marksNeedingDraw[hK];if(e.getMarkState(hL)==='markStateSelected'){this.$c(e,hL,'selectedUnder',ga)}}}{for(var hM=0;hM<hv.marksNeedingDraw.length;hM++){var hN=hv.marksNeedingDraw[hM];if(e.getMarkState(hN)==='markStateSelected'){this.$c(e,hN,'highlightedOn',ga)}}}if(hz!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$c:function(e,L,fX,fY){var fZ=e.c.get('l_neighbor').gv(L);var ga=e.c.get('r_neighbor').gv(L);switch(fX){case'normalUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('halo_color').gv(L)[fY],4)}break}case'normalOn':{{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY])}}break}case'blobUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L)+3,e.c.get('halo_color').gv(L)[fY],4)}break}case'blobOn':{{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L)+3,e.getMarkColors(L)[fY])}}break}case'highlightedUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L)+4,e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}break}case'highlightedOn':{{{bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L)+4,e.getMarkColors(L)[fY])}}break}case'selectedUnder':{{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L)+4,e.c.get('selected_halo_color').gv(L)[fY],4)}break}case'selectedUnder1':{var gb=ga!==-1;var gc=e.lineInterpolation;var gd=e.lineMarkerPosition;{bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gb&&gd==='lmp-left'&&(gc==='lim-step'||gc==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderCircle(this.get_currentContext(),e.c.get('x').gv(ga)-e.c.get('x').gv(L)+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gb&&gd==='lmp-center'&&(gc==='lim-step'||gc==='lim-jump')){bi.renderCircle(this.get_currentContext(),(e.c.get('x').gv(ga)-e.c.get('x').gv(L))/2+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gb&&gd==='lmp-center'&&(gc==='lim-step'||gc==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderCircle(this.get_currentContext(),(e.c.get('x').gv(ga)-e.c.get('x').gv(L))/2+e.c.get('x').gv(L),e.c.get('y').gv(ga)-e.c.get('y').gv(L)+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gb&&gd==='lmp-right'&&(gc==='lim-step'||gc==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderCircle(this.get_currentContext(),0+e.c.get('x').gv(L),e.c.get('y').gv(ga)-e.c.get('y').gv(L)+e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}break}case'edgeUnder':{var ge=ga!==-1;var gf=e.lineInterpolation;var gg=e.lineMarkerPosition;if(ge&&gf==='lim-linear'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(ga),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-center'){this.renderLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-step'&&gg==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-jump'&&gg==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-jump'&&gg==='lmp-center'){this.renderLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-jump'&&gg==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}if(ge&&gf==='lim-jump'&&gg==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('halo_color').gv(L)[fY],4)}break}case'selectedEdgeUnder':{var gh=ga!==-1;var gi=e.lineInterpolation;var gj=e.lineMarkerPosition;if(gh&&gi==='lim-linear'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(ga),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-center'){this.renderLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-step'&&gj==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-jump'&&gj==='lmp-left'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-jump'&&gj==='lmp-center'){this.renderLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-jump'&&gj==='lmp-center'){this.renderLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}if(gh&&gi==='lim-jump'&&gj==='lmp-right'){this.renderLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.c.get('selected_multi_prim_halo_color').gv(L)[fY],4)}break}case'edgeOn':{var gk=ga!==-1;var gl=e.lineInterpolation;var gm=e.lineMarkerPosition;if(gk&&gl==='lim-linear'){if(e.isLineSegmentVisible(L,ga)){var gn=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.getMarkColors(L)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-left'){if(e.isLineSegmentVisible(L,ga)){var go=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY],e.getMarkColors(L)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-left'){if(e.isLineSegmentVisible(L,ga)){var gp=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(ga),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.getMarkColors(L)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-center'){if(e.isLineSegmentVisible(L,ga)){var gq=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY],e.getMarkColors(L)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-center'){if(e.isLineSegmentVisible(L,ga)){var gr=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.getMarkColors(L)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-center'){if(e.isLineSegmentVisible(L,ga)){var gs=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(ga),e.c.get('size').gv(ga),e.getMarkColors(ga)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-right'){if(e.isLineSegmentVisible(L,ga)){var gt=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(L),e.c.get('y').gv(L),e.c.get('y').gv(ga),e.c.get('size').gv(L),e.c.get('size').gv(ga),e.getMarkColors(L)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-step'&&gm==='lmp-right'){if(e.isLineSegmentVisible(L,ga)){var gu=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(ga),e.c.get('size').gv(ga),e.getMarkColors(ga)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-jump'&&gm==='lmp-left'){if(e.isLineSegmentVisible(L,ga)){var gv=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY],e.getMarkColors(L)[fY])}}if(gk&&gl==='lim-jump'&&gm==='lmp-center'){if(e.isLineSegmentVisible(L,ga)){var gw=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),(e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('y').gv(L),e.c.get('y').gv(L),e.c.get('size').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY],e.getMarkColors(L)[fY])}}if(gk&&gl==='lim-jump'&&gm==='lmp-center'){if(e.isLineSegmentVisible(L,ga)){var gx=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge((e.c.get('x').gv(L)+e.c.get('x').gv(ga))/2,e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(ga),e.c.get('size').gv(ga),e.getMarkColors(ga)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gl==='lim-jump'&&gm==='lmp-right'){if(e.isLineSegmentVisible(L,ga)){var gy=fY;if(e.isLineSegmentFiltered(L,ga)){fY='colorOverrideFog'}this.renderFilledLineEdge(e.c.get('x').gv(L),e.c.get('x').gv(ga),e.c.get('y').gv(ga),e.c.get('y').gv(ga),e.c.get('size').gv(ga),e.c.get('size').gv(ga),e.getMarkColors(ga)[fY],e.getMarkColors(ga)[fY])}}if(gk&&gm==='lmp-left'&&(gl==='lim-step'||gl==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderFilledCircle(this.get_currentContext(),e.c.get('x').gv(ga)-e.c.get('x').gv(L)+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY])}if(gk&&gm==='lmp-center'&&(gl==='lim-step'||gl==='lim-jump')){bi.renderFilledCircle(this.get_currentContext(),(e.c.get('x').gv(ga)-e.c.get('x').gv(L))/2+e.c.get('x').gv(L),0+e.c.get('y').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY])}if(gk&&gm==='lmp-center'&&(gl==='lim-step'||gl==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderFilledCircle(this.get_currentContext(),(e.c.get('x').gv(ga)-e.c.get('x').gv(L))/2+e.c.get('x').gv(L),e.c.get('y').gv(ga)-e.c.get('y').gv(L)+e.c.get('y').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY])}if(gk&&gm==='lmp-right'&&(gl==='lim-step'||gl==='lim-jump')&&e.c.get('y').gv(L)!==e.c.get('y').gv(ga)){bi.renderFilledCircle(this.get_currentContext(),0+e.c.get('x').gv(L),e.c.get('y').gv(ga)-e.c.get('y').gv(L)+e.c.get('y').gv(L),e.c.get('size').gv(L),e.getMarkColors(L)[fY])}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$N:function(e,L,fX){var fY=e.get_hasSelection();var fZ=e.get_hasBrushing();var ga='colorOverrideNone';var gb=e.$9(L);var gc=gb.firstMark;var gd=gb.lastMark;var ge=e.getUserPaneRectByIndex(L);switch(fX){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.drawShapeMarkLayer(e,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(e,gi,'normalUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(fY||fZ){ga='colorOverrideFog'}else{ga='colorOverrideNone'}{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateNormal'){continue}this.drawShapeMarkLayer(e,gi,'normalOn',ga);if(e.drawBorder){this.drawShapeMarkLayer(e,gi,'border',ga)}}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(fY||fZ){ga='colorOverrideNone';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(e,gi,'normalOn',ga);if(e.drawBorder){this.drawShapeMarkLayer(e,gi,'border',ga)}}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.drawShapeMarkLayer(e,gi,'selectedUnder',ga)}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(fY||fZ){ga='colorOverrideOpaque';{e.markWorldOffsets.forEach(ss.mkdel(this,function(gf,gg,gh){dz.$1w(this.get_currentContext(),gg);for(var gi=gc;gi<=gd;gi++){if(gf.has(gi)){continue}if(!e.markNeedsDraw(gi)){continue}if(e.getMarkState(gi)!=='markStateSelected'){continue}this.drawShapeMarkLayer(e,gi,'normalOn',ga);if(e.drawBorder){this.drawShapeMarkLayer(e,gi,'border',ga)}}if(!tab.DoubleUtil.isApproximatelyEqual(gg,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(e,L,fX,fY){var fZ=e.c.get('shape_id').gv(L);if(!dz.$1x(fZ,fX)){return}var ga=e.c.get('x').gv(L);var gb=e.c.get('y').gv(L);var gc=e.shouldStampThisShapeMark(L);if(!gc){this.$O(e,ga,gb,L,fX,fY,false);return}var gd=e.c.get('size').gv(L);var ge=bi.getShapeColorForLayer(e,L,fX,fY);var gf=dz.$l(fZ,fX,gd)+2;var gg=gf/2;var gh=gb-gg;var gi=ga-gg;var gj=this.get_currentContext();var gk=tab.ShapeManager.getCacheKey(fZ,fX,fY,ge,gd);var gl=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(gk);if(ss.isNullOrUndefined(gl)){var gm=function(){var gn=document.createElement('canvas');gn.width=gf;gn.height=gf;var go=new eK(gn.getContext('2d'));if(tab.FeatureParamsLookup.getBool(38)){go.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');go.fillRect(0,0,gf,gf)}var gp=new dz(gn,go);gp.$O(e,gg,gg,L,fX,fY,true);return gn};gl=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(gk,gm)}if(ss.isValue(gl)){gj.drawImage3(gl,gi+0.5<<0,gh+0.5<<0,gf,gf)}else{this.$O(e,ga,gb,L,fX,fY,false)}},$O:function(e,L,fX,fY,fZ,ga,gb){var gc=e.clipCase!==0&&!gb;if(gc){this.get_currentContext().save();this.clipRect(e.clipCase,e.c.get('cell_x').gv(fY),e.c.get('cell_y').gv(fY),e.c.get('clip_width').gv(fY),e.c.get('clip_height').gv(fY))}var gd=e.c.get('shape_id').gv(fY);switch(gd){case'shapeIDCircle':{this.$t(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledCircle':{this.$w(e,L,fX,fY,fZ,ga);break}case'shapeIDUnscaledFilledCircle':{this.$M(e,L,fX,fY,fZ,ga);break}case'shapeIDSquare':{this.$J(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledSquare':{this.$C(e,L,fX,fY,fZ,ga);break}case'shapeIDAsterisk':{this.$s(e,L,fX,fY,fZ,ga);break}case'shapeIDPlus':{this.$H(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledPlus':{this.$A(e,L,fX,fY,fZ,ga);break}case'shapeIDTimes':{this.$K(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledTimes':{this.$E(e,L,fX,fY,fZ,ga);break}case'shapeIDDiamond':{this.$u(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledDiamond':{this.$x(e,L,fX,fY,fZ,ga);break}case'shapeIDTriangle':{this.$L(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledTriangle':{this.$F(e,L,fX,fY,fZ,ga);break}case'shapeIDDownTriangle':{this.$v(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledDownTriangle':{this.$y(e,L,fX,fY,fZ,ga);break}case'shapeIDLeftTriangle':{this.$G(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledLeftTriangle':{this.$z(e,L,fX,fY,fZ,ga);break}case'shapeIDRightTriangle':{this.$I(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledRightTriangle':{this.$B(e,L,fX,fY,fZ,ga);break}case'shapeIDFilledStar':{this.$D(e,L,fX,fY,fZ,ga);break}default:{bi.renderCustomShape(this.get_currentContext(),e,fY,fZ,ga);break}}if(gc){this.get_currentContext().restore()}},$t:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.958333333333333,e.c.get('halo_color').gv(fY)[ga],4)}break}case'normalOn':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.958333333333333,e.getMarkColors(fY)[ga],2)}break}case'selectedUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.958333333333333,e.c.get('selected_halo_color').gv(fY)[ga],4)}break}default:{break}}},$w:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.979166666666667,e.c.get('halo_color').gv(fY)[ga],4)}break}case'normalOn':{{{bi.renderFilledCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.979166666666667,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.979166666666667,e.c.get('selected_halo_color').gv(fY)[ga],4)}break}case'border':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY)*0.979166666666667,e.c.get('border_color').gv(fY)[ga],1)}break}default:{break}}},$M:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY),e.c.get('halo_color').gv(fY)[ga],4)}break}case'normalOn':{{{bi.renderFilledCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY),e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY),e.c.get('selected_halo_color').gv(fY)[ga],4)}break}case'border':{{bi.renderCircle(this.get_currentContext(),0+L,0+fX,e.c.get('size').gv(fY),e.c.get('border_color').gv(fY)[ga],1)}break}default:{break}}},$J:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('halo_color').gv(fY)[ga],4)}break}case'normalOn':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,e.getMarkColors(fY)[ga],2)}break}case'selectedUnder':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('size').gv(fY)*0.895833333333333,e.c.get('selected_halo_color').gv(fY)[ga],4)}break}default:{break}}},$C:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,e.c.get('halo_color').gv(fY)[ga],4)}break}case'normalOn':{{this.renderFilledRectangle(L+0,fX+0,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,e.getMarkColors(fY)[ga])}break}case'selectedUnder':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,e.c.get('selected_halo_color').gv(fY)[ga],4)}break}case'border':{{bi.renderRectangle(this.get_currentContext(),L+0,fX+0,e.c.get('size').gv(fY)*0.9375,e.c.get('size').gv(fY)*0.9375,e.c.get('border_color').gv(fY)[ga],1)}break}default:{break}}},$s:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.958333333333333/2;var gc=0.899999976158142*gb;var gd=e.c.get('size').gv(fY)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ge=L;var gf=fX;var gg=new Array(4);gg[0]=ge+0;gg[1]=gf+-gb;gg[2]=ge+0;gg[3]=gf+gb;this.renderLine(gg,4,e.c.get('halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gh=L;var gi=fX;var gj=new Array(4);gj[0]=gh+-gc;gj[1]=gi+-gd;gj[2]=gh+gc;gj[3]=gi+gd;this.renderLine(gj,4,e.c.get('halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gk=L;var gl=fX;var gm=new Array(4);gm[0]=gk+gc;gm[1]=gl+-gd;gm[2]=gk+-gc;gm[3]=gl+gd;this.renderLine(gm,4,e.c.get('halo_color').gv(fY)[ga],true)}}break}case'normalOn':{var gn=e.c.get('size').gv(fY)*0.958333333333333/2;var go=0.899999976158142*gn;var gp=e.c.get('size').gv(fY)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var gq=L;var gr=fX;var gs=new Array(4);gs[0]=gq+0;gs[1]=gr+-gn;gs[2]=gq+0;gs[3]=gr+gn;this.renderLine(gs,2,e.getMarkColors(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gt=L;var gu=fX;var gv=new Array(4);gv[0]=gt+-go;gv[1]=gu+-gp;gv[2]=gt+go;gv[3]=gu+gp;this.renderLine(gv,2,e.getMarkColors(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gw=L;var gx=fX;var gy=new Array(4);gy[0]=gw+go;gy[1]=gx+-gp;gy[2]=gw+-go;gy[3]=gx+gp;this.renderLine(gy,2,e.getMarkColors(fY)[ga],true)}}break}case'selectedUnder':{var gz=e.c.get('size').gv(fY)*0.958333333333333/2;var gA=0.899999976158142*gz;var gB=e.c.get('size').gv(fY)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var gC=L;var gD=fX;var gE=new Array(4);gE[0]=gC+0;gE[1]=gD+-gz;gE[2]=gC+0;gE[3]=gD+gz;this.renderLine(gE,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gF=L;var gG=fX;var gH=new Array(4);gH[0]=gF+-gA;gH[1]=gG+-gB;gH[2]=gF+gA;gH[3]=gG+gB;this.renderLine(gH,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gI=L;var gJ=fX;var gK=new Array(4);gK[0]=gI+gA;gK[1]=gJ+-gB;gK[2]=gI+-gA;gK[3]=gJ+gB;this.renderLine(gK,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}break}default:{break}}},$H:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gc=L;var gd=fX;var ge=new Array(4);ge[0]=gc+0;ge[1]=gd+-gb;ge[2]=gc+0;ge[3]=gd+gb;this.renderLine(ge,4,e.c.get('halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gf=L;var gg=fX;var gh=new Array(4);gh[0]=gf+-gb;gh[1]=gg+0;gh[2]=gf+gb;gh[3]=gg+0;this.renderLine(gh,4,e.c.get('halo_color').gv(fY)[ga],true)}}break}case'normalOn':{var gi=e.c.get('size').gv(fY)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gj=L;var gk=fX;var gl=new Array(4);gl[0]=gj+0;gl[1]=gk+-gi;gl[2]=gj+0;gl[3]=gk+gi;this.renderLine(gl,2,e.getMarkColors(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gm=L;var gn=fX;var go=new Array(4);go[0]=gm+-gi;go[1]=gn+0;go[2]=gm+gi;go[3]=gn+0;this.renderLine(go,2,e.getMarkColors(fY)[ga],true)}}break}case'selectedUnder':{var gp=e.c.get('size').gv(fY)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gq=L;var gr=fX;var gs=new Array(4);gs[0]=gq+0;gs[1]=gr+-gp;gs[2]=gq+0;gs[3]=gr+gp;this.renderLine(gs,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gt=L;var gu=fX;var gv=new Array(4);gv[0]=gt+-gp;gv[1]=gu+0;gv[2]=gt+gp;gv[3]=gu+0;this.renderLine(gv,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}break}default:{break}}},$A:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.9375/2;var gc=gb/3;{{var gd=L;var ge=fX;var gf=new Array(24);gf[0]=gd+-gc;gf[1]=ge+-gb;gf[2]=gd+-gc;gf[3]=ge+-gc;gf[4]=gd+-gb;gf[5]=ge+-gc;gf[6]=gd+-gb;gf[7]=ge+gc;gf[8]=gd+-gc;gf[9]=ge+gc;gf[10]=gd+-gc;gf[11]=ge+gb;gf[12]=gd+gc;gf[13]=ge+gb;gf[14]=gd+gc;gf[15]=ge+gc;gf[16]=gd+gb;gf[17]=ge+gc;gf[18]=gd+gb;gf[19]=ge+-gc;gf[20]=gd+gc;gf[21]=ge+-gc;gf[22]=gd+gc;gf[23]=ge+-gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gf,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gg=e.c.get('size').gv(fY)*0.9375/2;var gh=gg/3;{{var gi=L;var gj=fX;var gk=new Array(24);gk[0]=gi+-gh;gk[1]=gj+-gg;gk[2]=gi+-gh;gk[3]=gj+-gh;gk[4]=gi+-gg;gk[5]=gj+-gh;gk[6]=gi+-gg;gk[7]=gj+gh;gk[8]=gi+-gh;gk[9]=gj+gh;gk[10]=gi+-gh;gk[11]=gj+gg;gk[12]=gi+gh;gk[13]=gj+gg;gk[14]=gi+gh;gk[15]=gj+gh;gk[16]=gi+gg;gk[17]=gj+gh;gk[18]=gi+gg;gk[19]=gj+-gh;gk[20]=gi+gh;gk[21]=gj+-gh;gk[22]=gi+gh;gk[23]=gj+-gg;this.renderFilledPolygon(gk,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gl=e.c.get('size').gv(fY)*0.9375/2;var gm=gl/3;{{var gn=L;var go=fX;var gp=new Array(24);gp[0]=gn+-gm;gp[1]=go+-gl;gp[2]=gn+-gm;gp[3]=go+-gm;gp[4]=gn+-gl;gp[5]=go+-gm;gp[6]=gn+-gl;gp[7]=go+gm;gp[8]=gn+-gm;gp[9]=go+gm;gp[10]=gn+-gm;gp[11]=go+gl;gp[12]=gn+gm;gp[13]=go+gl;gp[14]=gn+gm;gp[15]=go+gm;gp[16]=gn+gl;gp[17]=go+gm;gp[18]=gn+gl;gp[19]=go+-gm;gp[20]=gn+gm;gp[21]=go+-gm;gp[22]=gn+gm;gp[23]=go+-gl;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gp,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$K:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gc=L;var gd=fX;var ge=new Array(4);ge[0]=gc+-gb;ge[1]=gd+-gb;ge[2]=gc+gb;ge[3]=gd+gb;this.renderLine(ge,4,e.c.get('halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gf=L;var gg=fX;var gh=new Array(4);gh[0]=gf+-gb;gh[1]=gg+gb;gh[2]=gf+gb;gh[3]=gg+-gb;this.renderLine(gh,4,e.c.get('halo_color').gv(fY)[ga],true)}}break}case'normalOn':{var gi=e.c.get('size').gv(fY)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gj=L;var gk=fX;var gl=new Array(4);gl[0]=gj+-gi;gl[1]=gk+-gi;gl[2]=gj+gi;gl[3]=gk+gi;this.renderLine(gl,2,e.getMarkColors(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gm=L;var gn=fX;var go=new Array(4);go[0]=gm+-gi;go[1]=gn+gi;go[2]=gm+gi;go[3]=gn+-gi;this.renderLine(go,2,e.getMarkColors(fY)[ga],true)}}break}case'selectedUnder':{var gp=e.c.get('size').gv(fY)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gq=L;var gr=fX;var gs=new Array(4);gs[0]=gq+-gp;gs[1]=gr+-gp;gs[2]=gq+gp;gs[3]=gr+gp;this.renderLine(gs,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}{{this.get_currentContext().set_lineCap('square');var gt=L;var gu=fX;var gv=new Array(4);gv[0]=gt+-gp;gv[1]=gu+gp;gv[2]=gt+gp;gv[3]=gu+-gp;this.renderLine(gv,4,e.c.get('selected_halo_color').gv(fY)[ga],true)}}break}default:{break}}},$E:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.9375/2;var gc=e.c.get('size').gv(fY)*0.9375/4;{{var gd=L;var ge=fX;var gf=new Array(24);gf[0]=gd+-gc;gf[1]=ge+-gb;gf[2]=gd+-gb;gf[3]=ge+-gc;gf[4]=gd+-gc;gf[5]=ge+0;gf[6]=gd+-gb;gf[7]=ge+gc;gf[8]=gd+-gc;gf[9]=ge+gb;gf[10]=gd+0;gf[11]=ge+gc;gf[12]=gd+gc;gf[13]=ge+gb;gf[14]=gd+gb;gf[15]=ge+gc;gf[16]=gd+gc;gf[17]=ge+0;gf[18]=gd+gb;gf[19]=ge+-gc;gf[20]=gd+gc;gf[21]=ge+-gb;gf[22]=gd+0;gf[23]=ge+-gc;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gf,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gg=e.c.get('size').gv(fY)*0.9375/2;var gh=e.c.get('size').gv(fY)*0.9375/4;{{var gi=L;var gj=fX;var gk=new Array(24);gk[0]=gi+-gh;gk[1]=gj+-gg;gk[2]=gi+-gg;gk[3]=gj+-gh;gk[4]=gi+-gh;gk[5]=gj+0;gk[6]=gi+-gg;gk[7]=gj+gh;gk[8]=gi+-gh;gk[9]=gj+gg;gk[10]=gi+0;gk[11]=gj+gh;gk[12]=gi+gh;gk[13]=gj+gg;gk[14]=gi+gg;gk[15]=gj+gh;gk[16]=gi+gh;gk[17]=gj+0;gk[18]=gi+gg;gk[19]=gj+-gh;gk[20]=gi+gh;gk[21]=gj+-gg;gk[22]=gi+0;gk[23]=gj+-gh;this.renderFilledPolygon(gk,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gl=e.c.get('size').gv(fY)*0.9375/2;var gm=e.c.get('size').gv(fY)*0.9375/4;{{var gn=L;var go=fX;var gp=new Array(24);gp[0]=gn+-gm;gp[1]=go+-gl;gp[2]=gn+-gl;gp[3]=go+-gm;gp[4]=gn+-gm;gp[5]=go+0;gp[6]=gn+-gl;gp[7]=go+gm;gp[8]=gn+-gm;gp[9]=go+gl;gp[10]=gn+0;gp[11]=go+gm;gp[12]=gn+gm;gp[13]=go+gl;gp[14]=gn+gl;gp[15]=go+gm;gp[16]=gn+gm;gp[17]=go+0;gp[18]=gn+gl;gp[19]=go+-gm;gp[20]=gn+gm;gp[21]=go+-gl;gp[22]=gn+0;gp[23]=go+-gm;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gp,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$u:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gc=L;var gd=fX;var ge=new Array(8);ge[0]=gc+0;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+0;ge[4]=gc+0;ge[5]=gd+gb;ge[6]=gc+gb;ge[7]=gd+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gg=L;var gh=fX;var gi=new Array(8);gi[0]=gg+0;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+0;gi[4]=gg+0;gi[5]=gh+gf;gi[6]=gg+gf;gi[7]=gh+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gi,2,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gk=L;var gl=fX;var gm=new Array(8);gm[0]=gk+0;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+0;gm[4]=gk+0;gm[5]=gl+gj;gm[6]=gk+gj;gm[7]=gl+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$x:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gc=L;var gd=fX;var ge=new Array(8);ge[0]=gc+0;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+0;ge[4]=gc+0;ge[5]=gd+gb;ge[6]=gc+gb;ge[7]=gd+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gg=L;var gh=fX;var gi=new Array(8);gi[0]=gg+0;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+0;gi[4]=gg+0;gi[5]=gh+gf;gi[6]=gg+gf;gi[7]=gh+0;this.renderFilledPolygon(gi,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*1.04166666666667/2;{{var gk=L;var gl=fX;var gm=new Array(8);gm[0]=gk+0;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+0;gm[4]=gk+0;gm[5]=gl+gj;gm[6]=gk+gj;gm[7]=gl+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$L:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+0;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+gb;ge[4]=gc+gb;ge[5]=gd+gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+0;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+gf;gi[4]=gg+gf;gi[5]=gh+gf;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gi,2,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+0;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+gj;gm[4]=gk+gj;gm[5]=gl+gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$F:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+0;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+gb;ge[4]=gc+gb;ge[5]=gd+gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+0;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+gf;gi[4]=gg+gf;gi[5]=gh+gf;this.renderFilledPolygon(gi,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+0;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+gj;gm[4]=gk+gj;gm[5]=gl+gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$v:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+0;ge[1]=gd+gb;ge[2]=gc+-gb;ge[3]=gd+-gb;ge[4]=gc+gb;ge[5]=gd+-gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+0;gi[1]=gh+gf;gi[2]=gg+-gf;gi[3]=gh+-gf;gi[4]=gg+gf;gi[5]=gh+-gf;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gi,2,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+0;gm[1]=gl+gj;gm[2]=gk+-gj;gm[3]=gl+-gj;gm[4]=gk+gj;gm[5]=gl+-gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$y:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+0;ge[1]=gd+gb;ge[2]=gc+-gb;ge[3]=gd+-gb;ge[4]=gc+gb;ge[5]=gd+-gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+0;gi[1]=gh+gf;gi[2]=gg+-gf;gi[3]=gh+-gf;gi[4]=gg+gf;gi[5]=gh+-gf;this.renderFilledPolygon(gi,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+0;gm[1]=gl+e.c.get('size').gv(fY)*0.916666666666667/2;gm[2]=gk+-gj;gm[3]=gl+-gj;gm[4]=gk+gj;gm[5]=gl+-gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$G:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+-gb;ge[1]=gd+0;ge[2]=gc+gb;ge[3]=gd+-gb;ge[4]=gc+gb;ge[5]=gd+gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+-gf;gi[1]=gh+0;gi[2]=gg+gf;gi[3]=gh+-gf;gi[4]=gg+gf;gi[5]=gh+gf;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gi,2,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+-gj;gm[1]=gl+0;gm[2]=gk+gj;gm[3]=gl+-gj;gm[4]=gk+gj;gm[5]=gl+gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$z:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+-gb;ge[1]=gd+0;ge[2]=gc+gb;ge[3]=gd+-gb;ge[4]=gc+gb;ge[5]=gd+gb;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+-gf;gi[1]=gh+0;gi[2]=gg+gf;gi[3]=gh+-gf;gi[4]=gg+gf;gi[5]=gh+gf;this.renderFilledPolygon(gi,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+-gj;gm[1]=gl+0;gm[2]=gk+gj;gm[3]=gl+-gj;gm[4]=gk+gj;gm[5]=gl+gj;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$I:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+-gb;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+gb;ge[4]=gc+gb;ge[5]=gd+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+-gf;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+gf;gi[4]=gg+gf;gi[5]=gh+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gi,2,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.895833333333333/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+-gj;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+gj;gm[4]=gk+gj;gm[5]=gl+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$B:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gc=L;var gd=fX;var ge=new Array(6);ge[0]=gc+-gb;ge[1]=gd+-gb;ge[2]=gc+-gb;ge[3]=gd+gb;ge[4]=gc+gb;ge[5]=gd+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(ge,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gf=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gg=L;var gh=fX;var gi=new Array(6);gi[0]=gg+-gf;gi[1]=gh+-gf;gi[2]=gg+-gf;gi[3]=gh+gf;gi[4]=gg+gf;gi[5]=gh+0;this.renderFilledPolygon(gi,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gj=e.c.get('size').gv(fY)*0.916666666666667/2;{{var gk=L;var gl=fX;var gm=new Array(6);gm[0]=gk+-gj;gm[1]=gl+-gj;gm[2]=gk+-gj;gm[3]=gl+gj;gm[4]=gk+gj;gm[5]=gl+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gm,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$D:function(e,L,fX,fY,fZ,ga){switch(fZ){case'normalUnder':{var gb=e.c.get('size').gv(fY)*1.09166666666667;var gc=gb/2;var gd=gb*0.3877;{{var ge=L;var gf=fX;var gg=new Array(20);gg[0]=ge+0;gg[1]=gf+(-gc+gb*0.0246);gg[2]=ge+(-gc+gb*0.3817);gg[3]=gf+(-gc+gd);gg[4]=ge+-gc;gg[5]=gf+(-gc+gd);gg[6]=ge+(-gc+gb*0.3088);gg[7]=gf+(-gc+gb*0.612);gg[8]=ge+(-gc+gb*0.1909);gg[9]=gf+(-gc+gb*0.9751);gg[10]=ge+0;gg[11]=gf+(-gc+gb*0.7507);gg[12]=ge+(-gc+gb*0.8085);gg[13]=gf+(-gc+gb*0.9751);gg[14]=ge+(-gc+gb*0.6905);gg[15]=gf+(-gc+gb*0.612);gg[16]=ge+gc;gg[17]=gf+(-gc+gd);gg[18]=ge+(-gc+gb*0.6176);gg[19]=gf+(-gc+gd);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gg,4,e.c.get('halo_color').gv(fY)[ga])}}break}case'normalOn':{var gh=e.c.get('size').gv(fY)*1.09166666666667;var gi=gh/2;var gj=gh*0.3877;{{var gk=L;var gl=fX;var gm=new Array(20);gm[0]=gk+0;gm[1]=gl+(-gi+gh*0.0246);gm[2]=gk+(-gi+gh*0.3817);gm[3]=gl+(-gi+gj);gm[4]=gk+-gi;gm[5]=gl+(-gi+gj);gm[6]=gk+(-gi+gh*0.3088);gm[7]=gl+(-gi+gh*0.612);gm[8]=gk+(-gi+gh*0.1909);gm[9]=gl+(-gi+gh*0.9751);gm[10]=gk+0;gm[11]=gl+(-gi+gh*0.7507);gm[12]=gk+(-gi+gh*0.8085);gm[13]=gl+(-gi+gh*0.9751);gm[14]=gk+(-gi+gh*0.6905);gm[15]=gl+(-gi+gh*0.612);gm[16]=gk+gi;gm[17]=gl+(-gi+gj);gm[18]=gk+(-gi+gh*0.6176);gm[19]=gl+(-gi+gj);this.renderFilledPolygon(gm,e.getMarkColors(fY)[ga])}}break}case'selectedUnder':{var gn=e.c.get('size').gv(fY)*1.09166666666667;var go=gn/2;var gp=gn*0.3877;{{var gq=L;var gr=fX;var gs=new Array(20);gs[0]=gq+0;gs[1]=gr+(-go+gn*0.0246);gs[2]=gq+(-go+gn*0.3817);gs[3]=gr+(-go+gp);gs[4]=gq+-go;gs[5]=gr+(-go+gp);gs[6]=gq+(-go+gn*0.3088);gs[7]=gr+(-go+gn*0.612);gs[8]=gq+(-go+gn*0.1909);gs[9]=gr+(-go+gn*0.9751);gs[10]=gq+0;gs[11]=gr+(-go+gn*0.7507);gs[12]=gq+(-go+gn*0.8085);gs[13]=gr+(-go+gn*0.9751);gs[14]=gq+(-go+gn*0.6905);gs[15]=gr+(-go+gn*0.612);gs[16]=gq+go;gs[17]=gr+(-go+gp);gs[18]=gq+(-go+gn*0.6176);gs[19]=gr+(-go+gp);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gs,4,e.c.get('selected_halo_color').gv(fY)[ga])}}break}default:{break}}},$g:function(e,L,fX,fY,fZ,ga){switch(fX){case'normalUnder':{var gb=fZ.CPZ;if(e.isTupleVisible(fZ.nSc[L])){if((L===0||!e.isTupleVisible(fZ.nSc[L-1]))&&(L+1>=fZ._cx.length||!e.isTupleVisible(fZ.nSc[L+1]))){var gc=ss.Int32.div(fZ.Rdg[L],2)+2.5;if(fZ.UvQ){var gd=e.thisDomainToPixelY(fZ._cx[L]);var ge=e.thisDomainToPixelY(fZ.mQE[L]);var gf=e.thisDomainToPixelX(fZ.mju[L]);{var gg=[gf-gc,gd,gf-gc,ge,gf+gc,ge,gf+gc,gd];this.renderFilledPolygon(gg,e.getOneColorAlpha(gb,fY,ga))}}else{var gh=e.thisDomainToPixelX(fZ._cx[L]);var gi=e.thisDomainToPixelX(fZ.mQE[L]);var gj=e.thisDomainToPixelY(fZ.mju[L]);{var gk=[gh,gj-gc,gi,gj-gc,gi,gj+gc,gh,gj+gc];this.renderFilledPolygon(gk,e.getOneColorAlpha(gb,fY,ga))}}}else if(L+1<fZ.nSc.length&&e.isTupleVisible(fZ.nSc[L+1])){if(fZ.UvQ){var gl=e.thisDomainToPixelY(fZ._cx[L]);var gm=e.thisDomainToPixelY(fZ.mQE[L]);var gn=e.thisDomainToPixelY(fZ._cx[L+1]);var go=e.thisDomainToPixelY(fZ.mQE[L+1]);var gp=e.thisDomainToPixelX(fZ.mju[L]);var gq=e.thisDomainToPixelX(fZ.mju[L+1]);{var gr=[gp,gm,gq,go,gq,gn,gp,gl];this.renderFilledPolygon(gr,e.getOneColorAlpha(gb,fY,ga))}}else{var gs=e.thisDomainToPixelX(fZ._cx[L]);var gt=e.thisDomainToPixelX(fZ.mQE[L]);var gu=e.thisDomainToPixelX(fZ._cx[L+1]);var gv=e.thisDomainToPixelX(fZ.mQE[L+1]);var gw=e.thisDomainToPixelY(fZ.mju[L]);var gx=e.thisDomainToPixelY(fZ.mju[L+1]);{var gy=[gt,gw,gv,gx,gu,gx,gs,gw];this.renderFilledPolygon(gy,e.getOneColorAlpha(gb,fY,ga))}}}}break}}},$q:function(e,L,fX,fY){var fZ='colorOverrideNone';var ga=255;var gb=fX;var gc=0;var gd=1;var ge=2;var gf=gc;for(var gg=0;gg<gb.CJr.length;gg++){var gh=gb.CJr[gg];if(e.isTupleSelected(gh)){gf=ge;break}if(gf!==gd&&e.isTupleHighlighted(gh)){gf=gd}}if(gf!==ge){for(var gi=0;gi<gb.nSc.length;gi++){var gj=gb.nSc[gi];if(e.isTupleSelected(gj)){gf=ge;break}if(gf!==gd&&e.isTupleHighlighted(gj)){gf=gd}}}switch(L){case'normalUnderPass':{if(gf===gc&&fY==='underMark'){if(e.get_hasSelection()||e.get_hasBrushing()){fZ='colorOverrideFog'}else{fZ='colorOverrideNone'}var gk=gb.nSc.length;for(var gl=0;gl<gk;gl++){this.$g(e,gl,'normalUnder',fZ,gb,ga)}}break}case'highlightedUnderPass':{if(gf===gd&&fY==='underMark'){var gm=gb.nSc.length;for(var gn=0;gn<gm;gn++){if(e.isTupleHighlighted(gb.nSc[gn])&&((gn===0||!e.isTupleVisible(gb.nSc[gn-1]))&&(gn+1>=gb._cx.length||!e.isTupleVisible(gb.nSc[gn+1]))||gn+1<gb.nSc.length&&e.isTupleVisible(gb.nSc[gn+1])&&e.isTupleHighlighted(gb.nSc[gn+1]))){fZ='colorOverrideNone'}else{fZ='colorOverrideFog'}this.$g(e,gn,'normalUnder',fZ,gb,ga)}}break}case'selectedUnderPass':{if(gf===ge&&fY==='underMark'){fZ='colorOverrideReplaceAlpha';ga=76.5;var go=gb.nSc.length;for(var gp=0;gp<go;gp++){this.$g(e,gp,'normalUnder',fZ,gb,ga)}}break}}},$h:function(e,L,fX,fY,fZ,ga){switch(fX){case'border':{if(e.isTupleVisible(fZ.nSc[L])){var gb=ss.Int32.div(fZ.Rdg[L]-1,2);if(fZ.UvQ){var gc=ss.Int32.trunc(e.thisDomainToPixelX(fZ.mju[L]));var gd=ss.Int32.trunc(e.thisDomainToPixelY(fZ._cx[L]));var ge=ss.Int32.trunc(e.thisDomainToPixelY(fZ.mQE[L]));var gf=gd-0.5;var gg=ge+1.5;var gh=gc-0.5-gb;var gi=gc+1.5+gb;var gj=gd+1.5;var gk=ge-0.5;var gl=gc-0.5;var gm=gc+1.5;{var gn=[gh,gf,gi,gf,gi,gj,gm,gj,gm,gk,gi,gk,gi,gg,gh,gg,gh,gk,gl,gk,gl,gj,gh,gj];this.renderLineLoop(gn,1,e.getOneColorAlpha(fZ.CPZ,fY,ga))}}else{var go=ss.Int32.trunc(e.thisDomainToPixelY(fZ.mju[L]));var gp=ss.Int32.trunc(e.thisDomainToPixelX(fZ.mQE[L]));var gq=ss.Int32.trunc(e.thisDomainToPixelX(fZ._cx[L]));var gr=go-0.5-gb;var gs=go+1.5+gb;var gt=gp-0.5;var gu=gq+1.5;var gv=go-0.5;var gw=go+1.5;var gx=gp+1.5;var gy=gq-0.5;{var gz=[gt,gr,gx,gr,gx,gv,gy,gv,gy,gr,gu,gr,gu,gs,gy,gs,gy,gw,gx,gw,gx,gs,gt,gs];this.renderLineLoop(gz,1,e.getOneColorAlpha(fZ.CPZ,fY,ga))}}}break}case'normalUnder':{if(e.isTupleVisible(fZ.nSc[L])){var gA=ss.Int32.div(fZ.Rdg[L]-1,2);var gB=fZ.NbC[L];if(fZ.UvQ){var gC=ss.Int32.trunc(e.thisDomainToPixelX(fZ.mju[L]));var gD=ss.Int32.trunc(e.thisDomainToPixelY(fZ._cx[L]));var gE=ss.Int32.trunc(e.thisDomainToPixelY(fZ.mQE[L]));{var gF=[gC-gA,gD+0.5,gC+gA+1,gD+0.5];this.renderLine(gF,1,e.getOneColorAlpha(gB,fY,ga),false)}{var gG=[gC-gA,gE+0.5,gC+gA+1,gE+0.5];this.renderLine(gG,1,e.getOneColorAlpha(gB,fY,ga),false)}{var gH=[gC+0.5,gD+1,gC+0.5,gE];this.renderLine(gH,1,e.getOneColorAlpha(gB,fY,ga),false)}}else{var gI=ss.Int32.trunc(e.thisDomainToPixelY(fZ.mju[L]));var gJ=ss.Int32.trunc(e.thisDomainToPixelX(fZ.mQE[L]));var gK=ss.Int32.trunc(e.thisDomainToPixelX(fZ._cx[L]));{var gL=[gJ+0.5,gI-gA,gJ+0.5,gI+gA+1];this.renderLine(gL,1,e.getOneColorAlpha(gB,fY,ga),false)}{var gM=[gK+0.5,gI-gA,gK+0.5,gI+gA+1];this.renderLine(gM,1,e.getOneColorAlpha(gB,fY,ga),false)}{var gN=[gJ+1,gI+0.5,gK,gI+0.5];this.renderLine(gN,1,e.getOneColorAlpha(gB,fY,ga),false)}}}break}}},$r:function(e,L,fX,fY){var fZ='colorOverrideNone';var ga=255;var gb=fX;switch(L){case'normalUnderPass':{if(!gb.Brn&&fY==='underMark'){if(e.get_hasSelection()||e.get_hasBrushing()){fZ='colorOverrideFog'}else{fZ='colorOverrideNone'}var gc=gb.nSc.length;for(var gd=0;gd<gc;gd++){if(!e.isTupleHighlighted(gb.nSc[gd])&&!e.isTupleSelected(gb.nSc[gd])){this.$h(e,gd,'border',fZ,gb,ga);this.$h(e,gd,'normalUnder',fZ,gb,ga)}}}break}case'normalOnPass':{if(gb.Brn&&fY==='underLabel'){if(e.get_hasSelection()||e.get_hasBrushing()){fZ='colorOverrideFog'}else{fZ='colorOverrideNone'}var ge=gb.nSc.length;for(var gf=0;gf<ge;gf++){if(!e.isTupleHighlighted(gb.nSc[gf])&&!e.isTupleSelected(gb.nSc[gf])){this.$h(e,gf,'border',fZ,gb,ga);this.$h(e,gf,'normalUnder',fZ,gb,ga)}}}break}case'selectedUnderPass':{if(!gb.Brn&&fY==='underMark'){var gg=gb.nSc.length;for(var gh=0;gh<gg;gh++){if(e.isTupleSelected(gb.nSc[gh])){fZ='colorOverrideReplaceAlpha';ga=63.75;this.$h(e,gh,'border',fZ,gb,ga);fZ='colorOverrideReplaceAlpha';ga=gb.sVE/255*255;this.$h(e,gh,'normalUnder',fZ,gb,ga)}}}break}case'selectedOnPass':{if(gb.Brn&&fY==='underLabel'){var gi=gb.nSc.length;for(var gj=0;gj<gi;gj++){if(e.isTupleSelected(gb.nSc[gj])){fZ='colorOverrideReplaceAlpha';ga=63.75;this.$h(e,gj,'border',fZ,gb,ga);fZ='colorOverrideReplaceAlpha';ga=gb.sVE/255*255;this.$h(e,gj,'normalUnder',fZ,gb,ga)}}}break}case'highlightedUnderPass':{if(!gb.Brn&&fY==='underMark'){fZ='colorOverrideNone';var gk=gb.nSc.length;for(var gl=0;gl<gk;gl++){if(e.isTupleHighlighted(gb.nSc[gl])){this.$h(e,gl,'border',fZ,gb,ga);this.$h(e,gl,'normalUnder',fZ,gb,ga)}}}break}case'highlightedOnPass':{if(gb.Brn&&fY==='underLabel'){fZ='colorOverrideNone';var gm=gb.nSc.length;for(var gn=0;gn<gm;gn++){if(e.isTupleHighlighted(gb.nSc[gn])){this.$h(e,gn,'border',fZ,gb,ga);this.$h(e,gn,'normalUnder',fZ,gb,ga)}}}break}}},$8:function(e,L,fX,fY,fZ){var ga=1;var gb=2*ga;return!tab.RectXYUtil.completelyContains$1(e,ss.Int32.trunc(L)-ga,ss.Int32.trunc(fX)-ga,ss.Int32.trunc(fY)+gb,ss.Int32.trunc(fZ)+gb)}},bi);ss.initClass(dA,a,{});ss.initClass(dB,a,{dispose:function(){$(document).off('.ModifierKeyState');$(window).off('.ModifierKeyState')},$1:function(){this.$4(true)},$0:function(){this.$4(false)},$2:function(){if('focus'in window.self){window.focus()}},$3:function(e){if(!this.$5&&!tab.BrowserSupport.get_isIE()){if(tab.BrowserSupport.get_isFF()&&ss.isValue(document.activeElement)){tab.DomUtil.blur()}this.$2()}dB.fireModifierKeysChanged(e)},$4:function(e){if(e===this.$5){return}this.$5=e}},null,[ss.IDisposable]);ss.initClass(dC,a,{});ss.initClass(dD,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var fX=e[L];var fY=ss.mkdict(['style',fX.get_style(),'weight',fX.get_weight()]);var fZ=new FontFace(fX.get_fontFamily(),fX.get_source(),fY);if(ss.keyExists(this.$2,fX.get_hash())){continue}dD.$0().add(fZ);this.$2[fX.get_hash()]=fZ}},downloadFonts:function(){var e=_.values(this.$2);for(var L=0;L<e.length;L++){var fX=e[L];if(fX.status==='unloaded'){this.$3.push(fX.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cW]);ss.initEnum(dE,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6});ss.initClass(dG,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,L){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dH,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new dH(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var L=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',L+'px']))}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dg]);ss.initClass(dI,a,{buildItem:function(e){var L=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){L.push('active')}return React.DOM.div({className:L.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(L){this.props.userListViewModel.selectUser(e.data)})}},onScrollStop:function(e,L){this.props.userListViewModel.handleScrollStop(e,L)},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dJ,a,{get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.$p()},get_hasBrushing:function(){return this.sceneInfo.$o()},get_lineDrawState:function(){if(this.$k===null){this.$k=new ds(this)}return this.$k},get_hasBackground:function(){var e=this.c.has('pane_has_background');if(e){var L=this.c.get('pane_has_background');e=L.v[(L.c?0:0)]===true}return e},get_hasHalos:function(){var e=this.c.has('has_halos');if(e){var L=this.c.get('has_halos');e=L.v[(L.c?0:0)]===true}return e},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var e;if(this.c.has('border_color')){var L=this.c.get('border_color');e=L.v[(L.c?0:0)]}else{e=null}return e},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.fDN},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$o},set_paneFlags:function(e){this.$o=e;this.$a()},getTextRunProperty:function(e,L){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!this.textRunColumnIterators.has(e)){return null}var fX=this.textRunColumnIterators.get(e);return fX.v[(fX.c?0:L)]},markHasLabel:function(e){if(this.$l){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(e)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(e)!=='markStateHighlighted'){return false}}return this.c.get('label_index').gv(e)!==-1},getOneColorAlpha:function(e,L,fX){var fY=null;this.$i=this.$i||new Map;if(!this.$i.has(e)){fY=tab.ColorModel.fromArgbInt(e);var fZ=tab.SceneDataUtil.createColorCollection(fY,this.foggedBackgroundColor,this.fogBlendFactor);this.$i.set(e,fZ)}var ga=this.$i.get(e);if(L==='colorOverrideReplaceAlpha'){fY=fY||tab.ColorModel.fromArgbInt(e);return tab.ColorModel.fromColorModelPlusAlpha(fY,fX/255).toRgba()}return ga[L]},getMarkColors:function(e){var L='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){L='opaque_color'}var fX=this.c.get(L).gv(e);if(this.$j.has(e)){var fY={};fY['colorOverrideFog']=fX['colorOverrideFog'];fY['colorOverrideNone']=fX['colorOverrideFog'];fY['colorOverrideOpaque']=fX['colorOverrideFog'];fX=fY}return fX},getMarkGeometry:function(e){return this.sceneInfo.$7(this.pdMarksKey,e)},isMarkPropertyConstant:function(e){return this.c.get(e).c},computeDirtyMarks:function(e){this.$h=new Map;var L=tab.RectXYUtil.completelyContains(e,this.paneRect);var fX=this.c.get('tuple_id');for(var fY=0;fY<this.markCount;fY++){var fZ=fX.v[(fX.c?0:fY)];if(!this.isTupleVisible(fZ)){continue}if(L){this.$h.set(fY,true);continue}if(this.markType==='line'||this.markType==='area'){this.$h.set(fY,true)}else{var ga=this.$6(fZ);var gb=this.getMarkInstanceOffsets(fY);if(tab.RectXYUtil.intersectsWithAny$1(e,ga,gb)){this.$h.set(fY,true)}}}},clearDirtyMarks:function(){this.$h=null},markNeedsDraw:function(e){return ss.isValue(this.$h)&&this.$h.has(e)},markLabelNeedsDraw:function(e,L){if(this.getMarkState(e)==='markStateInvisible'){return false}var fX=this.getMarkLabelBounds(e);var fY=this.getMarkLabelInstanceOffsets(e);return tab.RectXYUtil.intersectsWithAny$1(L,fX,fY)},refreshMarkState:function(){this.$m=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$j=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$n=new Map;for(var e=0;e<this.markCount;e++){if(this.$3(e)){this.$n.set(e,true)}}if(this.$b()){this.$k=new ds(this)}},getMarkState:function(e){if(ss.isValue(this.$m)&&this.$m.length>e){return this.$m[e]}return this.$2(e)},getMarkLabelState:function(e){if(this.$b()){var L=this.get_lineDrawState().get_lineAttributes();for(var fX=0;fX<L.length;fX++){var fY=L[fX];if(fY.startIndex<=e&&e<=fY.endIndex){switch(fY.get_lineState()){case'lineStateHighlighted':{return(this.$c(e)?'markStateHighlighted':this.getMarkState(e))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$c(e)){return this.getMarkState(e)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(e)},getMarkLabelProperty:function(e,L){if(this.markType==='text'){return this.c.get(e).gv(L)}var fX=this.c.get('label_index').gv(L);if(fX===-1){return null}var fY=this.labelColumnIterators.get(e);return fY.v[(fY.c?0:fX)]},getAllMarkBounds:function(){var e=new Array(this.markCount);var L=this.c.get('tuple_id');var fX=this.c.get('label_index');for(var fY=0;fY<this.markCount;fY++){var fZ=L.v[(L.c?0:fY)];var ga=this.sceneInfo.getMarkBoundingBox(fZ);var gb=((fX.v[(fX.c?0:fY)]===-1)?null:this.sceneInfo.$6(fZ));e[fY]={item1:ga,item2:gb}}return e},getMarkBounds:function(e){var L=this.c.get('tuple_id');return this.$6(L.v[(L.c?0:e)])},getMarkIndexFromTupleId:function(e){return this.tupleToIndexMap.get(e)},containsTuple:function(e){return this.tupleToIndexMap.has(e)},getMarkLabelBounds:function(e){var L=this.sceneInfo;var fX=this.c.get('tuple_id');return L.$6(fX.v[(fX.c?0:e)])},getInsetPaneClipRect:function(e,L){var fX=2*L;var fY=this.getUserPaneRectByIndex(e);return{x:fY.x+L,y:fY.y+L,w:fY.w-fX,h:fY.h-fX}},getUserPaneRectByMark:function(e){if(this.hasUserPanes){return this.$g.$8(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(e){if(this.hasUserPanes){return this.$g.$7(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(e){if(this.hasUserPanes){return this.$g.$8(this.getMarkIndexFromTupleId(e))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},$8:function(e){if(!this.hasUserPanes){return this.markCount}else{return this.$g.$5(e)}},$9:function(e){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$g.$6(e)}},$7:function(e){if(!this.hasUserPanes){return 0}else{return this.$g.$4(e)}},initStaticProperties:function(){var e=this.c.has('draw_border');if(e){var L=this.c.get('draw_border');e=L.v[(L.c?0:0)]}this.drawBorder=e;var fX=this.c.has('wrap_domain');if(fX){var fY=this.c.get('wrap_domain');fX=fY.v[(fY.c?0:0)]}this.isWrappedDomain=fX;var fZ;if(this.c.has('alpha')){var ga=this.c.get('alpha');fZ=ga.v[(ga.c?0:0)]}else{fZ=1}this.globalAlpha=fZ;var gb;if(this.c.has('line_interp')){var gc=this.c.get('line_interp');gb=gc.v[(gc.c?0:0)]}else{gb='lim-linear'}this.lineInterpolation=gb;var gd;if(this.c.has('line_mark_pos')){var ge=this.c.get('line_mark_pos');gd=ge.v[(ge.c?0:0)]}else{gd='lmp-left'}this.lineMarkerPosition=gd;var gf;if(this.c.has('min_bar_width')){var gg=this.c.get('min_bar_width');gf=gg.v[(gg.c?0:0)]}else{gf=0}this.minBarWidth=gf;var gh;if(this.c.has('min_bar_height')){var gi=this.c.get('min_bar_height');gh=gi.v[(gi.c?0:0)]}else{gh=0}this.minBarHeight=gh},$e:function(e){if(!this.hasUserPanes){var L=this.getUserPaneRectByIndex(0);var fX=this.markCount;for(var fY=0;fY<fX;++fY){e(fY,L)}}else{this.$g.$9(e)}},$f:function(e,L){if(!this.hasUserPanes){var fX=this.getUserPaneRectByIndex(0);for(var fY=0;fY<e.length;fY++){var fZ=e[fY];L(fZ,fX)}}else{this.$g.$a(e,L)}},getMarkInstanceOffsets:function(e){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return dJ.$b}return this.markInstanceOffsets[e]},getMarkLabelInstanceOffsets:function(e){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return dJ.$b}return this.markLabelInstanceOffsets[e]},getWorldInstanceOffsets:function(e,L){if(!this.isWrappedDomain){return dJ.$b}var fX=Math.ceil((this.paneRect.x-L)/this.worldWidth);var fY=Math.floor((this.paneRect.x+this.paneRect.w-e)/this.worldWidth);var fZ=fY-fX+1;var ga=new Array(fZ);var gb=fX*this.worldWidth;for(var gc=0;gc<fZ;gc++,gb+=this.worldWidth){ga[gc]=gb}return ga},getWorldOffsetBounds:function(e){var L=[];var fX=this.getWorldInstanceOffsets(e.x,e.x+e.w);var fY=fX.length;for(var fZ=0;fZ<fY;fZ++){var ga=fX[fZ];if(ga!==0){var gb=tab.RectXYUtil.offsetRectXY(e,ss.Int32.trunc(ga)|0,0);L.push(gb)}else{L.push(e)}}return L},isTupleSelected:function(e){return e!==0&&this.sceneInfo.$e(e)},isMarkSelected:function(e){var L=this.c.get('tuple_id');return this.isTupleSelected(L.v[(L.c?0:e)])},isMarkImpliedSelected:function(e){var L=this.c.get('tuple_id');var fX=L.v[(L.c?0:e)];return fX!==0&&this.sceneInfo.$d(fX)},isTupleHighlighted:function(e){return e!==0&&this.sceneInfo.$b(e)},isMarkHighlighted:function(e){var L=this.c.get('tuple_id');var fX=L.v[(L.c?0:e)];return this.isTupleHighlighted(fX)},isTupleVisible:function(e){return e!==0&&this.sceneInfo.$f(e)},isLineSegmentVisible:function(e,L){return this.getMarkState(e)!=='markStateInvisible'&&this.getMarkState(L)!=='markStateInvisible'},isLineSegmentFiltered:function(e,L){return this.$j.has(e)||this.$j.has(L)},shouldStampThisShapeMark:function(e){if(this.$p){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(e>=this.markCount){return false}return this.shapeMarkStampingDecision[e]},isMarkEndPrimitive:function(e){var L=this.c.get('mark_flags').gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'endprimitive')},isMarkDebug:function(e){var L=this.c.get('mark_flags').gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'debug')},shouldShowMarker:function(e){if(ss.isNullOrUndefined(this.$n)){return this.$3(e)}return this.$n.has(e)},$5:function(e,L,fX){var fY=null;if(L>=0&&!this.hasConstantColor&&this.markType==='text'){fY=this.getMarkColors(L)}else if(ss.isValue(this.textStyleColumnIterators)&&this.textStyleColumnIterators.has('text_style_color')){var fZ=this.textStyleColumnIterators.get('text_style_color');fY=fZ.v[(fZ.c?0:e)]}if(ss.isNullOrUndefined(fY)){return'black'}if(L!==-1&&this.$j.has(L)){fX='colorOverrideFog'}return fY[fX]},thisDomainToPixelX:function(e){return dJ.domainToPixelX(e,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(e){return dJ.domainToPixelY(e,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(e){return dJ.domainToPixelWidth(e,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(e){return dJ.domainToPixelHeight(e,this.domainExtents,this.paneRect)},$b:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$c:function(e){return this.getMarkLabelProperty('label_one_per_group',e)},$3:function(e){var L=this.c.get('mark_flags').gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'marked')||tab.SceneDataUtil.isMarkFlagSet(L,'markediflabel')&&this.markHasLabel(e)&&!this.$c(e)},setUserPaneInfo:function(e){if(ss.isNullOrUndefined(e)){return}if(this.markType==='text'){return}this.$g=new fp(e,this);this.userPaneCount=this.$g.$b;this.hasUserPanes=true},processColors:function(e){var L=this.$d();if(ss.isNullOrUndefined(e)||!this.c.has('color_idx')){if(L){this.$0()}return}var fX=tab.VisualColumnHelpers.buildColorTable(e,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var fY=null;if(L){fY=tab.VisualColumnHelpers.buildOpaqueColorTable(fX)}var fZ=this.c.get('color_idx');var ga=fZ.length;var gb=new Array(ga);var gc=(L?new Array(ga):null);for(var gd=0;gd<ga;gd++){var ge=fZ.v[(fZ.c?0:gd)];gb[gd]=fX[ge];if(L){gc[gd]=fY[ge]}}this.c.set('color',tab.VisualColumnIterator.create(gb));if(L){this.c.set('opaque_color',tab.VisualColumnIterator.create(gc))}this.c.delete('color_idx')},$0:function(){var e=this.c.get('color');if(ss.isValue(e)){var L=new Array(e.length);for(var fX=0;fX<e.length;++fX){L[fX]=tab.SceneDataUtil.createOpaqueColorCollection(e.v[(e.c?0:fX)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(L))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var e=this.c.get('tuple_id');var L=e.length;for(var fX=0;fX<L;fX++){this.tupleToIndexMap.set(e.v[(e.c?0:fX)],fX)}},$6:function(e){return this.sceneInfo.getMarkBoundingBox(e)},$d:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(e){var L=tab.VisualColumnHelpers.transformColumn(e.get('alpha'),function(gm){return gm/255});for(var fX=0;fX<dJ.$1.length;fX++){var fY=dJ.$1[fX];var fZ={$:L&&(fY==='color'||fY==='text_style_color')};var ga;if(fZ.$){var gb=e.get('alpha');ga=gb.v[(gb.c?0:0)]}else{ga=1}var gc={$:ga};tab.VisualColumnHelpers.transformColumn(e.get(fY),ss.mkdel({useAlpha:fZ,colorAlpha:gc,$this:this},function(gm){var gn=tab.ColorModel.fromArgbInt(gm);if(this.useAlpha.$&&!tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')){gn=new tab.ColorModel(gn.get_r(),gn.get_g(),gn.get_b(),this.colorAlpha.$*gn.get_a())}return tab.SceneDataUtil.createColorCollection(gn,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(e.get('shape_id'),function(gm){return tab.SceneDataUtil.shapeMapping[gm]||gm});tab.VisualColumnHelpers.transformColumn(e.get('line_interp'),function(gm){return tab.SceneDataUtil.lineInterpolationMapping[gm]||gm});tab.VisualColumnHelpers.transformColumn(e.get('line_mark_pos'),function(gm){return tab.SceneDataUtil.lineMarkerPositionMapping[gm]||gm});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){dJ.$a.forEach(ss.mkdel(this,function(gm,gn,go){var gp;var gq;var gr=gn+'_int';if(ss.contains(dJ.$4,gn)){var gs=100*Math.max(1,this.paneRect.w);gp=this.domainExtents.w/gs;gq=this.domainExtents.x}else if(ss.contains(dJ.$5,gn)){var gt=100*Math.max(1,this.paneRect.h);gp=this.domainExtents.h/gt;gq=this.domainExtents.y}else{gp=(dJ.$a.get(gn).y-dJ.$a.get(gn).x)/32767;gq=dJ.$a.get(gn).x}var gu=tab.VisualColumnHelpers.transformColumn(e.get(gr),function(gv){return(ss.isValue(gv)?(gv*gp+gq):null)});if(gu){e.set(gn,e.get(gr));e.delete(gr)}}));var gd={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var ge=0;ge<dJ.$4.length;ge++){var gf=dJ.$4[ge];tab.VisualColumnHelpers.transformColumn(e.get(gf),ss.mkdel(this,function(gm){return dJ.domainToPixelX(gm,this.domainExtents,gd)}))}for(var gg=0;gg<dJ.$3.length;gg++){var gh=dJ.$3[gg];tab.VisualColumnHelpers.transformColumn(e.get(gh),ss.mkdel(this,function(gm){return dJ.domainToPixelWidth(gm,this.domainExtents,this.paneRect)}))}for(var gi=0;gi<dJ.$5.length;gi++){var gj=dJ.$5[gi];tab.VisualColumnHelpers.transformColumn(e.get(gj),ss.mkdel(this,function(gm){return dJ.domainToPixelY(gm,this.domainExtents,gd)}))}for(var gk=0;gk<dJ.$2.length;gk++){var gl=dJ.$2[gk];tab.VisualColumnHelpers.transformColumn(e.get(gl),ss.mkdel(this,function(gm){return dJ.domainToPixelHeight(gm,this.domainExtents,this.paneRect)}))}}},$4:function(e,L){var fX=new Map;if(ss.keyExists(e,'font')){var fY=e['font'];var fZ=fY.uBu02.length;var ga=new Array(fZ);for(var gb=0;gb<fZ;++gb){ga[gb]=dJ.$0(e,gb)}fX.set('font',tab.VisualColumnIterator.create(ga));var gc=_.keys(e);for(var gd=0;gd<gc.length;gd++){var ge=gc[gd];if(!ss.contains(dJ.$6,ge)){var gf=e[ge];fX.set(ge,tab.VisualColumnHelpers.createDataArray(gf,0,gf.uBu02.length))}}if(L){var gg=this.c.get('alpha').gv(0);if(ss.isValue(gg)){fX.set('alpha',tab.VisualColumnIterator.create([gg*255]))}}this.transformColumnData(fX);tab.VisualColumnHelpers.transformColumn(fX.get('text_orientation'),function(gh){return dJ.$c.get(gh)});tab.VisualColumnHelpers.transformColumn(fX.get('text_alignment'),function(gh){var gi='start';var gj=gh;if(gj===2){gi='end'}return gi})}return fX},prepareLeftRight:function(){var e=new Array(this.markCount);var L=new Array(this.markCount);for(var fX=0;fX<this.markCount;++fX){e[fX]=-1;L[fX]=-1}var fY=0;var fZ=this.c.get('mark_flags');for(var ga=0;ga<this.markCount;ga++){var gb=fZ.v[(fZ.c?0:ga)];if(!tab.SceneDataUtil.isMarkFlagSet(gb,'end')){L[ga]=ga+1;e[ga+1]=ga}if(tab.SceneDataUtil.isMarkFlagSet(gb,'closedprimitive')){L[ga]=fY;e[fY]=ga}if(tab.SceneDataUtil.isMarkFlagSet(gb,'endprimitive')){fY=ga+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(e));this.c.set('r_neighbor',tab.VisualColumnIterator.create(L))},setupBoundingBoxes:function(){var e=this.c.get('tuple_id');var L=new Map;var fX=new Array(this.markCount);this.$e(ss.mkdel(this,function(gh,gi){var gj=dL.getMarkBoundingBox(gh,this,gi);L.set(e.v[(e.c?0:gh)],gj);fX[gh]=gj}));if(this.markType==='pie'){var fY=new ds(this);var fZ=fY.get_lineAttributes();for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];var gc=[];var gd=e.v[(e.c?0:gb.startIndex)];gc.push(gd);var ge=tab.RectXYUtil.clone(L.get(gd));for(var gf=gb.startIndex+1;gf<=gb.endIndex;++gf){gd=e.v[(e.c?0:gf)];gc.push(gd);tab.RectXYUtil.unionInPlace(ge,L.get(gd))}this.sceneInfo.$0(this,ge,gc)}}var gg=this.$1(fX);this.markWorldOffsets=gg.$1;this.markInstanceOffsets=gg.$0;this.sceneInfo.$2(this,L)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var e=[];var L=[];var fX=this.c.get('shape_id');var fY=this.c.get('x');var fZ=this.c.get('y');var ga=this.c.get('size');for(var gb=0;gb<this.markCount;++gb){if(tab.SceneDataUtil.isCustomShape(fX.v[(fX.c?0:gb)])){var gc=ga.v[(ga.c?0:gb)]/2;e[gb]=Math.round(fY.v[(fY.c?0:gb)]-gc);L[gb]=Math.round(fZ.v[(fZ.c?0:gb)]-gc)}}if(e.length>0){this.c.set('left',tab.VisualColumnIterator.create(e));this.c.set('top',tab.VisualColumnIterator.create(L))}}},setupShapeMarkStampingMap:function(){if(this.markCount<dJ.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var e=this.isMarkPropertyConstant('color');var L=this.isMarkPropertyConstant('size');var fX=this.isMarkPropertyConstant('shape_id');if(fX){var fY=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(fY)){return}if(e&&L){this.$p=true;return}}var fZ=this.c.get('size');var ga=this.c.get('shape_id');var gb={};var gc=new Array(this.markCount);for(var gd=0;gd<this.markCount;gd++){gc[gd]=false;var ge=[];if(!L){ge.push(fZ.v[(fZ.c?0:gd)])}if(!fX){var gf=ga.v[(ga.c?0:gd)];if(!tab.SceneDataUtil.isSupportedStampShape(gf)){continue}ge.push(gf)}if(!e){var gg=this.getMarkColors(gd);ge.push(gg['colorOverrideNone'])}var gh=ge.toString();if(!ss.keyExists(gb,gh)){gb[gh]=[]}gb[gh].push(gd)}var gi=false;var gj=0;var gk=_.keys(gb);for(var gl=0;gl<gk.length;gl++){var gm=gk[gl];var gn=gb[gm];if(gn.length>=dJ.shapeMarkStampingRatio){for(var go=0;go<gn.length;go++){var gp=gn[go];gc[gp]=true;gj++}gi=true}}if(gj===this.markCount){this.$p=true;this.shapeMarkStampingDecision=null}else if(gi){this.shapeMarkStampingDecision=gc}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(e,L,fX){if(ss.isValue(e)){this.textRunColumnIterators=new Map;var fY=_.keys(e);for(var fZ=0;fZ<fY.length;fZ++){var ga=fY[fZ];var gb=e[ga];this.textRunColumnIterators.set(ga,tab.VisualColumnHelpers.createDataArray(gb,0,gb.uBu02.length))}this.transformColumnData(this.textRunColumnIterators)}if(ss.isValue(L)){this.textStyleColumnIterators=this.$4(L,!fX)}},$1:function(e){var L=new Map;var fX=null;if(!this.isWrappedDomain){L.set(0,new Set);return new o(L,fX)}var fY=e.length;fX=new Array(fY);for(var fZ=0;fZ<fY;fZ++){var ga=e[fZ];if(ss.isNullOrUndefined(ga)){continue}fX[fZ]=this.getWorldInstanceOffsets(ga.x+this.paneRect.x,ga.x+ga.w+this.paneRect.x);var gb=fX[fZ];for(var gc=0;gc<gb.length;gc++){var gd=gb[gc];if(!L.has(gd)){L.set(gd,new Set);for(var ge=0;ge<this.markCount;ge++){L.get(gd).add(ge)}}L.get(gd).delete(fZ)}}var gf=new o(L,fX);return gf},ensureLinePixelAlignment:function(){var e=this.c.get('size');var L=this.c.get('x');var fX=this.c.get('y');var fY=this.c.get('r_neighbor');var fZ=this.markCount;for(var ga=0;ga<fZ;ga++){var gb=fY.v[(fY.c?0:ga)];if(gb!==-1){var gc=e.v[(e.c?0:ga)];var gd=e.v[(e.c?0:gb)];if(tab.DoubleUtil.isApproximatelyEqual(gc,gd)&&Math.round(gc)%2===1){var ge=L.v[(L.c?0:ga)];var gf=fX.v[(fX.c?0:ga)];var gg={x:ge,y:gf};var gh=L.v[(L.c?0:gb)];var gi=fX.v[(fX.c?0:gb)];var gj={x:gh,y:gi};bi.modifyLineEndpoints(gg,gj,gc);L.v[(L.c?0:ga)]=gg.x;fX.v[(fX.c?0:ga)]=gg.y;if(fY.v[(fY.c?0:gb)]===-1){L.v[(L.c?0:gb)]=gj.x;fX.v[(fX.c?0:gb)]=gj.y}}}}},$a:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$o,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$o,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$o,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$o,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$o,'has-cells-y')},$2:function(e){var L=this.c.get('tuple_id');var fX=[L.v[(L.c?0:e)]];var fY=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(fX));return fY[0]}});ss.initClass(dK,a,{});ss.initClass(dL,a,{drawReferenceLineAndTrendLineGroup:function(e,L,fX,fY,fZ){var ga=false;var gb=null;var gc=null;var gd=null;for(var ge=0;ge<e.length;ge++){var gf=e[ge];var gg=gf.VzB==='jpw'||gf.VzB==='ADd';var gh=L==='hover'||L==='selected';var gi=true;if(gg&&gh){var gj=tab.ColorModel.fromColorCode(fX.get_shapeFillStyle());if(gj.get_a()<1){if(L==='hover'){continue}gi=false}}var gk=gf.VzB==='Osj'||gf.VzB==='nuS'||gf.VzB==='MqA';if(fY||gk){if((gk||!gi)&&ga){fX.set_strokeStyle(gb.toString());fX.set_shapeFillStyle(gc.toString());fX.set_textFillStyle(gd.toString());ga=false}if((ss.isValue(fZ)||L!=='normal')&&!ga&&!gk&&gi){gb=tab.ColorModel.fromColorCode(fX.get_strokeStyle());gc=tab.ColorModel.fromColorCode(fX.get_shapeFillStyle());gd=tab.ColorModel.fromColorCode(fX.get_textFillStyle());var gl=dL.$0(gb,L,gf.VzB,fZ);var gm=dL.$0(gc,L,gf.VzB,fZ);var gn=dL.$0(gd,L,gf.VzB,fZ);ga=!ss.referenceEquals(gl,gb.toString())||!ss.referenceEquals(gm,gc.toString())||!ss.referenceEquals(gn,gd.toString());if(ga){fX.set_strokeStyle(gl);fX.set_shapeFillStyle(gm);fX.set_textFillStyle(gn)}}this.renderVisualParts(fX,gf)}}if(ga){fX.set_strokeStyle(gb.toString());fX.set_shapeFillStyle(gc.toString());fX.set_textFillStyle(gd.toString())}},renderScene:function(e){if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$r=e.get_scene();var L=this.$r.scene;if(!ss.isValue(L)){return}this.$o.setRenderOffsetNoTranslate(this.get_renderOffset());var fX=this.get_currentContext().get_numberSavedStates();var fY=e.get_mapServerModel().get_useFastMaps();if(!fY){this.$n(e.get_vizRegionMap(),e.get_drawFirstParts())}var fZ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var ga=3;fZ=tab.RectXYUtil.outsetRect(fZ,ga,ga);this.$r.prepareForDraw(fZ);this.$j(L.HUq,fY);this.$r.cleanupFromDraw();this.$n(e.get_vizRegionMap(),e.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>fX){this.get_currentContext().restore()}},renderViewportBorders:function(e){if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$r=e.get_scene();var L=this.$r.scene;if(ss.isNullOrUndefined(L)){return}var fX=this.$9(L.HUq);if(ss.isNullOrUndefined(fX)){return}var fY=[];var fZ=this.get_currentCanvas().width-1;var ga=this.get_currentCanvas().height-1;var gb={x:0,y:0};var gc={x:fZ,y:0};var gd={x:0,y:ga};var ge={x:fZ,y:ga};var gf=false;var gg=false;for(var gh=0;gh<fX.tOA.length;gh++){var gi=fX.tOA[gh];if(gi.VzB==='$OC'||gi.VzB==='jp$'){continue}if(gi.VzB==='uEs'){var gj=tab.MiscUtil.cloneObject(gi);if(gj.WzG[1]===gj.WzG[3]){if(gf){dL.$2(gj.WzG,gd,ge)}else{dL.$2(gj.WzG,gb,gc)}gf=true}else{if(gg){dL.$2(gj.WzG,gc,ge)}else{dL.$2(gj.WzG,gb,gd)}gg=true}fY.push(gj)}else{fY.push(gi)}}this.get_currentContext().save();this.$d(fY,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(e,L,fX){var fY=e.get_vizRegionMap()['axis-rules'];if(ss.isValue(fY)){var fZ=function(gh,gi){var gj={VzB:'uEs',WzG:new Array(4)};dL.$2(gj.WzG,gh,gi);return gj};var ga=ef.calculatePixelRatio();var gb=this.get_currentCanvas().height-1;var gc=[];var gd=fY.get_visualListPM().tOA;for(var ge=0;ge<gd.length;ge++){var gf=gd[ge];if(gf.VzB==='Osj'){gc.push(gf)}else if(gf.VzB==='uEs'){var gg=gf;if(gg.WzG[0]===gg.WzG[2]){gc.push(fZ({x:0,y:-fX.y},{x:0,y:Math.round(ga*L.h)-fX.y}))}else if(gg.WzG[1]===gg.WzG[3]){gc.push(fZ({x:-fX.x,y:gb},{x:Math.round(ga*L.w)-fX.x,y:gb}))}}}this.get_currentContext().save();this.$d(gc,null,'axis-rules');this.get_currentContext().restore()}},$9:function(e){for(var L=0;L<e.length;L++){var fX=e[L];for(var fY=0;fY<fX.MdI.length;fY++){var fZ=fX.MdI[fY];if(fZ.oqX==='pane-borders'){return fZ}}}return null},$n:function(e,L){if(!ss.isValue(e)){return}for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=e[fY];if(!ss.contains(dQ.blackListVisualParts,fY)&&fY!=='axis-rules'){if(ss.isValue(fZ)){this.get_currentContext().save();var ga=this.$r.get_imageDictionary();this.$o.renderVisualListHelper(fZ,ga);this.get_currentContext().restore()}}}},$l:function(e,L){if(!ss.isValue(e)){return}this.get_currentContext().save();this.$d(e.tOA,L,e.oqX);this.get_currentContext().restore()},$e:function(e){for(var L=0;L<e.length;L++){var fX=e[L];if(!this.$b(fX)){continue}this.$p.renderGridLines(this.$q,this.$a(fX))}},$j:function(e,L){if(!ss.isValue(e)){return}if(!L){this.$m(e,'background');if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')&&tab.FeatureFlags.isEnabled('RuntimeGridLines')){this.$e(e)}}this.$g(e);this.$m(e,'foreground')},$m:function(e,L){for(var fX=0;fX<e.length;fX++){var fY=e[fX];if(!this.$b(fY)){continue}for(var fZ=0;fZ<fY.MdI.length;fZ++){var ga=fY.MdI[fZ];if(L===this.$8(ga.oqX)){if(!tab.FeatureFlags.isEnabled('RuntimeGridLines')||ga.oqX!=='cell-borders'){this.$l(ga,this.$a(fY))}}}}},$a:function(e){var L=_.find(e.MdI,function(fX){return fX.oqX==='marks'});if(ss.isValue(L)){return this.$r.$a(L.SgS)}return null},$g:function(e){var L=[];var fX=[];for(var fY=0;fY<e.length;fY++){var fZ=e[fY];if(this.$b(fZ)){L.push(fZ);var ga=null;for(var gb=0;gb<fZ.MdI.length;gb++){var gc=fZ.MdI[gb];if(gc.oqX==='marks'){ga=this.$r.$a(gc.SgS);break}}fX.push(ga)}}for(var gd=0;gd<dL.$6.length;gd++){var ge=dL.$6[gd];for(var gf=0;gf<dL.$5.length;gf++){var gg=dL.$5[gf];var gh=0;for(var gi=0;gi<L.length;gi++){var gj=L[gi];var gk=fX[gh];gh++;if(ss.isNullOrUndefined(gk)){continue}if(gg==='marks'||gg==='label'){for(var gl=0;gl<gj.MdI.length;gl++){var gm=gj.MdI[gl];if(gm.oqX==='marks'){if(gg==='marks'){this.$i(gk,ge);break}else if(gg==='label'){if(gk.get_hasLabels()){this.$h(gk,ge);break}}}}}else{for(var gn=0;gn<gj.YVl.length;gn++){var go=gj.YVl[gn];switch(go.VzB){case'rLc':{var gp=new dz(this.get_currentCanvas(),this.get_currentContext());gp.setRenderOffsetNoTranslate(this.get_renderOffset());gp.$q(gk,ge,go,gg);break}case'BVa':{var gq=new dz(this.get_currentCanvas(),this.get_currentContext());gq.setRenderOffsetNoTranslate(this.get_renderOffset());gq.$r(gk,ge,go,gg);break}}}}}}}},$d:function(e,L,fX){if(!ss.isValue(e)){return}var fY=this.$r.get_imageDictionary();if(fX!=='ref-lines'&&fX!=='ref-bands'&&fX!=='trend-lines'){var fZ=null;if(fX==='decoration'){if(ss.isValue(L)){fZ=L.mapExtents}}this.$o.renderDrawItems(e,null,fY,fZ)}else{var ga=this.$r.selections.refLineSelection;var gb=!ga.isEmpty;var gc=this.$r.selections.trendLineSelection;var gd=!gc.isEmpty;var ge=this.$r.brushings.trendLineSelection;var gf=null;for(var gg=0;gg<e.length;gg++){var gh=e[gg];if(gh.VzB==='rOX'){var gi=gh;var gj=false;var gk=false;switch(fX){case'ref-lines':{gj=ga.isObjectSelected(gi.YLs);gk=!gj&&(gb||gd);break}case'ref-bands':{gk=(gb||gd)&&!ga.isObjectSelected(gi.YLs);break}case'trend-lines':{if(gi.YLs>2147483647){if(!ge.isEmpty){continue}gj=false;gk=false}else{gj=gc.isObjectSelected(gi.YLs);gk=!gj&&!ge.isObjectSelected(gi.YLs)&&(this.$r.$o()||this.$r.$p())}break}}var gl=(gj?'selected':'normal');if(gk&&ss.isNullOrUndefined(gf)){if(ss.isValue(L)&&ss.isValue(L.fogBlendFactor)&&ss.isValue(L.foggedBackgroundColor)){gf={item1:L.fogBlendFactor,item2:L.foggedBackgroundColor}}else{var gm=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var gn=tab.SceneDataUtil.getFogBlendFactor(gm);var go=tab.SceneDataUtil.applyFogToBackgroundColor(gm,gn);gf={item1:gn,item2:go}}}this.drawReferenceLineAndTrendLineGroup(gi.tOA,gl,this.get_currentContext(),true,(gk?gf:null))}else{this.renderVisualParts(this.get_currentContext(),gh)}}}},renderVisualParts:function(e,L){this.$o.renderDrawItemDefaultOptions(e,L)},$b:function(e){return this.isRectVisible(tab.RecordCast.rectPresModelAsRectXY(e.PeS))},$k:function(e,L,fX,fY,fZ,ga){this.get_currentContext().save();if(!e.skipClipping){this.get_currentContext().setClip(ga)}this.get_currentContext().translate(e.paneRect.x,e.paneRect.y);fZ(e,L,fX,fY);this.get_currentContext().restore()},$c:function(e,L,fX){if(e.markCount===0){return}var fY=new dz(this.get_currentCanvas(),this.get_currentContext());fY.setRenderOffsetNoTranslate(this.get_renderOffset());if(!e.hasUserPanes){this.$k(e,0,fY,L,fX,e.get_mapExtentOrPaneRect());return}var fZ=e.userPaneCount;var ga=e.paneRect.x;var gb=e.paneRect.y;for(var gc=0;gc<fZ;++gc){var gd=e.getUserPaneRectByIndex(gc);gd=tab.RectXYUtil.offsetRectXY(gd,ga,gb);var ge=e.$8(gc);if(ge>0&&this.isRectVisible(gd)){this.$k(e,gc,fY,L,fX,gd)}}},$i:function(e,L){this.$c(e,L,ss.mkdel(this,this.$f))},$h:function(e,L){this.$c(e,L,function(fX,fY,fZ,ga){fZ.$n(fX,fY,ga)})},$f:function(e,L,fX,fY){var fZ=e.markType;switch(fZ){case'shape':{{fX.$N(e,L,fY)}break}case'square':case'bar':{{fX.$l(e,L,fY)}break}case'pie':{{fX.$p(e,L,fY)}break}case'line':{{fX.$m(e,L,fY)}break}case'area':{{fX.$k(e,L,fY)}break}case'text':{{fX.$P(e,L,fY)}break}case'multipolygon':{{fX.$o(e,L,fY)}break}default:{break}}},$8:function(e){switch(e){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},bi);ss.initClass(dM,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var e={};e['viz']=this.get_paneTableVM().get_sheetId();{var L=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,e);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(L)){L.dispose()}}}},onViewModelPropertyChanged:function(e,L){if(L.get_propertyName()==='borderHighlight'){return}var fX=this.get_paneTableVM().getAndClearInvalidationRects();if(fX.length===0){this.invalidate(false)}else{var fY=tab.RectXYUtil.unionAll(fX);var fZ=3;tab.RectXYUtil.outsetRectInPlace(fY,fZ,fZ);tab.RectXYUtil.offsetRectXYInPlace(fY,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(fY,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(fF,[dQ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dQ]),spiff.IScrollable,di]);ss.initClass(dN,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(e){this.set_scrollPos(e);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(e){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=e;var L=dN.$0(this.$J,e);var fX=L.length;if(fX>0){var fY=this.get_paneTableVM().get_scene();var fZ=[];for(var ga=0;ga<fX;ga++){var gb=L[ga];var gc=this.$w(gb,fY);fZ.push(gc)}var gd=this.$T.get_shapeSelector();this.$R=gd.retrieveStateObject(this.$R);var ge=gd.getStateDiff(this.$R);var gf=ge.length;var gg=new Set;var gh=new Array(gf);for(var gi=0;gi<gf;gi++){var gj=ge[gi];var gk={x:0,y:0,w:0,h:0};for(var gl=0;gl<fX;gl++){if(gg.has(gl)){continue}var gm=fZ[gl];if(tab.RectXYUtil.intersectsWithAny(gj,gm)){gk=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(gm),gk);gg.add(gl)}}gh[gi]=(tab.RectXYUtil.isEmpty(gk)?gk:tab.RectXYUtil.outsetRect(gk,3,3))}gh=tab.RectXYUtil.reduceRectangles(gh);this.$I=gh;if(dN.$1){this.invalidate(false)}var gn=tab.RectXYUtil.unionAll(gh);gn=tab.RectXYUtil.offsetRect(gn,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(gn,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(e,L){this.$O='hover';if(!this.$M.$1(e,L)){this.$L=false}if(this.$M.$2(e,L)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var fX=this.$x(e,L);this.$y(fX);this.$M.$3(e,L,fX);this.$D();return true},setPressedOverlayTarget:function(e,L){this.$L=true;this.$O='press';if(this.$Q.$2(e,L)){return false}this.$p();var fX=this.$x(e,L);this.$y(fX);this.$Q.$3(e,L,fX);this.$D();return true},$C:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var e=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var L=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var fX=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(fX)){this.$q(this.$M.$5(),fX,L);dL.renderHoverOverlay(this.$M.$5(),fX,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var fY=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(fY)){this.$q(this.$Q.$5(),fY,L);dL.renderPressedOverlay(this.$Q.$5(),fY,this.context)}}else{this.$G(this.$Q)}}}}e.dispose()},$s:function(e,L,fX){var fY=tab.RectXYUtil.offsetRectXY(e,L.paneRect.x,L.paneRect.y);var fZ=L.mapExtents;if(ss.isValue(fZ)){tab.RectXYUtil.intersectInPlace(fY,fZ)}tab.RectXYUtil.intersectInPlace(fY,fX);this.context.setClip(fY);this.context.translate(L.paneRect.x,L.paneRect.y)},$q:function(e,L,fX){var fY=L.getUserPaneRectByTupleId(e);this.$s(fY,L,fX)},$r:function(e,L,fX){var fY=L.getUserPaneRectByIndex(e);this.$s(fY,L,fX)},$E:function(){var e=75;var L=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var fX={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(fX)}if(this.$P.length===0){this.renderer.clear();return}if(dN.$1){this.renderer.clear()}var fY={};var fZ={};var ga={};var gb=this.get_paneTableVM().get_scene();for(var gc=0;gc<this.$P.length;gc++){var gd=this.$P[gc];var ge=gb.getPaneDrawInfoFromTupleId(gd);var gf=ge.paneDrawInfoKey;fY[gf]=ss.coalesce(fY[gf],new Set);fY[gf].add(gd);fZ[gf]=ge;var gg=gb.getMarkBoundingBox(gd);var gh=ge.getWorldOffsetBounds(gg);ga[gd]=gh}var gi=0;var gj=this.$I.length;for(var gk=0;gk<gj;gk++){var gl=this.$I[gk];this.context.clearRect(gl.x,gl.y,gl.w,gl.h);if(dN.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(gl.x,gl.y,gl.w,gl.h)}var gm=new ss.ObjectEnumerator(fY);try{while(gm.moveNext()){var gn=gm.current();var go=fZ[gn.key];var gp=tab.RectXYUtil.intersect(gl,go.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(gp)){continue}var gq=false;var gr=go.hasUserPanes;var gs=-1;var gt=false;var gu=tab.SetUtilities.getValues(ss.Int32).call(null,gn.value);for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];if(gi>=e){if((new Date).getTime()-L>145){gt=true;break}gi=0}++gi;if(!tab.RectXYUtil.intersectsWithAny(gp,ga[gw])){continue}var gx=0;if(gr){gx=go.$7(go.getMarkIndexFromTupleId(gw));if(gx!==gs){if(gq){this.context.restore();gq=false}gs=gx}}if(!gq){this.context.save();this.$r(gx,go,gl);gq=true}dL.renderHoverOverlay(gw,go,this.context)}if(gq){this.context.restore()}if(gt){this.$S=true;this.renderer.clear();return}}}finally{gm.dispose()}}},$G:function(e){var L=[];if(e.$7()==='hover'&&tsConfig.is_authoring){switch(e.$8){case'ref-line':{L=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{L=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=[];ss.arrayAddRange(fZ,fY.tOA);this.$F(fZ,e)}},$F:function(e,L){var fX=L.$7();var fY=L.$5();this.context.save();var fZ=this.renderer;var ga=ss.getEnumerator(e);try{while(ga.moveNext()){var gb=ga.current();if(gb.VzB==='rOX'){var gc=gb;var gd=true;if(this.$L){switch(L.$8){case'ref-line':{gd=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(gc.YLs);break}case'trend-line':{gd=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(gc.YLs);break}}}if(gd){fZ.drawReferenceLineAndTrendLineGroup(gc.tOA,fX,this.context,fY===gc.YLs,null)}}else{fZ.renderVisualParts(this.context,gb)}}}finally{ga.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty(this.$N)){this.$K=false;this.invalidate(true)}else{var e=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var L={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};e=tab.RectXYUtil.offsetRect(e,L);e=tab.RectXYUtil.outsetRect(e,3,3);this.invalidateRect(e,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var e=new Set;for(var L=0;L<this.$J.length;L++){var fX=this.$J[L];if(this.$A(fX)){e.add(fX)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,e)}},$z:function(e){if(!e.$4()){return false}switch(e.$8){case'mark':{return this.$A(e.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),e.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),e.$5())}case'unspecified':default:{return false}}},$A:function(e){var L=this.get_paneTableVM().get_visualModel().get_vizDataModel();var fX=this.get_paneTableVM().get_scene();return ss.isValue(L)&&L.hasTupleId(e)&&!fX.$c(e)},$B:function(e,L){for(var fX=0;fX<e.length;fX++){var fY=e[fX];var fZ=fY.tOA;for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];if(gb.YLs===L){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(e,L){if(L==='mark'){return this.$w(e)}else{return null}},$y:function(e){if(ss.isNullOrUndefined(e)){this.$K=true;ss.clear(this.$N);return}for(var L=0;L<e.length;L++){var fX=e[L];this.$N.push(fX)}},$w:function(e,L){L=L||this.get_paneTableVM().get_scene();var fX=L.getMarkBoundingBox(e);var fY=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e);var fZ=fY.getWorldOffsetBounds(fX);return fZ},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var e=this.get_paneTableVM().get_scene();for(var L=0;L<this.$J.length;L++){var fX=this.$J[L];ss.arrayAddRange(this.$N,this.$w(fX,e))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(fF,[dQ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dQ]),spiff.IScrollable,di]);ss.initClass(dO,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dP,a,{get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$W},set_scrollPosition:function(e){this.$W=e;this.$s(this.$W);this.$C()},get_controller:function(){return this.get_paneTableVM().viewController},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_viewId:function(){return this.get_session().get_viewId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_paneTableVM:function(){return this.get_viewModel()},get_mapsSearchEnabled:function(){return tsConfig.allow_filter&&this.isMap&&this.get_paneTableVM().get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_vizToolTip:function(){this.$d();return this.vizTooltip},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new fh(this.get_paneTableVM().get_visualModel().get_selectionsModel()):null)},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableVM().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(e){this.regions['viz']=e},get_vizRegionDomNode:function(){return this.dom.view.children().first()},init:function(){this.$m();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.vizHitTester=tab.MiscUtil.dispose$1(this.vizHitTester);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.vizHitTester=new dt(this,this.get_vizRegion())}else{this.vizHitTester=new eo(this,this.get_vizRegion())}}},dispose:function(){this.$M=true;if(ss.isValue(this.vizHitTester)){this.vizHitTester.dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$E));if(ss.isValue(this.get_vizRegion())){var e=this.get_paneTableVM();var L=this.get_vizRegion();e.remove_propertyChanged(ss.mkdel(L,L.$0))}}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}if(ss.isValue(this.$Z)){this.$Z.dispose()}if(ss.isValue(this.$K)){this.$K.dispose()}if(ss.isValue(this.$Q)){this.$Q.dispose()}if(ss.isValue(this.$R)){this.$R.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$T)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$T,this.$T.$C));this.$T.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[dQ]).prototype.dispose.call(this)},$e:function(e,L,fX){if(e.moveNext()&&!ss.staticEquals(e.current(),null)){e.current()(this,L).done(ss.mkdel(this,function(fY){if(fY){fX.resolve(true);return}this.$e(e,L,fX)}))}else{fX.resolve(false)}},initEventHandlers:function(){this.$a();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(e,L){var fX=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$e(ss.getEnumerator(dP.$1),e,fX)}else{fX.resolve(false)}fX.done(ss.mkdel(this,function(fY){if(fY){this.get_vizToolTip().close();return}L(e)}))},callVizDragHandlers:function(e,L){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var fX=0;fX<dP.$6.length;fX++){if(dP.$6[fX](this,e)){this.get_vizToolTip().close();return}}}L(e)},getVizDragApproval:function(e){if(ss.isValue(e)){for(var L=0;L<dP.$5.length;L++){if(dP.$5[L](e)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.collapseSearchWidget();this.mapsSearchView.get_compositeSearchWidget().get_textInputView().set_text('')}},doTiledViewerRefreshImages:function(e){this.refreshImages(e)},setPointerToolMode:function(e,L){this.isPointerToolLocked=L;if(this.isPointerToolLocked){this.get_vizRegion().setLockedPointerToolMode(e)}this.get_vizRegion().setPointerToolMode(e)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_vizRegion().get_defaultPointerToolMode()}return'rectangular-selection'},resetPointerToolMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$11!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode()}else if(ss.isValue(this.get_vizRegion())){this.get_vizRegion().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var e=this.get_vizToolTip();e.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));e.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));e.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));e.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var e=this.get_paneTableVM().get_visualModel();var L=[e.get_backgroundColor(),e.get_paneBGColor(),e.get_headerBGColor()];if(ss.isValue(this.$H)&&_.isEqual(this.$H,L)){return}this.$H=L;var fX=this.listAllRegions();var fY=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var fZ=_.keys(fX);for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];var gc=fX[gb];if(ss.isNullOrUndefined(gc)){continue}var gd=L[0];if(gb==='viz'){gd=L[1]}else if(ss.contains(dP.$4,gb)){gd=L[2]}gc.css('background-color',gd);if(!fY){var ge=$('.tvimagesContainer',gc);ge.css('background-color',gd)}}this.dom.topLeftSpacer.css('background-color',L[2]);this.dom.topRightSpacer.css('background-color',L[2]);this.dom.bottomLeftSpacer.css('background-color',L[2]);this.dom.bottomRightSpacer.css('background-color',L[2])},$l:function(e,L){var fX=this.listNonVizRegions();var fY=_.keys(fX);for(var fZ=0;fZ<fY.length;fZ++){var ga=fY[fZ];var gb=fX[ga];var gc=this.makeTiledWindow(gb,this.get_session(),this.get_controller(),ss.mkdel(this,this.$g),null);this.regions[ga].set_contentProvider(gc)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(e,this.get_session(),this.get_controller(),ss.mkdel(this,this.$g),L))},makeRegionContentProvidersHelper:function(e,L){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$E));var fX='transparent';var fY=new dM(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),fX);var fZ=$('.tvimagesContainer',e);fZ.get(0).appendChild(fY.element.get(0));this.get_vizRegion().set_contentProvider(fY);var ga=this.get_paneTableVM();var gb=this.get_vizRegion();ga.add_propertyChanged(ss.mkdel(gb,gb.$0));this.$E();this.$T=new dN(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),this.get_vizRegion());this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$T,this.$T.$C));fZ.get(0).appendChild(this.$T.element.get(0))}else{this.$l(e,L)}this.updateRegionBackgroundColor()},makeTiledWindowHelper:function(e,L,fX,fY,fZ,ga){var gb=new eT(this.getDomNodeForContentRegion(e),L,fX,fY,ga);if(ss.isValue(fZ)){gb.add_loadComplete(fZ);this.disposables.add$1(new tab.CallOnDispose(function(){gb.remove_loadComplete(fZ)}))}return gb},listNonVizRegions:function(){var e={};e['yheader']=this.dom.yLabel;e['leftaxis']=this.dom.leftAxis;e['rightaxis']=this.dom.rightAxis;e['xheader']=this.dom.xLabel;e['bottomaxis']=this.dom.bottomAxis;e['topaxis']=this.dom.topAxis;return e},listAllRegions:function(){var e=this.listNonVizRegions();e['viz']=this.dom.view;return e},destroyRegions:function(){var e=ss.getEnumerator(Object.keys(this.regions));try{while(e.moveNext()){var L=e.current();if(ss.isValue(this.regions[L])){this.regions[L].destroy()}}}finally{e.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$x:function(e){if(ss.keyExists(e.commandParams,'OBN')){var L=parseInt(e.commandParams['OBN'].toString(),10);var fX=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(fX)){return false}}if(ss.keyExists(e.commandParams,'Gvh')){var fY=e.commandParams['Gvh'];if(ss.isValue(fY)){try{var fZ=JSON.parse(fY);if(fZ.coe==='tuples'){for(var ga=0;ga<fZ.kyj.length;ga++){var gb=fZ.kyj[ga];var gc=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(gb);if(ss.isNullOrUndefined(gc)){return false}}}}catch(gd){return false}}}return true},onCommandExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.command.command)&&!this.$x(L.command.command)){return}if(L.command.commandType===7){this.get_session().executeCommand(L.command)}else{tab.UberTipClientCommands.executeUbertipCommand(L.command)}},onActionExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.action.command)&&!this.$x(L.action.command)){return}var fX=function(){e.hideSpinner()};var fY=function(fZ){e.hideSpinner()};this.get_session().executeAction(L.action,fY,fX)},isMapWithBaseLayer:function(){return this.isMap&&this.get_paneTableVM().get_mapServerModel().get_hasPresModel()},doDoubleTap:function(e,L,fX){if(!tsConfig.allow_filter){return}if(e.get_regionPart()!=='viz'||!this.allowPanZoomOnDoubleTap()){return}if(this.isMapWithBaseLayer()&&fX<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/fX)){return}this.get_controller().incrementCacheVersion();var fY=tab.DeferLayoutImpl.get_instance();fY.setDeferLayoutUpdates(true);var fZ=this.resolvePane(e.toLocalCoordsEvent(L,false));e.zoomPoint(fZ,e.toLocalCoordsEvent(L,false),fX,true,fY);this.get_vizToolTip().close();this.disposeOfOverlays()},$n:function(e,L){if(!ss.referenceEquals(e,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(e,L){if(this.isUserDragging()){return}this.callVizDragHandlers(e,L)},dragOverrideAsync:function(e,L){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(e,L)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(e){this.$V+=1;var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var fX=L.current();this.regions[fX].refreshImages(e)}}finally{L.dispose()}this.$L.$0(e,this.get_session(),this.$g())},$G:function(e,L){var fX={item1:L,item2:e};var fY=ss.isValue(this.$I)&&_.isEqual(fX,this.$I);if(!fY){this.$I=fX}return fY},$k:function(e){var L={};$.extend(true,L,e);this.geometry=L;var fX=L.ri.length;for(var fY=0;fY<fX;fY++){L[L.ri[fY].r]=L.ri[fY]}return L},$9:function(e,L,fX){var fY=[e.yheader,e.rightaxis,e.leftaxis,e.viz];for(var fZ=0;fZ<fY.length;fZ++){var ga=fY[fZ];if(ss.isValue(ga)){ga.h+=fX}}var gb=[e.xheader,e.bottomaxis,e.topaxis,e.viz];for(var gc=0;gc<gb.length;gc++){var gd=gb[gc];if(ss.isValue(gd)){gd.w+=L}}},$v:function(e,L){var fX=0;if(ss.isValue(e.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=e.title.h;var fY={l:0,t:e.title.y,w:e.title.w+L.get_scrollWidth(),h:e.title.h};var fZ=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(fY,fZ)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,fY);this.$Z.handleNewTextRegion();fX=e.title.h+e.title.y}}return fX},$p:function(e,L){var fX=0;if(ss.isValue(this.$K)&&this.dom.caption.css('display')!=='none'){var fY;if(ss.isValue(e.caption)){fX=e.caption.h+8+L.get_scrollHeight();fY={l:e.caption.x,t:e.caption.y-L.get_heightScrollOffset(),w:e.caption.w,h:e.caption.h}}else{fY={l:0,t:0,w:0,h:0}}var fZ=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(fY,fZ)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,fY);this.$K.handleNewTextRegion()}}return fX},$r:function(e,L){if(this.$G(e,L)){this.refreshScrollingAndDrilling();return}this.$L.$1();this.$V+=1;var fX=this.$k(e);var fY=new ec(fX,L.w,L.h);var fZ=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var ga=((fZ&&ss.isValue(fX.bottomaxis))?1:0);var gb=((fZ&&ss.isValue(fX.rightaxis))?1:0);if(fZ){this.$9(fX,gb,ga)}this.titleHeight=0;var gc=fY.get_overallHeight();var gd=this.$v(fX,fY);gc=Math.max(gc,gd);var ge=this.$p(fX,fY);gc-=ge;var gf=fY.getVisibleGeometry(fX,L.w,ga,gb);this.visibleGeometry=gf;this.$t(gf,fX);this.setGeometryForWebScrollbars(fY,gc);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$t:function(e,L){var fX=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var fY=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(fY)){fX=fY.get_visualListPM().tOA}}this.$q(e.uleftArea,fX,this.dom.topLeftSpacer,'uleft');if(ss.isValue(L.uleft)){this.tlspacerAreaY=$.extend({},e.uleftArea);if(ss.isValue(L.di)&&L.uleft.h>=40){this.tlspacerAreaY.t=L.uleft.y+L.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(L.di)&&ss.isValue(L.di.xy)&&ss.isValue(L.di.xy[0])){var fZ=18;var ga=L.xheader;if(ss.isValue(ga)&&ga.h>L.di.xs){var gb=L.di.xy.length;for(var gc=0;gc<gb;gc++){if(L.di.xy[gc][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-fZ,t:L.uleft.y,w:fZ,h:L.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$u(L.yheader,this.dom.yLabel,'yheader',L.ts,e.yheaderArea);this.$u(L.leftaxis,this.dom.leftAxis,'leftaxis',L.ts,e.leftaxisArea);this.$u(L.rightaxis,this.dom.rightAxis,'rightaxis',L.ts,e.rightaxisArea);this.$u(L.xheader,this.dom.xLabel,'xheader',L.ts,e.xheaderArea);this.$u(L.bottomaxis,this.dom.bottomAxis,'bottomaxis',L.ts,e.bottomaxisArea);this.$u(L.topaxis,this.dom.topAxis,'topaxis',L.ts,e.topaxisArea);this.$q(e.urightArea,fX,this.dom.topRightSpacer,'uright');this.$q(e.lleftArea,fX,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=e.lleftArea;this.$q(e.lrightArea,fX,this.dom.bottomRightSpacer,'lright');this.$u(L.viz,this.dom.view,'viz',L.ts,e.vizArea)},$q:function(e,L,fX,fY){if(ss.isValue(e)){tab.DomUtil.setAbsolutePositionBox(fX,e);this.setRegionGeometryHelper(fX,e);fX.show();this.$L.$2(fX,fY,L)}else{fX.hide()}},$u:function(e,L,fX,fY,fZ){if(ss.isValue(e)){tab.DomUtil.setAbsolutePositionBox(L,fZ);this.setRegionGeometryHelper(L,fZ);L.show();this.regions[fX].setGeometry(e,fZ,fY);if(fX==='viz'&&ss.isValue(this.$T)){this.$T.set_actualViewSize({w:fZ.w,h:fZ.h});this.$T.reset(e,fY)}}else{L.hide()}},resolvePane:function(e){var L,fX;var fY=this.geometry.pi;var fZ={x:e.x,y:e.y};var ga={canDragH:fY.hasXQAxis,canDragV:fY.hasYQAxis,x:0,y:0,w:0,h:0};fX=fY.xWidths.length;for(L=0;L<fX;L++){if(fZ.x<ga.x+fY.xWidths[L]){ga.tx=L;ga.w=fY.xWidths[L];break}ga.x=ga.x+fY.xWidths[L]}fX=fY.yHeights.length;for(L=0;L<fX;L++){if(fZ.y<ga.y+fY.yHeights[L]){ga.ty=L;ga.h=fY.yHeights[L];break}ga.y=ga.y+fY.yHeights[L]}return ga},allowPanZoom:null,allowPanZoomOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e=this.geometry.viz.w;var L=this.geometry.viz.h;var fX=this.get_vizRegion();var fY=fX.get_contentProvider();if(ss.isNullOrUndefined(fY)){return false}var fZ=fY.get_effectiveViewSize().w;var ga=fY.get_effectiveViewSize().h;return e>fZ||L>ga}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e,L;var fX=this.geometry.viz.w;var fY=this.geometry.viz.h;var fZ=this.geometry.pi.xWidths;var ga=this.geometry.pi.yHeights;L=fZ.length;for(e=0;e<L;e++){if(Math.abs(fX-fZ[e])>1){return false}}L=ga.length;for(e=0;e<L;e++){if(Math.abs(fY-ga[e])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(e){var L=new dH(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+e);return L},createOverlayImageFromFile:function(e){var L=new dH(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(e,false,false));return L},updateOverlayTarget:function(e,L,fX){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(L){case'press':{this.$T.setPressedOverlayTarget(e,fX);break}case'hover':{this.$T.setHoverOverlayTarget(e,fX);break}default:{break}}},updateOverlayForLastTargetState:function(e,L){this.updateOverlayTarget(e,this.$T.get_lastTargetState(),L)},hoverOverWhitespace:function(){this.$T.hoverOverWhitespace()},updateHoveredCategoricalHeaders:function(e,L,fX){var fY=this.get_paneTableVM().get_vizRegionMap()[fX];if(ss.isNullOrUndefined(fY)){return}switch(L){case'press':{fY.set_hoveredCategoricalNode(null);break}case'hover':{fY.set_hoveredCategoricalNode(e);break}default:{break}}},showOverlayImages:function(e,L){if(ss.isValue(L)&&ss.isValue(e)&&L.length>0){this.disposeOfOverlayImages();for(var fX=1;fX<L.length;++fX){var fY=e.clone();this.$S.push(fY);fY.show(L[fX])}this.$S.push(e);e.show(L[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(e){},clickCaption:function(e){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(e,L){},setRegionResizersForWeb:function(){},makeFloatingZoomToolbar:null,makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new fj(this.get_tooltipContextProvider(),this.get_visualId(),this.dom.view,this.get_viewId())}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_tooltipContextProvider())}else{return new fi(this.get_tooltipContextProvider(),this.get_visualId(),this.get_viewId())}},onHoverOverlay:function(e,L){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&e.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(e.isSelectingToolActive()||!e.get_isDragTracking()&&e.get_currentPointerToolMode()==='pan-map')){var fX=e.toLocalCoordsEvent(L,false);var fY={x:L.pageX,y:L.pageY};this.lastVizHoverPoint=fX;if(this.get_vizToolTip().isHoverAllowed(fY)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(e){var L=this.get_vizRegion();var fX=L.hitTestSingleMarksAndVisualParts(this.lastVizHoverPoint);this.onHoverOverVisualPart(L,fX.get_hitType()!==0);if(fX.get_hitType()===0){this.hoverOverWhitespace()}if(fX.get_shouldRenderOverlay()){if(!e){this.updateOverlayForLastTargetState(fX.get_id(),fX.get_overlayTargetType())}else{this.updateOverlayTarget(fX.get_id(),'hover',fX.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,onHoverTooltip:function(e,L){if(this.isUserDragging()){return}if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){return}var fX=this.get_vizToolTip();if(fX.get_isTooltipShown()&&fX.shownTooltipIsStatic()){return}var fY=e.toLocalCoordsEvent(L,false);var fZ=tab.PointUtil.add(fY,e.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var ga=dP.guessTooltipTargetTypeFromRegion(e.get_regionPart());fX.hoverOverCoordinates(fZ,fY,ga,e.get_regionPart());return}var gb=false;if(e.get_regionPart()==='viz'){this.$b();e.get_shapeSelector().setSingleSelectPoint(fY);var gc=this.get_vizRegion();var gd=gc.hitTestSingleMarksAndVisualParts(fY);gb=gd.get_hitType()!==0;this.onHoverOverVisualPart(gc,gb);if(gb){switch(gd.get_hitObjectType()){case 5:case 6:{var ge=this.get_paneTableVM().get_scene().getMarkBoundingBox(gd.get_id());fY=dP.$0(fY,ge);var gf=this.get_paneTableVM().get_visualModel().get_selectionsModel();var gg=gf.tupleSelection.isObjectSelected(gd.get_id());var gh=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(gd.get_id());var gi=gh.get_paneDescriptorKey();fX.hoverOverObject(fZ,tab.PointUtil.add(fY,{x:this.geometry.viz.x,y:this.geometry.viz.y}),fY,gd.get_id(),gg,gi,'mark',e.get_regionPart());break}case 3:case 4:case 2:{this.$10=window.setTimeout(function(){fX.hoverOverCoordinates(fZ,fY,'visualparts',e.get_regionPart())},120);break}default:{break}}}}else if(ss.isValue(e.get_contentProvider())){var gj=e.hitTestNodes(fY);if(ss.isValue(gj)){var gk={ZHX:gj.ZHX,wwF:gj.wwF};var gl=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[gk]);fX.hoverOverHeader(fZ,fY,'header',e.get_regionPart(),gl);gb=true}}if(!gb){fX.hoverOverWhitespace(fZ,e.get_regionPart())}},$b:function(){if(ss.isValue(this.$10)){window.clearTimeout(ss.unbox(this.$10));this.$10=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var e=0;e<this.$S.length;e++){var L=this.$S[e];if(ss.isValue(L)){L.dispose()}}ss.clear(this.$S);if(ss.isValue(this.$T)){this.$T.clearOverlays()}this.$U=tab.MiscUtil.clearTimeout(this.$U)},$s:function(e){if(ss.isValue(this.$T)){this.$T.setScrollPosition(e)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$U)){return}var e=(new Date).getTime()-this.$P;if(e>=30){this.$c()}else{this.$U=window.setTimeout(ss.mkdel(this,this.$c),30-e)}}},$c:function(){this.$U=null;var e=cJ.getIdsFromHitTestResults(this.get_vizRegion().hitTestMarksAgainstSelectionShape(),true);this.$T.setDragOverlayTuples(e);this.$P=(new Date).getTime()},updateRegionContentProvider:function(e,L){this.regions[e].set_contentProvider(L)},isSelectActionOnVizAllowed:function(e){return true},handleLocalTap:function(e,L,fX,fY){var fZ=false;if(this.isSelectActionOnVizAllowed(L)){if(e.get_regionPart()==='viz'){var ga=ss.mkdel(this,function(ge){if(this.shouldInformTooltipOfLocalTapOnViz(ge)){this.$i(ge,e,fX,fY)}});var gb=e.doSelectFromPoint(fY,L,ga);fZ=gb.get_hitType()!==0}else if(ss.isValue(e.get_contentProvider())){var gc=e.hitTestNodes(fY);if(ss.isValue(gc)){var gd=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(fX,fY,e.get_regionPart(),'header')});e.selectNode(fY,gc,L,gd);fZ=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!fZ){this.get_vizToolTip().hoverOverWhitespace(fX,e.get_regionPart())}}},$i:function(e,L,fX,fY){var fZ=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&e.get_tooltipTargetType()==='mark'){var ga=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e.get_id());fZ=ga.get_paneDescriptorKey()}var gb=tab.ActionUtils.couldSheetFilterActionsModifyItself(this.get_visualId().AVP);if(gb){this.get_vizToolTip().singleSelectCoordinates(fX,fY,L.get_regionPart(),e.get_tooltipTargetType())}else{this.get_vizToolTip().singleSelectComplete(fX,tab.PointUtil.add(fY,{x:this.geometry.viz.x,y:this.geometry.viz.y}),fY,e.get_id(),fZ,e.get_tooltipTargetType(),L.get_regionPart())}},$h:function(){var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}var L=e.get_geometryModel().pm;this.$o(L)},$o:function(e){z.$1(e,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$M){return}var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}this.get_vizRegion().$3();this.$F(e);this.$A(e);this.$y();this.updateTooltipMode(e);this.updateMapSettings(e);var L=e.get_geometryModel().pm;{this.$r(L,e.get_containerGeometry())}this.updateVizNavigationTools(e,true);if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(this.defaultPointerToolMode(),true)}this.updateRegionBackgroundColor();this.$D();this.$B();this.$o(L);this.isAnimationOccurring=false},updateMapSettings:function(e){this.isMap=e.get_isMap()},updateVizNavigationTools:function(e,L){var fX=this.$O;this.updateMapsSearchView();this.get_vizRegion().updateDefaultToolMode();var fY=this.$11;this.$11=e.get_floatingToolbarVisibility();var fZ=fX!==this.$O;var ga=fY!==this.$11;var gb=ga||fZ||L;if(ss.isValue(this.zoomToolbar)&&gb){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$11!=='hide'){this.createZoomToolbar();this.showFloatingZoomToolbar(true)}}if(this.get_paneTableVM().shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_mapsSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.get_paneTableVM().set_mapsSearchViewModel(new dy(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})));this.mapsSearchView=spiff.ObjectRegistry.newView(dx).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')}if(!this.$O){this.mapsSearchView.addToDom(this.dom.view);this.$O=true}}else if(ss.isValue(this.mapsSearchView)){if(this.$O){var e=this.mapsSearchView.element[0].parentNode;if(ss.isValue(e)){e.removeChild(this.mapsSearchView.element[0]);this.$O=false}}this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.set_isVisible(false)}},handlePropertyChanged:function(e,L){switch(L.get_propertyName()){case'vizNavigationSetting':{this.initEventHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_viewModel().get_highlightBorder());break}default:{break}}},updateTooltipMode:function(e){if(ss.isValue(this.vizTooltip)&&e.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$F:function(e){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$Z)){return}this.dom.title.css('display','');var L=new eO(e.get_titleModel());L.options=new eL(!tsConfig.is_authoring);var fX=L;this.$Z=new eN(fX);this.$Y='title'+this.$f();this.$Z.element.attr('id',this.$Y);this.$Z.addToDom(this.dom.title)}else if(ss.isValue(this.$Z)){this.dom.title.css('display','none');this.$Z.get_viewModel().dispose();this.$Z=null}},$A:function(e){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$K)){return}this.dom.caption.css('display','');var L=new eO(e.get_captionModel());L.options=new eL(!tsConfig.is_authoring);var fX=L;this.$K=new eN(fX);this.$J='caption'+this.$f();this.$K.element.attr('id',this.$J);this.$K.addToDom(this.dom.caption)}else if(ss.isValue(this.$K)){this.dom.caption.css('display','none');this.$K.get_viewModel().dispose();this.$K=null}},$z:function(){if(ss.isNullOrUndefined(this.$N)){var e='instructions'+this.$f();this.$N=$('<div/>').attr('id',e).css('display','none');this.$N.appendTo(this.dom.enclosingDiv)}var L=tab.Strings.AccessibilityClearSelectionInstructions+' '+(dP.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$N.text(L)},$y:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',this.$J+' '+(ss.isValue(this.$N)?this.$N[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$Y)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$w:function(){var e=this.dom.view;e.focus(ss.mkdel(this,function(L){tab.SelectionClientCommands.setActiveZone(this.get_viewModel().get_zonePresModel().BCp,null);this.$z()}));e.keydown(ss.mkdel(this,function(L){if(L.which===13&&dP.isViewDataAccessEnabled()){L.preventDefault();L.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(L.which===27){L.preventDefault();L.stopPropagation();this.clearSelection()}}))},$f:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid())},$D:function(){if(tab.FeatureFlags.isEnabled('MapScaleBar')){if(this.isMap){var e=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$R);if(e&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new dw(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$R=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[dw,dv,Object])).call(null,[this.get_viewModel().get_mapScaleViewModel()]);this.$R.addToDom(this.dom.view)}}else if(ss.isValue(this.$R)){this.$R.dispose();this.$R=null}}},$B:function(){var e=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(e)&&e.get_hasPresModel()&&e.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$Q)){this.$Q=new du;this.$Q.attributionBackground.css('background-color',e.get_attributionBGColor());this.$Q.attributionLink.text(e.get_attributionText());this.$Q.attributionLink.css('color',e.get_attributionTextColor());this.$Q.attributionLink.css('font-size',e.get_attributionTextSize());this.$Q.attributionLink.attr('href',e.get_attributionUrl());this.$Q.attributionLink.attr('target','_blank');this.dom.view.append(this.$Q.domRoot);this.$C()}}else if(ss.isValue(this.$Q)){this.$Q.dispose();this.$Q=null}},$C:function(){if(ss.isValue(this.$Q)){var e=1;var L=1;var fX=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var fY=this.get_vizRegion().get_contentProvider().get_docSize();var fZ=Math.min(0,fX.h+this.$W.y-fY.h);fZ+=e;var ga=Math.min(0,-this.$W.x);ga+=L;this.$Q.domRoot.css('bottom',fZ+'px');this.$Q.domRoot.css('left',ga+'px')}},$j:function(){var e=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(e)},$E:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var e=this.listNonVizRegions();this.get_vizRegion().$1();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var fX=L.current();var fY=tab.ModelUtils.visualPartToRegionMap[fX];if(ss.isValue(fY)&&ss.isValue(this.regions[fY])){var fZ=this.regions[fY].get_contentProvider();if(!ss.isNullOrUndefined(fZ)&&!ss.referenceEquals(fZ.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[fX])){fZ.destroy();fZ=null}if(ss.isNullOrUndefined(fZ)){var ga=e[fY];if(ss.isValue(ga)){var gb=this.get_paneTableVM().get_vizRegionMap()[fX];var gc=new eA(gb,this.getDomNodeForContentRegion(ga),this.get_paneTableVM());ga.find('.tvimagesContainer').append(gc.element);this.updateRegionContentProvider(fY,gc);gc.invalidate(false);this.$I=null}}else{this.regions[fY].$1()}}}}finally{L.dispose()}var gd=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(gd.moveNext()){var ge=gd.current();var gf=tab.ModelUtils.visualPartToRegionMap[ge];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),ge)&&ss.isValue(this.regions[gf])&&ss.isValue(this.regions[gf].get_contentProvider())){this.regions[gf].get_contentProvider().destroy();this.regions[gf].set_contentProvider(null)}}}finally{gd.dispose()}}},$g:function(){return this.$X+'Z'+this.$V},showFloatingZoomToolbar:function(e){if(e&&this.$11!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(e)}},determineToolbarType:function(){var e='fullToolbar';if(this.$11!=='show'&&(this.$11!=='auto'||!this.allowPanZoom())){e='homeOnlyToolbar'}else if(!this.allowPanZoom()){e='disablePanZoomToolbar'}return e},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}this.zoomToolbar=this.makeFloatingZoomToolbar(this.dom.view)},handleMoveMapToBounds:function(e){if(ss.isValue(this.get_vizRegion())&&tab.FeatureParamsLookup.getBool(19)){this.get_vizRegion().moveMapToBounds(e)}},$a:function(){var e={tap:ss.mkdel(this,function(fX){fX.stopPropagation();fX.preventDefault();this.clearSelection()})};var L=ss.mkdel(this,function(fX){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(fX.get(0),e))});L(this.dom.topLeftSpacer);L(this.dom.topRightSpacer);L(this.dom.bottomLeftSpacer);L(this.dom.bottomRightSpacer);L(this.dom.title);L(this.dom.caption)},$m:function(){fz.add_selectionChanged(ss.mkdel(this,this.$n));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fz.remove_selectionChanged(ss.mkdel(this,this.$n))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var e=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValid()){this.$j()}},checkForSuppressTooltipsAndOverlays:function(e){var L=$(e);var fX=L.hasClass('tabSuppressVizTooltipsAndOverlays')||L.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(fX){this.disposeOfOverlayImages();var fY=this.get_vizToolTip();fY.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(fX)},$d:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[dQ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dQ])]);ss.initClass(dQ,a,{add_vizRegionMapChange:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_vizRegionMapChange:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newPaneTable:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newPaneTable:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_textUpdated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_textUpdated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_differentMarkBrushing:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_differentMarkBrushing:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_differentMarkSelection:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_differentMarkSelection:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_scene:function(){return this.$r},get_vizRegionMap:function(){return this.$u},get_refLineVisualLists:function(){return this.$j().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$j().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$j().get_drawFirstParts()},get_drawLastParts:function(){return this.$j().get_drawLastParts()},get_zonePresModel:function(){return this.$t.get_zone().pm},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$t.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$t.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$t.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().pj$.yqe},get_hasCaption:function(){return this.get_zonePresModel().ElQ},get_visualModel:function(){return this.$t},$j:function(){return this.$t.get_sceneModel()},get_visualId:function(){return this.$t.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$p},set_mapsSearchViewModel:function(e){this.$p=e},get_mapScaleViewModel:function(){return this.$o},set_mapScaleViewModel:function(e){this.$o=e},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(e){if(this.borderHighlighted===e){return}this.borderHighlighted=e;this.notifyPropertyChanged('borderHighlight')},dispose:function(){if(ss.isValue(this.$p)){this.$p.dispose()}if(ss.isValue(this.$o)){this.$o.dispose()}if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}this.$t.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.remove_newVisual(ss.mkdel(this,this.$d));this.$t.remove_newVisual(ss.mkdel(this,this.$a));this.$t.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$l=tab.MiscUtil.dispose$1(this.$l)}var e=new ss.ObjectEnumerator(this.$u);try{while(e.moveNext()){var L=e.current();L.value.dispose()}}finally{e.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var e=this.$n;this.$n=[];return e},$9:function(){this.notifyPropertyChanged('images')},$e:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var e=this.$t.get_selectionsModel().computeSelectionsDiff(this.$s,this.$m,this.$t.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&dQ.$0(e,this.$t.get_selectionsModel(),this.$t.get_impliedSelectionModel())){this.$2$5()}this.$s=this.$t.get_selectionsModel().createSelectionsToken();this.$m=this.$t.get_impliedSelectionModel().createSelectionToken();this.$h(e,'selection')},$3:function(){var e=this.$t.get_brushingsModel().computeSelectionsDiff(this.$k,null,null);if(!ss.staticEquals(this.$2$4,null)&&dQ.$0(e,this.$t.get_brushingsModel(),null)){this.$2$4()}this.$k=this.$t.get_brushingsModel().createSelectionsToken();this.$r.$i(this.$t.get_emptyHighlightFogAll());this.$h(e,'brushing')},$h:function(e,L){if(!e.get_invalidateViz()){if(e.get_objectIds().length===0){return}var fX=this.$r.$9(e.get_objectIds());this.$2(fX)}this.notifyPropertyChanged(L)},$4:function(){this.$r.$j(this.$t.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$r.$i(this.$t.get_emptyHighlightFogAll());this.$q=true},$8:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_hiddenTuples(),this.$r.get_hiddenTuples());if(e.length===0){return}var L=this.$r.$9(e);this.$2(L);this.$r.set_hiddenTuples(this.$t.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_filteredTuples(),this.$r.get_filteredTuples());if(e.length===0){return}var L=this.$r.$9(e);this.$2(L);this.$r.set_filteredTuples(this.$t.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$q=true},$2:function(e){ss.arrayAddRange(this.$n,e)},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var e=false;var L=ss.getEnumerator(Object.keys(this.$j().get_visualListModels()));try{while(L.moveNext()){var fX=L.current();var fY=this.$j().get_visualListModels()[fX];var fZ=this.$u[fX];if(ss.isValue(fZ)&&ss.referenceEquals(fZ.get_visualList(),fY)){}else{tab.MiscUtil.dispose$1(this.$u[fX]);delete this.$u[fX];if(ss.contains(dQ.blackListVisualParts,fX)){this.$u[fX]=new fB(fY,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[fX],this.$t.get_selectionsModel(),this.$t.get_brushingsModel())}else{this.$u[fX]=new fB(fY,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[fX],null,null)}e=true}}}finally{L.dispose()}var ga=Object.keys(this.$u);var gb=ss.getEnumerator(ga);try{while(gb.moveNext()){var gc=gb.current();if(!ss.keyExists(this.$j().get_visualListModels(),gc)){tab.MiscUtil.dispose$1(this.$u[gc]);delete this.$u[gc];e=true}}}finally{gb.dispose()}var gd=this.$j().get_backgroundColor().toString();var ge=ss.getEnumerator(Object.keys(this.$u));try{while(ge.moveNext()){var gf=ge.current();this.$u[gf].set_defaultBackgroundColor(gd)}}finally{ge.dispose()}if(e){this.$g()}this.$q=true},$d:function(){if(this.$q){this.$i();this.notifyPropertyChanged('scene')}this.$q=false},$g:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$i:function(){dQ.updateSceneInfoFromVisualModel(this.$r,this.$t);if(this.$r.customShapes.length>0){this.$l=this.$l||new ep(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$l.initialize(this.$r.customShapes)}if(ss.isValue(this.$t)&&ss.isValue(this.$t.pm)&&ss.isValue(this.$t.pm.LBF)){this.$r.$m(this.$t.pm.LBF,ss.mkdel(this,function(){this.$9()}))}},isInvalidSheet:function(){return _.any(this.$t.get_invalidSheets(),ss.mkdel(this,function(e){return _.isEqual(this.get_visualId(),e)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$f:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dR,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(e){var L=(e?this.$l:this.$k);var fX=L[0].x;var fY=fX;var fZ=L[0].y;var ga=fZ;for(var gb=0;gb<L.length;gb++){var gc=L[gb];if(gc.x<fX){fX=gc.x}else if(gc.x>fY){fY=gc.x}if(gc.y<fZ){fZ=gc.y}else if(gc.y>ga){ga=gc.y}}return{x:fX,y:fZ,w:fY-fX,h:ga-fZ}},updateSpecificShape:function(e){if(this.$k.length===0){var L=this.get_dragStart().x-this.get_connectNodePos().x;var fX=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(L,fX)}var fY=e.x;var fZ=e.y;this.$d(fY,fZ)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(e,L,fX,fY){var fZ=fX.get_objectId();var ga=L.markType;var gb=cI.rectangleAreaHit(L,fX.get_boundingBox(),e,fZ,fY,ga);if(!gb){return false}var gc=0;var gd=0;if(fY.get_transformType()===3){gc=fY.get_translateX();gd=fY.get_translateY()}var ge=this.$h(gc,gd);if(fY.get_transformType()===1){ge=fY.transformPolygon(ge)}return cI.polyAreaHit(L,fX.get_boundingBox(),ge,fZ,fY,ga)},sendSelectionCommand:function(e,L,fX,fY){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$l,L,fX,fY)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new dS)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),dS)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(e,L){var fX=2;var fY=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(e-ss.unbox(this.$n))<fX&&Math.abs(L-ss.unbox(this.$o))<fX){return}}var fZ=e+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var ga=L+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var gb=e+this.get_totalScrollOffset().x;var gc=L+this.get_totalScrollOffset().y;var gd=false;var ge=false;var gf=false;var gg=this.$l.length;if(this.$m){if(gg>1){var gh=this.$l[gg-1];var gi=this.$l[gg-2];var gj=Math.abs(gb-gi.x);var gk=Math.abs(gb-gh.x);var gl=Math.abs(gc-gi.y);var gm=Math.abs(gc-gh.y);gd=gl<=fY&&gm<=fY;if(gd){gd=dR.$0(gb,gh.x,gi.x)}else{ge=gj<=fY&&gk<=fY;if(ge){ge=dR.$0(gc,gh.y,gi.y)}else{gf=gj*gm===gl*gk&&dR.$0(gb,gh.x,gi.x)}}}}var gn=gg-1;if(gd){this.$k[gn].x=fZ;this.$l[gn].x=gb}else if(ge){this.$k[gn].y=ga;this.$l[gn].y=gc}else if(gf){this.$k[gn].x=fZ;this.$k[gn].y=ga;this.$l[gn].x=gb;this.$l[gn].y=gc}else{this.$k.push({x:fZ,y:ga});this.$l.push({x:gb,y:gc})}this.$p='';var go=this.get_autoScrollAdjustment();var gp='M';for(var gq=0;gq<this.$k.length;gq++){var gr=this.$k[gq];this.$p+=gp+(gr.x-go.x)+','+(gr.y-go.y);gp='L'}this.$n=e;this.$o=L},$h:function(e,L){var fX=0;var fY=this.$l.length;var fZ=e.toString()+':'+L.toString();var ga=this.$j[fZ];if(ss.isNullOrUndefined(ga)){ga=new Array(fY*2);this.$j[fZ]=ga}else{fX=ss.Int32.div(ga.length,2);if(this.$m){fX-=1}ga.length=fY*2}var gb=Math.round(e);var gc=Math.round(L);for(var gd=fX,ge=fX*2;gd<fY;gd++,ge+=2){var gf=this.$l[gd];ga[ge]=gf.x-gb;ga[ge+1]=gf.y-gc}return ga}},eq);ss.initClass(dS,a,{saveCurrentState:function(e){if(e.length<this.$1){}this.$0=ss.arrayClone(e)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var e=this.$0[0].y;var L=e;var fX=this.$0[0].x;var fY=fX;for(var fZ=this.$1,ga=this.$0.length;fZ<ga;fZ++){e=Math.min(e,this.$0[fZ].y);L=Math.max(L,this.$0[fZ].y);fX=Math.min(fX,this.$0[fZ].x);fY=Math.max(fY,this.$0[fZ].x)}var gb=new Array(1);gb[0]=tab.RectXYUtil.nonemptyify({x:fX,y:e,w:fY-fX,h:L-e});return gb}},er);ss.initClass(dT,a,{},ss.makeGenericType(spiff.BaseView$1,[dU]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dU])]);ss.initClass(dU,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dV,a,{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(e,L){this.labelColumnIterators=tab.VisualColumnHelpers.parseColumns(e,L.QNi,tab.SceneDataUtil.getNumPaneItems(L));this.transformColumnData(this.labelColumnIterators);var fX=this.labelColumnIterators.get('tuple_id');var fY=[];if(ss.isValue(fX)){var fZ=new Array(this.markCount);for(var ga=0;ga<this.markCount;ga++){fZ[ga]=-1}for(var gb=0;gb<fX.length;gb++){var gc=this.tupleToIndexMap.get(fX.v[(fX.c?0:gb)]);if(ss.isValue(gc)){fZ[gc]=gb}fY.push(gc)}this.c.set('label_index',tab.VisualColumnIterator.create(fZ))}fX=this.c.get('tuple_id');var gd=new Map;var ge=new Array(this.markCount);this.$f(fY,ss.mkdel(this,function(gj,gk){var gl=dL.$1('label',gj,this,gk);gd.set(fX.v[(fX.c?0:gj)],gl);ge[gj]=gl}));var gf=this.$1(ge);this.markLabelWorldOffsets=gf.$1;this.markLabelInstanceOffsets=gf.$0;var gg;if(this.labelColumnIterators.has('pane_flags')){var gh=this.labelColumnIterators.get('pane_flags');gg=gh.v[(gh.c?0:0)]}else{gg=0}var gi=gg;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(gi,'clip-to-cell-x');this.parseTextInfo(e.MbY,e.Smu,true);this.sceneInfo.$1(this,gd)}},dJ);dV.$ctor1.prototype=dV.prototype;ss.initClass(dX,a,{});ss.initClass(dY,a,{});ss.initClass(dZ,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[cY]);ss.initClass(ea,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var fX=this.get_dragStart().y-this.get_connectNodePos().y;var fY=Math.round(Math.min(e.x,L));var fZ=Math.round(Math.max(e.x,L));var ga=Math.round(Math.min(e.y,fX));var gb=Math.round(Math.max(e.y,fX));var gc=fZ-fY;var gd=gb-ga;this.$d={x:fY+this.get_drawOffsets().x,y:ga+this.get_drawOffsets().y,w:gc,h:gd};this.$e={x:fY+this.get_totalScrollOffset().x,y:ga+this.get_totalScrollOffset().y,w:gc,h:gd}},renderShape:function(){var e={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),e);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(e,L,fX,fY){return cI.rectangleAreaHit(L,fX.get_boundingBox(),e,fX.get_objectId(),fY,L.markType)},sendSelectionCommand:function(e,L,fX,fY){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(e,this.get_hitTestingBox(),L,fX,fY)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new eb)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),eb)){return true}}return false}},eq);ss.initClass(eb,a,{saveCurrentState:function(e){this.$0=tab.RectXYUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var e=new Array(1);e[0]=this.$0;return e}},er);ss.initClass(ec,a,{get_neededWidth:function(){return this.$2},get_neededHeight:function(){return this.$1},get_scrollableWidth:function(){return this.$a},get_scrollableHeight:function(){return this.$9},get_scrollXLeft:function(){return this.$7},get_scrollYTop:function(){return this.$8},get_widthScrollOffset:function(){return this.$d},get_heightScrollOffset:function(){return this.$0},get_viewWidth:function(){return this.$c},get_viewHeight:function(){return this.$b},get_scrollWidth:function(){return this.$6},get_scrollHeight:function(){return this.$5},get_overallWidth:function(){return this.$4},get_overallHeight:function(){return this.$3},getVisibleGeometry:function(e,L,fX,fY){var fZ={};fZ.uleftArea=null;if(ss.isValue(e.uleft)){fZ.uleftArea={l:e.uleft.x,t:e.uleft.y,w:Math.min(e.uleft.w,L-this.get_scrollWidth()),h:e.uleft.h}}fZ.yheaderArea=null;if(ss.isValue(e.yheader)){fZ.yheaderArea={l:e.yheader.x,t:e.yheader.y,w:Math.min(e.yheader.w,L-this.get_scrollWidth()),h:this.get_viewHeight()+fX}}fZ.leftaxisArea=null;if(ss.isValue(e.leftaxis)){fZ.leftaxisArea={l:e.leftaxis.x,t:e.leftaxis.y,w:e.leftaxis.w,h:this.get_viewHeight()+fX}}fZ.rightaxisArea=null;if(ss.isValue(e.rightaxis)){fZ.rightaxisArea={l:e.rightaxis.x-this.get_widthScrollOffset(),t:e.rightaxis.y,w:e.rightaxis.w,h:this.get_viewHeight()+fX}}fZ.xheaderArea=null;if(ss.isValue(e.xheader)){fZ.xheaderArea={l:e.xheader.x,t:e.xheader.y,w:this.get_viewWidth()+fY,h:e.xheader.h}}fZ.bottomaxisArea=null;if(ss.isValue(e.bottomaxis)){fZ.bottomaxisArea={l:e.bottomaxis.x,t:e.bottomaxis.y-this.get_heightScrollOffset(),w:this.get_viewWidth()+fY,h:e.bottomaxis.h}}fZ.topaxisArea=null;if(ss.isValue(e.topaxis)){fZ.topaxisArea={l:e.topaxis.x,t:e.topaxis.y,w:this.get_viewWidth()+fY,h:e.topaxis.h}}fZ.urightArea=null;if(ss.isValue(e.uright)){fZ.urightArea={l:e.uright.x-this.get_widthScrollOffset(),t:e.uright.y,w:Math.min(e.uright.w,L-this.get_scrollWidth()),h:e.uright.h}}fZ.lleftArea=null;if(ss.isValue(e.lleft)){fZ.lleftArea={l:e.lleft.x,t:e.lleft.y-this.get_heightScrollOffset(),w:e.lleft.w,h:e.lleft.h}}fZ.lrightArea=null;if(ss.isValue(e.lright)){fZ.lrightArea={l:e.lright.x-this.get_widthScrollOffset(),t:e.lright.y-this.get_heightScrollOffset(),w:e.lright.w,h:e.lright.h}}fZ.vizArea=null;if(ss.isValue(e.viz)){fZ.vizArea={l:e.viz.x,t:e.viz.y,w:this.get_viewWidth()+fY,h:this.get_viewHeight()+fX}}return fZ}});ss.initClass(ed,a,{});ss.initClass(ee,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var L=0;L<e.length;L++){var fX=e[L];if(!ss.keyExists(this.$b,fX.woffLocation)){var fY=this.$1(fX);this.$b[fX.woffLocation]=new l(fY)}var fZ=this.$b[fX.woffLocation];if(!_.contains(fZ.$2,fX)&&!_.contains(fZ.$1,fX)){this.$b[fX.woffLocation].$2.push(fX)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=ee.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(ee.$2).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var L=0;L<e.length;L++){var fX=e[L];if(ss.isValue(fX.$3)&&!ss.referenceEquals(fX.$3[0].parentElement,document.body)){fX.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var fX=e[L];if(ss.isNullOrUndefined(fX.$3)){continue}this.$9.font='100% '+fX.$0;var fY=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!ee.$1(fX.$3,this.$8)&&fY===tab.DoubleUtil.roundToInt(fX.$3.width())){fX.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var fX=e[L];if(ss.isValue(fX.$3)){return false}}return true},$1:function(e){var L="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var fX=new ca;fX.set_fontFamily(L);fX.woffLocation=e.woffLocation;var fY=fX;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fY.toCSSRules());var fZ=ee.$0('tab-hiddenFontMeasurer',[fY.get_fontFamily(),"'Courier New', Monaco, monospace"]);return fZ},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var fX=e[L];while(fX.$2.length>0){var fY=fX.$2.pop();fX.$1.push(fY);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fY.toCSSRules())}}this.$5()}},null,[cW]);ss.initClass(ef,a,{});ss.initClass(eg,a,{});ss.initClass(eh,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ei,a,{get_dom:function(){return this.get_template()},$a:function(){this.$d();this.$b()},$9:function(){this.$d();this.$b()},$c:function(){this.$b()},$b:function(){var e={position:'absolute',top:this.$f.get_drawerTopOffset()+'px',right:this.$f.get_drawerRightOffset()+'px',width:this.$f.get_drawerWidth()+'px',height:this.$f.get_drawerHeight()+'px',visibility:'visible'};this.get_dom().drawerContainer.css(e)},$d:function(){tab.MiscUtil.dispose$1(this.$e);this.$e=spiff.ObjectRegistry.newView$1(ss.makeGenericType(spiff.IView$1,[spiff.IViewModel])).call(null,this.$f.get_content().get_viewType(),[this.$f.get_content().get_viewModel()]);this.$e.addToDom(this.get_dom().drawerContainer)}},ss.makeGenericType(spiff.BaseView$1,[ej]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ej])]);ss.initClass(ej,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refresh:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refresh:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_content:function(){return this.$3},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?Y.calculateDashboardViewportBounds().h:(Y.getClientBounds().h+this.$2()))},get_drawerTopOffset:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?Y.calculateDashboardViewportBounds().t:(Y.getClientBounds().t-this.$2()))},get_drawerRightOffset:function(){return 0},$2:function(){var e=0;if(tabBootstrap.VizLayoutCalculator.get_shouldShowTabs()&&ss.isValue(V.get_instance().get_tabbedNavigation())){e=V.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$2$4},set_isOpen:function(e){this.$2$4=e},toggle:function(){if(this.get_isOpen()){this.closeDrawer()}else{this.openDrawer()}},openDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(320));this.raiseActionEvent(this.$2$1);this.set_isOpen(true)},closeDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(0));this.raiseActionEvent(this.$2$2);this.set_isOpen(false)},refreshDrawer:function(){if(this.get_isOpen()){this.raiseActionEvent(this.$2$3)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(ek,a,{});ss.initClass(el,a,{$p:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},$o:function(){return this.$x||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$w)&&!this.$w.isEmpty||this.$r},get_imageDictionary:function(){return this.$u},get_hiddenTuples:function(){return this.$v},set_hiddenTuples:function(e){this.$v=e||new Map},get_isSingleUserPane:function(){return this.scene.HUq.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$s},set_filteredTuples:function(e){this.$s=e||new Map},$l:function(e,L,fX,fY,fZ,ga,gb,gc){this.$z.clear();this.$t.clear();this.$y.clear();this.$B.clear();this.$A.clear();this.sceneUserPaneInfo=null;this.scene=e;if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$n=e.f_c;this.$q=e.eDc}this.set_hiddenTuples(ga);this.set_filteredTuples(gb);if(ss.isValue(e)&&(ss.isValue(e.ObZ)||ss.isValue(e.quY))){this.customShapes=el.extractCustomShapes(e);if(ss.isValue(e.HUq)){if(ss.isValue(e.$Ww)){this.sceneUserPaneInfo=new em(e.$Ww)}if(ss.isValue(e.quY)){for(var gd=0;gd<e.HUq.length;gd++){var ge=e.HUq[gd];for(var gf=0;gf<ge.MdI.length;gf++){var gg=ge.MdI[gf];if(ss.isValue(gg.SgS)){var gh=gg.SgS;gc.populatePaneMarks(gh,e.f_c)}}}}this.$g(e);for(var gi=0;gi<e.HUq.length;gi++){var gj=e.HUq[gi];for(var gk=0;gk<gj.MdI.length;gk++){var gl=gj.MdI[gk];if(ss.isValue(gl.SgS)){var gm=gl.SgS;var gn=gm.fDN;var go=this.scene.ObZ[gn];var gp=el.getPaneMarksKey(gm);var gq=dK.create(gn,this,gj,gm,go,fZ,gp,null);this.$B.set(gp,gq)}}}}}if(ss.isValue(L)){this.selections=L;this.$w=fX}if(ss.isValue(fY)){this.brushings=fY}this.colorModel=dh.extractInteractionColors(this.scene)},getMarkBoundingBox:function(e){if(this.$z.has(e)){return this.$z.get(e)}else{return el.$1}},$7:function(e,L){if(this.$A.has(e)&&L>=0&&L<this.$A.get(e).length){return this.$A.get(e)[L]}return null},computeFilteredMarks:function(e){var L=new Set;var fX=this.$s.size;if(fX===0){return L}for(var fY=0;fY<e.length;fY++){var fZ=e.v[(e.c?0:fY)];if(this.$s.has(fZ.toString())){L.add(fY);if(L.size===fX){break}}}return L},computeTupleStates:function(e){var L=this.$p();var fX=this.selections;var fY=(ss.isValue(fX)?fX.tupleSelection:null);var fZ=new Set;if(ss.isValue(fY)){tab.SetUtilities.addAll(ss.Int32).call(null,fZ,fY.get_ids())}var ga=this.$o();var gb=this.brushings;var gc=(ss.isValue(gb)?gb.tupleSelection:null);var gd=new Set;if(ss.isValue(gc)){tab.SetUtilities.addAll(ss.Int32).call(null,gd,gc.get_ids())}var ge=new Set;if(ss.isValue(this.$w)){tab.SetUtilities.addAll(ss.Int32).call(null,ge,this.$w.get_ids())}var gf=e.length;var gg=new Array(gf);for(var gh=0;gh<gf;gh++){var gi=e.v[(e.c?0:gh)];var gj='markStateNormal';if(this.$v.has(gi.toString())){gj='markStateInvisible'}else if(L&&fZ.has(gi)){gj='markStateSelected'}else if(ga&&(gd.has(gi)||ge.has(gi))){gj='markStateHighlighted'}gg[gh]=gj}return gg},prepareForDraw:function(e){this.$4(e);this.$h()},cleanupFromDraw:function(){this.$3()},$6:function(e){if(this.$y.has(e)){return this.$y.get(e)}else{return el.$1}},$9:function(e){var L=[];for(var fX=0;fX<e.length;fX++){var fY=e[fX];var fZ=this.$8(fY);for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];L.push(gb)}}return L},$8:function(e){var L=false;var fX=[];for(var fY=0;fY<this.scene.HUq.length;fY++){var fZ=this.scene.HUq[fY];if(fZ.YVl.length>0){L=true;break}}var ga=this.getPaneDrawInfoFromTupleId(e);if(ss.isNullOrUndefined(ga)){return fX}var gb=ga.markType;if(L){fX.push(ga.paneRect)}else if(gb==='area'||gb==='line'){fX.push(ga.paneRect)}else{var gc=this.$5(e);var gd=ga.getWorldOffsetBounds(gc);for(var ge=0;ge<gd.length;ge++){var gf=gd[ge];fX.push(gf)}var gg=this.$6(e);if(!tab.RectXYUtil.isNull(gg)){var gh=ga.getWorldOffsetBounds(gg);for(var gi=0;gi<gh.length;gi++){var gj=gh[gi];fX.push(gj)}}}return fX},$m:function(e,L){if(ss.isValue(e)&&ss.isValue(e.t$x)){var fX=new ss.ObjectEnumerator(e.t$x);try{while(fX.moveNext()){var fY=fX.current();var fZ=fY.key;if(!this.$u.has(fZ)){var ga=fY.value;var gb={$:document.createElement('img')};gb.$.src='data:image/jpeg;base64,'+ga;this.$u.set(fZ,gb.$);var gc={$:null};gc.$=ss.mkdel({imgElt:gb,imageFinishedLoad:gc},function(){if(ss.isValue(L)){L()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});gb.$.addEventListener('load',gc.$,false)}}}finally{fX.dispose()}this.$u.forEach(ss.mkdel(this,function(gd,ge,gf){if(!ss.keyExists(e.t$x,ge)){this.$u.delete(ge)}}))}},$e:function(e){return this.$p()&&this.selections.tupleSelection.isObjectSelected(e)},$b:function(e){return this.$o()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(e)||this.$d(e))},$d:function(e){return ss.isValue(this.$w)&&this.$w.isObjectSelected(e)},$f:function(e){return!this.$v.has(e.toString())},$c:function(e){return this.$s.has(e.toString())},$k:function(e){if(ss.isValue(e)&&ss.isValue(e.HUq)){for(var L=0;L<e.HUq.length;L++){var fX=e.HUq[L];for(var fY=0;fY<fX.MdI.length;fY++){var fZ=fX.MdI[fY];if(ss.isValue(fZ.SgS)){var ga=fZ.SgS;var gb=el.getPaneMarksKey(ga);if(ss.isValue(this.$B.has(gb))){var gc=this.$B.get(gb);var gd=ga.fDN;var ge=e.ObZ[gd];gc.addLabelInfo(ge,ga)}}}}}},$a:function(e){var L=null;if(ss.isValue(e)){L=this.$B.get(el.getPaneMarksKey(e))}return L},getPaneDrawInfoFromKey:function(e){return this.$B.get(e)},getPaneDrawInfoFromTupleId:function(e){var L=null;tab.MapUtility.forEachWithInterrupt(String,dV).call(null,this.$B,function(fX,fY,fZ){if(fX.containsTuple(e)){L=fX;throw new tab.LoopBreakException}});return L},$j:function(e){this.$x=e},$i:function(e){this.$r=e},$2:function(e,L){el.$0(e,L,this.$z)},$1:function(e,L){el.$0(e,L,this.$y)},$0:function(e,L,fX){tab.RectXYUtil.offsetRectXYInPlace(L,e.paneRect.x,e.paneRect.y);for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];this.$t.set(fZ,L)}},$g:function(e){if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return}var L=Object.keys(e.ObZ);var fX=ss.getEnumerator(L);try{while(fX.moveNext()){var fY=fX.current();var fZ=e.ObZ[fY];var ga=fZ.qOh;if(!ss.isValue(ga)){continue}var gb=fZ.LTd['pane_flags'];var gc=tab.SceneDataUtil.isPaneFlagSet(gb,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(gb,'enable-scale-y');var gd=null;var ge=null;var gf=false;if(gc){for(var gg=0;gg<e.HUq.length;gg++){var gh=e.HUq[gg];for(var gi=0;gi<gh.MdI.length;gi++){var gj=gh.MdI[gi];var gk=gj.SgS;if(ss.isValue(gk)&&ss.referenceEquals(gk.fDN,fY)){gd=tab.RecordCast.doubleRectPresModelAsDoubleRectXY(gk.NQL);ge={x:0,y:0,w:gk.wyR.rec,h:gk.wyR.EUR};gf=true;break}}if(gf){break}}}var gl=ga.length;var gm=new Array(gl);for(var gn=0;gn<gl;gn++){var go=ga[gn];gm[gn]=null;if(tab.MiscUtil.isNullOrEmpty$1(go)){continue}var gp=JSON.parse(go);if(cA.isGeometryPresModelFeatureEmpty(gp)){continue}gp=tab.RleDecoder.decode(gp);if(gc&&gf){cA.domainToPixelGeometry(gp,gd,ge,true)}gm[gn]=gp}this.$A.set(fY,gm)}}finally{fX.dispose()}},$5:function(e){var L=this.$t.get(e);if(ss.isNullOrUndefined(L)){L=this.getMarkBoundingBox(e)}return L},$4:function(e){this.$B.forEach(function(L,fX,fY){L.computeDirtyMarks(e)})},$3:function(){this.$B.forEach(function(e,L,fX){e.clearDirtyMarks()})},$h:function(){this.$B.forEach(function(e,L,fX){e.refreshMarkState()})}});ss.initClass(em,a,{});em.$0.prototype=em.prototype;ss.initClass(en,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontsReadyAutoCallEvent:function(e){this.fontsReadyAutoCall=ss.delegateCombine(this.fontsReadyAutoCall,e);if(this.$4){e()}},remove_fontsReadyAutoCallEvent:function(e){this.fontsReadyAutoCall=ss.delegateRemove(this.fontsReadyAutoCall,e)},initialize:function(e){this.$5.reset();this.$8=false;this.$4=false;if(e){this.$3=br.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var L=0;L<e.length;L++){var fX=e[L];var fY=fX.get_hash();if(!ss.keyExists(this.$6,fY)){this.$6[fY]=fX}}},notifyDownloadableFont:function(e){if(this.$8){return}var L=[];for(var fX=0;fX<e.length;fX++){var fY=e[fX];var fZ=fY.get_hash();if(ss.keyExists(this.$6,fZ)){L.push(this.$6[fZ])}}if(ss.isValue(L)&&L.length>0){this.$5.addFonts(L)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){ct.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}if(!ss.staticEquals(this.fontsReadyAutoCall,null)&&this.$4===false){this.fontsReadyAutoCall()}this.$4=true},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(eo,a,{hitTest:function(e,L){var fX=new tab.HitTestSceneCmd;fX.c['WAe']=tab.PointUtil.toPresModel(e);fX.c['J_M']=this.region.get_visualId();fX.invoke().done(ss.mkdel(this,function(fY){var fZ=fY.$c['LB$'];if(ss.isValue(fZ)&&fZ.length>0){var ga=new tab.SceneElementModel(fZ[0]);var gb=ga.get_paneId();var gc=this.makePaneSpecId(gb.get_columnIndex(),gb.get_rowIndex());var gd=new cJ(ga);this.set_current(new fH(this.region,gc,gb.get_columnIndex(),gb.get_rowIndex(),e,L,gd))}else{this.set_current(null)}}))}},fI,[ss.IDisposable]);ss.initClass(ep,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(e){this.$3.clear();for(var L=0;L<e.length;L++){var fX=e[L];this.$0(fX)}this.$1()},$0:function(e){if(tab.SceneDataUtil.isCustomShape(e)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(e)){this.$3.add(e)}},onShapeLoaded:function(e){if(!this.$3.has(e)){return}this.$3.delete(e);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(es,a,{});ss.initClass(et,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ew,eu,Object]));ss.initClass(eu,a,{});ss.initClass(ev,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ew,a,{get_dom:function(){return this.get_template()},$9:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var L=$("\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>");if(this.$g.get_allowSharingDifferentViews()){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"));this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}this.get_dom().shareArea.append(L);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(gb){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(gb){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$g.get_shouldShowSocialShareOptions()){var fX=new spiff.IconButton;fX.addClass('tab-shareIconButton');fX.addClass('tab-shareSocialMail');fX.setIcon('tab-shareMailIcon');fX.onClick(ss.mkdel(this,function(gb){this.$g.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(fX.element);var fY=$("<div class='tab-shareIconButton tab-shareSocialTwitter'/>");fY.click(ss.mkdel(this,function(gb){this.$g.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(fY);var fZ=$("<div class='tab-shareIconButton tab-shareSocialFacebook'/>");fZ.click(ss.mkdel(this,function(gb){this.$g.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(fZ)}else{var ga=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$g,this.$g.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(ga.element)}},$d:function(){this.get_dom().shareLinkTitle.html(this.$g.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$g.get_embedLabel());this.$b();this.$e()},$b:function(){if(!this.$g.get_allowSharingDifferentViews()){return}var e;var L;if(this.$f){var fX=$("<input type='radio' name='state' checked>"+this.$g.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(fX);this.get_dom().shareCurrentView.addClass('narrow');var fY=$("<input type='radio' name='state'>"+this.$g.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(fY);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(fX);L=new spiff.ToggleButton(fY);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$g.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$g.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);L=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var fZ=new spiff.SelectableGroup;fZ.addItem(e);fZ.addItem(L);fZ.selectItem(e);this.$g.set_shouldShareOriginalView(false);L.add_propertyChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$c))})));this.disposables.add$1(fZ)},$c:function(e,L){if(L.get_propertyName()==='selected'){this.$g.set_shouldShareOriginalView(e.get_selected());this.$e()}},$e:function(){var e=this.$g.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var L=this.$g.generateShareUrl();this.get_dom().shareLinkInput.val(L);this.get_dom().shareLinkSection.show()}this.$g.generateEmbedCode().always(ss.mkdel(this,function(fX){this.get_dom().shareEmbedInput.val(fX)}))},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[ex]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ex])]);ss.initClass(ex,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return ew},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarShare;var L=new eu;L.viewModel=this;return{title:e,testId:'share',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(et,L)}},get_allowSharingDifferentViews:function(){if(!fc.$0()||!tsConfig.statefulURL){return false}if(this.$9()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$a},set_shouldShareOriginalView:function(e){this.$a=e},get_shouldShowSocialShareOptions:function(){return fc.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$9:function(){return!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=ex.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=ex.$3(e,tabBootstrap.VizLayoutCalculator.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=ex.$3(e,fc.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=ex.$3(e,false,false,'size');e=ex.$3(e,false,false,'commentingEnabled');e=ex.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var L=tab.XhrUtil.guid;var fX=window.location;var fY=(tsConfig.forceHttpsForPublicEmbed?'https:':fX.protocol);var fZ=fY+'//'+fX.hostname+ex.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$1(L)){e=fZ+L}else if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)){e=fZ+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var L=tableau.util.parseUri(e.get_absoluteUri());var fX=ex.$6(L);var fY=this.$3(this.$7());var fZ=tableau.format.escapeHTML(ex.$4());var ga;var gb=tab.ModelUtils.findContentDashboard();if(gb.get_isDashboard()&&gb.get_deviceLayouts().length>0){ga=ex.$0()}else{var gc=tab.DashboardCommands.getCurrentSheetSizeConstraints().pipe(function(gd){return ex.$1(gd,0.75)},function(gd){return''});ga=gc}return ga.pipe(ss.mkdel(this,function(gd){return this.$2(fX,fY,fZ,gd)}),function(gd){return''})},$3:function(e){var L='';if(!tab.MiscUtil.isNullOrEmpty$1(e)){var fX=tableau.format.escapeHTML;var fY=ss.coalesce(this.$6(),'#');L="<noscript><a href='"+fX(fY)+"'>"+"<img alt='"+fX(tsConfig.embeddedTitle)+" ' src='"+fX(e)+"' style='border: none' /></a></noscript>"}return L},$2:function(e,L,fX,fY){var fZ="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var ga=ss.formatString(fZ,fX,fY,e);var gb=window.location;var gc=this.$8(gb,this.$7(),'');var gd=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",fX,L,gc);return gd+ga},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var L=window.location;var fX=tableau.format.escapeHTML;var fY=this.$6();var fZ=tsConfig.embeddedTitle;var ga=this.$7();var gb=this.$4();var gc=ex.$8(L);var gd="width='"+gb.w+"' height='"+gb.h+"'";var ge=this.$8(L,ga,gd);var gf=ss.coalesce(fY,'#');var gg='';if(!tab.MiscUtil.isNullOrEmpty$1(ga)){gg="<noscript><a href='"+fX(gf)+"'>"+"<img alt='"+fX(fZ)+" ' src='"+fX(ga)+"' style='border: none' /></a></noscript>"}var gh=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",gb.w,gb.h,gg,ge);var gi=gc+gh;return e.resolve(gi).promise()},$8:function(e,L,fX){var fY=tabBootstrap.ViewerBootstrap.get_instance().location.search;var fZ=tsConfig.repositoryUrl;var ga=tsConfig.site_root;var gb=tableau.format.escapeHTML;var gc="<object class='tableauViz' "+fX+" style='display:none;'>";var gd=ss.arrayClone(ex.$e);gd.push('embed');gd.push('show_tabs');gd.push('loadOrderID');var ge=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);gc+="<param name='host_url' value='"+gb(encodeURIComponent(ge+'//'+e.host+'/'))+"' /> ";gd.push('host_url');if(!this.get_allowSharingDifferentViews()){gc+="<param name='site_root' value='"+gb(ga)+"' />";gc+="<param name='name' value='"+gb(fZ)+"' />";gd.push('site_root');gd.push('name');gc+="<param name='tabs' value='"+(tabBootstrap.VizLayoutCalculator.get_shouldShowTabs()?'yes':'no')+"' />";gd.push('tabs')}else{var gf=this.generateShareBaseUrl();gc+="<param name='path' value='"+gb(ss.replaceAllString(gf,ge+'//'+e.hostname+'/',''))+"' /> ";gd.push('path')}gc+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";gd.push('toolbar');if(fc.$0()){if(!tab.MiscUtil.isNullOrEmpty$1(L)){var gg=ss.replaceAllString(L,'_rss.png','.png');gc+="<param name='static_image' value='"+gb(gg)+"' /> "}gc+="<param name='animate_transition' value='yes' />";gc+="<param name='display_static_image' value='yes' />";gc+="<param name='display_spinner' value='yes' />";gc+="<param name='display_overlay' value='yes' />";gc+="<param name='display_count' value='yes' />";gd.push('animate_transition');gd.push('display_static_image');gd.push('display_spinner');gd.push('display_overlay');gd.push('display_count')}if(fY.length>0){var gh=fY.substr(1).split('&');for(var gi=0;gi<gh.length;gi++){var gj=gh[gi].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var gk;var gl;if(ss.isValue(gj)&&gj.length===4){gk=gj[2];gl=gj[3]}else{gk='filter';gl=gh[gi]}if(!tab.MiscUtil.isNullOrEmpty$1(gk)&&!ss.contains(gd,gk)){gc+="<param name='"+gb(gk)+"' value='"+gb(gl)+"' />"}}}gc+='</object>';return gc},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){eD.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){eD.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,ex.$7())},doTwitterShareAction:function(){eD.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var L=tsConfig.staticImage;if(!ss.isValue(L)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fX=L.indexOf('/images/')+8;var fY=L.substr(0,fX);L=fY+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(L,'https')){L.replace('http','https')}return L},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var L=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;e+=4;L+=ex.$5();return{w:e,h:L}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var L=this.$7();var fX=L.split(String.fromCharCode(47));fX[fX.length-1]='thumb.png';var fY=fX.join('/');fY+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return fY}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),cS]);ss.initClass(ey,a,{},ss.EventArgs);ss.initClass(ez,a,{},ey);ss.initClass(eA,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$o.get_visualModel().get_backgroundColor()},performRender:function(){var e=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$o.get_scene().get_imageDictionary())}finally{if(ss.isValue(e)){e.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().$a(this.get_visualListVM())},onViewModelPropertyChanged:function(e,L){if(L.get_propertyName()==='HoverNode'){var fX={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(fX),true)}else{ss.makeGenericType(fF,[fB]).prototype.onViewModelPropertyChanged.call(this,e,L)}}},ss.makeGenericType(fF,[fB]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fB]),spiff.IScrollable,di]);ss.initClass(eB,a,{render:function(){var e=this.buildCommonDialogProps();var L=React.createElement(SharedWidgets.DialogWidget,e);return L},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var L=[];var fX=React.DOM.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});L.push(fX);if(ss.isValue(this.props.additionalLinks)){for(var fY=0;fY<this.props.additionalLinks.length;fY++){var fZ=this.props.additionalLinks[fY];L.push(React.DOM.p({},React.DOM.a({href:fZ.url,target:'_blank',children:fZ.displayText})))}}e.children=L;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var L='<br/>';e=ss.replaceAllString(e,'<br>',L);e=ss.replaceAllString(e,'\n',L);var fX=e.split(L);var fY=[];var fZ=eB.textArea.value();for(var ga=0;ga<fX.length;ga++){var gb=fX[ga];fZ.innerHTML=gb;var gc=React.DOM.p({children:fZ.textContent});fY.push(gc)}return fY},$1:function(e){var L={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var fX=0;fX<this.props.dialogButtons.length;fX++){var fY=this.props.dialogButtons[fX];this.$0(fY,L)}}if(L.buttons.length>0){var fZ=React.createElement(SharedWidgets.DialogFooterButtonsWidget,L);e.footerContent=fZ;e.showFooter=true}},$0:function(e,L){var fX={handleClick:ss.mkdel(this,function(){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,label:e.buttonText};L.buttons.push(fX)}},React.Component);ss.initClass(eC,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,fX,fY){if(fX){this.$9.close()}else if(ss.isValue(fY)&&fY&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,L){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var L=this.$9.get_lastLocation()||{x:0,y:0};var fX={x:e.pageX,y:e.pageY};this.$9.set_lastLocation(fX);this.$9.move(fX);var fY=tab.PointUtil.distance(L,this.$9.get_lastLocation());if(fY>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(fX);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:e.offsetX+e.target.offsetLeft,y:e.offsetY+e.target.offsetTop})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,L){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[dp,ss.IDisposable]);ss.initClass(eD,a,{});ss.initClass(eE,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eG,eF,Object]));ss.initClass(eF,a,{});ss.initClass(eG,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$y.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.remove_subscribersChanged(ss.mkdel(this,this.$h));this.$y.remove_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q));ss.makeGenericType(spiff.BaseView$1,[eH]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$b();this.$q()},$g:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var L=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var fX=new spiff.SelectableGroup;fX.addItem(e);fX.addItem(L);fX.selectItem(e);this.$y.set_shouldSubscribeAllViews(false);L.add_propertyChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$p))})));this.disposables.add$1(fX)},$b:function(){this.get_dom().subscribeScheduleDropdown.empty();if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(L){this.$k(SelfServiceSchedules.StaticInitializers.defaultRecurrence())}))}else{this.$t=this.get_viewModel().generateScheduleViewModel();this.$t.set_theme(3);this.$t.set_menuTheme(this.menuTheme);var e=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$t]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$t)}},$k:function(e){var L={};this.$s=L.recurrenceModel=e;L.recurrenceModelChangedCallback=ss.mkdel(this,this.$k);ReactDOM.render(React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,L),this.get_dom().subscribeScheduleDropdown.get(0))},$a:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$u=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$u.addClass(eG.get_sendOnlyWhenDataPresentCheckboxClass());this.$u.add_click(ss.mkdel(this,this.$m));this.$u.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$n));this.disposables.add$1(this.$u)},$m:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$u.get_selected())},$n:function(){this.$u.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$u.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$c:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$r)){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i));this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$r=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$r.get_inputElement().attr('maxlength',eH.maxSubscriptionEmailLength.toString());this.$r.add_propertyChanged(ss.mkdel(this,this.$i));this.$r.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeEmail.append(this.$r.element)}},$d:function(){if(ss.isValue(this.$v)){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i));this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$v=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$v.get_inputElement().attr('maxlength',eH.maxSubscriptionSubjectLength.toString());this.$v.add_propertyChanged(ss.mkdel(this,this.$i));this.$v.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeSubject.append(this.$v.element)},$j:function(){if(!this.$w.get_disabled()){this.$l()}},$i:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$q()}},$e:function(){this.$w=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$l),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$w.element)},$q:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$r)?this.$r.get_text():null),this.$v.get_text(),ss.isNullOrUndefined(this.$x)||this.$x.get_selected());if(this.$w.get_disabled()!==e){var L=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$w.set_hoverTooltipText(L);this.$w.set_disabled(e)}},$f:function(){this.$x=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$x.addClass('tab-subscribeSelf');this.$x.add_click(ss.mkdel(this,this.$q));this.$x.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$x.element);this.disposables.add$1(this.$x);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);var L=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);L.set_label(tab.Strings.ManageSubscriptions);L.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);L.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(L)},$h:function(){var e=new ss.StringBuilder;if(this.get_viewModel().get_subscribers().length>0){e.append(this.get_viewModel().get_subscribers()[0].friendlyName);if(this.get_viewModel().get_subscribers().length>1){e.append(' + ');e.append(this.get_viewModel().get_subscribers().length-1)}e.append(', ')}e.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(e.toString())},$o:function(){if(this.get_viewModel().get_subscribers().length>0){if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionsWithSelfServiceSchedule(this.$v.get_text(),this.$s,this.$x.get_selected())}else{this.get_viewModel().createSubscriptions(this.$v.get_text(),this.$t.get_selectedItem().get_data(),this.$x.get_selected())}}else if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionWithSelfServiceSchedule(this.$v.get_text(),this.$s)}else{this.get_viewModel().createSubscription(this.$v.get_text(),this.$t.get_selectedItem().get_data())}},$l:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$r.get_text();var L=ss.mkdel(this,function(fY){var fZ=((fY===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(fZ))});var fX=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$o()});tab.WorkgroupServerCommands.setUserEmail(e,fX,L)}else{this.$o()}},$p:function(e,L){if(L.get_propertyName()==='selected'){this.$y.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.$d();this.$b();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$a()}this.$g();this.$c();this.$e();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$f()}this.$q();this.$v.get_inputElement().attr('autofocus','true')}},ss.makeGenericType(spiff.BaseView$1,[eH]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eH])]);ss.initClass(eH,a,{add_schedulesChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_schedulesChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_subscribeSuccess:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_subscribeSuccess:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_subscribersChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_subscribersChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e)},add_dialogHidden:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_dialogHidden:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_schedules:function(){return this.$7},get_viewType:function(){return eG},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.SubscribeTitle;var L=new eF;L.viewModel=this;return{title:e,testId:'subscribe',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(eE,L)}},get_shouldSubscribeAllViews:function(){return this.$8},set_shouldSubscribeAllViews:function(e){this.$8=e;if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return}if(ss.staticEquals(this.$2$4,null)){return}this.$2$4()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$8},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$2$7},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$2$7=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return false}if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$2$8},set_email:function(e){this.$2$8=e},get_subscriptionsPageUrl:function(){return this.$2$9},set_subscriptionsPageUrl:function(e){this.$2$9=e},get_subscribers:function(){return this.$9},set_subscribers:function(e){this.$9=e;this.raiseActionEvent(this.$2$3)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$5:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},disposeViewModel:function(){this.$9=[];this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.raiseActionEvent(this.$2$6)},createAddSubscribersPopup:function(e){if(ss.isValue(this.$6)){return}var L=new P(this.get_subscribers());this.$6=L;var fX=spiff.UberPopupViewModel.createForContent$1(this.$6,e,ss.mkdel(this,this.$3),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fX.options.horizontalAlign=1;fX.options.isToolbarFlyout=false;fX.options.isBeingPositionedRelativeToASharedDialogWidget=true}else{fX.options.isToolbarFlyout=true}fX.options.preferUp=fc.get_toolbarIsBottom();fX.options.horizontalAttach=1;fX.options.coverRelativeElement=true;var fY=function(){fX.hide(false)};L.add_selectionCanceled(fY);var fZ=ss.mkdel(this,function(gb){this.set_subscribers(gb);fX.hide(false)});L.add_selectionConfirmed(fZ);fX.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_selectionCanceled(fY);L.remove_selectionConfirmed(fZ);this.raiseActionEvent(this.$2$5)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){var ga=function(){fX.hide(false)};this.add_dialogHidden(ga);fX.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(ga)})))}fX.show();this.raiseActionEvent(this.$2$5);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,L,fX){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(L)||L.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$4(e)){return false}if(ss.isValue(this.$6)){return false}return fX||this.get_subscribers().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var L=e;var fX=this.get_schedules();for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];var ga=fZ.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){ga=fZ.get_scheduleFrequencyDescription()}L.addItem(new spiff.ComboBoxItem(null,ga,fZ,null))}if(L.get_items().length>0){L.set_selectedItem(L.get_items()[0])}return L},createSubscription:function(e,L){var fX=ss.mkdel(this,function(){this.raiseActionEvent(this.$2$2);dG.showNotification(tab.Strings.SubscribeSuccess)});var fY=function(){dG.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),L,this.$5(),fX,fY)},createSubscriptionWithSelfServiceSchedule:function(e,L){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fX){fX.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),L,this.$5(),this.$2$2)}))},createSubscriptions:function(e,L,fX){this.$2(e,fX,L,false)},createSubscriptionsWithSelfServiceSchedule:function(e,L,fX){this.$2(e,fX,L,true)},$2:function(e,L,fX,fY){var fZ=ss.mkdel(this,function(gd){var ge=gd['results'].length;dG.showNotification(tab.Strings.SubscribeOthersSuccess(ge));this.raiseActionEvent(this.$2$2)});var ga=ss.mkdel(this,function(gd){var ge=gd['errors'];if(ge.length===1&&ss.isNullOrUndefined(ge[0]['id'])){dG.showNotification(tab.Strings.SubscribeFailure)}else{dG.showNotification(tab.Strings.SubscribeOthersFailed(ge.length));this.raiseActionEvent(this.$2$2)}});var gb=function(gd){dG.showNotification(tab.Strings.SubscribeFailure)};var gc=_.map(this.get_subscribers(),function(gd){return gd.id.toString()});if(L&&!_.contains(gc,tsConfig.current_user_id.toString())){gc.push(tsConfig.current_user_id.toString())}if(fY){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(gd){gd.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fX,this.$5(),gc,fZ,ga,gb)}))}else{tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),gc,fX,this.$5(),fZ,ga,gb)}},$3:function(){this.$6=tab.MiscUtil.dispose$1(this.$6)},$4:function(e){return cm.validate(e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),cS]);ss.initClass(eI,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eJ,a,{},ss.EventArgs);ss.initClass(eK,a,{get_textAngle:function(){return this.$j},set_textAngle:function(e){this.$j=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$f},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_font:function(){return this.$6.font},set_font:function(e){var L=this.$c.normalizeFont(e);if(!ss.referenceEquals(L,this.$6.font)){this.$6.font=L}this.$d=eK.$0(L)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$e!=='solid'){this.$5()}}},get_linePattern:function(){return this.$e},set_linePattern:function(e){if(e!==this.$e){this.$e=e;this.$5()}},get_transformation:function(){return this.$l},set_transformation:function(e){this.$l.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$g},set_shapeFillStyle:function(e){this.$g=e;this.$3(e)},get_shouldAntialias:function(){return this.$h},set_shouldAntialias:function(e){this.$h=e},get_shouldUnderlineText:function(){return this.$i},set_shouldUnderlineText:function(e){this.$i=e},get_textFillStyle:function(){return this.$k},set_textFillStyle:function(e){this.$k=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(eK.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(eK.defaultLineJoin);this.set_lineCap(eK.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(eK.defaultTextBaseline);this.set_textAlign(eK.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$h=true;this.$i=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,L,fX,fY,fZ,ga){this.$6.arc(e,L,fX,fY,fZ,ga)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,L,fX,fY,fZ,ga){this.$6.bezierCurveTo(e,L,fX,fY,fZ,ga)},clearRect:function(e,L,fX,fY){this.$6.clearRect(e,L,fX,fY)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,L,fX,fY){return this.$6.createLinearGradient(e,L,fX,fY)},drawImage1:function(e,L,fX){this.$6.drawImage(e,L,fX)},drawImage3:function(e,L,fX,fY,fZ){this.$6.drawImage(e,L,fX,fY,fZ)},drawImage4:function(e,L,fX,fY,fZ){this.$6.drawImage(e,L,fX,fY,fZ)},drawImage5:function(e,L,fX,fY,fZ,ga,gb,gc,gd){this.$6.drawImage(e,L,fX,fY,fZ,ga,gb,gc,gd)},fill:function(){this.$6.fill()},fillRect:function(e,L,fX,fY){this.$6.fillRect(e,L,fX,fY)},fillText1:function(e,L,fX){if(this.$4()){var fY=ss.mkdel(this,function(fZ){this.$6.fillText(fZ,0,0)});this.$2(fY,e,L,fX)}else{this.$6.fillText(e,L,fX)}},fillText2:function(e,L,fX,fY){if(this.$4()){var fZ=ss.mkdel(this,function(ga){this.$6.fillText(ga,0,0,fY)});this.$2(fZ,e,L,fX)}else{this.$6.fillText(e,L,fX,fY)}},lineTo:function(e,L){this.$6.lineTo(e,L)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,L){this.$6.moveTo(e,L)},rect:function(e,L,fX,fY){this.$6.rect(e,L,fX,fY)},reset:function(){while(this.$f>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$b.pop();e.$0(this);--this.$f},rotate:function(e){this.$l.rotate(e);this.$0()},save:function(){var e=new t(this.$e,this.$j,this.$g,this.$k,this.$h,this.$i,this.$l);this.$b.push(e);this.$6.save();++this.$f},scale:function(e,L){if(e===1&&L===1){return}this.$l.scale(e,L);this.$0()},setTransform:function(e){this.$l.setTransform(e);this.$0()},resetTransform:function(){this.$l.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,L,fX,fY){this.$6.strokeRect(e,L,fX,fY)},strokeText1:function(e,L,fX){},strokeText2:function(e,L,fX,fY){},translate:function(e,L){if(e===0&&L===0){return}this.$l.translate(e,L);this.$0()},$0:function(){var e=this.$l.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$g)||!ss.referenceEquals(this.$g,this.$k)||this.$i},$2:function(e,L,fX,fY){this.$6.save();var fZ=this.$l.clone();this.translate(fX,fY);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$k);e(L);if(this.$i){var ga=this.measureText(L).width;var gb=Math.round(Math.max(1,(this.$d-5)/10));var gc=Math.round((this.$d-5)/10);var gd=0;if(this.get_textAlign()==='center'){gd-=ga/2}else if(this.get_textAlign()==='end'){gd-=ga}this.$6.fillRect(gd,gc,ga,gb)}this.$6.restore();this.$l.setTransform(fZ);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var L=0;switch(this.$e){case'solid':{e=[];break}case'dashed':{L=this.$6.lineWidth;e=[eK.defaultLineDashDashed[0]*L,eK.defaultLineDashDashed[1]*L];break}case'dotted':{L=this.$6.lineWidth;e=[eK.defaultLineDashDotted[0]*L,eK.defaultLineDashDotted[1]*L];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}});ss.initClass(eL,a,{});ss.initClass(eM,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eN,a,{$i:function(){return this.get_viewModel()},$h:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$i().options.textSelectable){this.$h().contentElem.addClass('tab-selectable')}this.handleNewTextRegion()},handleNewTextRegion:function(){if(!this.$i().hasPresModel()){return}this.$b(this.$h().textRegionBoundaryElem);this.$c(this.$h().contentElem)},handleRightClick:function(e){this.get_viewModel().showContextMenu(spiff.ShowMenuOptions.anchorToCursorLocation(this.element,{left:e.clientX,top:e.clientY}))},$c:function(e){var L={};e.removeAttr('style');e.html(this.$i().get_html());cv.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var fX=function(gf){gf.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),fX).on(this.createNamespacedEventName('touchend'),fX)}var fY=this.$i().get_orientation();var fZ=this.$g(fY);var ga=this.$f(fY);if(fZ||ga){var gb=tab.DoubleUtil.roundToInt(e.parent().width());var gc=tab.DoubleUtil.roundToInt(e.parent().height());L['width']=gc+'px';var gd='0%';if(fZ){L['bottom']='100%';gd='100%'}else if(ga){L['top']='100%';gd='0%'}e.css(L);L['left']=this.$d(gb,tab.DoubleUtil.roundToInt(e.height()),this.$i().get_hAlign(),fY);this.$9(e,'0% '+gd,fY.toString())}else{L['width']='100%';var ge=tab.DoubleUtil.roundToInt(this.$h().domRoot.height());if(ge<=tab.DoubleUtil.roundToInt(e.height())&&!this.$e(e,ge)){L['top']='0%'}else{switch(this.$i().get_vAlign()){case'v-align-center':{L['top']='50%';L['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{L['bottom']='0%';break}case'v-align-top':{L['top']='0%';break}default:{break}}}}e.css(L)},$e:function(e,L){var fX=false;e.find('span').each(function(fY,fZ){if(!fX&&ss.isValue(fZ.style.lineHeight)){fX=parseInt(fZ.style.lineHeight)>=L}});return fX},$b:function(e){var L=this.$i().get_styledBox();var fX=cv.getCSSBorderStyle(L.ysh1);var fY=ss.mkdict(['border-width',L.s$V+'px','border-color',L.mjt1,'border-style',fX]);if(this.$i().get_styledBox().iKN){this.$a(fY)}e.css(fY)},$a:function(e){var L=tab.ColorModel.fromColorCode(this.$i().get_styledBox().eBu);if(L.get_a()<1){e['background-color']=L.toString()}else{e['background-color']=L.toString()}},$g:function(e){return Math.round(e)===90},$f:function(e){return Math.round(e)===-90},$9:function(e,L,fX){var fY={};fY['transform-origin']=L;fY['transform']='rotate('+fX+'deg)';e.css(fY)},$d:function(e,L,fX,fY){var fZ=0;if(L>e){if(this.$g(fY)){fX='h-align-right'}else{fX='h-align-left'}}if(fX==='h-align-left'){fZ=0}else if(fX==='h-align-right'){fZ=e-L}else if(fX==='h-align-center'){fZ=ss.Int32.div(e,2)-ss.Int32.div(L,2)}return fZ.toString()+'px'}},ss.makeGenericType(spiff.BaseView$1,[eO]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eO])]);eN.$ctor1.prototype=eN.prototype;ss.initClass(eO,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(ss.referenceEquals(this.get_presModelKey().name,'CTm'.toString())&&tsConfig.current_sheet_type==='worksheet'){var L=function(fY){var fZ=fY.$c['Jmx'];var ga=fM.menuViewModelFromCommands(fZ,fM.commandMenuItemClicked,null);ga.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,L)}if(ss.referenceEquals(this.get_presModelKey().name,'vv_'.toString())&&tsConfig.current_sheet_type==='worksheet'){var fX=function(fY){var fZ=fY.$c['Jmx'];var ga=fM.menuViewModelFromCommands(fZ,fM.commandMenuItemClicked,null);ga.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,fX)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eP,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eQ,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[eR]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eR]),spiff.IScrollable]);ss.initClass(eR,a,{},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eS,a,{get_isDragTracking:function(){return false},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$8},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$b},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(e){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=e;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_defaultPointerToolMode:function(){return this.$1$1},set_defaultPointerToolMode:function(e){this.$1$1=e},get_currentModifierKeyToolMode:function(){return this.$1$2},set_currentModifierKeyToolMode:function(e){this.$1$2=e},get_currentToolbarToolMode:function(){return this.currentToolbarToolMode},set_currentToolbarToolMode:function(e){if(tsConfig.allow_filter){this.currentToolbarToolMode=e}},get_currentPointerToolMode:function(){return((this.get_currentModifierKeyToolMode()==='no-tools')?this.get_currentToolbarToolMode():this.get_currentModifierKeyToolMode())},get_sceneInfo:function(){if(this.$8!=='viz'){return null}var e=ss.safeCast(this.regionContent,dM);if(ss.isNullOrUndefined(e)){return null}var L=e.get_viewModel();return L.get_scene()},get_visualListVM:function(){var e=this.get_contentProvider();return e.get_viewModel()},get_shapeSelector:function(){return this.$a},get_visualObjectBoundsComputerAndHitTester:function(){return this.$c},sendSelectionCommand:function(e,L,fX,fY){this.get_shapeSelector().sendSelectionCommand(e,L,fX,fY)},turnOnWindowLogging:function(){if(!ss.isValue(eS.windowLog)){eS.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag();this.$d=tab.MiscUtil.dispose$1(this.$d)},destroy:function(){this.disposables.dispose();this.allowPanZoom=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$2))}this.backgroundMap.$6();this.backgroundMap.dispose()},setGeometry:function(e,L,fX){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:L.w,h:L.h});this.regionContent.reset(e,fX);this.backgroundMap.$b(e.w,e.h);this.$9={x:0,y:0,w:e.w,h:e.h}}},refreshImages:function(e){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(e)}},onZoomBoxMouseMove:function(e){this.onSelectorMouseMove(e,this.domPanZoomRect)},onMarqueeMouseMove:function(e){this.onSelectorMouseMove(e,this.$a)},onSelectorMouseMove:function(e,L){e.preventDefault();L.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var fX=L.get_connectNodePos();var fY=e.get_gestureInfo().pageX-fX.x;var fZ=e.get_gestureInfo().pageY-fX.y;var ga=((fY<0)?fY:((fY>fX.w)?(fY-fX.w):0));var gb=((fZ<0)?fZ:((fZ>fX.h)?(fZ-fX.h):0));var gc=this.determineScrollDirection(0,ga);var gd=this.determineScrollDirection(1,gb);var ge=((Math.max(Math.abs(ga),Math.abs(gb))>15)?'fast':'slow');if(gc!==0||gd!==0){this.startScrolling(gc,gd,ge);L.constrainShape(e.get_gestureInfo())}else{this.stopScrolling();L.updateAndRenderShape(e.get_gestureInfo())}},onDoubleTapAxis:function(e){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(this.get_contentProvider())){this.placeholderForDoubleClickRegionCommandCall();return}var L=true;if(this.get_regionPart()==='bottomaxis'){var fX=this.toLocalCoordsEvent(e,false);var fY=this.hitTestNodes(fX);L=ss.isValue(fY)&&tab.SelectionUtils.isQuantitative(fY)}if(L){this.placeholderForGetEditAxisDialogCommandCall()}},placeholderForGetEditAxisDialogCommandCall:function(){},placeholderForDoubleClickRegionCommandCall:function(){},debugWindowLog:function(e){if(ss.isValue(eS.windowLog)){}},toLocalCoords:function(e,L){var fX=this.getLocalOffsetPoint(L);var fY={x:e.x-fX.x,y:e.y-fX.y};return fY},toLocalCoordsRect:function(e,L){var fX=this.getLocalOffset(L);var fY={x:fX.x,y:fX.y};var fZ={x:e.x-fY.x,y:e.y-fY.y,w:e.w,h:e.h};return fZ},toLocalCoordsEvent:function(e,L){var fX={x:e.get_gestureInfo().pageX,y:e.get_gestureInfo().pageY};return this.toLocalCoords(fX,L)},getLocalOffset:function(e){var L=tab.DomUtil.getRectXY(this.connectNode);if(e||ss.isNullOrUndefined(this.regionContent)){return L}L.x-=this.regionContent.get_scrollPos().x;L.y-=this.regionContent.get_scrollPos().y;return L},getLocalOffsetPoint:function(e){var L=this.getLocalOffset(e);var fX={x:L.x,y:L.y};return fX},getPaneDrawInfoFromSelectionAnchor:function(e){var L=this.get_visualObjectBoundsComputerAndHitTester().$2(e,this.get_sceneInfo());if(L.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(L[0])},hitTestVisualPartsHelper:function(e,L){return(cJ.hasExactHit(L)?[]:this.get_visualObjectBoundsComputerAndHitTester().$4(e,this.paneTableViewModel))},hitTestMarksAgainstSelectionShape:function(){return this.get_visualObjectBoundsComputerAndHitTester().$3(null,false,this.$a,this.get_sceneInfo())},selectNode:function(e,L,fX,fY){var fZ=this.get_visualListVM();fZ.selectNode(e,L,fX,fY)},hitTestNodes:function(e){var L=this.get_visualListVM();var fX=_.find(L.get_groupItemNodes(),function(fY){var fZ=fY.nTH||0;var ga=fY.Mk_||0;var gb={x:fZ,y:ga,w:fY.XqN,h:fY.$UU};return tab.RectXYUtil.inRect(gb,e)});return fX},doSelectFromPoint:function(e,L,fX){var fY=this.hitTestSingleMarksAndVisualParts(e);switch(fY.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([fY.get_id()],this.get_visualId(),L,false,function(){fX(fY)});break}case'visualparts':{var fZ={x:e.x,y:e.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$8,fZ,L,this.get_visualId(),function(){fX(fY)});break}default:{if(fY.get_hitType()!==0){fX(fY)}if(L==='simple'){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return fY},hitTestSingleMarksAndVisualParts:function(e){var L={x:e.x,y:e.y,w:1,h:1};var fX=this.$c.$3(L,true,this.$a,this.get_sceneInfo());var fY=this.hitTestVisualPartsHelper(L,fX);var fZ=cJ.tieBreakHits(fX,fY);return fZ},doSelectMarkAndUbertipFromSelectionShape:function(e,L){var fX=cJ.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);tab.SelectionClientCommands.selectMarksLocal(fX,this.get_visualId(),e,true,L);return fX},moveMapToBounds:function(e){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(eS.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(e)}},setPointerToolMode:function(e){if(ss.isNullOrUndefined(e)){e=this.get_defaultPointerToolMode()}this.setMode(e)},updateDefaultToolMode:function(){this.set_defaultPointerToolMode(this.determineDefaultToolMode())},determineDefaultToolMode:function(){return this.lockedToolbarToolMode},isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},setLockedPointerToolMode:function(e){this.lockedToolbarToolMode=e},isExistingSelection:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return e.get_ids().length!==0},$0:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.get_visualObjectBoundsComputerAndHitTester().$0()}},$1:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(e,L,fX,fY,fZ){if(this.resetIsWaitingOnTransition){return}this.waitingOnPanZoomServerResponse='waitingOnServer';this.suppressTooltips();var ga=(e.canDragH?fX:1);var gb=(e.canDragV?fX:1);var gc=L;var gd=1/fX;if(fY){tab.PanZoomCommands.zoomDoubleClick(L,gc,fX>1,fZ,gd,this.$b)}else if(fX>1){tab.PanZoomCommands.zoomIn(L,gc,gd,this.$b)}else{tab.PanZoomCommands.zoomOut(L,gc,gd,this.$b)}var ge=((fX>1)?1:-1);this.backgroundMap.zoomOnPoint(L,ge);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.$d=new spiff.Glass;this.$d.show();this.animateZoomOnPoint(e,L,ga,gb)}},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$8!=='viz'||!this.$5){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$5=false},showDomDragImage:function(e){this.$5=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()){this.backgroundMap.splatOverlayToMapForTransition(eS.getCanvasElement(this.connectNode))}else{var L=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var fX={l:e.x-L.x+1,t:e.y-L.y+1,w:e.w+1-2,h:e.h+1-2};var fY=this.$7.clone();if(ss.isInstanceOfType(this.regionContent,dM)){var fZ=eS.getCanvasElement(fY);var ga=bi.getRenderContext(fZ,'transparent');this.regionContent.copyContent(ga)}fY.removeClass();fY.addClass('tvdrag_imageContainer');this.domDragImage.append(fY);this.domDragImage.css('display','');var gb=1;tab.DomUtil.setMarginBoxJQ(fY,{l:-fX.l-gb,t:-fX.t-gb,w:tab.DoubleUtil.roundToInt(fY.width())-2,h:tab.DoubleUtil.roundToInt(fY.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:L.x+gb,t:L.y+gb,w:fX.w-2,h:fX.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),fX);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(e){var L=Math.floor(e.w/2)+e.x;var fX=Math.floor(e.h/2)+e.y;return{x:L,y:fX}},addHiddenDiv:function(e,L,fX){e.addClass(L);e.css('display','none');fX.append(e)},animateZoomOnPoint:function(e,L,fX,fY){var fZ=((fX<1)?-1:((fX>1)?1:0));var ga=((fY<1)?-1:((fY>1)?1:0));var gb={x:fZ,y:ga};var gc=this.getCenterPoint(e);var gd=Math.floor((gc.x-L.x)*gb.x*fX);var ge=Math.floor((gc.y-L.y)*gb.y*fY);var gf={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};gf.translateX=gd;gf.translateY=ge;gf.scaleX=fX;gf.scaleY=fY;gf.time=777;this.showDomDragImage(e);this.animateZoomWithCSSTransitions(gf)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(e,L,fX){this.showDomDragImage(e);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(fX,L)}},animateAnchorZoom:function(e,L,fX){var fY=1/fX;var fZ=((e.x>0)?(L.x%e.x):L.x);var ga=((e.y>0)?(L.y%e.y):L.y);var gb={x:fZ,y:ga};var gc={scaleX:fY,scaleY:fY,time:500,scale:1,translateX:0,translateY:0,transformOrigin:null};this.showDomDragImage(e);gc.transformOrigin=gb;this.animateZoomWithCSSTransitions(gc)},getPointLatLong:function(e){return this.backgroundMap.getPointLatLong(e)},animateZoomWithCSSTransitions:function(e){var L=this.domDragImage.get(0);this.resetIsWaitingOnData=true;this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(L,e);this.$6=true;var fX=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.resetIsWaitingOnData){this.reset()}}),fX)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(e,L){if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$8==='viz'){if(!this.isScrolling&&this.$5){this.hideDomDrag()}if(this.$6){tableau.util.transform(this.domDragImage.get(0),null);this.$6=false}}},getPanZoomFillColor:function(){var e='rgb(255,255,255)';if(this.$8==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){e=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){e=this.paneTableViewModel.get_scene().scene.oiS}}return e},$2:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$6()}this.$3()},$3:function(){if(this.$8!=='viz'){return}this.setViewportBorderVisibility(false);var e=this.paneTableViewModel.get_mapServerModel();if(e.get_hasPresModel()){if(e.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$3(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$9)&&!tab.RectXYUtil.isEmpty(this.$9)){this.backgroundMap.$b(this.$9.w,this.$9.h)}}}else{this.backgroundMap.$6()}var L=this.getPanZoomFillColor();if(!ss.referenceEquals(this.$4,L)){this.backgroundDiv.css('backgroundColor',L);this.$4=L}},resetPointerToolMode:function(){this.setPointerToolMode(this.get_defaultPointerToolMode())},setViewportBorderVisibility:function(e){this.paneTableViewModel.set_highlightBorder(e)},setMode:function(e){this.set_currentToolbarToolMode(e);this.updateSelectorShape(e)},updateSelectorShape:function(e){if(ss.isValue(this.$a)){if(ss.isValue(this.$a.get_dom())){this.$a.get_dom().remove()}this.$a=null}switch(e){case'lasso-selection':{this.$a=new dR(this.$9,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var L=this.paneTableViewModel.get_mapServerModel();this.$a=new bm(this.$9,L.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$a=new ea;break}}this.$a.createDomAndAppend(this.connectNode)},isToolDefault:function(e){return e===this.get_defaultPointerToolMode()}});ss.initClass(eT,a,{add_loadComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_loadComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_actualViewSize:function(){return{w:this.$8.clientWidth,h:this.$8.clientHeight}},set_actualViewSize:function(e){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(e){this.set_left(e.x);this.set_top(e.y);this.$2(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$b.w,h:this.$b.h}},get_left:function(){return this.$f},set_left:function(e){this.$f=e;if(this.$h){this.$8.scrollLeft=e}},get_top:function(){return this.$m},set_top:function(e){this.$m=e;if(this.$h){this.$8.scrollTop=e}},destroy:function(){this.$9.destroy();if(this.$j>0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$j=0}this.$c=null;this.$n=null},refreshImages:function(e){if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isNullOrUndefined(e)){return}this.$7=e;this.$1();this.$2(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$a);this.$a=false},reset:function(e,L){var fX=this.$b;var fY=this.$i;this.$b=e;this.$i=L;if(ss.isNullOrUndefined(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isValue(fX)&&fX.w===this.$b.w&&fX.h===this.$b.h&&fY.w===this.$i.w&&fY.h===this.$i.h){return}var fZ=this.get_top();var ga=this.get_left();this.$k=Math.ceil(this.$b.w/this.$i.w);this.$l=Math.ceil(this.$b.h/this.$i.h);this.$d.width(this.$b.w);this.$d.height(this.$b.h);this.set_top(Math.min(fZ,Math.max(0,this.$b.h-this.$8.offsetHeight)));this.set_left(Math.min(ga,Math.max(0,this.$b.w-this.$8.offsetWidth)))},setXPos:function(e){this.set_scrollPos({x:e,y:this.get_scrollPos().y})},setYPos:function(e){this.set_scrollPos({x:this.get_scrollPos().x,y:e})},$0:function(e){var L=$(e);if(!!L.prop('_deferredClear')){L.prop('_deferredClear',null);L.empty()}},$2:function(e){if(!ss.isValue(e)){e=false}if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(!ss.isValue(this.$7)){return}var L=this.get_left();var fX=L+this.$8.clientWidth;var fY=this.get_top();var fZ=fY+this.$8.clientHeight;var ga=Math.max(Math.floor(L/this.$i.w),0);var gb=Math.min(Math.ceil(fX/this.$i.w),this.$k);var gc=Math.max(Math.floor(fY/this.$i.h),0);var gd=Math.min(Math.ceil(fZ/this.$i.h),this.$l);this.$9.clear();if(!ss.isValue(this.$g)){return}var ge=this.$j;this.$j=Math.max((gb-ga)*(gd-gc),0);if(ge<=0&&this.$j>0){if(e){this.$g.incrementWait(false)}tab.ImageTileTracker.incrementPendingCount()}var gf='';var gg=0;if(ss.isValue(this.$c)){gf=this.$c()}if(ss.isValue(this.$n)){gg=this.$n.get_cacheVersion()}var gh=false;for(var gi=ga;gi<gb;gi++){var gj=Math.min(this.$i.w,this.$b.w-gi*this.$i.w);for(var gk=gc;gk<gd;++gk){var gl=Math.min(this.$i.h,this.$b.h-gk*this.$i.h);var gm=gk*this.$k+gi;var gn={l:gi*this.$i.w,t:gk*this.$i.h,w:gj,h:gl};var go=this.$g.formatTileURL(this.$7,this.$b.r,gi,gk,'',gf);if(ss.isValue(this.$e[gm])&&this.$e[gm].$0(go,gg)){if(e){this.$6()}var gp=this.$e[gm].$2();var gq=gp.width!==gn.w||gp.height!==gn.h;if(gq){$(gp).css(ss.mkdict(['left',gn.l+'px','top',gn.t+'px']));ef.ensureImageEltSize(gp,gn)}}else{gh=true;this.$e[gm]=this.$e[gm]||new A;var gr=new cZ(this.$e[gm].$2(),gm,go,gn,gg);this.$9.addImage(gr)}}}if(!gh){this.$d.each(ss.mkdel(this,function(gs,gt){this.$0(gt)}))}},$1:function(){this.$e=[];this.$d.prop('_deferredClear',true)},$6:function(){if(this.$j>0){this.$j--;if(this.$j===0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$3:function(e,L){this.$6();if(ss.isValue(L.get_image().get_imageNode())){var fX=L.get_image().get_imageNode();ef.ensureImageEltSize(fX,L.get_image().get_bounds());var fY=L.get_image().get_index();var fZ=this.$n.get_cacheVersion();if(!ss.isValue(this.$e[fY])){return}if((!ss.isValue(this.$e[fY].$2())||!ss.referenceEquals($(this.$e[fY].$2()).attr('src'),$(fX).attr('src')))&&L.get_image().get_version()===fZ){this.$e[fY].$3(fX);this.$e[fY].$1=fZ;var ga=fX;var gb=0;var gc=this.$d.length;this.$d.each(ss.mkdel(this,function(gd,ge){this.$0(ge);ge.appendChild(ga);if(gb<gc-1){ga=ga.cloneNode(false)}gb++}))}}},$4:function(e,L){this.$6()},$5:function(e,L){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,di]);ss.initClass(eV,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(eW,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$d},$c:function(){this.$d=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$d);var e=this.$d;var L=this.get_viewModel();e.add_click(ss.mkdel(L,L.execute));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fX=this.$d;var fY=this.get_viewModel();fX.remove_click(ss.mkdel(fY,fY.execute))})));this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_click(ss.mkdel(this,this.$9))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,L){switch(L.get_propertyName()){case'isActive':{this.$d.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var fX=this.get_viewModel().get_enabled();this.get_dom().domRoot.attr('tabindex',(fX?'0':'-1'));this.$d.set_disabled(!fX);break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$d.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},$9:function(){if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){this.get_viewModel().showDialog()}else if(this.$d.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$d.element)}},$b:function(){this.$d.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$d.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[eX]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eX])]);ss.initClass(eX,a,{add_flyoverShown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_flyoverShown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverHidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverHidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_showDialogRequested:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_showDialogRequested:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$6},set_enabled:function(e){if(!this.$a&&this.$6!==e){this.$6=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$7},set_iconClass:function(e){if(!this.$a&&!(ss.compareStrings(this.$7,e,false)===0)){this.$7=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$8},get_isActive:function(){return this.$9},set_isActive:function(e){if(!this.$a&&this.$9!==e){this.$9=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$c},set_text:function(e){if(!this.$a&&!(ss.compareStrings(this.$c,e,false)===0)){this.$c=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$d},set_tooltipText:function(e){if(!this.$a&&!ss.referenceEquals(this.$d,e)){this.$d=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$a},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$b;if(ss.isValue(this.$2$1)){this.popupViewModel.add_shown(this.$2$1)}if(ss.isValue(this.$2$2)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.isValue(this.dialogContent)&&!ss.staticEquals(this.$2$3,null)){this.$2$3(this.dialogContent)}},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$1)},$4:function(){this.raiseActionEvent(this.$2$2);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$1);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eY,a,{createMenu:function(){return this.$e(null)},execute:function(){},dropdownClicked:function(e){var L=this.createMenu();if(!L.menuItems.some(function(fZ){return fZ.enabled})){return null}var fX=spiff.MenuViewModel.createForMenu(L,fM.commandMenuItemClicked);fX.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var fY=spiff.ShowMenuOptions.create(e,false,tab.DoubleUtil.roundToInt(e.outerWidth(false)));fY.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';fX.show(fY);this.set_isActive(true);return fX}},eX,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eZ,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fa,a,{get_toggleToText:function(){return this.$e},set_toggleToText:function(e){this.$e=e}},eX,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fb,a,{get_dom:function(){return this.get_template()},$n:function(){return this.$3$1},$o:function(e){this.$3$1=e},$s:function(){return this.$3$2},$t:function(e){this.$3$2=e},$q:function(){return this.$3$3},$r:function(e){this.$3$3=e},$p:function(){return this.$C.get_customViewsViewModel()},$v:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$u:function(e){this.get_dom().publicBelowLogo.toggle(e&&!tab.FullscreenUtil.get_inFullscreenMode())},$w:function(e){this.$u(!e);this.get_dom().publicItems.toggleClass('narrow',e)},$m:function(){var e=this.$C.get_shouldShowPublicWatermarkItems();var L=this.$C.get_shouldForceLabelsBelowIcons();var fX=this.$C.get_canPutLabelsUnderneath();var fY=this.get_dom().toolbar.width();var fZ=(e?this.$B:0);var ga=this.get_dom().vizItems;var gb=this.get_dom().nonVizItems;this.$v(!L);this.$u(true);this.$w(false);fb.$3(this.$n());fb.$3(this.$q());fb.$3(this.$s());if(tab.FullscreenUtil.get_inFullscreenMode()){fb.$1(ga);fb.$1(gb);this.$u(false);return}if(L){if(this.$d(fY,this.$E,fZ,this.$z)){fb.$4(ga);fb.$4(gb)}else{fb.$1(ga);fb.$1(gb)}return}if(this.$d(fY,this.$F,fZ,this.$A)&&!L){fb.$4(ga);fb.$4(gb)}else if(this.$d(fY,this.$E,fZ,this.$z)&&fX){this.$v(false);fb.$4(ga);fb.$4(gb)}else if(this.$d(fY,this.$D,fZ,this.$A)){fb.$1(ga);fb.$4(gb)}else if(this.$d(fY,this.$F,fZ,this.$y)){fb.$4(ga);fb.$1(gb)}else{fb.$1(ga);fb.$1(gb);var gc=this.$D;var gd=this.$y;if(ss.isValue(this.$s())){if(!this.$d(fY,gc,fZ,gd)){this.$s().element.hide();gc-=this.$x}}if(ss.isValue(this.$n())){if(!this.$d(fY,gc,fZ,gd)){this.$n().element.hide();gd-=this.$x}}if(ss.isValue(this.$q())){if(!this.$d(fY,gc,fZ,gd)){this.$q().element.hide();gd-=this.$x}}if(!this.$d(fY,gc,fZ,gd)){this.$w(true)}}},$i:function(){this.get_dom().toolbar.height(fc.get_toolbarHeight());this.$j();this.rebuildNonVizItems();this.rebuildPublicItems();this.$h()},$j:function(){this.get_dom().vizItems.empty();this.$t(null);var e=ss.getEnumerator(this.$C.get_vizItems());try{while(e.moveNext()){var L=e.current();var fX=eW.create(L);this.get_dom().vizItems.append(fX.element);if(ss.equalsT('redo',L.get_iconType())){this.$t(fX)}}}finally{e.dispose()}if(tsConfig.is_metrics_enabled){var fY=new eX(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$C,this.$C.showPerformanceMetrics));var fZ=eW.create(fY);this.get_dom().vizItems.append(fZ.element)}},rebuildNonVizItems:function(){this.get_dom().nonVizItems.empty();if(!tab.FullscreenUtil.get_inFullscreenMode()){this.$o(null);this.$r(null);var e=ss.getEnumerator(this.$C.get_nonVizItems());try{while(e.moveNext()){var L=e.current();var fX=eW.create(L);this.get_dom().nonVizItems.append(fX.element);if(ss.equalsT('customviews',L.get_iconType())){fX.get_dom().get_text().css('max-width','160px');this.$o(fX)}else if(ss.equalsT('edit',L.get_iconType())){this.$r(fX)}}}finally{e.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){var fY=V.get_instance().get_rightAreaDrawerViewModel();var fZ=function(){fY.done(function(ge){ge.toggle()})};var ga=new eX(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',fZ);var gb=eW.create(ga);this.get_dom().nonVizItems.append(gb.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gb)}))}if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var gc=(tab.FullscreenUtil.get_inFullscreenMode()?new eX(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',tab.FullscreenUtil.exitFullscreen):new eX(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){tab.FullscreenUtil.requestFullscreen(document.documentElement)}));var gd=eW.create(gc);this.get_dom().nonVizItems.append(gd.element)}}this.updateCustomViewsButton()},$e:function(){this.$l();this.$i()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$n())){return}var e=this.$p().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$n().element.css('visibility','hidden')}else{this.$n().element.css('visibility','');this.$n().element.toggleClass('tab-customviews-modified',this.$p().get_dirty());var L=tab.Strings.ToolbarCustomViewsTemplate(e);if(!ss.equalsT(this.$n().get_toolbarButton().get_label(),L)){this.$n().get_toolbarButton().set_label(L)}}},rebuildPublicItems:function(){if(!this.$C.get_shouldShowPublicWatermarkItems()){this.get_dom().publicItems.hide();return}this.get_dom().publicLogo.empty();this.get_dom().publicBelowLogo.empty();this.$b();this.get_dom().publicLogo.attr('title',tab.Strings.ToolbarAboutTableau);if(this.$C.get_shouldShowViewCount()){this.$c();if(this.$C.get_shouldShowAuthorByLine()){this.$a()}}if(this.$C.get_shouldShowAuthorByLine()){this.$9()}this.get_dom().publicItems.show()},$g:function(){this.rebuildPublicItems();this.$f()},$b:function(){this.get_dom().publicLogo.prop('href',this.$C.get_publicLogoLink());var e=$('<div />');e.addClass('tab-publicLogo');this.get_dom().publicLogo.append(e)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$C.get_localizedViewCount()));this.get_dom().publicBelowLogo.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().publicBelowLogo.append(e)},$9:function(){var e=$('<span>').html(this.$C.get_authorProfileLink());this.get_dom().publicBelowLogo.append(e)},$h:function(){this.get_dom().toolbar.width('10000px');fb.$2(this.get_dom().nonVizItems);fb.$3(this.$n());fb.$3(this.$q());fb.$3(this.$s());if(this.$x===0){this.$v(!this.$C.get_shouldForceLabelsBelowIcons());fb.$1(this.get_dom().vizItems);fb.$1(this.get_dom().nonVizItems);this.$D=this.get_dom().vizItems.outerWidth(true);this.$y=this.get_dom().nonVizItems.outerWidth(true);this.$x=ss.coalesce(ss.Int32.trunc(this.get_dom().vizItems.children().first().outerWidth(true)),0)}fb.$4(this.get_dom().vizItems);fb.$4(this.get_dom().nonVizItems);if(this.$C.get_canPutLabelsUnderneath()){this.$v(false);this.$E=this.get_dom().vizItems.outerWidth(true);this.$z=this.get_dom().nonVizItems.outerWidth(true)}if(!this.$C.get_shouldForceLabelsBelowIcons()){this.$v(true);this.$F=this.get_dom().vizItems.outerWidth(true);this.$A=this.get_dom().nonVizItems.outerWidth(true)}if(this.$C.get_shouldShowPublicWatermarkItems()){this.$w(false);this.$B=this.get_dom().publicItems.outerWidth(true)}this.get_dom().toolbar.width('');this.$f()},$l:function(){this.$F=0;this.$E=0;this.$D=0;this.$A=0;this.$z=0;this.$y=0;this.$B=0;this.$x=0},forceResizeToolbar:function(){this.$f()},$f:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var L=this.get_dom().vizItems;var fX=this.get_dom().nonVizItems;if(L.children().length===0&&fX.children().length===0){return}fb.$2(fX);this.$m();fb.$0(fX);this.$k()}finally{if(ss.isValue(e)){e.dispose()}}},$k:function(){var e=ss.getEnumerator(this.$C.get_nonVizItems());try{while(e.moveNext()){var L=e.current();if(ss.isValue(L.popupViewModel)){L.popupViewModel.updatePosition()}}}finally{e.dispose()}},$d:function(e,L,fX,fY){if(L+fX+fY>=e){return false}var fZ=Math.max(L,fY)+fX/2>=e/2;if(this.$C.get_shouldShowPublicWatermarkItems()&&fX>0&&fZ){return false}return true}},ss.makeGenericType(spiff.BaseView$1,[fc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fc])]);ss.initClass(fc,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_shouldShowPublicWatermarkItems:function(){return fc.$0()&&tsConfig.watermarkdisplay},get_shouldShowAuthorByLine:function(){return fc.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return fc.$0()&&tsConfig.showViewCount&&this.$d>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$4},set_shouldShowCommenting:function(e){this.$2$4=e},get_canPutLabelsUnderneath:function(){return fc.get_toolbarHeight()>40},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var L=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(L),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_viewCount:function(){return this.$d},set_viewCount:function(e){this.$d=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().IFh;var L=e[2];var fX=e[8];var fY=e[9];return tableau.format.formatIntAuto(this.$d,L,fX,fY)},get_vizCommandItems:function(){return this.$c.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$c.get_nonVizCommandItems()},get_legacyMenuItems:function(){return this.$c.get_legacyMenuItems()},get_vizItems:function(){return this.$e},get_nonVizItems:function(){return this.$b},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$a},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){spiff.BaseViewModel.prototype.dispose.call(this);this.$9.dispose();this.get_dialogHostViewModel().dispose();if(ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.dispose()}this.$5()},$4:function(e,L){for(var fX=0;fX<e.length;fX++){var fY=e[fX];var fZ=tab.CommandItemWrapper.create(fY);tab.Param.verifyValue(fY,'commandItem');switch(fZ.get_commandsType()){case'separator':{L.push(eX.createSeparator());break}case'item':{if(eX.shouldShowButton(fZ,this)){this.$2(fY,L)}break}case'subcommands':{if(fZ.get_iconRes()==='toggle-updates'){var ga={$:this.$3(tab.CommandsPresModelWrapper.create(fZ.get_commands()).get_commandItems(),L)};var gb={$:tab.ApplicationModel.get_instance().get_workbook()};gb.$.withDashboard(ss.mkdel({workbook:gb,button:ga},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$e.length;e++){var L=this.$e[e];L.dispose()}ss.clear(this.$e);for(var fX=0;fX<this.$b.length;fX++){var fY=this.$b[fX];fY.dispose()}ss.clear(this.$b)},$7:function(e,L){if(this.$a&&this.$9.get_hasCustomViews()){this.$a=false;this.$6(null)}},$2:function(e,L){var fX=eX.createFromCommandItem(e,'tab-icon-',this);var fY=this.get_dialogHostViewModel();fX.add_showDialogRequested(ss.mkdel(fY,fY.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fZ=this.get_dialogHostViewModel();fX.remove_showDialogRequested(ss.mkdel(fZ,fZ.show))})));L.push(fX)},$3:function(e,L){if(e.length!==2){return null}var fX=fa.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(fX)){L.push(fX)}return fX},$6:function(e){var L=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$c.get_vizCommandItems(),this.$e)}this.$4(this.$c.get_nonVizCommandItems(),this.$b);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(L)){L.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$c.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var L=ss.getEnumerator(this.get_nonVizItems());try{while(L.moveNext()){var fX=L.current();if(ss.equalsT(e,fX.get_iconType())){if(e==='alert'){fX.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fX.showDialog()}else{fX.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{L.dispose()}},createDataAlertDialogViewModel:function(e){if(e.Bcl==='edit'){this.dataAlertDialogViewModel=bG.new$1(e,bJ.editDataAlertId())}else{this.dataAlertDialogViewModel=bG.new$1(e,'')}this.dataAlertDialogViewModel.dialogViewModelDisposed=ss.delegateCombine(this.dataAlertDialogViewModel.dialogViewModelDisposed,ss.mkdel(this,this.$8));this.raiseActionEvent(this.$2$3);return this.dataAlertDialogViewModel},$8:function(){this.dataAlertDialogViewModel=null},handleDataAlertUpdate:function(){if(bG.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){this.createDataAlertDialogViewModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm);return}if(!bG.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){return}if(!bG.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel=null;return}if(bG.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.updateFromDialogPresModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fd,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,L){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(L)){L()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,L){var fX=this.element.position();var fY=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fZ=tab.DoubleUtil.roundToInt(this.element.outerHeight());var ga=10;var gb=10;if(L){ga+=this.get_horizontalOffset();gb+=this.get_verticalOffset()}return e.x>=fX.left-ga&&e.x<=fX.left+fY+ga&&e.y>=fX.top-gb&&e.y<=fX.top+fZ+gb},show:function(e,L){if(ss.isNullOrUndefined(L)||this.$q){this.close();return}this.set_lastLocation(L);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout()},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout()},requestLayout:function(e,L){if(ss.isValue(e)){this.$m.push(e)}if(ss.isValue(L)){bh.getViewport(ss.mkdel(this,function(fX){this.layoutTooltip(fX,L)}))}else{bh.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return null}this.$o=e;var fX=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var fY=tab.DoubleUtil.roundToInt(this.element.height());var fZ=tab.DoubleUtil.roundToInt(this.element.width());var ga=L.getVisibleRoom(e,1);var gb;if(!(ga.roomRight>=fZ+this.get_horizontalOffset())&&ga.roomRight+ga.roomLeft>=fZ+this.get_horizontalOffset()){gb=parseInt(Math.max(0,ga.roomRight-fZ).toString())}else{gb=this.get_horizontalOffset()}var gc=fY+this.get_verticalOffset();var gd=fZ+gb;var ge;var gf;if(ga.roomRight>=gd){ge=true;gf=e.x+gb}else if(ga.roomLeft>=gd){ge=false;gf=e.x+ss.Int32.trunc(ga.roomRight)-gd}else{ge=true;gf=Math.max(0,e.x-gd+ss.Int32.trunc(ga.roomRight))}var gg=(this.get_showAbove()?this.$7(e,ga,gc,gd):this.$8(e,ga,gc,gd,fX));var gh=gg<=e.y;var gi=new ez;if(gh){if(ge){gi.position='AR'}else{gi.position='AL'}}else if(ge){gi.position='BR'}else{gi.position='BL'}gi.shownX=gf;gi.shownY=gg;gi.tooltipAnchorY=gg;gi.origX=e.x;gi.origY=e.y;gi.viewport=L;return gi},$g:function(e){if(ss.isValue(e)){var L=this.$b(e.position);if(!this.element.hasClass(L)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(L)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var L;switch(e){case'AR':{L='tab-tooltipAR';break}case'AL':{L='tab-tooltipAL';break}case'BL':{L='tab-tooltipBL';break}case'BR':default:{L='tab-tooltipBR';break}}return L},layoutTooltip:function(e,L){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(L){var fX=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fX)){return}this.$g(fX);this.$c()}else{this.$9();this.onPrePosition();var fY=this.$6(this.get_lastLocation(),e);if(!this.$e(fY)){this.$c();return}this.$g(fY);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var L=this.$m[e];L()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(ez.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,L,fX,fY,fZ){var ga;if(!fZ&&L.roomBelow>=fX){ga=e.y+this.get_verticalOffset();this.$r=null}else if(!fZ&&L.roomAbove>=fX&&L.roomRight>=fY){ga=e.y+(ss.Int32.trunc(L.roomBelow)-fX+this.get_verticalOffset())}else if(L.roomAbove>=fX){ga=e.y-fX;if(!ss.isValue(this.$r)){this.$r=e.y}}else{ga=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return ga},$7:function(e,L,fX,fY){var fZ;if(L.roomAbove>=fX){fZ=e.y-fX;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(L.roomBelow>=fX){fZ=e.y+this.get_verticalOffset();this.$r=null}else if(L.roomAbove>=fX&&L.roomRight>=fY){fZ=e.y+(ss.Int32.trunc(L.roomBelow)-fX+this.get_verticalOffset())}else{fZ=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return fZ},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dg]);ss.initClass(ff,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$j.get_isShown()},get_visualIDPresModel:function(){return this.visualId},get_tooltip:function(){return this.$j},get_ubertip:function(){return this.$k},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$f},get_defaultBehaviorType:function(){return this.$g},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$e)},$d:function(){return ss.mkdel(this,this.$3)},get_testUseOnlyLastHoveredObjectID:function(){return ff.$1},set_testUseOnlyLastHoveredObjectID:function(e){ff.$1=e},close:function(){this.$j.close()},hoverOverObject:function(e,L,fX,fY,fZ,ga,gb,gc){if(!this.readyForHover){return}if(ss.isNullOrUndefined(fY)){return}var gd=this.getHoverBehavior(gb);this.switchTooltipMode(gd);var ge=ss.referenceEquals(fY.toString(),ff.$1);var gf=ss.mkdel(this,function(gh){var gi=gc==='viz'&&ff.isUbertipHtmlEmpty(gh);this.get_currentBehavior().hoverOverObject(e,fZ,gi,ge)});if(gb==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(ga)&&!this.shouldForceRemoteTooltipForObject(gb,fY)){if(ge){gf(this.get_ubertip().get_model())}else{var gg=this.getAffectedObjects('mark',fY);this.runBehaviorWithLocalUbertip(gf,fY,gg,L,fX,ga,gc,gb,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(gf,{x:fX.x,y:fX.y,w:0,h:0},gc,'on-hover',gb,null,false,null)}},hoverOverWhitespace:function(e,L){if(!this.readyForHover){return}var fX='W'===ff.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||!fX&&this.needRemoteCommand(L,'whitespace','on-hover',0)){ff.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},L,'on-hover','whitespace',null,false,null)}}else if(this.$j.get_isShown()){ff.$1='W';this.$j.close()}},hoverOverHeader:function(e,L,fX,fY,fZ){if(!this.readyForHover){return}var ga=fZ.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover','url').length>0;if(ga){var gb=!ss.referenceEquals(fZ.toString(),ff.$1);this.hoverOverCoordinates(e,L,fX,fY,fZ,gb)}else{this.hoverOverCoordinates(e,L,fX,fY)}},hoverOverCoordinates:function(e,L,fX,fY,fZ,ga){if(!this.readyForHover){return}ff.$1=(ss.isValue(fZ)?fZ.toString():'U');var gb=this.getHoverBehavior(fX);this.switchTooltipMode(gb);var gc=ss.mkdel(this,function(gd){var ge=fY==='viz'&&ff.isUbertipHtmlEmpty(gd);this.get_currentBehavior().hoverOverObject(e,false,ge,false)});this.runBehaviorWithRemoteUbertip(gc,{x:L.x,y:L.y,w:0,h:0},fY,'on-hover',fX,fZ,ga,null)},singleSelectComplete:function(e,L,fX,fY,fZ,ga,gb){var gc=this.getSingleSelectBehavior(ga);this.switchTooltipMode(gc);this.suppressHoverIfNecesary();var gd=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ga==='mark'){var ge=this.getAffectedObjects(ga,fY);this.runBehaviorWithLocalUbertip(gd,fY,ge,L,fX,fZ,gb,ga,'on-select')}else{var gf={x:fX.x,y:fX.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(gd,gf,gb,'on-select',ga,null,false,null)}},singleSelectCoordinates:function(e,L,fX,fY){var fZ=this.getSingleSelectBehavior(fY);this.switchTooltipMode(fZ);var ga=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(ga,{x:L.x,y:L.y,w:0,h:0},fX,'on-select',fY,null,false,null)},multiSelectComplete:function(e,L,fX){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var fY=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);ff.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fY,L,fX,'on-select','unspecified',null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){ff.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$5));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$9));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$8));this.$k.remove_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.remove_ubertipMenuClosed(ss.mkdel(this,this.$a));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$j.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$g},getHoverBehavior:function(e){return this.$g},shouldForceRemoteTooltipForObject:function(e,L){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){ff.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$j.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var L=ss.isValue(e)&&e.tupleId===0;if(!L&&!ss.referenceEquals(e.tupleId,ff.$2)){return}var fX=this.$k.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(fX)&&fX.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(fX)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$k.get_model())?this.$k.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$k.get_model())){this.$k.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var L=this.get_currentBehavior();L.detach();var fX=this.$2(e);fX.attach();this.$f=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$k.prepareForPositioning(this.shouldShowCommandButtons()&&this.$k.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$k.get_isShowingFullUbertip()){return}this.$j.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$k.showCommandAreaAndActions()}else{this.$k.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,L){var fX=null;if(this.get_hasContextProvider()){if(ss.contains(this.$e.getSelectedObjects(e),L)){fX=this.$e.getSelectedObjects(e)}else{fX=[L]}}return fX},isCurrentObjectSelected:function(){if(ss.isNullOrUndefined(this.$k.get_model())){return false}var e=this.$k.get_model();var L=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$e.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(L){return true}var fX=e.refLineSelected||e.trendLineSelected;if(fX){return true}var fY=e.imageRegion;var fZ=fY==='bottomaxis'||fY==='leftaxis'||fY==='rightaxis'||fY==='topaxis';if(fZ){return true}var ga=fY==='xheader'||fY==='yheader';return ga},runBehaviorWithLocalUbertip:function(e,L,fX,fY,fZ,ga,gb,gc,gd){ff.$4+=1;ff.$3=this.visualId;var ge=ff.$4;var gf=ss.mkdel(this,function(gi){if(!this.$4(ge.toString())){if(!ss.referenceEquals(this.visualId,ff.$3)){this.readyForHover=true}return}if(ss.isValue(gi)){gi.requestId=ge;this.modelUpdateCallback(gi);ff.$1=L.toString();ff.$2=L;if(gb==='viz'&&gi.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(gi)}}});var gg=new tab.LocalUbertipInfo(L,fX,ga,false);if(this.needRemoteCommand(gb,gc,gd,L)){var gh=ss.mkdel(this,function(gi){if(!this.$4(ge.toString())||!ss.isValue(gi)){return}gi.requestId=ge;this.updateModelFromServerResponse(gi)});tab.UberTipClientCommands.localAndRemoteUberTipCommand(fY,gb,this.visualId,{x:fZ.x,y:fZ.y,w:0,h:0},L,gg,gf,gh,this.$d(),gd)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(fY,this.visualId,gg,gf)}},runBehaviorWithRemoteUbertip:function(e,L,fX,fY,fZ,ga,gb,gc){ff.$4+=1;ff.$3=this.visualId;var gd=ff.$4;var ge=ss.mkdel(this,function(gf){if(!this.$4(gd.toString())){if(!ss.referenceEquals(this.visualId,ff.$3)){this.readyForHover=true}return}if(ss.isValue(gf)){gf.requestId=gd;this.modelUpdateCallback(gf);if(fX==='viz'&&gf.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(gf)}}else{this.$1();ff.$1=(ss.isValue(ga)?ga.toString():((fZ==='whitespace')?'W':'U'))}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(fX,this.visualId,L,ge,this.$d(),fY,ga,gb,gc)},needRemoteCommand:function(e,L,fX,fY){if(tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||L!=='mark'&&L!=='whitespace'||fX!=='on-hover'||this.$h>0){return true}var fZ=ss.isValue(this.$e);var ga=fZ&&this.$e.isMarkSelected(fY);return!fZ||ga},$3:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$1:function(){this.$j.close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$5:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$8:function(e,L){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,L)}},$9:function(e,L){var fX=tab.FeatureFlags.isEnabled('SelectionRelaxation')&&ss.isValue(L.command)&&L.command.commandType===23;if(!fX){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,L)}if(fX){this.$c()}},$c:function(){this.$j.set_freezePositionWhileOpen(true);var e=null;var L=ss.isValue(ff.$2)&&ss.unbox(ff.$2)!==0;if(!L){return}e=ff.$2;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,false,e)},$b:function(e){this.$i=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$a:function(){this.$i=false;this.get_currentBehavior().handleUbertipMenuClose()},$6:function(){this.$j.close()},$4:function(e){if(ss.isValue(e)&&!ss.referenceEquals(ff.$4.toString(),e)){return false}return true},$7:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$i){return}var L=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(L.x>e.pageX||L.x+L.w<=e.pageX||L.y>e.pageY||L.y+L.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(fe,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,L){var fX=this.getAffectedObjects(e,L);return e==='mark'&&ss.isValue(fX)&&fX.length>1},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()}},ff);ss.initEnum(fg,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(fh,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(fi,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(e){return function(){}},buildBehaviorsDictionary:function(){var e=new bX;this.tooltipBehaviors['disabled']=e},suppressHoverIfNecesary:function(){}},ff);ss.initClass(fj,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var e=this.tooltipBehaviors['smooth'];e.remove_onMouseStop(ss.mkdel(this,this.$r));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$s));this.$n();ff.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var e=spiff.ObjectRegistry.newLegacyTooltipBehavior(dp).call(null,dp,this.get_tooltip());var L=new eC(this.get_tooltip());this.tooltipBehaviors['sticky']=e;this.tooltipBehaviors['smooth']=L},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isCurrentObjectSelected()){this.switchTooltipMode('smooth');this.$o()}})},shouldShowCommandButtons:function(){var e=ff.prototype.shouldShowCommandButtons.call(this);var L=this.get_ubertip().get_model();if(!e||ss.isNullOrUndefined(L)){return e}var fX=L.tupleId===0;if(!fX){e=this.isCurrentObjectSelected()}return e},getSingleSelectBehavior:function(e){return'sticky'},getHoverBehavior:function(e){var L=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(e==='header'||e==='visualparts'){L='sticky'}else if(e==='mark'){L='smooth'}else{}}else if(e==='header'){L='sticky'}else{L='smooth'}return L},onPanOrDragStart:function(e){this.$n();ff.prototype.onPanOrDragStart.call(this,e)},onDragEnd:function(e){this.get_tooltip().close();this.$m();ff.prototype.onDragEnd.call(this,e)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$m()}else{this.$n()}},$s:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$p:function(e){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(e)}},$q:function(e){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:e.pageX,y:e.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$r:function(e){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}var L=false;var fX=this.isCurrentObjectSelected();if(fX){L=this.switchTooltipMode('sticky')}this.$o();if(L&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$o:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&ff.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&ff.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$m:function(){if(this.$t){return}this.$u.on(this.$v,ss.mkdel(this,this.$p));this.$u.on(this.$w,ss.mkdel(this,this.$q));this.$t=true},$n:function(){if(!this.$t){return}this.$u.off(this.$v);this.$u.off(this.$w);this.$t=false}},ff);ss.initClass(fk,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initEnum(fl,a,{hover:0,click:1,dragSelect:2});ss.initClass(fm,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$1h},set_model:function(e){this.$1h=e;this.$D()},get_isShowingFullUbertip:function(){return this.$1a.is(':visible')||this.$17.is(':visible')},$15:function(){return this.$1e&&this.hasSummary()},dispose:function(){this.element.detach();this.$1m.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1m.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1k);this.$f();this.$g();spiff.Widget.prototype.dispose.call(this)},$f:function(){if(!ss.staticEquals(this.$19,null)){this.$1m.remove_positioned(this.$19);this.$19=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$1h)){return false}var e=ss.isValue(this.$1h.actionPMs)&&this.$1h.actionPMs.length>0;var L=ss.isValue(this.$1h.actions)&&this.$1h.actions.length>0;return e||L},hasCommands:function(){if(ss.isNullOrUndefined(this.$1h)){return false}return ss.isValue(this.$1h.buttonCommands)&&this.$1h.buttonCommands.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$1h)){return false}return ss.isValue(this.$1h.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1m.requestLayout(ss.mkdel(this,function(){this.$R();this.$1b.css('min-width','')}))}else{this.$R();this.$1b.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1m.get_isShown()){this.element.css('width','');this.$N(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$C()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1m.get_calculatedShownArgs())){return}if(this.$E()){this.updateTooltipAnchor()}else{this.$O()}},$E:function(){return this.get_isShowingFullUbertip()&&!this.$1m.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$d()){return}var e=this.$1m.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var L=tab.DoubleUtil.roundToInt(this.$1a.outerHeight());e.tooltipAnchorY=e.shownY+L}},$O:function(){this.$h();var e=this.get_isShowingFullUbertip();this.$R();var L=!this.$1m.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(L){this.$N(false)}else{this.$P(e)}},$P:function(e){var L=this.$1m.get_calculatedShownArgs();var fX={x:L.shownX,y:L.tooltipAnchorY};var fY=L.viewport.getVisibleRoom(fX,1);var fZ=ss.Int32.trunc(fY.roomBelow);var ga=ss.Int32.trunc(fY.roomRight);this.$N(false);this.$1b.css('min-width',this.$i()+'px');var gb=this.$t();if(gb>this.$1j){this.$1j=gb}this.$L(this.$1j);var gc=tab.DoubleUtil.roundToInt(this.element.outerHeight());var gd=tab.DoubleUtil.roundToInt(this.$1a.outerHeight());var ge=this.$v(gc,gd);if(!e){if(ge>fZ||gb>ga){this.$I(gd);ge=this.$v(gc,gd)}}else if(gb>ga){this.$J(gb,ga)}if(ge>fZ&&this.$17.outerHeight()>0){this.$11(fZ,ge,fX.y)}else{this.$n(gd,fZ,ge,fX.y,!e)}},$v:function(e,L){return(this.$d()?(e-L):e)},$I:function(e){this.$1m.layoutTooltip(this.$1m.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$1i==='AL'||this.$S()){this.$1m.get_calculatedShownArgs().shownY=this.$1m.get_calculatedShownArgs().shownY+e;this.$1m.get_calculatedShownArgs().tooltipAnchorY=this.$1m.get_calculatedShownArgs().shownY}},$J:function(e,L){var fX=this.$1m.get_calculatedShownArgs().shownX;var fY=2+e-L;this.$1m.get_calculatedShownArgs().shownX=Math.max(0,fX-fY)},$11:function(e,L,fX){var fY=2+L-e;var fZ=fX-fY;this.$1m.get_calculatedShownArgs().shownY=fZ;if(!this.$d()){this.$1m.get_calculatedShownArgs().tooltipAnchorY=fZ}},$n:function(e,L,fX,fY,fZ){var ga=this.$1m.get_calculatedShownArgs().tooltipAnchorY;if(this.$d()){ga-=e}var gb=fY+L;var gc=Math.min(ga,gb-fX);this.$R();this.$f();this.$19=ss.mkdel(this,function(){this.$Q(L,fX,gc,fY,fZ)});this.$1m.add_positioned(this.$19)},$Q:function(e,L,fX,fY,fZ){this.$f();this.$N(fZ);switch(this.$1i){case'BR':{if(fZ){this.$14(fY-tab.DoubleUtil.roundToInt(this.$1a.height()),false)}this.$14(fX,fZ);break}case'AR':{if(e<L||!this.$S()){this.$14(fX,fZ)}break}case'BL':case'AL':{this.$14(fX,fZ);break}default:{break}}},$14:function(e,L){if(L){this.$1m.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1m.element.css('top',e+'px')}},$d:function(){return this.$1i==='BL'||this.$1i==='BR'},$S:function(){return(this.$1i==='AR'||this.$1i==='BR')&&this.$1m.get_calculatedShownArgs().shownX>this.$1m.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$1g){this.$1g=false;if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}}},hideSpinner:function(){if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$1i)&&this.$1i===this.$1m.get_calculatedShownArgs().position){return}switch(this.$1m.get_calculatedShownArgs().position){case'AL':case'AR':{this.$1c.after(this.$1a);this.$1b.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$1c.before(this.$1a);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$1i=this.$1m.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$a()},$a:function(){if(this.element.width()===0){return}var e=this.$t();this.$L(e)},$t:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$1h)){this.set_model(e);return}this.$1h.requestId=e.requestId;this.$12(e);this.$U(e);this.$Y(e)},$Y:function(e){var L=[];var fX=[];var fY=null;var fZ=null;var ga=null;if(ss.isValue(this.$1h)){fY=fm.$1(this.$1h);fZ=fm.$3(e);ga=fm.$4(e)}if(ss.isValue(fZ)){if(!this.$15()){ss.remove(e.buttonCommands,fZ);e.buttonCommands.push(fZ);L.push(e.buttonCommands.length-1)}this.$1h.placeHolders=[]}else if(ss.isValue(ga)){if(!this.$15()){ss.remove(e.subcommands,ga);e.subcommands.push(ga);fX.push(e.buttonCommands.length-1)}this.$1h.placeHolders=[]}else if(ss.isValue(fY)){this.$1h.placeHolders=[];this.$1h.placeHolders.push(fY)}this.$1h.buttonCommands=e.buttonCommands;this.$1h.subcommands=e.subcommands;this.$1h.nestedCommands=e.nestedCommands;this.$X(Array.prototype.slice.call(L),Array.prototype.slice.call(fX))},$12:function(e){this.$1h.selectionHtml=e.selectionHtml;this.$10();if(ss.isValue(this.$1h.selectionHtml)&&this.get_isShowingFullUbertip()){this.$C();this.$a()}},$U:function(e){this.$1h.actionPMs=e.actionPMs;this.$1h.actions=e.actions;this.$T();this.$B()},$B:function(){if(this.$1g){this.$1g=false;if(ss.isValue(this.$1h)){for(var e=0;e<this.$1h.actions.length;e++){var L=this.$1h.actions[e];if(ss.referenceEquals(L.name,this.$16)){var fX=new K;fX.action=L;this.onActionExecuted(fX)}}}}},onCommandExecuted:function(e){if(ss.isValue(this.$2$1)){this.$2$1(this,e)}},onActionExecuted:function(e){if(ss.isValue(this.$2$2)){this.$2$2(this,e)}},$g:function(){this.$1d.dispose()},$L:function(e){this.element.css('min-width',e+'px');this.$1j=e},$h:function(){this.element.css('min-width','')},$D:function(){this.$g();this.element.show();this.$13();this.$T();this.$X(null,null);this.$Z();this.$10();this.$C();var e=tab.MiscUtil.isNullOrEmpty(this.$1h.actions);var L=tab.MiscUtil.isNullOrEmpty(this.$1h.actionPMs);var fX=ss.isNullOrEmptyString(this.$1h.tooltipHtml);var fY=e&&L&&fX;if(fY){this.$1c.addClass('hide')}else{this.$1c.removeClass('hide')}},$C:function(){this.$h();this.$1c.css('height','');this.$1a.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$L(e)}else if(this.element.width()>0){this.$1j=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$1j=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var L=-1;var fX=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(fX)){fX=70}if(e>0&&this.$1j>0&&this.$1j>=e&&this.$1j-e<=ss.unbox(fX)){L=this.$1j}return L},$i:function(){var e=0;this.$1b.find('li').each(function(L,fX){e+=fX.firstChild.offsetWidth});return e},$R:function(){this.$1m.element.stop();this.$17.stop();this.$1a.stop();this.$17.hide();this.$1a.hide()},$N:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$17.show()}else{this.$17.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$1a.slideDown('fast')}else{this.$1a.show()}}},$s:function(e){var L=e.find('.tab-selection-relaxation');for(var fX=0;fX<L.length;fX++){if(ss.isValue(L.eq(fX).data('isSelected'))){return fX}}return-1},$13:function(){var e=$(this.$1h.tooltipHtml);var L=this.element.find('.tab-ubertipTooltip');if(tab.FeatureFlags.isEnabled('SelectionRelaxation')){var fX=this.$s(L);this.$e(e,fX)}L.html('').append(e);var fY=ss.mkdel(this,function(){this.$1o=tab.MiscUtil.clearTimeout(this.$1o);this.vizInTooltipsImageDownloadQueue.clear()});this.$1m.add_closed(fY);this.$1d.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$1m.remove_closed(fY)})));this.$K()},$e:function(e,L){ss.clear(this.$1l);var fX=e.find('a.relax-selection');for(var fY=0;fY<fX.length;fY++){this.$F(fX,fY,L)}},$F:function(e,L,fX){var fY=e.eq(L);var fZ=fY.children().eq(0);fZ.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$1(fZ.eq(0).html())){fZ.remove();return}if(tsConfig.allow_select){if(fZ.css('text-decoration')==='underline'){fZ.addClass('tab-selection-relaxation-underlined')}fZ.addClass('tab-selection-relaxation');fZ.css('text-decoration','');if(L===fX){fZ.addClass('tab-selection-relaxation-selected')}var ga=fY.attr('href');this.$1l.push(new C(ga,fZ))}},$10:function(){if(ss.isNullOrUndefined(this.$1h.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$1h.selectionHtml).removeClass('hide')}},$c:function(e,L,fX,fY){if(e.get_commandsType()!=='subcommands'){return false}var fZ=[];fM.newMenuItemsFromCommands(fZ,e.get_commands(),fM.createDropdownMenuCommands,tab.PermissionManager.buildCommandPermission());if(fZ.length===0){return false}var ga=this.$l(e);var gb=new spiff.MenuViewModel(true);gb.set_menu(new spiff.Menu(fZ));var gc=ss.mkdel(this,function(){this.$z(gb,ga)});ga.add_click(gc);gb.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var gd=function(){gb.hide()};this.$1m.add_closed(gd);this.$1d.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ga.remove_click(gc);gb.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);gb.remove_hidden(ss.mkdel(this,this.$A));this.$1m.remove_closed(gd)})));if(fY){ga.element.fadeIn()}if(fX){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var ge=$('<li></li>');ge.append(ga.element);L.append(ge);this.$1d.add$1(gb);spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[gb]);return true},$A:function(){if(ss.isValue(this.$2$4)){this.$2$4()}},$z:function(e,L){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$A));e.hide();if(ss.isValue(this.$2$3)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$A));var fX=spiff.ShowMenuOptions.create(L.element,false,tab.DoubleUtil.roundToInt(L.element.outerWidth(false)));e.show(fX);if(ss.isValue(this.$2$3)){this.$2$3(true)}}},$X:function(e,L){if(!this.$18){return}var fX=false;var fY=$('<ul></ul>');if(ss.isValue(this.$1h.nestedCommands)){for(var fZ=0;fZ<this.$1h.nestedCommands.length;fZ++){var ga=this.$1h.nestedCommands[fZ];var gb=ga.item1;var gc=ga.item2;if(gb){var gd=this.$1h.buttonCommands[gc];if(ss.isValue(gd)&&gd.status!=='hidden'){var ge=ss.isValue(e)&&ss.contains(e,gc);this.$b(gd,fY,fX,ge);fX=true}}else{var gf=ss.isValue(L)&&ss.contains(L,gc);fX=this.$c(this.$1h.subcommands[gc],fY,fX,gf)||fX}}}else if(ss.isValue(this.$1h.buttonCommands)){for(var gg=0;gg<this.$1h.buttonCommands.length;++gg){var gh=this.$1h.buttonCommands[gg];if(ss.isValue(gh)&&gh.status!=='hidden'){var gi=ss.isValue(e)&&ss.contains(e,gg);this.$b(gh,fY,fX,gi);fX=true}}}this.$8(fY,fX);if(fX){this.$1b.html('').append(fY).removeClass('hide')}else{this.$1b.html('').addClass('hide')}},$b:function(e,L,fX,fY){var fZ=this.$k(e);fZ.set_context(e);this.$6(fZ,ss.mkdel(this,this.$y));if(ss.keyExists(fm.$m,e.commandType)){fZ.element.width(fm.$m[e.commandType])}if(fY){fZ.element.fadeIn()}if(fX){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var ga=$('<li></li>');ga.append(fZ.element);L.append(ga)},$k:function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var fX=fm.$5(fm.$2(e),e.name);var fY=$('<div>'+fX+'</div>');L.setLabelContents(fY)}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}var fZ=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.imageRes)){fZ.append(e.commandType)}else{fZ.append(fm.$2(e))}fZ.append(' ').append(e.status);L.element.addClass(fZ.toString());if(e.status==='disabled'){L.set_disabled(true)}this.$1d.add$1(L);return L},$l:function(e){var L=(e.get_hasIcon()?this.$m(e):this.$o(e));this.$q(L);this.$1d.add$1(L);return L},$m:function(e){var L=spiff.LabelButton.newMenuButton();L.set_hoverTooltipText(e.get_description());var fX=this.$u(e.get_iconRes());this.$7(L,fX);this.$M(L,e,fX);return L},$o:function(e){var L=spiff.LabelButton.newNativeButton();L.set_label(e.get_name());L.set_hoverTooltipText(e.get_description());$('<span>').addClass('tabComboBoxButton').appendTo(L.element);return L},$M:function(e,L,fX){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$1(fX)){var fY=fm.$5(fX,L.get_description());e.setLabelContents($('<div>'+fY+'</div>'))}else{e.set_label(L.get_name())}},$7:function(e,L){e.element.addClass(ss.formatString('tab-command{0}',L))},$q:function(e){e.element.addClass('enabled'.toString())},$u:function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))},$8:function(e,L){if(ss.isValue(this.get_model().placeHolders)){var fX=this.get_model().placeHolders;for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];var ga=$("<li><div class='tab-separator'>&nbsp;</div></li>");var gb=fm.$0(fZ);this.$1d.add$1(gb);var gc=$('<li></li>');gc.append(gb.element);if(fZ.commandType===10&&this.$15()&&L){var gd=_.filter(this.$1h.buttonCommands,function(gg){return gg.commandType===2});if(ss.isValue(gd)){var ge=e.children().get(2);ga.insertAfter(ge);gc.insertAfter(ga)}else{var gf=e.children().get(0);gc.insertBefore(gf);ga.insertBefore(gf)}}else{if(L){e.append(ga)}e.append(gc)}document.documentElement.appendChild(e.first().get(0));fm.$m[fZ.commandType]=tab.DoubleUtil.roundToInt(gb.element.innerWidth());gb.element.width(fm.$m[fZ.commandType]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,L){var fX=function(){L(e)};e.add_click(fX);this.$1d.add$1(new tab.CallOnDispose(function(){e.remove_click(fX)}))},$y:function(e){var L=new bo;L.command=e.get_context();this.onCommandExecuted(L)},$w:function(e){var L=new K;L.action=e.get_context();this.onActionExecuted(L)},$x:function(e){var L=e.get_context();if(tab.ActionUtils.isFilterAction(L)||tab.ActionUtils.isHighlightAction(L)&&!tab.ActionUtils.isTargetOfActionLocal(L)){tab.CommandController.get().get_legacySession().get_waitHandler().showAndLock(false);this.$1g=true;this.$16=e.get_labelElement().text()}else{var fX=tab.ModelUtils.getVisualModelFromVisualId(this.$1h.visualId);var fY=[this.$1h.tupleId];tab.UberTipClientCommands.executeUbertipAction(L,fY,fX)}},$T:function(){if(tab.MiscUtil.isNullOrEmpty(this.$1h.actions)&&tab.MiscUtil.isNullOrEmpty(this.$1h.actionPMs)){this.$17.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$1h.actions)){this.$W()}else{this.$V()}},$W:function(){var e=$('<ul></ul>');for(var L=0;L<this.$1h.actions.length;L++){var fX=this.$1h.actions[L];this.$j(e,fX.name,fX,ss.mkdel(this,this.$w))}var fY=tab.DoubleUtil.roundToInt(this.element.height());this.$17.html('').append(e).removeClass('hide invisible');var fZ=tab.DoubleUtil.roundToInt(this.element.height());if(fZ!==fY){this.$1m.requestLayout(null,true)}},$V:function(){var e=$('<ul></ul>');var L=tab.ModelUtils.getVisualModelFromVisualId(this.$1h.visualId);if(!ss.isValue(L)){return}var fX=false;var fY=true;for(var fZ=0;fZ<this.$1h.actionPMs.length;fZ++){var ga=this.$1h.actionPMs[fZ];var gb=tab.ActionUtils.getActionType(ga);if(!this.$18&&gb!=='highlight'){continue}var gc=L.get_vizDataModel();var gd=[this.$1h.tupleId];var ge=tab.ApplicationModel.get_instance().get_dataDictionary();var gf=(ss.isValue(ga.LeZ)?ga.LeZ.cqY:null);var gg=tab.VizDataUtils.constructUrlFromString(ge,ga.dMo02,gc,gd,L.get_worksheetName(),gf);var gh=false;if(gb==='url'){var gi=tab.ActionUtils.getUrlActionPm(ga,L,gd);gh=gi.item2==='urlConstructionFail';if(ss.isNullOrUndefined(gi.item1)||ss.isNullOrEmptyString(gg)){fY=false}}if(!gh){this.$j(e,gg,ga,ss.mkdel(this,this.$x))}if(gb==='filter'||gb==='url'){fX=true}}if(e.find('li').length>0){var gj=-1;if(ss.isValue(L.get_sceneModel())){gj=L.get_sceneModel().get_paneDescriptorCount()}else{}if(gj>1&&fX||!fY){this.$17.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$17.html('').append(e).removeClass('hide invisible')}}},$j:function(e,L,fX,fY){var fZ=spiff.LabelButton.newAnchorButton();fZ.set_label(L);fZ.element.addClass('tab-action');fZ.set_context(fX);this.$6(fZ,fY);this.$1d.add$1(fZ);var ga=$('<li></li>');ga.append(fZ.element);e.append(ga)},$Z:function(){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')||!tsConfig.allow_select){return}tab.MiscUtil.dispose(this.$1k);if(ss.isNullOrUndefined(this.$1h.contentCommands)){return}var e={};for(var L=0;L<this.$1h.contentCommands.length;L++){var fX=this.$1h.contentCommands[L];e[fX.name]=fX}for(var fY=0;fY<this.$1l.length;fY++){var fZ=this.$1l[fY];if(ss.keyExists(e,fZ.$0())){this.$p(fZ,e)}}},$p:function(e,L){var fX=e.$2();var fY={};fY.tap=ss.mkdel(this,function(){if(!fX.hasClass('tab-selection-relaxation-selected')){var fZ=L[e.$0()];this.$r(fX,fZ)}});this.$1k.push(new spiff.TableauEventHandler.$ctor1(fX.get(0),fY))},$r:function(e,L){var fX=ss.mkdict(['isSelected',true]);e.data(fX);e.addClass('tab-selection-relaxation-selected');var fY=new bo;fY.command=L;this.onCommandExecuted(fY)},$K:function(){if(!tab.FeatureFlags.isEnabled('VizInTooltips')){return}this.$1o=tab.MiscUtil.clearTimeout(this.$1o);var e=200;var L=this.element.find('.tab-ubertipTooltip span[data-tableau="VizInTooltip"][data-rendermode="BrowserRendered"]');if(L.length>0){this.$1o=window.setTimeout(ss.mkdel(this,function(){this.$9(L)}),e)}},$9:function(e){if(!ss.isValue(this.$1h.tupleId)){return}var L=e.get();for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=fY.getAttribute('data-src');fZ=ss.replaceAllString(fZ,'%TUPLE_ID%',ss.unbox(this.$1h.tupleId).toString());fZ=ss.replaceAllString(fZ,'%SESSIONID%',tsConfig.sessionid);fZ+='?ViewId='+encodeURIComponent(this.$1n);var ga=fY.getAttribute('data-sheetname');fZ+='&SheetName='+encodeURIComponent(ga);var gb=fY.getAttribute('data-filterfields');fZ+='&Filter='+encodeURIComponent(gb);var gc=(new Date).getTime().toString();fZ+='&t='+gc;fY.setAttribute('src',fZ);var gd=fY.clientWidth;var ge=fY.clientHeight;this.$1f[fZ]=fY;var gf=new cZ(null,0,fZ,{l:0,t:0,w:gd,h:ge},0);this.vizInTooltipsImageDownloadQueue.addImage(gf)}},$G:function(e,L){if(ss.isValue(L.get_image().get_imageNode())){var fX=L.get_image().get_imageNode();var fY=L.get_image().get_src();ef.ensureImageEltSize(fX,L.get_image().get_bounds());if(ss.keyExists(this.$1f,fY)){this.$1f[fY].innerHTML='';this.$1f[fY].appendChild(fX)}}},$H:function(e,L){}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(fn,a,{});ss.initClass(fo,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_searchResultsAvailable:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_searchResultsAvailable:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_userSelected:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_userSelected:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_props:function(){return this.$2$4},set_props:function(e){this.$2$4=e},get_searchTerm:function(){return this.$6},set_searchTerm:function(e){if(ss.referenceEquals(this.$6,e)){return}this.$6=e;var L=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);L.done(ss.mkdel(this,function(fX){this.raiseActionEvent(this.$2$2);this.get_props().items=[];this.get_props().activeUser=fX.items[0];this.get_props().startingY=null;this.$4=0;this.$2(fX)}))},reset:function(){this.$6=null;this.$5=false;this.$4=0;this.get_props().items=[];this.get_props().activeUser=null;this.raiseActionEvent(this.$2$1)},selectUser:function(e){this.raiseActionEvent$1(Object).call(this,this.$2$3,e)},handleScrollStop:function(e,L){if(e.y===L.y){this.get_props().fetchNextPage()}},updateActiveUser:function(e){var L=this.get_props().items[e];if(ss.isNullOrUndefined(L)||ss.referenceEquals(this.get_props().activeUser,L.data)){return}if(e<this.$4){this.$4--}else if(e>=this.$4+6){this.$4++}this.get_props().activeUser=L.data;this.get_props().startingY=-(this.$4*26);this.raiseActionEvent(this.$2$1)},$3:function(){if(!this.$5){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.get_searchTerm(),this.get_props().items.length);e.done(ss.mkdel(this,this.$2))},$2:function(e){this.$5=e.moreItems;_.map(e.items,ss.mkdel(this,function(L){return this.get_props().items.push({data:L})}));this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fp,a,{$3:function(e,L,fX){var fY={x:0,y:0,w:e.w,h:e.h};if(L>=0&&this.$g.$1){var fZ=this.$g.$3[L];var ga=this.$g.$3[L+1];fY.x+=fZ;fY.w=ga-fZ}if(fX>=0&&this.$g.$2){var gb=this.$g.$4[fX];var gc=this.$g.$4[fX+1];fY.y+=gb;fY.h=gc-gb}return fY},$7:function(e){return this.$h[e]},$8:function(e){var L=this.$e[e];return this.$h[L]},$4:function(e){return this.$e[e]},$5:function(e){return this.$d[e+1]-this.$d[e]},$6:function(e){return{firstMark:this.$d[e],lastMark:this.$d[e+1]-1}},$2:function(e){var L=e.c.get('user_pane_col');var fX=e.c.get('user_pane_row');var fY=e.paneRect;var fZ=e.markCount;var ga=0;var gb=-1;var gc=-1;var gd=ss.isNullOrUndefined(fX);var ge=ss.isNullOrUndefined(L);if(!gd||!ge){for(var gf=0;gf<fZ;++gf){var gg=(ge?-1:L.v[(L.c?0:gf)]);var gh=(gd?-1:fX.v[(fX.c?0:gf)]);if(gg!==gb||gh!==gc){this.$1(gf,ga,gg,gh,fY);gb=gg;gc=gh;ga+=1}}}this.$d[ga]=fZ;this.$0(ga);return ga},$0:function(e){if(e===0){return}var L=e-1;var fX=this.$d[L];var fY=this.$d[e];for(var fZ=fX;fZ<fY;++fZ){this.$e[fZ]=L}},$1:function(e,L,fX,fY,fZ){if(ss.isValue(this.$c)){this.$c[L]=fX}if(ss.isValue(this.$f)){this.$f[L]=fY}this.$h[L]=this.$3(fZ,fX,fY);this.$d[L]=e;this.$0(L)},$9:function(e){for(var L=0;L<this.$b;++L){var fX=this.$7(L);var fY=this.$6(L);var fZ=fY.firstMark;var ga=fY.lastMark;for(var gb=fZ;gb<=ga;++gb){e(gb,fX)}}},$a:function(e,L){var fX=-1;var fY=null;for(var fZ=0;fZ<e.length;fZ++){var ga=e[fZ];var gb=this.$e[ga];if(gb!==fX){fX=gb;fY=this.$7(gb)}L(ga,fY)}}});ss.initClass(fq,a,{render:function(){var e={tap:ss.mkdel(this,function(fY){this.props.viewModel.removeUser(this.props.user)})};var L=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['']);var fX=React.DOM.span({className:'tabUserPillName'},this.props.user.friendlyName);return React.DOM.div(this.$0(),fX,L)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.user.friendlyName:this.props.errorText)}}},React.Component);ss.initClass(fr,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(fZ){return React.createElement(fq,{viewModel:this.props.userPillsViewModel,user:fZ,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(fZ),errorText:this.props.userInvalidText})}));var L=new spiff.ScrollingProps;L.scrollY=true;L.scrollbars=true;L.alwaysShowScrollbarsIfScrollable=true;var fX=L;var fY=spiff.ScrollingComponent.createScroller(fX,e);return React.DOM.div({className:'tabUserPillsComponent'},fY)}},React.Component);ss.initClass(fs,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(L){return L.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var L=ss.remove(this.get_props().users,e);if(L){this.raiseActionEvent(this.$2$1)}},setUsers:function(e){_.each(this.get_props().users,ss.mkdel(this,function(L){this.removeUser(L)}));_.each(e,ss.mkdel(this,function(L){this.addUser(L)}))}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(ft,a,{render:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$2(),this.$1())},$0:function(e){var L=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(L)){L.value=''}},$2:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.userSearchViewModel.placeholderMessage,onKeyUp:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyUp),onKeyDown:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyDown),tabIndex:0,ref:'tabUserSearchInputRef'})},$1:function(){return React.createElement(dI,this.props.userSearchViewModel.get_userListViewModel().get_props())}},React.Component);ss.initClass(fu,a,{render:function(){return React.DOM.div({className:'tab-UserSearchSelectorComponent'},this.$0(),this.$1())},$1:function(){return React.createElement(ft,this.props.userSearchProps)},$0:function(){return React.createElement(fr,this.props.userPillsProps)}},React.Component);ss.initClass(fv,a,{get_users:function(){return this.userPillsProps.users}});ss.initClass(fw,a,{get_users:function(){return this.get_props().userPillsProps.users},get_userSearchViewModel:function(){return this.$3$1},set_userSearchViewModel:function(e){this.$3$1=e},get_userPillsViewModel:function(){return this.$3$2},set_userPillsViewModel:function(e){this.$3$2=e},get_currentSearchHasNoResults:function(){return this.get_userSearchViewModel().currentSearchHasNoResults()},get_searchFieldIsEmpty:function(){return this.get_userSearchViewModel().searchFieldIsEmpty()},$5:function(){this.get_userSearchViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().add_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.disposables.add$1(this.get_userSearchViewModel());this.disposables.add$1(this.get_userPillsViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchViewModel().remove_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().remove_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().remove_propsUpdated(ss.mkdel(this,this.$4))})))},setUserValidator:function(e,L){this.get_props().userPillsProps.userValidator=e;this.get_props().userPillsProps.userInvalidText=L},$4:function(){this.updateProps()},onUserSelected:function(e){this.get_userPillsViewModel().addUser(e)},setUsers:function(e){this.get_userPillsViewModel().setUsers(e)}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[fv]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[fv])]);fw.$ctor1.prototype=fw.prototype;ss.initClass(fx,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_userListViewModel:function(){return this.$2$4},set_userListViewModel:function(e){this.$2$4=e},$5:function(){this.get_userListViewModel().add_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().add_userSelected(ss.mkdel(this,this.$4));var e=ss.mkdel(this,function(){this.$8=false});this.get_userListViewModel().add_searchResultsAvailable(e);this.disposables.add$1(this.get_userListViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userListViewModel().remove_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().remove_userSelected(ss.mkdel(this,this.$4));this.get_userListViewModel().remove_searchResultsAvailable(e)})))},handleInputKeyUp:function(e){var L=e.keyCode;if(L===40||L===38||L===13){return}this.$9=e.target.value;this.raiseActionEvent(this.$2$1);this.$7.invokeActionDelayed()},handleInputKeyDown:function(e){var L=this.$6;switch(e.keyCode){case 40:{this.$6=this.$2(1);if(L!==this.$6){this.get_userListViewModel().updateActiveUser(this.$6)}e.preventDefault();break}case 38:{this.$6=this.$2(-1);if(L!==this.$6){this.get_userListViewModel().updateActiveUser(this.$6)}e.preventDefault();break}case 13:{var fX=this.get_userListViewModel().get_props().items[this.$6];if(ss.isValue(fX)){this.get_userListViewModel().selectUser(fX.data)}e.preventDefault();break}}},$2:function(e){var L=this.$6+e;if(L<0||L>=this.get_userListViewModel().get_props().items.length){return this.$6}return L},$3:function(){this.raiseActionEvent(this.$2$1)},currentSearchHasNoResults:function(){return!this.$8&&this.get_userListViewModel().get_props().items.length===0&&!this.searchFieldIsEmpty()},searchFieldIsEmpty:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$9)},$4:function(e){this.$9=null;this.$6=0;this.get_userListViewModel().reset();this.raiseActionEvent$1(Object).call(this,this.$2$2,e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);fx.$ctor1.prototype=fx.prototype;ss.initClass(fy,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},dn,[ss.IDisposable]);ss.initClass(fz,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var L=e.layoutStatus;if(ss.isNullOrUndefined(L)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var fX=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(fX.get_isVisualValid()){this.$5.doTiledViewerRefreshImages(fX.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(fz.$1$1,null)){fz.$1$1(this.get_sheetName(),e)}this.$0(e)},incrementCacheVersion:function(){this.$3+=1}},null,[ss.IDisposable]);ss.initClass(fA,a,{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$h)){this.$h.dispose();this.$h=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var L=tableau.types.ExportDialogType['ExportImage'];var fX=[];var fY=[];if(this.$g.get_isDashboard()){var fZ={};var ga=this.$g.get_viewControllers();if(ss.isValue(ga)){$.each(ga,function(gb,gc){var gd=gc.get_viewWidget().get_scrollPosition();var ge=gd.x;var gf=gd.y;if(ge!==0||gf!==0){fZ[gc.get_sheetName()+'-x']=ge;fZ[gc.get_sheetName()+'-y']=gf;fY.push({x:ge,y:gf});fX.push(gc.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,L,fX,fY)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){window.open(L.formatUnderlyingDataURL(null),L.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){var fX=tableau.types.ExportDialogType['ExportCrosstab'];L.fileDownloadHelper.openDownload(L.formatExportCrossTabURL('utf16'),fX)}},exportPdf:function(){if(ss.isValue(this.$h)){this.$h.dispose()}this.$g.$6(ss.mkdel(this,function(e){this.$h=e;this.$h.add_closed(ss.mkdel(this,function(){this.$h.dispose();this.$h=null}));this.$h.show()}))},$3:function(){if(this.$g.get_autoUpdate()){this.$f()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$f()}},$1:function(){return this.$g.get_autoUpdate()},$f:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());tab.BaseSession.autoUpdate=this.$g.get_autoUpdate();if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var L;if(tsConfig.is_metrics_view){L=this.$g.get_session().metricsViewDownloadUrl()}else{L=this.$6(e)}window.open(L)},$4:function(){tab.ToolbarServerCommands.refreshData()},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$e:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$8:function(){},$7:function(){},$6:function(e){if(ss.isValue(e)){var L=e.match(fA.$0);if(ss.isValue(L)&&L.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+L[1]}}return e}},null,[ss.IDisposable]);ss.initClass(fB,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(e){this.$5=e},get_hoveredCategoricalNode:function(){return this.$4},set_hoveredCategoricalNode:function(e){if(!ss.referenceEquals(this.$4,e)){this.$7=this.$4;this.$4=e;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(e){var L={x:0,y:0,w:0,h:0};var fX=[this.$7,this.$4];for(var fY=0;fY<fX.length;fY++){var fZ=fX[fY];if(ss.isValue(fZ)){var ga={x:fZ.nTH,y:fZ.Mk_,w:fZ.XqN,h:fZ.$UU};L=tab.RectXYUtil.union(L,ga)}}return tab.RectXYUtil.offsetRect(L,e)},isHovered:function(e){return ss.referenceEquals(e,this.$4)},isSelected:function(e){return ss.isValue(this.$9)&&this.$9.isNodeSelected(e)},isBrushed:function(e){return ss.isValue(this.$3)&&this.$3.isNodeSelected(e)},selectNode:function(e,L,fX,fY){tab.SelectionClientCommands.selectNode(this.$8,e,fX,this.$6,L,this.$a,fY)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fC,a,{$0:function(){this.$6=null;this.$5=null},computeBoundsOfSelectedMarks:function(e,L){var fX=e.get_selectionsModel().tupleSelection;var fY={x:0,y:0,w:0,h:0};var fZ=fX.get_ids();for(var ga=0;ga<fZ.length;ga++){var gb=fZ[ga];var gc=L.getMarkBoundingBox(gb);fY=tab.RectXYUtil.union(fY,gc)}return fY},computeBoundsOfSelectedNodes:function(e,L){var fX=e.get_selectionsModel().nodeSelection;var fY={x:0,y:0,w:0,h:0};var fZ=L;if(ss.isNullOrUndefined(fZ)){return fY}var ga=fZ.get_groupItemNodes();for(var gb=0;gb<ga.length;gb++){var gc=ga[gb];if(!fX.isNodeSelected(gc)){continue}var gd=gc.nTH||0;var ge=gc.Mk_||0;var gf={x:gd,y:ge,w:gc.XqN,h:gc.$UU};fY=tab.RectXYUtil.union(fY,gf)}return fY},computeBoundsOfSelectedRefLines:function(e,L){var fX=e.get_selectionsModel().refLineSelection;var fY={x:0,y:0,w:0,h:0};if(fX.isEmpty){return fY}for(var fZ=0;fZ<L.length;fZ++){var ga=L[fZ];for(var gb=0;gb<ga.tOA.length;gb++){var gc=ga.tOA[gb];var gd=gc;if(!fX.isObjectSelected(gd.YLs)){continue}for(var ge=0;ge<gd.tOA.length;ge++){var gf=gd.tOA[ge];if(gf.VzB!=='uEs'&&gf.VzB!=='jpw'){continue}var gg=gf;if(gg.WzG.length<4){continue}var gh={x:gg.WzG[0],y:gg.WzG[1]};var gi={x:gg.WzG[2],y:gg.WzG[3]};var gj=tab.RectXYUtil.rectXYFromCorners(gh,gi);gj=tab.RectXYUtil.nonemptyify(gj);fY=tab.RectXYUtil.union(fY,gj)}}}return fY},computeBoundsOfSelectedTrendLines:function(e,L){var fX=e.get_selectionsModel().trendLineSelection;var fY={x:0,y:0,w:0,h:0};if(fX.isEmpty){return fY}var fZ=this.ensureAndReturnLineHitTestStructures(L);var ga=new Array;for(var gb=0;gb<fZ.length;gb++){var gc=fZ[gb];ga.push(gc)}while(ga.length!==0){var gd=ga.pop();if(gd.get_nodeType()===4||gd.get_nodeType()===0){var ge=gd.get_children();for(var gf=0;gf<ge.length;gf++){var gg=ge[gf];ga.push(gg)}}else if(gd.get_nodeType()===5){if(fX.isObjectSelected(gd.get_objectId())){fY=tab.RectXYUtil.union(fY,gd.get_boundingBox())}}}return fY},ensureAndReturnLineHitTestStructures:function(e){if(ss.isNullOrUndefined(this.$6)){this.$6=[];var L=e.get_trendLineVisualLists();if(ss.isValue(L)){for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=fY.tOA;var ga=1;for(var gb=0;gb<fZ.length;gb++){var gc=fZ[gb];if(gc.VzB==='rOX'){var gd=gc;for(var ge=0;ge<gd.tOA.length;ge++){var gf=gd.tOA[ge];switch(gf.VzB){case'Osj':{var gg=gf;if(ss.isValue(gg.Cwi)){ga=gg.Cwi}break}case'bUP':{var gh=gf;var gi=cK.buildTrendLineHitTestStructure(gh,ga,gd.YLs);this.$6.push(gi);break}default:{break}}}}}}}}return this.$6},$4:function(e,L){var fX;var fY=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var fZ=[];var ga=[];var gb=L.get_refLineVisualLists();if(ss.isValue(gb)){fZ=fD.hitTestRefLines(gb,e,true);if(fZ.length!==0&&fZ[0].get_hitType()!==0){}}if(!cJ.hasExactHit(fZ)){var gc=this.ensureAndReturnLineHitTestStructures(L);ga=fD.hitTestTrendLines(gc,e,true);if(ga.length!==0&&ga[0].get_hitType()!==0){}}var gd=cJ.tieBreakHits(fZ,ga);fX=((gd.get_hitType()===0)?[]:[gd])}fY.dispose();return fX},$1:function(e){if(ss.isNullOrUndefined(this.$5)){var L=cK.buildLinearHitTestStructure(e);this.$5=new cI(L)}return this.$5},$2:function(e,L){var fX=this.$1(L);var fY={x:e.x,y:e.y,w:1,h:1};var fZ=fX.hitTestPanes(fY);return fZ},$3:function(e,L,fX,fY){var fZ;{var ga=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{var gb=this.$1(fY);fZ=(ss.isNullOrUndefined(e)?fX.hitTest(gb,L,fY):gb.hitTest(e,L,fY))}finally{if(ss.isValue(ga)){ga.dispose()}}}if(fZ.length>0){}return fZ}});ss.initClass(fD,a,{});ss.initEnum(fE,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(fG,a,{});ss.initClass(fH,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(e){this.$1$1=e},get_region:function(){return this.$1$2},set_region:function(e){this.$1$2=e},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(e){this.$1$3=e},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(e){this.$1$4=e},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(e){this.$1$5=e},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(e){this.$1$6=e},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(e){this.$1$7=e},get_result:function(){return this.$1$8},set_result:function(e){this.$1$8=e}});ss.initClass(fJ,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(fK,a,{get_zoneModel:function(){return this.$j.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$j.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,L){if(L.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){var e=null;var L=fn.absolutizeURI(this.get_webZonePresModel().ZNi,true);if(tab.FeatureFlags.isEnabled('DashWebAuthSP4')&&tab.WindowHelper.getLocation(window.window).protocol==='https:'&&ss.startsWithString(L,'http:')){if(tsConfig.is_authoring){e=new cM(L)}else{e=new cN(L)}}else{e=this.$9(this.get_webZonePresModel().ZNi)}this.$f().updateContentTemplate(e);this.$e()},$9:function(e){if(ss.isNullOrUndefined(this.$g)){this.$g=new cX('frame_'+this.get_zoneModel().get_zoneId(),this.$i)}tab.DomUtil.resize(this.$g.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var L=fn.absolutizeURI(e,true);this.$g.setSrc(L,e);return this.$g},$a:function(){this.$i.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$h)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$h=e;this.$h.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$h)}if(this.$i.get_isActiveZone()){this.$h.hide()}else{this.$h.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[fL]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fL])]);ss.initClass(fL,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fM,a,{});ss.initClass(fN,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fO,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_dashboardView:function(){return this.$h},dispose:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$e()}if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[fP]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$d()}this.$9();this.get_dom().dashboardContainer.scroll(ss.mkdel(this,function(e){this.$c()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardContainer.off('scroll')})))},$e:function(){this.get_dom().tabs.detach().prependTo(this.get_dom().centeringContainer)},$d:function(){this.get_dom().tabs.detach().prependTo(fO.dashboardContainerSelector)},$9:function(){if(ss.isValue(this.$i.get_dashboardViewModel())){this.$i.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$b));this.$i.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$b));this.$i.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$b))})));this.$h=spiff.ObjectRegistry.newView(bA).call(null,[this.$i.get_dashboardViewModel()]);this.$h.addToDom(this.get_dom().dashboardContainer);this.colorDashboardContainer();this.get_dom().dashboardContainer.css('visibility','visible')}this.resizeDashboardContainer()},$b:function(){this.resizeDashboardContainer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardContainer:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){var e=this.$i.get_dashboardSize();var L={overflow:'',margin:''};if(this.get_viewModel().get_scrollDashboardArea()){L.overflow='auto'}if(!tsConfig.is_authoring){L.margin='auto'}this.get_dom().dashboardContainer.css(L);this.get_dom().dashboardContainer.width(e.w).height(e.h)}else{var fX=this.$i.get_dashboardContainerBounds();var fY={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){fY.overflow='auto'}this.get_dom().dashboardContainer.css(fY);tab.DomUtil.setContentBox(this.get_dom().dashboardContainer.get(0),fX)}this.$f();this.$c()},$c:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},$f:function(){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(tab.FullscreenUtil.get_inFullscreenMode()){var e=this.$i.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutCalculator.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutCalculator.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardContainer:function(){if(ss.isValue(this.$i.get_dashboardViewModel())&&this.$i.get_dashboardViewModel().get_hasGutter()){return}this.get_dom().dashboardContainer.css('background-color',this.$i.get_dashboardBackgroundColor())},$a:function(){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$i.get_connectionPromptViewModel())}))}},ss.makeGenericType(spiff.BaseView$1,[fP]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fP])]);ss.initClass(fP,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var L=this.get_dashboardViewModel().get_size();var fX=this.get_dashboardPortSizeContainer();e=L.rec===fX.w&&L.EUR===fX.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var L=_.keys(e);for(var fX=0;fX<L.length;fX++){var fY=L[fX];var fZ=e[fY];if(fZ.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(fZ.get_zoneContentViewModel())){return null}return fZ.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var L={l:0,t:0,w:e.w,h:e.h};return L},get_dashboardContainerBounds:function(){var e=Y.getClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardSize:function(){return tabBootstrap.VizLayoutCalculator.getDashboardSize()},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bB.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(L){this.$5=L.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(fP.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fQ,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(fR,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(fS,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.domRoot}return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(fT,a,{$l:function(){return this.$r},$m:function(e){this.$r=e;this.$r.addToDom(this.get_dom().get_contentHolder())},$n:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$l()},get_dom:function(){return this.get_template()},dispose:function(){this.$n().remove_updateZone(ss.mkdel(this,this.$e));this.$n().remove_resizeZone(ss.mkdel(this,this.$d));this.$n().remove_newZoneContent(ss.mkdel(this,this.$c));this.$n().remove_validStateChanged(ss.mkdel(this,this.$h));if(ss.isValue(this.$r)){this.$r.dispose();this.$r=null}this.$i();ss.makeGenericType(spiff.BaseView$1,[fU]).prototype.dispose.call(this)},$i:function(){if(ss.isValue(this.$p)){this.$p.dispose();this.$p=null}},onViewModelPropertyChanged:function(e,L){ss.makeGenericType(spiff.BaseView$1,[fU]).prototype.onViewModelPropertyChanged.call(this,e,L);if(L.get_propertyName()==='isActiveZone'){this.$j()}if(L.get_propertyName()==='isReadyZone'){this.$k()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(!ss.isValue(this.$p)){this.$p=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$p.setColor(this.$n().get_model().get_dashboardModel().get_backgroundColor());this.$p.set_opaque(true);this.$p.set_preventWebPageScroll(true);if(tab.ApplicationModel.get_instance().get_autoUpdate()){this.$p.element.css('cursor','progress')}}this.$p.show()},$b:function(){this.$i()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$l())){if(tsConfig.is_authoring&&this.get_viewModel().get_isInDashboard()&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.element.append("<div class='tab-zoneExtension'></div>")}this.$e();this.$d();if(ss.isValue(this.$n().get_zoneContentViewModel())){this.$c(this.$n().get_zoneContentViewModel())}this.$h()}if(ss.contains(fT.$2,this.$n().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$n().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(L){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}},$j:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$k:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$e:function(){var e=this.$n().get_zoneZIndex();if(e!==this.$q){this.$q=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',fT.$0(this.get_viewModel().get_zoneId()));this.$j();var L=this.$n().get_zoneType();var fX=L==='layout-flow'||L==='layout-free-form'||L==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',fX);if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.get_dom().get_zoneMargin().css(this.$n().get_marginCss());this.get_dom().get_zoneMargin().css(this.$n().get_borderCss());this.get_dom().get_zonePadding().css(this.$n().get_paddingCss())}if(ss.contains(fT.zonesThatUseStyledBox,L)){this.get_dom().get_contentHolder().css(this.$n().get_contentContainerCss());this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$n().get_contentHasDarkBackground())}else{var fY=this.$n().get_backgroundColor();if(!ss.referenceEquals(fY,this.$o)){this.get_dom().get_contentHolder().css('background-color',fY);this.$o=fY}}if(ss.isValue(this.$l())&&L==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$h()},$d:function(){var e=this.$n();var L;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){L={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'}}else{L={width:e.get_contentWidth()+'px',height:e.get_contentHeight()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};var fX=this.get_template().get_zoneExtension();if(ss.isValue(fX)){fX.css({width:e.get_widthWithMargin()+'px',height:e.get_heightWithMargin()+'px',top:-1*e.get_marginTop()+'px',left:-1*e.get_marginLeft()+'px',position:'absolute'})}}this.get_template().domRoot.css(L)},$h:function(){if(!this.$n().get_valid()){this.$a()}else{if(ss.isValue(this.$p)){if(!ss.staticEquals(fT.$3$1,null)){fT.$3$1()}}this.$b()}},$c:function(e){var L=this.$n().get_zoneType();switch(L){case'title':case'text':{var fX=((L==='title')?1:-1);var fY=new eN.$ctor1(e,fX);this.$m(fY);break}case'size':case'shape':case'color':case'map':{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$m(spiff.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fZ){var ga=fZ.createLegacyLegendView(e);this.$m(ga)}))}break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.createPageView(e))}));break}case'filter':{if(tab.FeatureFlags.isEnabled('VizCatQF')&&this.$n().get_containsNewStyleQuickFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fZ){var ga=e;this.$m(fZ.getQuickFilterView(ga))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$m(spiff.ObjectRegistry.newView(bO).call(null,[e]));break}case'paramctrl':{if(tab.FeatureFlags.isEnabled('VizParam')&&this.$n().get_containsNewStyleParameterFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(fZ){var ga=e;this.$m(fZ.getParameterFilterView(ga))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.createParameterControlView(e))}));break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.newFlipboardNavigatorView(e));this.$9()}));break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fZ){this.$m(fZ.newFlipboardView(e))}));break}case'web':{this.$m(new fK(e,this.$n()));break}case'bitmap':{this.$m(new dd(e,this.$n()));break}case'viz':{this.$m(spiff.ObjectRegistry.newView(dP).call(null,[e]));break}case'layout-flow':{this.$m(spiff.ObjectRegistry.newView(co).call(null,[e]));break}default:{break}}this.$9()},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$l())){this.$l().get_rootElement().addClass('fade-in')}}},$g:function(e){this.$n().zoneEntered(false)},$f:function(e){this.$n().zoneEntered(true)}},ss.makeGenericType(spiff.BaseView$1,[fU]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fU])]);ss.initClass(fU,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$k.get_zoneType()},get_x:function(){return this.$k.get_x()},get_y:function(){return this.$k.get_y()},get_width:function(){return this.$k.get_width()},get_height:function(){return this.$k.get_height()},get_contentHeight:function(){return this.$k.get_contentHeight()},get_contentWidth:function(){return this.$k.get_contentWidth()},get_contentX:function(){return this.$k.get_contentX()},get_contentY:function(){return this.$k.get_contentY()},get_marginLeft:function(){return this.get_contentX()-this.$k.get_xWithMargin()},get_marginTop:function(){return this.get_contentY()-this.$k.get_yWithMargin()},get_widthWithMargin:function(){return this.$k.get_widthWithMargin()},get_heightWithMargin:function(){return this.$k.get_heightWithMargin()},get_model:function(){return this.$k},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$k.get_dashboardModel().get_isDashboard()},$c:function(){var e;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){e=this.$k.get_zoneCommonModel().get_contentStyle()}else{e=this.get_styledBoxModel()}return e},get_titleSize:function(){if(this.$k.get_hasTitle()){return{w:this.$k.pm.nkG1,h:this.$k.pm.jZr}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(fU.$1,this.get_zoneType())){return false}return this.$i},get_zoneZIndex:function(){return fU.calculateZoneZIndex(this.$k)},get_zoneId:function(){return this.$k.get_zoneId()},get_associatedSheet:function(){return this.$k.get_associatedSheet()},get_backgroundColor:function(){var e;if(this.$8()){e=this.$k.get_dashboardModel().get_zonePlaceholderColor()}else if(ss.contains(fU.$0,this.get_zoneType())){e=''}else{e=this.$k.get_backgroundColor()||'rgba(0,0,0,0)'}return e},get_isActiveZone:function(){return this.$g},set_isActiveZone:function(e){if(this.$g!==e){this.$g=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$h},set_isReadyZone:function(e){if(this.$h!==e){this.$h=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='story'&&!tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb')){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$f},$d:function(){var e=this.$k.get_isFloating()&&this.$k.get_zoneType()==='layout-flow';var L=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&L&&this.$k.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$e},get_hasTitle:function(){return this.$k.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute'};if(this.get_styledBoxModel().get_hasFill()){e['background-color']=this.get_styledBoxModel().get_fillColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=cv.makeStyledBoxCssDict(this.$c().get_styledBoxPresModel(),true);if(!this.$c().get_hasFill()){e['background-color']=''}if(this.$8()){var L=tab.ColorModel.fromColorCode(this.$k.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=L.toString()}return e},get_contentHasDarkBackground:function(){return this.$c().get_hasFill()&&!tab.ColorModel.fromColorCode(this.$c().get_fillColor()).isLuminanceAboveThreshold(0.314999997615814)},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$k.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$k.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$j)){this.$j.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$k.remove_updateZone(ss.mkdel(this,this.$7));this.$k.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$5));this.$k.remove_newZoneContent(ss.mkdel(this,this.$3));this.$k.remove_removeZoneContent(ss.mkdel(this,this.$4));this.$k.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$6));spiff.BaseViewModel.prototype.dispose.call(this)},$a:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$k.get_associatedSheet());if(!ss.referenceEquals(this.$j,e)){if(ss.isValue(this.$j)){this.$j.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$j=e;if(ss.isValue(this.$j)){this.$j.add_visualValidStateChanged(ss.mkdel(this,this.$b))}}},$7:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$a();this.$b();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$b:function(){var e=true;if(this.$k.get_isDependentOnViz()&&ss.isValue(this.$j)){e=this.$j.get_isVisualValid()}if(e!==this.$i){this.$i=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$i){this.$i=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$d()){this.zoneContentViewModel=new cp(this.$k);this.$9(this.zoneContentViewModel)}},$3:function(e){this.$f=false;this.$e=false;var L=this.$k.get_zoneType();var fX=ss.mkdel(this,function(){this.$9(this.zoneContentViewModel)});var fY=this.$k.get_worksheetName();switch(L){case'title':case'text':{this.zoneContentViewModel=new eO(e);break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gc){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=gc.createCategoricalLegendViewModel(e,L,fY,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=gc.createQuantitativeColorLegendViewModel(e,fY,this)}}else{this.zoneContentViewModel=gc.createLegacyLegendViewModel(e,fY,this)}fX()}));return}case'current-page':{if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gc){this.zoneContentViewModel=gc.createPageViewModel(e);fX()}))}return}case'web':{this.zoneContentViewModel=new fL(e);break}case'bitmap':{this.zoneContentViewModel=new de(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gc){this.zoneContentViewModel=gc.newFlipboardNavigatorViewModel(e);fX()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gc){this.zoneContentViewModel=gc.newFlipboardViewModel(e,this);fX()}));return}case'filter':{if(ss.referenceEquals(ss.getInstanceType(e),tab.QuickFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gc){var gd=gc.newQuickFilterViewModel(e);if(ss.isValue(gd)){this.$f=true;this.zoneContentViewModel=gd;fX()}}))}else{var fZ=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),fY);var ga=e;var gb=tab.ModelUtils.findMatchingFilterModel(fZ,ga);if(ss.isValue(gb)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gc){this.zoneContentViewModel=gc.createLegacyQuickFilterDisplayViewModel(ga,gb);fX()}))}else{}}return}case'highlighter':{this.zoneContentViewModel=new bQ(e,tab.ModelUtils.getVisualId(fY),this);break}case'paramctrl':{if(ss.referenceEquals(ss.getInstanceType(e),tab.ParameterFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gc){var gd=gc.newParameterFilterViewModel(e);this.$e=true;this.zoneContentViewModel=gd;fX()}))}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gc){this.zoneContentViewModel=gc.createParameterControlViewModel(e);fX()}))}return}case'viz':{this.zoneContentViewModel=new dQ(e);break}case'layout-basic':{return}default:{return}}fX()},$6:function(){this.notifyPropertyChanged('titleVisible')},$4:function(){this.dispose()},$9:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$8:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$k.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IZoneViewModel]);ss.initClass(fV,a,{});ss.initClass(fW,a,{});(function(){u.$0=10;u.$1=600})();(function(){v.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){y.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){cu.$4=null;cu.$3=null})();(function(){eK.defaultLinePattern='solid';eK.defaultLineJoin='bevel';eK.defaultLineCap='butt';eK.defaultTextBaseline='alphabetic';eK.defaultTextAlign='start';eK.defaultLineDashDashed=[3,1];eK.defaultLineDashDotted=[1,1];eK.defaultLineWidth=1;eK.defaultColor='rgb(0,0,0)';eK.defaultTextColor='rgb(0,0,0)';eK.defaultTextAngle=0;eK.defaultFontName='Arial';eK.defaultFontSize=8;eK.defaultTextUnderline=false;eK.$1=0.01})();(function(){cA.halfPI=0.5*Math.PI;cA.onePI=Math.PI;cA.oneAndHalfPI=1.5*Math.PI;cA.twoPI=2*Math.PI;cA.$9=Math.PI*0.15})();(function(){bi.halfPI=0.5*Math.PI;bi.onePI=Math.PI;bi.oneAndHalfPI=1.5*Math.PI;bi.twoPI=2*Math.PI;bi.$8='rgb(255,255,255)';bi.angleEpsilon=0.000174000000697561;bi.$7=0.400000005960464})();(function(){dh.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);dh.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);dh.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);dh.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var e=new dh;e.highlightBgColor=dh.defaultHighlightBgColor;e.selectionBgColor=dh.defaultSelectionBgColor;e.highlightTextColor=dh.defaultHighlightTextColor;e.selectionTextColor=dh.defaultSelectionTextColor;dh.defaultColors=e})();(function(){cv.tableauFallback='Arial';cv.sansSerifFallback='sans-serif';cv.$6=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];cv.$4=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];cv.$5=[{item1:'italic',item2:'italic'}];cv.$3={}})();(function(){bY.$8='rgb(0,0,0)';bY.$7='rgb(245,245,245)';bY.$b=['x-labels','bottom-axis','top-axis'];bY.$c=['y-labels','left-axis','right-axis'];bY.$a=new tab.FifoCache(20);bY.$9=true})();(function(){var e=tab.FeatureFlags.isEnabled('AsyncJsModuleLoad');tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(false);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(false);if(tab.FeatureFlags.isEnabled('RichTextEditing')&&tab.FeatureFlags.isEnabled('RichTextEditingTextZone')){tab.ModuleManager.register(tab.IRichTextAuthoringModule).call(null,'RichTextEditorModule',null).andExportResultAs('RichTextEditor')}}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}tab.ModuleManager.register(dj).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace();tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IUnificationStyleQuickFiltersModule).call(null,'UnificationStyleQuickFilters',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IEditAxisDialogModule).call(null,'EditAxisDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.registerRawJsModule('leaflet.min','leaflet').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);F.$0(e);$(function(){define('$',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets})})})();(function(){fM.$2=['format-workbook']})();(function(){br.$0=null})();(function(){ct.fontsReadyMetricName='AllFontsDownloaded';ct.uiStabilizedMetricName='UI Stabilized'})();(function(){ee.stylesheetId='tab-renderAndCheckFontLoader';ee.hiddenDivClass='tab-hiddenFontMeasurer';ee.baselineFontClass='tab-baselineFontMeasurer';ee.baselineFontName="'Courier New', Monaco, monospace";ee.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';ee.$2=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);ee.maxLengthToWaitForFontsToDownloadMilliseconds=120000;ee.fontLoadedCheckDelayPerTryMilliseconds=100;ee.ensureFirstRenderPassCompletedDelayMilliseconds=5;ee.maxNumberOfTriesToDownloadFont=1200})();(function(){bg.fontLoaderElementId='tab-simpleFontLoader'})();(function(){en.raiseFontPreparationCompleteDelay=200;en.tableauLight='Tableau Light';en.tableauBook='Tableau Book';en.tableauRegular='Tableau Regular';en.tableauMedium='Tableau Medium';en.tableauSemibold='Tableau Semibold';en.tableauBold='Tableau Bold';en.bentonSansLight='Benton Sans Light';en.bentonSansBook='Benton Sans Book';en.bentonSansBookItalic='Benton Sans Book Italic';en.bentonSansMedium='Benton Sans Medium';en.bentonSansSemiDemi='Benton Sans SemiDemi';en.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';en.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);en.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new ca;e.set_fontFamily('Tableau Light');e.woffLocation=en.tableauFontWoffPaths['Tableau Light'];var L=new ca;L.set_fontFamily('Tableau Light');L.set_weight('bold');L.woffLocation=en.tableauFontWoffPaths['Tableau Medium'];var fX=new ca;fX.set_fontFamily('Tableau Book');fX.woffLocation=en.tableauFontWoffPaths['Tableau Book'];var fY=new ca;fY.set_fontFamily('Tableau Book');fY.set_weight('bold');fY.woffLocation=en.tableauFontWoffPaths['Tableau Medium'];var fZ=new ca;fZ.set_fontFamily('Tableau Regular');fZ.woffLocation=en.tableauFontWoffPaths['Tableau Regular'];var ga=new ca;ga.set_fontFamily('Tableau Regular');ga.set_weight('bold');ga.woffLocation=en.tableauFontWoffPaths['Tableau Semibold'];var gb=new ca;gb.set_fontFamily('Tableau Medium');gb.woffLocation=en.tableauFontWoffPaths['Tableau Medium'];var gc=new ca;gc.set_fontFamily('Tableau Medium');gc.set_weight('bold');gc.woffLocation=en.tableauFontWoffPaths['Tableau Bold'];var gd=new ca;gd.set_fontFamily('Tableau Semibold');gd.woffLocation=en.tableauFontWoffPaths['Tableau Semibold'];var ge=new ca;ge.set_fontFamily('Tableau Semibold');ge.set_weight('bold');ge.woffLocation=en.tableauFontWoffPaths['Tableau Bold'];var gf=new ca;gf.set_fontFamily('Tableau Bold');gf.woffLocation=en.tableauFontWoffPaths['Tableau Bold'];var gg=new ca;gg.set_fontFamily('Tableau Bold');gg.set_weight('bold');gg.woffLocation=en.tableauFontWoffPaths['Tableau Bold'];en.tableauFontNames=[e,L,fX,fY,fZ,ga,gb,gc,gd,ge,gf,gg];var e=new ca;e.set_fontFamily('Benton Sans');e.woffLocation=en.bentonSansWoffPaths['Benton Sans Book'];en.bentonSansFontNames=[e];var e=new ca;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=en.bentonSansWoffPaths['Benton Sans SemiDemi'];en.bentonSansLowDpiFontNames=[e];var e=new ca;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=en.bentonSansWoffPaths['Benton Sans Light'];var L=new ca;L.set_fontFamily('Benton Sans');L.set_weight('bold');L.woffLocation=en.bentonSansWoffPaths['Benton Sans Medium'];en.drawerFontNames=[e,L];var e=new ca;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=en.bentonSansWoffPaths['Benton Sans Book'];var L=new ca;L.set_fontFamily('Benton Sans Low-DPI');L.set_weight('bold');L.woffLocation=en.bentonSansWoffPaths['Benton Sans Medium'];en.drawerLowDpiFontNames=[e,L];en.$1=null})();(function(){fB.propertyHoverNode='HoverNode'})();(function(){ek.$0=null})();(function(){dJ.shapeMarkStampingRatio=32;dJ.$9='_int';dJ.$7=32767;dJ.$8=100;dJ.$6=['font','font_size','font_style','font_weight'];dJ.$1=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];dJ.$4=['x','x1','x_prev','x_next','cell_x'];dJ.$3=['clip_width'];dJ.$5=['y','y1','y_prev','y_next','cell_y'];dJ.$2=['clip_height'];dJ.$b=null;dJ.$c=null;dJ.$a=null})();(function(){dL.$4='rgba(0,0,0,1)';dL.$3='rgba(255,255,255,255)';dL.$6=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];dL.$5=['background','underMark','marks','underLabel','label','foreground']})();(function(){el.$1={x:0,y:0,w:0,h:0}})();(function(){var e=[];e.push('left-axis');e.push('right-axis');e.push('y-labels');e.push('x-labels');e.push('top-axis');e.push('bottom-axis');e.push('title');e.push('caption');dQ.blackListVisualParts=e;dQ.vizNavigationSettingPropertyName='vizNavigationSetting';dQ.borderHighlightPropertyName='borderHighlight'})();(function(){fU.isActiveZonePropertyName='isActiveZone';fU.isReadyZonePropertyName='isReadyZone';fU.titleVisiblePropertyName='titleVisible';fU.$0=['bitmap','text','layout-free-form','empty'];fU.$1=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){fz.$1$1=null})();(function(){U.hideAppBannerCookie='hideAppBanner';U.redirectToAppStoreDelayInMS=1000;U.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';U.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927'})();(function(){bK.$1='tab-dataAlertGenericErrorMessage';bK.$2='tab-dataAlertPlatformErrorMessage';bK.$0='tab-dataAlertErrorDialogContent'})();(function(){spiff.ObjectRegistry.registerType(dF,dF).call(null)})();(function(){spiff.ObjectRegistry.registerType(cz,cz).call(null)})();(function(){cm.maxEmailLength=100})();(function(){fo.rowHeight=26;fo.numberOfRowsInViewport=6})();(function(){fx.autoCompleteDebounceTime=200})();(function(){bF.debounceTimeout=300;bF.maxTitleLength=256;bF.$0=18})();(function(){cg.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){ev.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>";ev.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>";ev.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";ev.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){eI.$0="\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"})();(function(){bb.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bw.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bx.$0='tab-customViews-rename-container';spiff.ObjectRegistry.registerType(bx,bx).call(null)})();(function(){by.maxCustomViewNameLength=255;by.modeSelect=0;by.modeManage=1;by.$1=tab.Logger.getLogger(by)})();(function(){eM.contentElemClassName='tab-textRegion-content';eM.$1="<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>"})();(function(){bO.$0=312;bO.widgetClassName='tabDataHighlighterView';bO.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bO.searchResultsListItemClassName='tab-list-item';bO.searchResultsListItemLabelClassName='tab-list-item-label';bO.inactiveTextClassName='tabDataHighlighterViewInactiveText';bO.queryDelayTimerMs=200;spiff.ObjectRegistry.registerType(bO,bO).call(null)})();(function(){cM.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){cN.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){cX.$0='<div><iframe></iframe></div>'})();(function(){fJ.$0="<div class='tab-web'></div>"})();(function(){db.$0=Math.pow(2,-23)})();(function(){dc.$0="<div class='tab-image'></div>"})();(function(){fH.$0=0})();(function(){fI.hitTestDelay=250;fI.maxHitTestDistance=20})();(function(){cJ.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);cJ.$1=ss.mkdict(['ref-lines',3,'trend-lines',2,'ref-bands',3,'marks',5,'mark-labels',6])})();(function(){bj.$0="<canvas class='tabCanvas'></canvas>"})();(function(){dN.$2=3;dN.$3=145;dN.$1=false})();(function(){cf.$0=2})();(function(){dH.$0="<img class='tab-overlayImage'/>"})();(function(){bh.$b=null;bh.$a=false;bh.$c=null;bh.$9=false;if(tabBootstrap.Utility.get_embedMode()==='embedded'){var e=window.addEventListener;if(ss.isValue(e)){e('message',bh.$3,false)}else{var L=bh.$3;window.self.attachEvent('onmessage',L)}bh.$9=true}bh.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){bh.$1()}})();(function(){fk.$0='.tab-tooltipContent';fk.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){fd.defaultVerticalOffset=16;fd.defaultHorizonalOffset=16;fd.$3=16;fd.$2=10;fd.belowRightClass='tab-tooltipBR';fd.belowLeftClass='tab-tooltipBL';fd.aboveRightClass='tab-tooltipAR';fd.aboveLeftClass='tab-tooltipAL';fd.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';fd.$4=null})();(function(){fm.$g="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";fm.$j='.tab-ubertipTooltip';fm.$l='.tab-ubertipTooltip span[data-tableau="VizInTooltip"]';fm.$k='.tab-ubertipTooltip span[data-tableau="VizInTooltip"][data-rendermode="BrowserRendered"]';fm.$d='.tab-ubertipContent';fm.$8='.tab-ubertipActions';fm.$a='.tab-ubertipCommandArea';fm.$c='.tab-ubertipCommands';fm.$b='.tab-clear';fm.$i='.tab-ubertipSelected';fm.$h='tab-selection-relaxation-selected';fm.$9="<li><div class='tab-separator'>&nbsp;</div></li>";fm.$e=70;fm.$f=2;fm.$m=null;fm.$m={}})();(function(){fG.$1$1=null;fG.$1$2=null})();(function(){ff.whitespaceObjectId='W';ff.unknownObjectId='U';ff.$0='mouseleave.basemode';ff.$4=0;ff.$3=null;ff.$2=null;ff.$1='U'})();(function(){eC.$0='.SmoothTooltipBehavior'})();(function(){fj.$2=0})();(function(){dy.$0=5})();(function(){cB.$3=50;cB.$6=110.574;cB.$7=111.32;cB.$1=90;cB.$0=180;cB.$4=6000;cB.$2=8;cB.$5="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){dx.widgetClassName='tabMapsSearchView';dx.$0='tabMapsSearchViewCollapsed';dx.$1='tabMapsSearchContainerCollapsed';dx.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';dx.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';dx.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';dx.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';dx.queryDelayTimerMs=200;dx.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';spiff.ObjectRegistry.registerType(dx,dx).call(null)})();(function(){dw.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){du.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){dP.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';dP.titleClass='tab-tvTitle';dP.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];dP.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];dP.$4=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];dP.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];dP.$2=8;dP.$3=30;dP.$1=[];dP.$6=[];dP.$5=[]})();(function(){cn.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){spiff.ObjectRegistry.registerType(co,co).call(null)})();(function(){fS.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>";fS.$1="<div class='tab-zone no-spacing'></div>"})();(function(){fT.$1='tabZoneReady';fT.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];fT.$2=['bitmap','color','shape','size','map','text','web','paramctrl','filter','highlighter','empty','current-page'];fT.$3$1=null;spiff.ObjectRegistry.registerType(fT,fT).call(null)})();(function(){bz.$0="<div class='tab-gutter'><div class='tab-dashboard' role='main'/></div>";bz.$1="<div class='tab-dashboard' role='main'/>"})();(function(){bA.dashboardGutterCssSelector='.tab-gutter';spiff.ObjectRegistry.registerType(bA,bA).call(null)})();(function(){eV.$1='tabToolbarButtonImg';eV.$2='tabToolbarButtonText';eV.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){eZ.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){W.$1="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>";W.$2="<div id='tabViewer' class='wcBody'></div>"})();(function(){fA.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){eh.$0="<div class='tab-right-area-drawer'></div>"})();(function(){dB.$1$1=null})();(function(){eB.maxDialogWidth=600;eB.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){be.dashboardContainerSelector='.dashboardSpacer';be.overlayId='auth-overlay';be.messageEventName='message';be.frameTestHook='dse-frame'})();(function(){cw.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){cj.bodyContainer='<span></span>'})();(function(){spiff.ObjectRegistry.registerType(ei,ei).call(null)})();(function(){eW.$0='tabToolbarButtonFlyoverShown'})();(function(){fb.$7='hideLabels';fb.$a='showLabels';fb.$8='horizontalLabels';fb.$b='stackedLabels';fb.$9='narrow';fb.$6='tab-customviews-modified';fb.$c='.tabToolbarButton';fb.$5='160px';fb.$d=50;spiff.ObjectRegistry.registerType(fb,fb).call(null)})();(function(){fN.tabSelector='#tabbedNavigationWrapper';fN.centeringContainerSelector='#centeringContainer';fN.$0="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"})();(function(){fO.dashboardContainerSelector='.dashboardSpacer';spiff.ObjectRegistry.registerType(fO,fO).call(null)})();(function(){V.$3=null;V.$4=null;V.$5=false;V.$1$1=null;V.$1$2=null;V.$1$3=null;G.$0()})();(function(){spiff.ObjectRegistry.registerType(X,X).call(null)})();(function(){fc.$1='tab-icon-';fc.$3='toggle-updates';fc.$2=430})();(function(){ci.$0='http://public.tableau.com/s/download'})();(function(){ex.currentViewPath='/shared/';ex.$d='http://facebook.com';ex.$9=4;ex.$f=65;ex.$g=32;ex.$h=26;ex.$a=0.75;ex.$c=0.75;ex.$b=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');ex.$e=e})();(function(){eH.maxSubscriptionSubjectLength=256;eH.maxSubscriptionEmailLength=100;eH.$0='tabSubscriptionScheduleDropdown'})();(function(){eX.iconTypeDownload='download';eX.iconTypeShare='share';eX.iconTypeCustomViews='customviews';eX.iconTypeSubscribe='subscribe';eX.iconTypeEdit='edit';eX.iconTypeRedo='redo';eX.iconTypeUndo='undo';eX.iconTypeRevert='revert';eX.iconTypeToggleDataUpdates='toggle-updates';eX.iconTypeRefreshData='refresh';eX.pauseButton='Pause'})();(function(){eG.$0=0;spiff.ObjectRegistry.registerType(eG,eG).call(null)})();(function(){spiff.ObjectRegistry.registerType(ew,ew).call(null)})();(function(){ch.$1='tabDownloadData';ch.$0='tabDownloadCrosstab';ch.$2='tabDownloadImage';ch.$3='tabDownloadPdf';ch.$4='tabDownloadWorkbook';ch.$5='tabPublicApp';ch.$6=715;spiff.ObjectRegistry.registerType(ch,ch).call(null)})();(function(){fP.$2$3=null})();(function(){Y.vizClientContainerSelector='.tab-viz-client-container'})();(function(){ej.$1=320;ej.$0=0})();(function(){bm.$5='tvdrag_svg_div';bm.$8='circle_radius';bm.$0='circle_crosshair';bm.$1=4;bm.$3='tabDistanceReadout';bm.$4="<div class='tabDistanceReadout'></div>";bm.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bm.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bm.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";bm.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){bR.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bT.$6=6})();(function(){cs.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){cE.simpleRectangleCollider=null;cE.simpleRectangleCollider=function(e,L){var fX=e.get_geom().x;var fY=e.get_geom().x+e.get_geom().w;var fZ=e.get_geom().y;var ga=e.get_geom().y+e.get_geom().h;var gb=L.x;var gc=L.x+L.w;var gd=L.y;var ge=L.y+L.h;if(ga<gd){return false}if(fZ>ge){return false}if(fY<gb){return false}if(fX>gc){return false}return true}})();(function(){cH.$1=null;cH.$0=0})();(function(){cL.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){fy.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){dm.$2=0;dm.$1='tabIterButtonDisabled';dm.$0=100})();(function(){fV.$0=0.05})();(function(){dq.$4=100;dq.leafletLibFileName='leaflet';dq.$2='/css/leaflet.css';dq.$5=2;dq.$9=10;dq.$a=0.01;dq.$7=8;dq.$3='leaflet-touching';dq.$6={item1:90,item2:0};dq.$8={item1:-90,item2:0}})();(function(){dO.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){dR.$5='M';dR.$4='L';dR.$1='Z';dR.$2='tvdrag_svg_div';dR.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";dR.$6=300})();(function(){dX.minTitleHeight=17;dX.titlePadding=3})();(function(){ea.$1='<div></div>';ea.$0='tvdrag';ea.$2='tvdrag_marquee'})();(function(){ed.headerResizerMinimumLength=20;ed.axisResizerMinimumLength=10;ed.minimumSizeDifferenceResizeThreshold=1})();(function(){eP.$0="<div class='tvimagesContainer'></div>"})();(function(){fD.visualPartNearHitTestExpansionPixels=7})();(function(){eS.windowLog=null;eS.paneBorderMaskSize=2;eS.canvasBorderPixels=1;eS.zoomAnimationTime=777;eS.minZoomAnimationTime=500;eS.zoomToAnchorAnimationTime=500})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$x=0;this.$y=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$p))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$v)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$u)))};f.__typeName='spiff.MenuViewWeb';global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this)};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[spiff.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$w(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$r))},$w:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.Int32.trunc(m-r.roomBelow)}else{var t=5;q-=ss.Int32.trunc(r.roomAbove);s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p-=l+n}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.dom.domRoot;if(tab.DomUtil.isContentOverflowingY(j)){j.css('overflow-y','scroll')}var k=this.menuViewModel.get_focusedItem();var l=this.menuViewModel.get_menu().menuItems;if(ss.isValue(k)){this.$t(k)}else if(ss.isValue(l)){for(var m=0;m<l.length;m++){if(l[m].enabled){this.menuViewModel.set_focusedItem(l[m]);break}}}},$r:function(i){if(i.pageX===this.$x&&i.pageY===this.$y){return}this.$x=i.pageX+0;this.$y=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$s(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$s:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$u:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$o()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$o();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$s(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$v:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$o:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$p:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$q(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$t:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$q(i)},$q:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.UberPopupViewModel])]);(function(){spiff.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$0=null;this.$1=0};c.__typeName='tab.$1';var d=function(y,z,A,B,C,D){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=y;this.$2=z;this.$3=A;this.$0=B;this.$5=C;this.$1=D};d.__typeName='tab.$2';var e=function(y,z,A){this.$1=0;this.$2=0;this.$0=0;this.$1=y;this.$2=z;this.$0=A};e.__typeName='tab.$3';var f=function(y,z){tab.ApplicationViewModel.call(this,y,z);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};f.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=f;var g=function(){};g.__typeName='tab.CursorKey';global.tab.CursorKey=g;var h=function(y){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,y,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};h.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=h;var i=function(y,z){this.$s=null;this.$t=null;this.$u=null;this.$m=null;this.$n=null;this.$v=null;this.$p=false;this.$q=null;this.$o=null;this.$r=null;this.$x=null;this.$w=null;s.call(this,$(document.createElement('div')),$(z));this.$v=y;this.$s=this.$v.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$m=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$t=new spiff.Button(this.$m);this.$t.add_press(ss.mkdel(this,this.$c));this.$n=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$u=new spiff.Button(this.$n);this.$u.add_press(ss.mkdel(this,this.$d));z.appendChild(this.element.get(0));this.$f();this.turnDrillWidgetsOff()};i.__typeName='tab.Drilling';global.tab.Drilling=i;var j=function(y){this.$0=null;this.$0=y};j.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=j;var k=function(y,z,A,B,C){tab.FloatingZoomToolbar.call(this,y,z,A,B,C);this.init()};k.__typeName='tab.FloatingZoomToolbarWeb';k.$0=function(y){return y+'\n'+tab.Strings.SelectionToolsLockTooltip};global.tab.FloatingZoomToolbarWeb=k;var l=function(y){this.$0=null;this.$0=y};l.__typeName='tab.HoverApi';global.tab.HoverApi=l;var m=function(y){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(y,'tooltip');this.$j=y;this.$i=[];this.$k=m.$0()};m.__typeName='tab.LegacyTooltipBehavior';m.$0=function(){m.$6++;return'mousemove.LegacyTooltipBehavior'+m.$6.toString()};global.tab.LegacyTooltipBehavior=m;var n=function(y){this.$q=null;tab.MapsSearchView.call(this,y,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$n));var z=this.get_compositeSearchWidget();z.add_spotlightedListItemChanged(ss.mkdel(this,this.$m));z.add_tabKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){z.remove_spotlightedListItemChanged(ss.mkdel(this,this.$m));z.remove_tabKeyPressed(ss.mkdel(this,this.$o))})));z.set_spotlightedItemLogic(this)};n.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=n;var o=function(){this.scrollX=null;this.scrollY=null;this.yLabelResizer=null;this.xLabelResizer=null;this.topAxisResizer=null;this.rightAxisResizer=null;this.bottomAxisResizer=null;this.leftAxisResizer=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var y=ss.mkdel(this,this.getElementBySelector);this.scrollX=y('.tab-tvScrollX');this.scrollY=y('.tab-tvScrollY')};o.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=o;var p=function(y){this.$27={};this.$1Z=null;this.$23=false;this.$26=false;this.$21=null;this.$2j=null;this.$2d=null;this.$24=null;this.$2i=null;this.$2g=null;this.$2h=null;this.$2f=null;this.$25=null;this.$28=false;this.$2e=null;this.$22=null;this.$2l=null;this.$2k=null;this.$29=false;this.$2b=0;this.$1Y=null;this.$2a=null;this.$2c=0;this.$20=null;tab.PaneTableView.call(this,y,new o);this.$1Z=this.dom;this.$1U();this.$29=false;var z={tap:ss.mkdel(this,function(A){if(ss.referenceEquals(A.currentTarget,A.target)){this.clearSelection()}})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),z));this.init()};p.__typeName='tab.PaneTableViewWeb';p.$0=function(y,z){return y.x>z.pageX||y.x+y.w<=z.pageX||y.y>z.pageY||y.y+y.h<=z.pageY};p.$1=function(){};global.tab.PaneTableViewWeb=p;var q=function(y){this.$3=false;this.$5='vertical';this.$4=false;this.$7=null;this.$6=0;this.$1$1=false;this.$3=y;this.forgetInputDevice()};q.__typeName='tab.ScrollAdjuster';global.tab.ScrollAdjuster=q;var r=function(){};r.__typeName='tab.ScrollAdjusterUtil';r.getProperty=function(y,z){var A=y[z];return ss.coalesce(A,0)};r.adjustVerticalScrollDeltaForTouchpad=function(y){if(y%tab.MapUtil.defaultWheelDeltaIncrement!==0){var z=Math.abs(y);var A=ss.Int32.div(z,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(y<0){A*=-1}y=tab.MapUtil.defaultWheelDeltaIncrement*A}return y};global.tab.ScrollAdjusterUtil=r;var s=function(y,z){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,y);this.$6=s.$0.length;s.$0.push(this);this.$8=z};s.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=s;var t=function(y,z){this.$v=null;this.$r=null;this.$t=null;this.$u=null;this.$w=null;this.$s=null;this.$x=null;this.$z=null;this.$y=null;s.call(this,$(document.createElement('div')),$(z));this.$u=y;this.element.addClass('tab-tiledViewerSort');this.$t=this.$a();this.$v=spiff.LabelButton.newNativeButton();this.$v.element.addClass('tab-tvSortIndicator');this.$v.element.css('border','0');this.$v.element.css('position','absolute');this.$v.element.css('padding','0px');this.element.append(this.$v.element);this.$r=this.$v.element;$(z).find('.tab-tiledViewerSort').remove();z.appendChild(this.element.get(0));this.$9();this.$l();this.$r.css('display','none')};t.__typeName='tab.Sorting';global.tab.Sorting=t;var u=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};u.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=u;var v=function(y,z,A,B,C,D,E,F){this.$M=false;this.$S={item1:false,item2:'no-tools'};this.$W=null;this.$P=null;this.$O=null;this.$U=null;this.$V=null;this.$N=null;this.$R=false;this.$T=false;this.$Q=false;tab.TiledViewerRegion.call(this,y,z,D,E,F);this.$P=A;if(this.get_regionPart()==='viz'){v.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$p))})));this.set_defaultPointerToolMode(this.determineDefaultToolMode());this.currentToolbarToolMode=this.get_defaultPointerToolMode();this.resetPointerToolMode()}this.$M=true;this.scroller=new x(B,C)};v.__typeName='tab.TiledViewerRegionWeb';v.$2=function(){if(ss.isValue(v.$6)){return}var y='default';v.$6={};v.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+y));v.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+y));v.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+y));v.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+y));v.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+y));v.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+y));v.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+y));v.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+y));v.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+y));v.$6['dragSelect']='crosshair';v.$6['select']='pointer';v.$6['defaultKey']='default'};v.$0=function(y){return y.shiftKey&&!spiff.EventUtil.isCtrlKey(y)};v.$1=function(y){return!y.altKey&&y.shiftKey&&spiff.EventUtil.isCtrlKey(y)};global.tab.TiledViewerRegionWeb=v;var w=function(y,z,A){tab.TooltipBaseLegacyMode.call(this,y,z,A);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))};w.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=w;var x=function(y,z){this.$0=null;this.$1=null;this.$0=y.get(0);this.$1=z.get(0)};x.__typeName='tab.WebScroller';global.tab.WebScroller=x;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[spiff.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initEnum(g,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(h,a,{$x:function(y){this.$z=y;if(ss.isValue(this.$z)){var z=this.$z.get_data();this.get_viewModel().highlightItems([z.YLs])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(y){if(ss.isNullOrUndefined(y.get_data())){return}this.$y.changeSpotlightedListItem(4,y);if(ss.isNullOrUndefined(this.$A)){var z=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(z,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(y){this.$r(y)},$u:function(y){this.$r(y)},$v:function(y){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(y){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,y)},$s:function(){var y;if(ss.isNullOrUndefined(this.$z)){var z=this.$y.get_listViewModel();if(ss.isNullOrUndefined(z)||z.get_collection().length===0){return}var A=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(A===0){this.removeList();return}y=z.get_collection()[0].get_data()}else{y=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(y.gjO);this.dataHighlighterViewModel.sendSearchQuery(y.gjO,false)},populateAndDisplayList:function(y,z){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,y,z);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(y,z,A){var B=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(z===4){if(ss.Nullable$1.gt(A,B)){A=B}return A}if(ss.isNullOrUndefined(y)){return 0}var C=y;switch(z){case 1:{C=ss.Nullable$1.add(C,1);if(ss.Nullable$1.gt(C,B)){C=B}break}case 0:{C=ss.Nullable$1.sub(C,1);if(ss.Nullable$1.lt(C,0)){C=null}break}case 2:{C=0;break}case 3:{C=B;break}}return C}},tab.DataHighlighterView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(s,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(y){if(this.get_widgetFeatureEnabled()){if(y){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(z){this.onMouseMove(z)}))}}else if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(s.$0,this);this.element.remove();spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(y){for(var z=0;z<s.$0.length;z++){if(z!==this.$6){var A=s.$0[z];if(A.isActiveInRect(y)){return true}}}return false},isActiveInRect:function(y){return false},onMouseMove:null,getSIRegionFromName:function(y,z){var A,B;var C=ss.replaceAllString(z,'Area','');var D=y.get_sortIndicators();var E=D.iG$;for(A=0,B=E.length;A<B;A++){if(ss.referenceEquals(E[A].kuG.toString(),C)){return E[A]}}return null},showNodeAt:function(y,z,A){$(y).css('top',z+'px');$(y).css('left',A+'px');$(y).css('display','')},getWidgetPos:function(y,z,A){if(y==='level'){if(A==='y'){return{x:z.l+ss.Int32.div(z.w,2)-4,y:z.t+2}}else{return{x:z.l+2,y:z.t+ss.Int32.div(z.h,2)-4}}}else{return{x:z['x']+2,y:z['y']+2}}},hideNode:function(y){$(y).css('display','none')},regionHitTest:function(y,z){var A=y;var B=new ss.ObjectEnumerator(A);try{while(B.moveNext()){var C=B.current();if(ss.isValue(C.value)&&tab.RectUtil.inRect(C.value,z)){return C.key}}}finally{B.dispose()}return null},clone:function(y){if(ss.isNullOrUndefined(y)){return y}return this.mixin(new Object,y)},mixin:function(y,z){var A=z;var B=new ss.ObjectEnumerator(A);try{while(B.moveNext()){var C=B.current();var D=y[C.key];if(ss.isNullOrUndefined(D)||!ss.referenceEquals(D,A[C.key])){y[C.key]=A[C.key]}}}finally{B.dispose()}return y}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(i,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){this.$v=null;this.$t.dispose();this.$u.dispose();s.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$w,null)){this.$w();this.$w=null}this.$p=false;this.$r=this.$v.geometry;this.$x=this.$v.visibleGeometry},onMouseMove:function(y){this.$a(y)},isActiveInRect:function(y){if($(this.$m.get(0)).css('display')!=='none'||$(this.$n.get(0)).css('display')!=='none'){if(ss.isValue(this.$o)&&tab.RectXYUtil.intersectsWith(this.$o,y)){return true}}return false},turnDrillWidgetsOff:function(){var y=['bottomaxis','xheader','yheader'];for(var z=0;z<y.length;z++){var A=y[z];if(ss.isValue(this.$s[A])){this.$s[A].unsuppressHover()}}this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));this.$q=new c},$f:function(){this.set_enabled(true)},$a:function(y){var z=new Object;var A=false;var B=false;var C=false;var D=false;var E=false;var F=false;var G=false;var H=true;if(this.$p){return}if(y.button>0){return}if(ss.isNullOrUndefined(this.$r)||ss.isNullOrUndefined(this.$r.di)||ss.referenceEquals(this.$r.di,z)||!tsConfig.allow_filter){return}var I=this.$v.get_tableViewPosition();var J={x:y.pageX-I.x,y:y.pageY-I.y};if(ss.isValue(this.$x.xheaderArea)){A=tab.RectUtil.inRect(this.$x.xheaderArea,J)}if(ss.isValue(this.$x.leftaxisArea)){G=tab.RectUtil.inRect(this.$x.leftaxisArea,J)}var K=this.$v.tlspacerAreaX;var L=this.$v.tlspacerAreaY;if(A&&ss.isValue(K)&&ss.isValue(L)&&ss.isValue(this.$x.uleftArea)){L.w=K.l;H=false}if(ss.isValue(this.$x.bottomaxisArea)&&!A){B=tab.RectUtil.inRect(this.$x.bottomaxisArea,J)}if(ss.isValue(this.$x.yheaderArea)&&!A&&!B){C=tab.RectUtil.inRect(this.$x.yheaderArea,J)}if(ss.isValue(L)&&!A&&!B&&ss.isValue(this.$x.yheaderArea)){D=tab.RectUtil.inRect(L,J)}if(ss.isValue(K)&&!D&&!C&&!B&&ss.isValue(this.$x.xheaderArea)){E=tab.RectUtil.inRect(K,J)}var M=this.$v.blspacerArea;if(ss.isValue(M)&&!D&&!E){F=tab.RectUtil.inRect(M,J)}if(!A&&!C&&!B&&!D&&!E&&!F&&!G){this.turnDrillWidgetsOff()}else if(E){H=false;this.$j(J)}else if(A){H=false;this.$j(J)}else if(C){this.$k(J)}else if(B||F){this.$i()}else if(G&&tab.FeatureFlags.isEnabled('DrillUpWeb')){this.$h()}else if(D){this.$k(J)}if(H&&ss.isValue(L)&&ss.isValue(this.$x.uleftArea)){L.w=this.$x.uleftArea.w}},$c:function(){this.$b('down')},$d:function(){this.$b('up')},$b:function(y){this.$p=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$q.$0)){var z=((this.$q.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var A=false;if(tab.FeatureFlags.isEnabled('DrillUpWeb')){if(y==='up'){A=true}}tab.FilterClientCommands.levelDrill(this.$v.get_visualId(),this.$q.$1,z,A)}this.turnDrillWidgetsOff()},$j:function(y){var z=this.$r.di.xs+this.$v.titleHeight;var A=this.$9(y.y,z,this.$r.di.xy);if(A.$0>=0&&A.$0<this.$r.di.xy.length){this.$l('x',A,this.$r.di.xy)}else{this.turnDrillWidgetsOff()}},$h:function(){if(ss.isNullOrUndefined(this.$x.leftaxisArea)){return}var y=this.$r.di.yx.length-1;if(y<0){return}var z=Math.min(this.$x.leftaxisArea.l,17);var A={l:this.$x.leftaxisArea.l-z,t:this.$x.leftaxisArea.t,w:this.$x.leftaxisArea.w+z,h:this.$x.leftaxisArea.h};this.$e(A,this.$r.di.yx[y][1],'y');this.$q.$1=y;this.$q.$0='yheader'},$k:function(y){var z=this.$9(y.x,this.$r.di.ys,this.$r.di.yx);var A=z.$0;if(A>=0&&A<this.$r.di.yx.length){if(this.$r.di.yx[z.$0][1]<3){this.$l('y',z,this.$r.di.yx)}}},$i:function(){if(ss.isNullOrUndefined(this.$x.bottomaxisArea)){return}var y=this.$r.di.xy.length-1;var z=Math.min(this.$x.bottomaxisArea.l,20);var A=null;if(z===0){A={l:this.$x.bottomaxisArea.l+17,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+17,h:this.$x.bottomaxisArea.h}}else{A={l:this.$x.bottomaxisArea.l-z,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+z,h:this.$x.bottomaxisArea.h}}this.$e(A,this.$r.di.xy[y][1],'x');this.$q.$1=y;this.$q.$0='bottomaxis'},$l:function(y,z,A){var B;var C=0;if(y==='x'){if(ss.isValue(this.$x.uleftArea)){C=Math.min(this.$x.xheaderArea.l,17)}B={l:this.$x.xheaderArea.l-C,t:z.$1,w:this.$x.xheaderArea.w+C,h:z.$2-z.$1}}else{if(ss.isValue(this.$x.uleftArea)){C=Math.min(this.$x.yheaderArea.t,17)}B={l:z.$1,t:this.$x.yheaderArea.t-C,w:z.$2-z.$1,h:this.$x.yheaderArea.h+C}}this.$e(B,A[z.$0][1],y);this.$q.$1=z.$0;this.$q.$0=y+'header'},$g:function(y,z,A){var B=this.getWidgetPos('level',z,A);var C=tab.DoubleUtil.roundToInt(this.$m.outerHeight());var D=tab.DoubleUtil.roundToInt(this.$m.outerWidth());this.$o={x:B.x,y:B.y,w:D,h:C};if(this.isOtherActiveInRect(this.$o)){return}this.showNodeAt(y,B.y,B.x)},$e:function(y,z,A){switch(z){case 0:{this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));break}case 1:{this.$g(this.$m.get(0),y,A);this.hideNode(this.$n.get(0));break}case 2:{this.$g(this.$n.get(0),y,A);this.hideNode(this.$m.get(0));break}case 3:{if(tab.FeatureFlags.isEnabled('DrillUpWeb')){var B=null;if(A==='x'){this.$g(this.$m.get(0),y,A);B={l:y.l-17,t:y.t,w:y.w+17,h:y.h};this.$g(this.$n.get(0),B,A)}else if(A==='y'){B={l:y.l+10,t:y.t,w:y.w+17,h:y.h};this.$g(this.$m.get(0),B,A);this.$g(this.$n.get(0),y,A)}}break}}},$9:function(y,z,A){var B=-1;var C=z-1;var D=-1;if(ss.isNullOrUndefined(A)){return new e(-1,-1,-1)}while(C<y&&D<A.length-1){D+=1;B=C;C+=A[D][0]}if(C<y){return new e(-1,-1,-1)}return new e(B,C,D)}},s,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(j,a,{zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$1W(2)},zoomOut:function(){this.$0.$1W(0.5)},setPointerToolMode:function(y,z){this.$0.setPointerToolMode(y,z)},setAppendMode:function(y){},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(k,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(y){var z=k.$0(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectButton=this.addToggleButton(y,'buttonRadialSelect',z)},$m:function(y){var z=k.$0(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectButton=this.addToggleButton(y,'buttonRectSelect',z)},$j:function(y){var z=k.$0(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectButton=this.addToggleButton(y,'buttonLassoSelect',z)},$k:function(y){var z=k.$0(tab.Strings.PanZoomSelectToolsPanTooltip);this.panButton=this.addToggleButton(y,'buttonPan',z)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var y=k.$0((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',y);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var y=this.flyOutButton.element;y.mouseout(ss.mkdel(this,this.$n));y.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(y){var z=this.flyOutContainer.offset();if(z.top>=y.pageY){this.updateFlyOutVisibility(false);return}var A=tab.DoubleUtil.roundToInt(z.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var B=tab.DoubleUtil.roundToInt(z.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(y.pageX>=A||y.pageY>=B){this.updateFlyOutVisibility(false)}},$n:function(y){var z=this.flyOutButton.element.offset();if(z.left>=y.pageX||z.top>=y.pageY){this.updateFlyOutVisibility(false);return}var A=tab.DoubleUtil.roundToInt(z.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(y.pageY>=A){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(l,a,{dispose:function(){this.$0=null},unsuppressHover:function(y){var z=this.$0.get_inputHandlers()[y.get_regionPart()];if(ss.isValue(z)){z.unsuppressHover()}var A=this.$0.get_responsiveMouseHandler();if(ss.isValue(A)){A.unsuppressHover()}},suppressHover:function(y){var z=this.$0.get_inputHandlers()[y.get_regionPart()];if(ss.isValue(z)){z.suppressHover()}var A=this.$0.get_responsiveMouseHandler();if(ss.isValue(A)){A.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(m,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var y={};spiff.EventHandleSpecExtensions.setHandler(y,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],y));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(y){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(y,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(y){this.$e=y},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(y,z,A,B){this.showTooltip(y)},hoverOverWhitespace:function(y){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(y,false)){this.$j.close()}},multiSelectComplete:function(y){this.showTooltip(y)},singleSelectComplete:function(y){this.showTooltip(y)},selectionMoved:function(y){},repositionWithinRegion:function(y){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(y,z){this.$j.close()},showTooltip:function(y){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),y)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(y,false)){return}this.$j.show(this.$j.get_body().children()[0],y)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(y){var z=this.$j.get_lastLocation();this.$j.set_lastLocation({x:y.pageX,y:y.pageY});if(ss.isNullOrUndefined(z)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var A=tab.PointUtil.distance(z,this.$j.get_lastLocation());var B=new Date-this.$h;if(A>10&&B>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(y){if(ss.isNullOrUndefined(y)){return false}var z=this.$3();return tab.RectUtil.inRect(z,y)},$3:function(){var y=this.$j.element.position();var z={l:tab.DoubleUtil.roundToInt(y.left),t:tab.DoubleUtil.roundToInt(y.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return z},$1:function(y){var z=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),y);this.$i.push(z);return z},$8:function(y){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(y,z){this.dispose()},$0:function(){for(var y=0;y<this.$i.length;y++){var z=this.$i[y];window.clearTimeout(z)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(n,a,{updateSearchTextValue:function(y){this.$p(y,true)},$p:function(y,z){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,y);if(z===true){this.selectAllSearchText()}},$n:function(y){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var z=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var A=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(z)&&ss.isValue(A)&&!ss.referenceEquals(z,A)){return}this.selectAllSearchText()},$m:function(y){this.$q=y;if(ss.isValue(y)){var z=y.get_data();this.$p(z,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$q)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$q.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$o:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$q)){return}var y=this.get_compositeSearchWidget();y.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},collapseSearchWidget:function(){tab.MapsSearchView.prototype.collapseSearchWidget.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(y,z,A){if(z===4){return A}var B=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(y)){switch(z){case 1:case 2:{return 0}case 0:case 3:{return B}}}var C=y;switch(z){case 1:{C=ss.Nullable$1.add(C,1);if(ss.Nullable$1.gt(C,B)){C=0}break}case 0:{C=ss.Nullable$1.sub(C,1);if(ss.Nullable$1.lt(C,0)){C=B}break}case 2:{C=0;break}case 3:{C=B;break}}return C}},tab.MapsSearchView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(o,a,{},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(p,a,{get_inputHandlers:function(){return this.$27},get_domWeb:function(){return this.$1Z},get_responsiveMouseHandler:function(){return this.$2e},$1X:function(){return this.getWebRegion('viz')},$1W:function(y){if(this.isMapWithBaseLayer()&&y<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/y)){return}var z=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.$1X().$K(z,y)},initEventHandlers:function(){var y=null;var z=null;var A=ss.thisFix(ss.mkdel(this,function(){y=tab.MiscUtil.dispose$1(y);z=tab.MiscUtil.dispose$1(z);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var B=this.dom.domRoot[0];y=spiff.EventUtil.addEventListenerWithDispose(B,'mouseenter',A,true);z=spiff.EventUtil.addEventListenerWithDispose(B,'touchstart',A,true);this.disposables.add$1(y);this.disposables.add$1(z)},getDomNodeForContentRegion:function(y){return y.get(0)},makeFloatingZoomToolbar:function(y){var z=new j(this);var A=10;if(this.get_mapsSearchEnabled()){A+=41}var B=new k(y.get(0),z,this.determineToolbarType(),A,this.get_mapsSearchEnabled());B.addClass('tabSuppressVizTooltipsAndOverlays');return B},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1I))},makeConnections:function(){this.$1Z.scrollX.scroll(ss.mkdel(this,function(y){this.$1O()}));this.$1Z.scrollY.scroll(ss.mkdel(this,function(y){this.$1P()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,this.$1K));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1H)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){var y=this.mapsSearchView.get_compositeSearchWidget().get_textInputView().get_inputElement();y.focusin(ss.mkdel(this,function(z){this.checkForSuppressTooltipsAndOverlays(z.target)}));y.focusout(ss.mkdel(this,function(z){this.checkForSuppressTooltipsAndOverlays(z.relatedTarget)}));y.keypress(ss.mkdel(this,function(z){this.checkForSuppressTooltipsAndOverlays(z.target)}))}},makeRegions:function(){var y=this.listNonVizRegions();var z=this.makeHoverApi();ss.clearKeys(this.regions);var A=function(){return false};var B=_.keys(y);for(var C=0;C<B.length;C++){var D=B[C];var E=y[D];this.regions[D]=new v(D,E.get(0),z,this.$1Z.scrollX,this.$1Z.scrollY,A,this.get_sheetid(),this.get_paneTableVM())}var F=ss.mkdel(this,this.allowPanZoom);this.set_vizRegion(new v('viz',this.get_vizRegionDomNode().get(0),z,this.$1Z.scrollX,this.$1Z.scrollY,F,this.get_sheetid(),this.get_paneTableVM()))},getWebRegion:function(y){return ss.safeCast(this.regions[y],v)},makeTooltipLegacyMode:function(y){return new w(y,this.get_visualId(),this.get_viewId())},cancelHover:function(){},makeInputHandlers:function(){var y=ss.getEnumerator(Object.keys(this.$27));try{while(y.moveNext()){var z=y.current();this.$27[z]=tab.MiscUtil.dispose$1(this.$27[z])}}finally{y.dispose()}ss.clearKeys(this.$27);var A=this.listNonVizRegions();var B=_.keys(A);for(var C=0;C<B.length;C++){var D=B[C];var E=A[D];var F=this.makeMouseSpec(this.getWebRegion(D));this.$27[D]=new spiff.TableauEventHandler.$ctor1(E.get(0),F)}this.$1V();var G=this.get_vizRegionDomNode();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var H={hoverDelay:20,hover:ss.mkdel(this,function(L){this.vizHitTester.update(L)})};var I=ss.mkdel(this,function(L){this.onHitTestUpdated(this.$1X(),L)});this.vizHitTester.add_updated(I);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.vizHitTester.remove_updated(I)})));this.$2j=new spiff.TableauEventHandler.$ctor1(G.get(0),H);this.disposables.add$1(this.$2j)}var J={};spiff.EventHandleSpecExtensions.setHandler(J,'dragStart',function(L){});this.$21=new spiff.TableauEventHandler.$ctor1(document.body,J);this.disposables.add$1(this.$21);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var K={hover:ss.mkdel(this,function(L){this.onHoverOverlay(this.$1X(),L)}),hoverDelay:0};this.$2e=new spiff.TableauEventHandler.$ctor1(G.get(0),K);this.disposables.add$1(this.$2e)}this.$1z();G.addClass('tvmodeRectSelect')},$1V:function(){this.$27['viz']=tab.MiscUtil.dispose$1(this.$27['viz']);var y=this.makeMouseSpec(this.$1X());this.$27['viz']=new spiff.TableauEventHandler.$ctor1(this.get_vizRegionDomNode().get(0),y)},updateTooltipMode:function(y){tab.PaneTableView.prototype.updateTooltipMode.call(this,y);if(ss.isNullOrUndefined(this.vizTooltip)){this.$1V()}},$1z:function(){var y=this.listNonVizRegions();var z=ss.mkdel(this,function(A){var B={hover:ss.mkdel(this,function(C){this.$1G(this.getWebRegion(A),C)}),hoverDelay:0,firstTouch:ss.mkdel(this,function(C){this.$1M(this.getWebRegion(A))})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(y[A].get(0),B));y[A].mouseout(ss.mkdel(this,function(C){this.$1J(A)}))});z('xheader');z('yheader');z('topaxis');z('bottomaxis')},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$25)){this.$25=new l(this);this.disposables.add$1(this.$25)}return this.$25},makeMouseSpec:function(y){var z={hover:ss.mkdel(this,function(C){this.onHoverTooltip(y,C)}),hoverDelay:(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150)};var A=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(A!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&y.get_regionPart()==='viz'){z.hoverDelay=0}else{var B=tab.FeatureParamsLookup.getInt(12);z.hoverDelay=ss.coalesce(B,120)}}z.firstTouch=ss.mkdel(this,function(C){this.$1F(y,C)});z.tap=ss.mkdel(this,function(C){this.$1N(y,C)});if(tab.FeatureFlags.isEnabled('EditAxisDialog')&&tsConfig.is_authoring&&ss.contains(tab.PaneTableView.axisRegions,y.get_regionPart())){z.doubleTap=ss.mkdel(y,y.onDoubleTapAxis)}if(y.get_regionPart()==='viz'){z.dragStart=ss.mkdel(this,function(C){this.dragOverride(C,ss.mkdel(this,function(D){this.$1E(y,C)}))});if(tsConfig.allow_filter){z.doubleTap=ss.mkdel(this,function(C){this.$1B(y,C)});z.press=function(C){p.$1()};z.cancelPotentialDoubleTap=ss.mkdel(this,function(C){this.$1A()});z.pressDragStart=ss.mkdel(this,function(C){this.dragOverride(C,ss.mkdel(this,function(D){this.$1L(y,C)}))})}}return z},makeRegionContentProviders:function(){var y=ss.mkdel(this,function(z,A){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),y);this.$2h=this.makeTiledWindow(this.$1Z.scrollY,null,null,null,null);this.$2g=this.makeTiledWindow(this.$1Z.scrollX,null,null,null,null)},makeTiledWindow:function(y,z,A,B,C){return this.makeTiledWindowHelper(y,z,A,B,C,true)},shouldInformTooltipOfLocalTapOnViz:function(y){return true},refreshScrollingAndDrilling:function(){var y=this.$2d;this.$2d=null;if(typeof(y)==='function'){y()}if(ss.isValue(this.$24)){this.$24.onUpdate()}if(ss.isValue(this.$2i)){this.$2i.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2h.destroy();this.$2g.destroy()},destroyInputHandlers:function(){var y=ss.getEnumerator(Object.keys(this.$27));try{while(y.moveNext()){var z=y.current();this.$27[z].dispose();this.$27[z]=null}}finally{y.dispose()}ss.clearKeys(this.$27);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1I))}this.$1Q()},refreshImages:function(y){tab.PaneTableView.prototype.refreshImages.call(this,y);this.$2h.refreshImages(y);this.$2g.refreshImages(y)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1l(false)},$1I:function(y){var z=tab.DomUtil.getRectXY(this.dom.view);if(z.x>y.x||z.x+z.w<=y.x||z.y>y.y||z.y+z.h<=y.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(y){this.$28=true;this.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_mapsSearchEnabled()){this.mapsSearchView.set_isVisible(true)}this.checkForSuppressTooltipsAndOverlays(y.target)},$1x:function(y){var z=tab.DomUtil.getRectXY(this.dom.domRoot);return p.$0(z,y)},$1y:function(y){var z=tab.DomUtil.getRectXY(this.dom.view);return p.$0(z,y)},isPointOutsideOfRelevantVizRegions:function(y){if(!this.$1y(y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.yLabel),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.xLabel),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.caption),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.leftAxis),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.rightAxis),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.bottomAxis),y)){return false}if(!p.$0(tab.DomUtil.getRectXY(this.dom.topAxis),y)){return false}return true},onMouseOut:function(y){if(this.$1x(y)){if(ss.isValue(this.$2i)){this.$2i.hideSortIndicator()}if(ss.isValue(this.$24)){this.$24.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(y)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1m()}},$1m:function(){if(!this.$23){this.disposeOfOverlayImages()}},onMouseMove:function(y){var z=this.get_vizToolTip();if(z.get_isTooltipShown()&&!z.shownTooltipIsStatic()&&this.$1y(y)){var A=tab.DomUtil.getRectXY(this.dom.view);z.hoverOverWhitespace({x:A.x,y:A.y},'viz')}},onViewMouseOut:function(y){this.$28=false;var z=this.get_vizToolTip();if(this.$1y(y)){this.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.set_isVisible(false)}if(z.get_isTooltipShown()&&!z.shownTooltipIsStatic()){var A=tab.DomUtil.getRectXY(this.dom.view);z.hoverOverWhitespace({x:A.x,y:A.y},'viz')}}if(!z.get_isTooltipShown()){this.$1m()}this.checkForSuppressTooltipsAndOverlays(y.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(y){this.$28=true;this.checkForSuppressTooltipsAndOverlays(y.target)},setupSortIndicators:function(){this.$2i=new t(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2i)},setupDrilling:function(){this.$24=new i(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$24)},setRegionGeometryHelper:function(y,z){if(ss.isValue(y)&&y.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(y.children().first(),{l:0,t:0,w:z.w,h:z.h})}},setGeometryForWebScrollbars:function(y,z){var A=null,B=null;if(ss.isValue(y.get_scrollWidth())&&y.get_scrollWidth()>0){var C=Math.max(tab.Metrics.get_minScrollHeight(),y.get_viewHeight());tab.DomUtil.setAbsolutePositionBox(this.$1Z.scrollY,{l:y.get_overallWidth(),t:y.get_scrollYTop(),w:y.get_scrollWidth(),h:C});this.$1Z.scrollY.css('display','')}else{this.$1Z.scrollY.css('display','none')}if(ss.isValue(y.get_scrollHeight())&&y.get_scrollHeight()>0){var D=Math.max(tab.Metrics.get_minScrollWidth(),y.get_viewWidth());tab.DomUtil.setAbsolutePositionBox(this.$1Z.scrollX,{l:y.get_scrollXLeft(),t:z,w:D,h:y.get_scrollHeight()});this.$1Z.scrollX.css('display','')}else{this.$1Z.scrollX.css('display','none')}var E=this.$1Z.scrollY.css('display')!=='none';var F=this.$1Z.scrollX.css('display')!=='none';var G=!!(F^E);this.$2f=new q(G);if(E){A={x:0,y:0,w:1,h:y.get_scrollableHeight(),r:null}}this.$2h.reset(A,this.geometry.ts);if(F){B={x:0,y:0,w:y.get_scrollableWidth(),h:1,r:null}}this.$2g.reset(B,this.geometry.ts)},maybeShowOverlayImages:function(y){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var z=null;if(ss.isValue(y)&&ss.isValue(y.overlayImage)){z=this.createOverlayImageFromDataUri(y.overlayImage)}else if(ss.isValue(y.overlayImageKey)){z=this.createOverlayImageFromFile(y.overlayImageKey)}this.showOverlayImages(z,y.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1T();this.$1S()},$1T:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){this.$1r();var y=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h+tab.DomUtil.getRectXY(this.dom.yLabel).h+tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;if(y>0){this.get_domWeb().yLabelResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1k(this.dom.yLabel,this.get_domWeb().yLabelResizer);var z=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var A=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.yLabel).w);spiff.DragDropManager.attachDragSource(this.get_domWeb().yLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'yheader',this.get_domWeb().yLabelResizer,z,y,A,2147483647))}var B=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w+tab.DomUtil.getRectXY(this.dom.xLabel).w+tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;if(B>0){this.get_domWeb().xLabelResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1k(this.dom.xLabel,this.get_domWeb().xLabelResizer);var C=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var D=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.xLabel).h);spiff.DragDropManager.attachDragSource(this.get_domWeb().xLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'xheader',this.get_domWeb().xLabelResizer,C,B,D,2147483647))}}},$1k:function(y,z){var A=y.clone().empty().removeClass().addClass('tab-tvRegionResizerContainer').append(z);y.parent().append(A)},$1r:function(){if(ss.isValue(this.get_domWeb().yLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().yLabelResizer);this.get_domWeb().yLabelResizer.parent().remove();this.get_domWeb().yLabelResizer=null}if(ss.isValue(this.get_domWeb().xLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().xLabelResizer);this.get_domWeb().xLabelResizer.parent().remove();this.get_domWeb().xLabelResizer=null}},$1S:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')){this.$1q();var y=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var z=tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;var A=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var B=tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;var C=tab.DomUtil.getRectXY(this.dom.view);var D=C.w;var E=C.h;var F=A+E+B;var G=y+D+z;var H=tab.DomUtil.getRectXY(this.dom.topAxis).w;var I=tab.DomUtil.getRectXY(this.dom.rightAxis).h;var J=tab.DomUtil.getRectXY(this.dom.bottomAxis).w;var K=tab.DomUtil.getRectXY(this.dom.leftAxis).h;var L=H>0&&J>0;var M=I>0&&K>0;if(H>0){var N=y+H+z;this.get_domWeb().topAxisResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1k(this.dom.topAxis,this.get_domWeb().topAxisResizer);var O=-y;var P=tab.DomUtil.getRectXY(this.dom.topAxis).h;var Q=-tab.RegionResizer.getAxisResizerMinimumRunDistance(P);var R=tab.RegionResizer.getAxisResizerMaximumRunDistance(E,F,P,L);spiff.DragDropManager.attachDragSource(this.get_domWeb().topAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'topaxis',this.get_domWeb().topAxisResizer,O,N,Q,R))}if(I>0){var S=A+I+B;this.get_domWeb().rightAxisResizer=$("<div class='tab-tvYRightRegionResizer'></div>");this.$1k(this.dom.rightAxis,this.get_domWeb().rightAxisResizer);var T=-A;var U=tab.DomUtil.getRectXY(this.dom.rightAxis).w;var V=-tab.RegionResizer.getAxisResizerMaximumRunDistance(D,G,U,M);var W=tab.RegionResizer.getAxisResizerMinimumRunDistance(U);spiff.DragDropManager.attachDragSource(this.get_domWeb().rightAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'rightaxis',this.get_domWeb().rightAxisResizer,T,S,V,W))}if(J>0){var X=y+J+z;this.get_domWeb().bottomAxisResizer=$("<div class='tab-tvXBottomRegionResizer'></div>");this.$1k(this.dom.bottomAxis,this.get_domWeb().bottomAxisResizer);var Y=-y;var Z=tab.DomUtil.getRectXY(this.dom.bottomAxis).h;var ba=-tab.RegionResizer.getAxisResizerMaximumRunDistance(E,F,Z,L);var bb=tab.RegionResizer.getAxisResizerMinimumRunDistance(Z);spiff.DragDropManager.attachDragSource(this.get_domWeb().bottomAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'bottomaxis',this.get_domWeb().bottomAxisResizer,Y,X,ba,bb))}if(K>0){var bc=A+K+B;this.get_domWeb().leftAxisResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1k(this.dom.leftAxis,this.get_domWeb().leftAxisResizer);var bd=-A;var be=tab.DomUtil.getRectXY(this.dom.leftAxis).w;var bf=-tab.RegionResizer.getAxisResizerMinimumRunDistance(be);var bg=tab.RegionResizer.getAxisResizerMaximumRunDistance(D,G,be,M);spiff.DragDropManager.attachDragSource(this.get_domWeb().leftAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'leftaxis',this.get_domWeb().leftAxisResizer,bd,bc,bf,bg))}}},$1q:function(){if(ss.isValue(this.get_domWeb().topAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().topAxisResizer);this.get_domWeb().topAxisResizer.parent().remove();this.get_domWeb().topAxisResizer=null}if(ss.isValue(this.get_domWeb().rightAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().rightAxisResizer);this.get_domWeb().rightAxisResizer.parent().remove();this.get_domWeb().rightAxisResizer=null}if(ss.isValue(this.get_domWeb().bottomAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().bottomAxisResizer);this.get_domWeb().bottomAxisResizer.parent().remove();this.get_domWeb().bottomAxisResizer=null}if(ss.isValue(this.get_domWeb().leftAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().leftAxisResizer);this.get_domWeb().leftAxisResizer.parent().remove();this.get_domWeb().leftAxisResizer=null}},$1U:function(){this.$2k={x:0,y:0};this.$2c=0;this.$1Y=null;this.$2b=0;this.$2a=null;if(ss.isValue(this.$2f)){this.$2f.forgetInputDevice()}},$1K:function(y){var z=null;if(ss.isValue(y['originalEvent'])){z=y['originalEvent']}var A=this.$2f.normalizeScrollWheelDeltas(z);if(this.isOneVisiblePane()&&this.isMap&&this.allowPanZoom()){if(this.$2f.get_isFromTouchpad()){A.y=r.adjustVerticalScrollDeltaForTouchpad(A.y);this.$2c++;if(this.$2c%tab.MapUtil.touchEventSamplingRate!==0){y.preventDefault();return}}if(this.$29){y.preventDefault();return}this.$2k.y+=A.y;if(!this.$1y(y)){var B=this.$1X();var C=this.$1v(B,z);this.$1i(C,B,y);return}}var D=tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop());var E=this.$1Z.scrollX.scrollLeft();this.$1Z.scrollY.scrollTop(D+A.y);this.$1Z.scrollX.scrollLeft(E+A.x);var F=tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop());var G=this.$1Z.scrollX.scrollLeft();if(D!==F){this.$1t(F);y.preventDefault()}if(E!==G){this.$1s(G);y.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1i:function(y,z,A){var B=null;if(ss.isNullOrUndefined(this.$1Y)){if(z.mapIsBrowserRendered()){B=z.getPointLatLong(y);B.done(ss.mkdel(this,function(G){this.$2a=G}))}this.$1Y=y}if(z.mapIsBrowserRendered()){this.$2b=ss.Int32.div(this.$2k.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var C=this.get_paneTableVM().get_mapServerModel();var D=(C.get_hasPresModel()?C.get_zoom():1);var E=tab.MapUtil.calculateZoomFactor(this.$2k.y);if(z.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(D,this.$2b)||!tab.MapUtil.allowZoomAtCurrentLevel(D,E)){this.$2b=D;E=tab.MapUtil.getZoomFactorForDesiredZoomLevel(D,0);this.$2k.y=tab.MapUtil.getScrollDeltaForZoomFactor(E)}this.$1n();this.$2l=window.setTimeout(ss.mkdel(this,function(){this.$29=true;tab.PanZoomCommands.zoomWithAnchorPoint(z.get_regionPart(),this.$1Y,E,ss.mkdel(this,function(){this.$29=false}),this.get_sheetid());this.$1U()}),500);var F=ss.mkdel(this,function(G){this.$1j(z,D,E,G)});if(!this.$29){if(ss.isValue(B)){B.done(function(G){F(G)})}else{F(this.$2a)}A.preventDefault()}},$1j:function(y,z,A,B){this.isAnimationOccurring=true;var C=this.resolvePane(this.$1Y);if(y.mapIsBrowserRendered()){var D=z-this.$2b;y.animateAnchorZoomLeaflet(C,B,D)}else{y.animateAnchorZoom(C,this.$1Y,A)}this.disposeOfOverlays()},$1v:function(y,z){var A=ss.round(z['clientX']);var B=ss.round(z['clientY']);var C={x:A,y:B};var D=y.toLocalCoords(C,false);return D},$1P:function(){this.get_vizToolTip().onScroll();this.$1t(tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop()))},$1t:function(y){for(var z=0;z<tab.PaneTableView.scrollableYRegions.length;z++){var A=tab.PaneTableView.scrollableYRegions[z];this.getWebRegion(A).setYPos(y)}var B={x:this.$1Z.scrollX.scrollLeft(),y:y};this.set_scrollPosition(B)},$1s:function(y){for(var z=0;z<tab.PaneTableView.scrollableXRegions.length;z++){var A=tab.PaneTableView.scrollableXRegions[z];this.getWebRegion(A).setXPos(y)}var B={x:y,y:tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop())};this.set_scrollPosition(B)},$1O:function(){this.get_vizToolTip().onScroll();this.$1s(this.$1Z.scrollX.scrollLeft())},$1H:function(y){if(this.$1X().get_isDragTracking()){return}if(!ss.referenceEquals(y.target,this.element.get(0))&&!ss.referenceEquals(y.target,this.dom.view.get(0))&&!ss.referenceEquals(y.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var z;switch(y.which){case 68:{z='lasso-selection';break}case 83:{z='radial-selection';break}case 65:{z='rectangular-selection';break}default:{return}}if(z===this.$1X().get_currentPointerToolMode()){z=this.defaultPointerToolMode()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(z,true)}else{this.setPointerToolMode(z,true)}},checkForHoverOverlay:function(){this.$1l(true)},$1l:function(y){if(ss.isValue(this.lastVizHoverPoint)&&this.$28){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(y)}else{this.disposeOfOverlayImages()}},$1G:function(y,z){if(this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(y.get_contentProvider())){return}var A=y.toLocalCoordsEvent(z,false);var B=y.hitTestNodes(A);if(ss.isValue(B)){B=(tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(B.ZHX,B.wwF)?B:null)}var C=tab.ModelUtils.regionToVisualPartMap[y.get_regionPart()];this.updateHoveredCategoricalHeaders(B,'hover',C)},$1M:function(y){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(y.get_contentProvider())){return}var z=tab.ModelUtils.regionToVisualPartMap[y.get_regionPart()];this.updateHoveredCategoricalHeaders(null,'press',z)},$1J:function(y){var z=tab.ModelUtils.regionToVisualPartMap[y];var A=this.get_paneTableVM().get_vizRegionMap()[z];if(ss.isValue(A)){A.set_hoveredCategoricalNode(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||v.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(y,z){var A=y;A.setMouseOverMarkOrVisualPart(z)},$1F:function(y,z){if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.get_compositeSearchWidget().removeList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&y.get_regionPart()==='viz'){var A=y.toLocalCoordsEvent(z,false);var B=this.$1X().hitTestSingleMarksAndVisualParts(A);if(B.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(B.get_id(),'press',B.get_overlayTargetType())}}},$1u:function(){var y=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var z=0;z<y.length;z++){var A=y[z];if(!A.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(y){return y==='simple'||!this.$1u()},onHitTestUpdated:function(y,z){this.$1p();if(this.getVizDragApproval(z)){var A=y.toLocalCoords(z.get_pageCoordinates(),false);this.$1o(A)}},$1o:function(y){var z=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){z.css('cursor','alias')}else{z.css('cursor','-webkit-grab');z.css('cursor','-moz-grab');z.css('cursor','grab')}z.css('position','absolute');z.css('top',y.y-20+'px');z.css('left',y.x-20+'px');z.css('height',40+'px');z.css('width',40+'px');var A=this.makeMouseSpec(this.$1X());this.get_vizRegionDomNode().append(z);this.$22=new spiff.TableauEventHandler.$ctor1(z.get(0),A)},disposeOfOverlays:function(){this.$1p();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1p:function(){this.$22=tab.MiscUtil.dispose$1(this.$22);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},$1N:function(y,z){if(this.$26){this.$26=false;return}z.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(z.originalEvent['button']>1){return}var A=y.toLocalCoordsEvent(z,false);var B=tab.PointUtil.add(A,y.getLocalOffsetPoint(false));var C;if(y.get_regionPart()==='viz'){C=tab.ResolveSelectAction.fromNormalizedEvent(z,false,true)}else{C=tab.ResolveSelectAction.fromNormalizedEvent(z)}if(this.allowPanZoom()&&y.isZoomToolActive()){var D=this.resolvePane(y.toLocalCoordsEvent(z,false));y.$J(z,D);return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(y,C,B,A)}else{var E=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(y)}var G=tab.PaneTableView.guessTooltipTargetTypeFromRegion(y.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(B,A,y.get_regionPart(),G)});var F={x:A.x,y:A.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(y.get_regionPart(),F,C,this.get_paneTableVM().get_visualId(),E);this.dom.domRoot.focus()}},$1B:function(y,z){if(!this.isPointerToolLocked){this.resetPointerToolMode()}var A=((z.shiftKey&&!spiff.EventUtil.isCtrlKey(z))?0.5:2);this.doDoubleTap(y,z,A)},$1E:function(y,z){var A=this.resolvePane(y.toLocalCoordsEvent(z,false));this.$1w();if(!tsConfig.allow_filter){this.setPointerToolMode(y.get_currentPointerToolMode(),false)}else{switch(y.get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var B=!z.shiftKey;this.setPointerToolMode(y.get_currentPointerToolMode(),B);break}}}this.$1R(y);if(ss.isValue(this.$24)){this.$24.set_enabled(false)}if(ss.isValue(this.$2i)){this.$2i.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(false)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(false)}y.$j(z,A)},$1C:function(y){var z=this.$1X();z.$i(y);if(z.isSelectingToolActive()){this.checkForDragOverlays();this.$23=true}},$1D:function(y){this.$26=y.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$23=false;this.$1X().$h(y,this.get_vizToolTip());this.$1Q();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$24)){this.$24.set_enabled(true)}if(ss.isValue(this.$2i)){this.$2i.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(true)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(true)}},$1L:function(y,z){var A=this.resolvePane(y.toLocalCoordsEvent(z,false));this.$1w();y.$j(z,A);this.$1R(y)},$1A:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1R:function(y){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1p();if(!y.isSelectingToolActive()){this.disposeOfOverlays()}},$1Q:function(){var y={};spiff.EventHandleSpecExtensions.removeHandler(y,'dragMove');spiff.EventHandleSpecExtensions.removeHandler(y,'dragEnd');if(ss.isValue(this.$21)){this.$21.update(y)}this.$20=tab.MiscUtil.dispose$1(this.$20)},$1w:function(){var y={};spiff.EventHandleSpecExtensions.setHandler(y,'dragMove',ss.mkdel(this,this.$1C));spiff.EventHandleSpecExtensions.setHandler(y,'dragEnd',ss.mkdel(this,this.$1D));this.$21.update(y);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$20);this.$20=new spiff.Glass;this.$20.show();var z=this.$1X();z.setCursor(z.determineDragSelectionCursor(),this.$20.element)},$1n:function(){this.$2l=tab.MiscUtil.clearTimeout(this.$2l)},allowPanZoom:function(){return this.$1h('other')},allowPanZoomOnDoubleTap:function(){return this.$1h('doubleTap')},$1h:function(y){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var z=this.geometry.pi;switch(y){case'doubleTap':{var A=z.hasXQAxis&&z.hasYQAxis;if(tab.FeatureFlags.isEnabled('DisableDoubleClick')){var B=ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar';if(!this.isMap&&A&&B){return false}}return A}case'other':default:{return z.hasXQAxis||z.hasYQAxis}}}},tab.PaneTableView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.PaneTableViewModel])]);ss.initClass(q,a,{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(y){this.$1$1=y},forgetInputDevice:function(){this.set_isFromTouchpad(false);this.$4=false;this.$6=0;this.$7=null},normalizeScrollWheelDeltas:function(y){var z,A;var B=r.getProperty(y,'wheelDeltaY');var C=r.getProperty(y,'wheelDeltaX');var D=r.getProperty(y,'deltaY');var E=r.getProperty(y,'deltaX');var F=r.getProperty(y,'detail');if(F!==0){var G=y['axis'];var H=y['HORIZONTAL_AXIS'];A=(ss.referenceEquals(G,H)?0:F);z=(ss.referenceEquals(G,H)?F:0)}else if(B!==0||C!==0){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var I=Math.abs(C);var J=Math.abs(B);var K=Math.max(I,J);if(this.get_isFromTouchpad()){if(K%3===0){C=ss.Int32.div(C,3);B=ss.Int32.div(B,3)}}else if(K%12===0){C=((C<0)?-120:120);B=((B<0)?-120:120)}}A=-B;z=-C}else if(D!==0||E!==0){var L=(this.get_isFromTouchpad()?3:40);if(tab.BrowserSupport.get_isMac()){L*=3;if(Math.abs(D)>0&&Math.abs(D)<1||Math.abs(E)>0&&Math.abs(E)<1){L*=10}}else{this.$1()}A=L*D;z=L*E}else{A=-y['wheelDelta'];z=0}this.$0(A,D);return((this.get_isFromTouchpad()&&this.$3)?this.$2(z,A):{x:z,y:A})},$1:function(){if(this.$4){return}if(ss.staticEquals(this.$7,null)){this.$7=new Date}else{var y=this.$6>10;if(y||new Date-this.$7>100){this.set_isFromTouchpad(y);this.$4=true}}this.$6++},$0:function(y,z){if(this.$4){return}if(!tab.BrowserSupport.get_isFF()){var A=Math.abs(y);if(A>0){this.$4=true;if(A<12){this.set_isFromTouchpad(true)}}}else{var B=Math.abs(z);if(B>0){this.$4=true;if(tab.BrowserSupport.get_isMac()){this.set_isFromTouchpad(Math.abs(z)>=1)}}}},$2:function(y,z){var A=((y!==0&&z!==0)?this.$5:((y===0)?'vertical':'horizontal'));if(this.$5==='vertical'){y=0}if(this.$5==='horizontal'){z=0}this.$5=A;return{x:y,y:z}}});ss.initClass(r,a,{});ss.initClass(t,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$x)&&tsConfig.allow_filter},dispose:function(){this.$u=null;this.$v.element.remove();this.$v.dispose();s.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$y,null)){this.$y();this.$y=null}this.$z=this.$u.visibleGeometry;this.$x=this.$u.get_sortIndicators()},hideSortIndicator:function(){if(!this.$e()){return}var y=new RegExp('(sortInd\\w+)?','g');this.$r.get(0).className=this.$r.get(0).className.replace(y,'');this.$r.css('display','none');this.$w=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$t.css('display','none')}},onMouseMove:function(y){this.$d(y)},isActiveInRect:function(y){if(ss.isValue(this.$w)&&this.$w.$1&&tab.RectXYUtil.intersectsWith(y,this.$s)){return true}return false},$a:function(){if(!tab.FeatureFlags.isEnabled('IntuitiveSorting')){return null}var y=spiff.LabelButton.newNativeButton();y.element.addClass('sortDropdownSolid');y.element.css('border','0');y.element.css('position','absolute');y.element.css('padding','0px');y.element.click(ss.mkdel(this,this.$i));this.element.append(y.element);return y.element},$l:function(){this.$x=this.$u.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$r.click(ss.mkdel(this,this.$f));this.$r.mouseover(ss.mkdel(this,this.$h));this.$r.mouseout(ss.mkdel(this,this.$g))},$d:function(y){if(y.button>0){return}if(ss.isNullOrUndefined(this.$x)||!tsConfig.allow_filter){return}var z=this.$u.get_tableViewPosition();var A={x:y.pageX-z.x,y:y.pageY-z.y};var B=this.$u.get_domWeb().scrollX.get(0);var C=this.$u.get_domWeb().scrollY.get(0);var D={x:B.scrollLeft,y:C.scrollTop};var E=this.$z;var F=this.regionHitTest(this.$z,A);if(ss.isValue(F)){this.$k(this.getSIRegionFromName(this.$u,F),E[F],A,D)}else{this.hideSortIndicator()}},$p:function(y,z,A){var B;var C=y.Yds[z];var D=this.$w;if(!y.oAu){B=((C.rei02==='asc')?'Left':'Right')}else{B=((C.rei02==='asc')?'Up':'Down')}var E=(C.bBh?'Solid':'Hollow');this.$w=new d(y,C,z,B,E,A);if(ss.isNullOrUndefined(D)||!ss.referenceEquals(D.$0,B)||!ss.referenceEquals(D.$5,E)||D.$1!==A){this.$q()}},$q:function(){if(ss.isNullOrUndefined(this.$w)){return}var y='sortInd'+this.$w.$5+this.$w.$0+(this.$w.$1?'Active':'');var z=new RegExp('(sortInd\\w+)?','g');this.$r.get(0).className=this.$r.get(0).className.replace(z,'');this.$r.addClass(y)},$o:function(){if(!this.$e()){return}var y=this.$w.$2;var z=this.$w.$4;if(!y.bBh){y.bBh=true;y.rei02=z.XYI02}else if(y.rei02===z.XYI02){y.rei02=((z.XYI02==='asc')?'desc':'asc')}else{y.rei02=z.XYI02;y.bBh=false}this.$p(z,this.$w.$3,this.$w.$1)},$h:function(y){if(this.isOtherActiveInRect(this.$s)){return}if(this.$e()&&!this.$w.$1){this.$w.$1=true;this.$q()}y.stopPropagation()},$g:function(y){if(!this.$e()){return}var z=$(this.$r.get(0)).offset();var A=tab.DoubleUtil.roundToInt($(this.$r.get(0)).outerHeight());var B=tab.DoubleUtil.roundToInt($(this.$r.get(0)).outerWidth());if(z.left>y.pageX||z.left+B<=y.pageX||z.top>y.pageY||z.top+A<=y.pageY){this.$w.$1=false;this.$q();y.stopPropagation()}},$f:function(y){spiff.EventUtil.stopEvent(y);var z=this.$c();var A=this.$b(y);this.$o();this.$r.addClass('clicked');this.$y=ss.mkdel(this,function(){this.$r.removeClass('clicked')});tab.SortServerCommands.sortFromIndicator(A,z,this.$u.get_visualId())},$i:function(y){spiff.EventUtil.stopEvent(y);this.$m(y,this.$t)},$b:function(y){var z=this.$u.get_tableViewPosition();var A=z.x;var B=z.y;var C={x:y.pageX-A,y:y.pageY-B};var D=this.regionHitTest(this.$z,C);if(ss.isNullOrUndefined(D)){return null}var E=this.getSIRegionFromName(this.$u,D);var F=E.D$S;var G=this.$z;C.y+=F.RAC-G[D].t;C.x+=F.thj-G[D].l;return C},$c:function(){var y=this.$u.get_domWeb().scrollX.get(0);var z=this.$u.get_domWeb().scrollY.get(0);return{x:y.scrollLeft,y:z.scrollTop}},$m:function(y,z){var A=this.$c();var B=this.$b(y);tab.SortServerCommands.requestSortingContextMenu(B,A,this.$u.get_visualId(),ss.mkdel(this,function(C){var D=tab.WidgetUtil.menuViewModelFromCommands(C,ss.mkdel(this,this.$j),null);if(ss.isValue(D)){D.show(spiff.ShowMenuOptions.create(z,false))}}))},$j:function(y){tab.WidgetUtil.commandMenuItemClicked(y)},$n:function(y,z,A,B){if(this.isOtherActiveInRect(A)){return}this.$s=A;this.$p(y,z,B);if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var C=this.$r.outerWidth(true);this.showNodeAt(this.$t.get(0),A.y,A.x+tab.DoubleUtil.roundToInt(C))}this.showNodeAt(this.$r.get(0),A.y,A.x)},$e:function(){return ss.isValue(this.$w)},$k:function(y,z,A,B){if(ss.isNullOrUndefined(y)){this.hideSortIndicator();return}if(ss.isValue(this.$w)&&ss.isValue(this.$w.$4)&&y.kuG!==this.$w.$4.kuG){this.hideSortIndicator()}var C={x:A.x,y:A.y};var D=y.D$S;C.y+=D.RAC-z.t;C.x+=D.thj-z.l;if(y.vBP){C.y+=B.y}if(y.TVg){C.x+=B.x}var E=y.Yds;for(var F=0,G=E.length;F<G;F++){if(ss.isNullOrUndefined(E[F].efv)){continue}if(ss.isNullOrUndefined(E[F]._bu)){continue}var H=tab.RecordCast.rectPresModelAsRectXY(E[F].efv);if(tab.RectXYUtil.inRect(H,C)){var I=tab.RecordCast.rectPresModelAsRectXY(E[F]._bu);var J=this.clone(I);J.y-=C.y-A.y;J.x-=C.x-A.x;var K={x:J.x+2,y:J.y+2};var L={x:J.x+J.w-2,y:J.y+J.h-2};if(tab.RectUtil.inRect(z,K)&&tab.RectUtil.inRect(z,L)){this.$n(y,F,J,tab.RectXYUtil.inRect(J,C));return}}}}},s,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(u,a,{});ss.initClass(v,a,{$L:function(){return this.$Q},get_isDragTracking:function(){return this.$R},$C:function(y){this.$R=y;v.isDragTrackingInAnyRegion=y},destroy:function(){this.$P=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(y){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(y);this.backgroundMap.setScrollX(y)}},setYPos:function(y){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(y);this.backgroundMap.setScrollY(y)}},reset:function(){this.resetIsWaitingOnData=false;if(this.$S.item1){this.$S={item1:false,item2:this.$S.item2};this.set_currentModifierKeyToolMode('no-tools');this.setMode(this.$S.item2)}if(this.resetIsWaitingOnTransition){return}tab.TiledViewerRegion.prototype.reset.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$M){return}this.$P.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(y){if(this.$T!==y){this.$T=y;this.$B()}},$j:function(y,z){this.$O(y,z)},$z:function(y,z){this.$E(this.get_shapeSelector());this.$D(y)},$I:function(y,z){this.$E(this.domPanZoomRect);this.$D(y);this.domPanZoomRect.set_pi(z)},$i:function(y){if(this.get_isDragTracking()){this.$U(y)}},$h:function(y,z){this.updateDefaultToolMode();if(this.get_isDragTracking()){this.$V(y,z)}},$J:function(y,z){var A=this.toLocalCoordsEvent(y,false);if(!this.isZoomToolActive()){}var B=((this.get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(z,A,B,false,null)},$k:function(y){var z=Math.floor(y.w/2)+y.x;var A=Math.floor(y.h/2)+y.y;return{x:z,y:A}},$K:function(y,z){this.zoomPoint(y,this.getCenterPoint(y),z,false,null)},$q:function(){},$G:function(y){if(ss.isValue(y)){y.hide()}},$E:function(y){if(ss.isValue(y)){y.show()}},setMode:function(y){if(this.resetIsWaitingOnData){this.$S={item1:true,item2:y};return}tab.TiledViewerRegion.prototype.setMode.call(this,y);this.$B();switch(y){case'no-tools':{this.$U=ss.mkdel(this,this.$r);this.$V=ss.mkdel(this,this.$r);this.$O=ss.mkdel(this,this.$r);this.$N=ss.mkdel(this,this.$r);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$U=ss.mkdel(this,this.onMarqueeMouseMove);this.$V=ss.mkdel(this,this.$r);this.$O=ss.mkdel(this,this.$z);this.$N=ss.mkdel(this,this.$y);break}case'pan-map':{this.$U=ss.mkdel(this,this.$s);this.$V=ss.mkdel(this,this.$t);this.$O=ss.mkdel(this,this.$u);this.$N=ss.mkdel(this,this.$r);break}case'area-zoom':case'zoom-out':{this.$U=ss.mkdel(this,this.onZoomBoxMouseMove);this.$V=ss.mkdel(this,this.$w);this.$O=ss.mkdel(this,this.$I);this.$N=ss.mkdel(this,this.$H);break}}},$n:function(y){return!y.shiftKey&&spiff.EventUtil.isCtrlKey(y)&&this.isSelectingToolActive()},$o:function(y){return y.altKey&&(this.isZoomToolActive()||y.shiftKey&&spiff.EventUtil.isCtrlKey(y))},$p:function(y){var z=y;if(z.altKey&&!z.ctrlKey){z.preventDefault()}if(!tsConfig.allow_filter){return}var A=this.get_currentModifierKeyToolMode();var B=this.$Q;this.$Q=this.$n(z);if(!this.get_isDragTracking()){if(this.allowPanZoom()){if(v.$0(z)){this.set_currentModifierKeyToolMode('pan-map')}else if(v.$1(z)){this.set_currentModifierKeyToolMode('area-zoom')}else if(this.$o(z)){this.set_currentModifierKeyToolMode('zoom-out')}else{this.set_currentModifierKeyToolMode('no-tools')}}else{this.set_currentModifierKeyToolMode('no-tools')}}if(A!==this.get_currentModifierKeyToolMode()||B!==this.$Q){this.$B()}},startScrolling:function(y,z,A){this.stopScrolling();if(!(y!==0&&this.scroller.get_canScrollX()||z!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$W)){this.$m(y,z,A)}var B=((A==='fast')?15:200);this.$W=window.setInterval(ss.mkdel(this,function(){this.$m(y,z,A)}),B);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$W)){window.clearInterval(ss.unbox(this.$W))}this.$W=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$m:function(y,z,A){var B=0;var C=0;if(y!==0){B=this.$g(0,y);this.scroller.scrollX(B)}if(z!==0){C=this.$g(1,z);this.scroller.scrollY(C)}this.get_shapeSelector().shapeScrolled(B,C);this.get_shapeSelector().get_dom().css('display','');if(B===0&&y!==0||C===0&&z!==0){var D=((B===0)?0:y);var E=((C===0)?0:z);this.startScrolling(D,E,A)}},$g:function(y,z){var A=((y===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var B=((y===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var C=z*15;var D=Math.max(0,Math.min(A+C,B));return D-A},determineScrollDirection:function(y,z){var A=((y===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var B=((y===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var C=((z<0)?-1:((z>0)?1:0));if(C===-1&&A===0||C===1&&A>=B){C=0}return C},suppressTooltips:function(){this.$P.suppressHover(this)},setCursor:function(y,z){z.css('cursor',y)},$A:function(y){this.setCursor(y,this.connectNode)},$l:function(){var y=this.get_currentPointerToolMode();if(y==='no-tools'){y=this.get_defaultPointerToolMode()}return y},$B:function(){var y=this.$l();switch(y){case'area-zoom':{this.$A(v.$6['zoomIn']);break}case'zoom-out':{this.$A(v.$6['zoomOut']);break}default:{this.$A((this.$T?v.$6['select']:v.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var y=this.$l();switch(y){case'area-zoom':{return v.$6['zoomIn']}case'zoom-out':{return v.$6['zoomOut']}case'lasso-selection':{return(this.$L()?v.$6['lassoExtended']:v.$6['lassoSelect'])}case'radial-selection':{return(this.$L()?v.$6['radialExtended']:v.$6['radialSelect'])}case'rectangular-selection':{return(this.$L()?v.$6['rectExtended']:v.$6['rectSelect'])}case'pan-map':{return v.$6['panDrag']}default:{return v.$6['defaultKey']}}},$D:function(y){if(y.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$C(true);y.preventDefault();this.$P.suppressHover(this);var z=y.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(z.startX,z.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(z.startX,z.startY,this.getLocalOffset(true));this.$B()},$F:function(y,z){if(!this.get_isDragTracking()){return}this.$C(false);this.$G(z);this.stopScrolling();this.$B()},$w:function(y,z){this.$v(y,z,this.domPanZoomRect)},$r:function(y,z){this.$v(y,z,this.get_shapeSelector())},$v:function(y,z,A){if(!this.get_isDragTracking()){return}var B=y.originalEvent;if(B['button']>1){return}this.$F(y,A);this.$P.suppressHover(this);this.$N(y,z)},$s:function(y){spiff.EventUtil.stopEvent(y);var z=y.get_gestureInfo();var A=z.pageX-this.domPanZoomRect.get_dragStart().x;var B=z.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){A=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){B=0}var C=1;A+=C;B+=C;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:A,t:B,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(z.deltaX,z.deltaY)},$t:function(y,z){if(!this.get_isDragTracking()){return}if(y.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(y);this.$F(y,null);var A=y.get_gestureInfo();this.$P.suppressHover(this);var B=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var C={x:A.pageX-this.domPanZoomRect.get_dragStart().x,y:A.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){C.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){C.y=0}this.$x(y,B,C)},$x:function(y,z,A){this.waitingOnPanZoomServerResponse='waitingOnServer';this.resetIsWaitingOnTransition=false;var B=ss.mkdel(this,function(){this.reset()});tab.PanZoomCommands.pan(this.get_regionPart(),z,A,B,this.get_sheetid())},$u:function(y,z){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$D(y);this.domPanZoomRect.set_pi(z);this.resetIsWaitingOnTransition=true;this.resetIsWaitingOnData=true;this.showDomDragImage(z)},$y:function(y,z){if(!tsConfig.allow_select){this.$P.unsuppressHover(this);return}var A=this.get_shapeSelector().get_tooltipAnchor();var B=this.get_regionPart();var C=tab.PointUtil.add(A,this.getLocalOffsetPoint(false));var D=this.get_shapeSelector().get_hitTestingBox();var E=ss.mkdel(this,function(){z.multiSelectComplete(C,D,B);this.$P.unsuppressHover(this)});var F=tab.ResolveSelectAction.fromNormalizedEvent(y,true);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var G=this.doSelectMarkAndUbertipFromSelectionShape(F,E);if(tab.MiscUtil.isNullOrEmpty(G)||!tsConfig.allow_tooltip){this.$P.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(B,F,this.get_visualId(),E)}},$H:function(y,z){var A=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var B=this.toLocalCoordsRect(A,false);this.waitingOnPanZoomServerResponse='waitingOnServer';var C=this.domPanZoomRect.get_pi();if(B.w<4&&B.h<4){this.$J(y,C)}var D=this.getCenterPoint(C);if(!this.isZoomToolActive()){}if(this.get_currentPointerToolMode()==='zoom-out'){var E=this.paneTableViewModel.get_mapServerModel();if(E.get_hasPresModel()&&!tab.MapUtil.allowZoomAtCurrentLevel(E.get_mapServerPresModel().Vot,2)){return}var F=0.5;this.$K(C,F);return}else{this.backgroundMap.zoomRect(B);var G=2;var H=1/G;tab.PanZoomCommands.zoomIn(B,D,H,this.get_sheetid())}var I=this.$k(B);var J=B.w;var K=B.h;var L=C.w/J;var M=C.h/K;if(C.canDragH&&C.canDragV){var N=Math.min(L,M);var O=this.paneTableViewModel.get_mapServerModel();if(O.get_hasPresModel()){N=tab.ZoomComputer.resolveDesiredScale(O.get_mapServerPresModel(),N)}L=M=N}else if(!C.canDragV){M=1;I.y=D.y}else if(!C.canDragH){L=1;I.x=D.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(C,I,L,M)}}},tab.TiledViewerRegion);ss.initClass(w,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var y=new m(this.get_tooltip());this.tooltipBehaviors['sticky']=y},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseMode.prototype.dispose.call(this)}},tab.TooltipBaseLegacyMode);ss.initClass(x,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var y=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var z=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:y,y:z}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(y){if(this.get_canScrollX()){this.$0.scrollLeft+=y}},scrollY:function(y){if(this.get_canScrollY()){this.$1.scrollTop+=y}},setScrollTarget:function(y){},refresh:function(){}},null,[spiff.IScroller]);(function(){spiff.ObjectRegistry.registerType(tab.DataHighlighterView,h).call(null)})();(function(){s.$0=[]})();(function(){i.$1=17;i.$2=10;i.$0=20})();(function(){m.$1='.LegacyTooltipBehavior';m.$2=500;m.$3=250;m.$4=10000;m.$5=1200;m.$6=0;spiff.ObjectRegistry.registerType(tab.ITooltipBehavior,m).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.MapsSearchView,n).call(null)})();(function(){o.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){v.isDragTrackingInAnyRegion=false;v.$3=15;v.$4=15;v.$5=200;v.$6=null})();(function(){spiff.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,w).call(null)})();(function(){t.sortingElementClassName='tab-tiledViewerSort'})();(function(){q.$4=120;q.$5=12;q.$7=3;q.$6=40;q.$8=3;q.$2=3;q.$3=10;q.$1=10;q.$0=100})();(function(){p.$2=500;spiff.ObjectRegistry.registerType(tab.PaneTableView,p).call(null)})()})();